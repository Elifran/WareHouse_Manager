/*! For license information please see main.6c54b769.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},75:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,t:()=>r});var a=console;function r(){return a}function i(e){a=e}},90:(e,t,n)=>{"use strict";n.d(t,{E:()=>y});var a=n(168),r=n(870),i=n(540),s=n(991),o=n(75),l=n(990),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,a.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,r.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,a,i=this.state.data,s=(0,r.Zw)(e,i);return(null==(n=(a=this.options).isDataEqual)?void 0:n.call(a,i,s))?s=i:!1!==this.options.structuralSharing&&(s=(0,r.BH)(i,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),s},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.lQ).catch(r.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,a,i,s=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find(function(e){return e.options.queryFn});u&&this.setOptions(u.options)}var d=(0,r.HN)(this.queryKey),p=(0,r.jY)(),m={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(p)return s.abortSignalConsumed=!0,p.signal}});var h,f,v={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(m)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(h=this.options.behavior)||h.onFetch(v));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(a=v.fetchOptions)?void 0:a.meta))||this.dispatch({type:"fetch",meta:null==(f=v.fetchOptions)?void 0:f.meta});return this.retryer=new l.eJ({fn:v.fetchFn,abort:null==p||null==(i=p.abort)?void 0:i.bind(p),onSuccess:function(e){s.setData(e),null==s.cache.config.onSuccess||s.cache.config.onSuccess(e,s),0===s.cacheTime&&s.optionalRemove()},onError:function(e){(0,l.wm)(e)&&e.silent||s.dispatch({type:"error",error:e}),(0,l.wm)(e)||(null==s.cache.config.onError||s.cache.config.onError(e,s),(0,o.t)().error(e)),0===s.cacheTime&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),s.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,a="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(e,t){var n,r;switch(t.type){case"failed":return(0,a.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,a.A)({},e,{isPaused:!0});case"continue":return(0,a.A)({},e,{isPaused:!1});case"fetch":return(0,a.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,a.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var i=t.error;return(0,l.wm)(i)&&i.revert&&this.revertState?(0,a.A)({},this.revertState):(0,a.A)({},e,{error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,a.A)({},e,{isInvalidated:!0});case"setState":return(0,a.A)({},e,t.state);default:return e}},e}(),u=n(422),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,i.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var a,i=t.queryKey,s=null!=(a=t.queryHash)?a:(0,r.F$)(i,t),o=this.get(s);return o||(o=new c({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i),meta:t.meta}),this.add(o)),o},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,r.b_)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find(function(e){return(0,r.MK)(n,e)})},n.findAll=function(e,t){var n=(0,r.b_)(e,t)[0];return Object.keys(n).length>0?this.queries.filter(function(e){return(0,r.MK)(n,e)}):this.queries},n.notify=function(e){var t=this;s.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(u.Q),p=function(){function e(e){this.options=(0,a.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(r.lQ).catch(r.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,a=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),a.then(function(){return t.executeMutation()}).then(function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,o.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new l.eJ({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,a.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,a.A)({},e,{isPaused:!0});case"continue":return(0,a.A)({},e,{isPaused:!1});case"loading":return(0,a.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,a.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,a.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,a.A)({},e,t.state);default:return e}}(this.state,e),s.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var m=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,i.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var a=new p({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(a),a},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;s.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,r.nJ)(e,t)})},n.findAll=function(e){return this.mutations.filter(function(t){return(0,r.nJ)(e,t)})},n.notify=function(e){var t=this;s.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return s.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(r.lQ)})},Promise.resolve())})},t}(u.Q),h=n(244),f=n(317);function v(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function g(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var y=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new d,this.mutationCache=e.mutationCache||new m,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=h.m.subscribe(function(){h.m.isFocused()&&f.t.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=f.t.subscribe(function(){h.m.isFocused()&&f.t.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,r.b_)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,a.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var a=(0,r.vh)(e),i=this.defaultQueryOptions(a);return this.queryCache.build(this,i).setData(t,n)},t.setQueriesData=function(e,t,n){var a=this;return s.j.batch(function(){return a.getQueryCache().findAll(e).map(function(e){var r=e.queryKey;return[r,a.setQueryData(r,t,n)]})})},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,r.b_)(e,t)[0],a=this.queryCache;s.j.batch(function(){a.findAll(n).forEach(function(e){a.remove(e)})})},t.resetQueries=function(e,t,n){var i=this,o=(0,r.b_)(e,t,n),l=o[0],c=o[1],u=this.queryCache,d=(0,a.A)({},l,{active:!0});return s.j.batch(function(){return u.findAll(l).forEach(function(e){e.reset()}),i.refetchQueries(d,c)})},t.cancelQueries=function(e,t,n){var a=this,i=(0,r.b_)(e,t,n),o=i[0],l=i[1],c=void 0===l?{}:l;"undefined"===typeof c.revert&&(c.revert=!0);var u=s.j.batch(function(){return a.queryCache.findAll(o).map(function(e){return e.cancel(c)})});return Promise.all(u).then(r.lQ).catch(r.lQ)},t.invalidateQueries=function(e,t,n){var i,o,l,c=this,u=(0,r.b_)(e,t,n),d=u[0],p=u[1],m=(0,a.A)({},d,{active:null==(i=null!=(o=d.refetchActive)?o:d.active)||i,inactive:null!=(l=d.refetchInactive)&&l});return s.j.batch(function(){return c.queryCache.findAll(d).forEach(function(e){e.invalidate()}),c.refetchQueries(m,p)})},t.refetchQueries=function(e,t,n){var i=this,o=(0,r.b_)(e,t,n),l=o[0],c=o[1],u=s.j.batch(function(){return i.queryCache.findAll(l).map(function(e){return e.fetch(void 0,(0,a.A)({},c,{meta:{refetchPage:null==l?void 0:l.refetchPage}}))})}),d=Promise.all(u).then(r.lQ);return(null==c?void 0:c.throwOnError)||(d=d.catch(r.lQ)),d},t.fetchQuery=function(e,t,n){var a=(0,r.vh)(e,t,n),i=this.defaultQueryOptions(a);"undefined"===typeof i.retry&&(i.retry=!1);var s=this.queryCache.build(this,i);return s.isStaleByTime(i.staleTime)?s.fetch(i):Promise.resolve(s.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(r.lQ).catch(r.lQ)},t.fetchInfiniteQuery=function(e,t,n){var a=(0,r.vh)(e,t,n);return a.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,a,i,s,o,c,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,d=null==(a=e.fetchOptions)||null==(i=a.meta)?void 0:i.fetchMore,p=null==d?void 0:d.pageParam,m="forward"===(null==d?void 0:d.direction),h="backward"===(null==d?void 0:d.direction),f=(null==(s=e.state.data)?void 0:s.pages)||[],y=(null==(o=e.state.data)?void 0:o.pageParams)||[],_=(0,r.jY)(),b=null==_?void 0:_.signal,x=y,j=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},k=function(e,t,n,a){return x=a?[t].concat(x):[].concat(x,[t]),a?[n].concat(e):[].concat(e,[n])},S=function(t,n,a,r){if(j)return Promise.reject("Cancelled");if("undefined"===typeof a&&!n&&t.length)return Promise.resolve(t);var i={queryKey:e.queryKey,signal:b,pageParam:a,meta:e.meta},s=w(i),o=Promise.resolve(s).then(function(e){return k(t,a,e,r)});return(0,l.dd)(s)&&(o.cancel=s.cancel),o};if(f.length)if(m){var N="undefined"!==typeof p,C=N?p:v(e.options,f);c=S(f,N,C)}else if(h){var P="undefined"!==typeof p,E=P?p:g(e.options,f);c=S(f,P,E,!0)}else!function(){x=[];var t="undefined"===typeof e.options.getNextPageParam,n=!u||!f[0]||u(f[0],0,f);c=n?S([],t,y[0]):Promise.resolve(k([],y[0],f[0]));for(var a=function(n){c=c.then(function(a){if(!u||!f[n]||u(f[n],n,f)){var r=t?y[n]:v(e.options,a);return S(a,t,r)}return Promise.resolve(k(a,y[n],f[n]))})},r=1;r<f.length;r++)a(r)}();else c=S([]);var T=c.then(function(e){return{pages:e,pageParams:x}});return T.cancel=function(){j=!0,null==_||_.abort(),(0,l.dd)(c)&&c.cancel()},T}}},this.fetchQuery(a)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.lQ).catch(r.lQ)},t.cancelMutations=function(){var e=this,t=s.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(r.lQ).catch(r.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find(function(t){return(0,r.Od)(e)===(0,r.Od)(t.queryKey)});n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,r.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find(function(t){return(0,r.Od)(e)===(0,r.Od)(t.mutationKey)});n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,r.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,a.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,a.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},168:(e,t,n)=>{"use strict";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a.apply(null,arguments)}n.d(t,{A:()=>a})},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,f(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,j=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:w.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===i?"."+P(l,0):i,x(s)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),E(s,t,r,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+P(o=e[c],c);l+=E(o,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,r,u=i+P(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var a=[],r=0;return E(e,a,"","",function(e){return t.call(n,e,r++)}),a}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},F={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=_,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=D,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},223:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>p,useQuery:()=>C});var a=n(991),r=n(950).unstable_batchedUpdates;a.j.setBatchNotifyFunction(r);var i=n(75),s=console;(0,i.B)(s);var o=n(43),l=o.createContext(void 0),c=o.createContext(!1);function u(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l),window.ReactQueryClientContext):l}var d=function(){var e=o.useContext(u(o.useContext(c)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},p=function(e){var t=e.client,n=e.contextSharing,a=void 0!==n&&n,r=e.children;o.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var i=u(a);return o.createElement(c.Provider,{value:a},o.createElement(i.Provider,{value:t},r))},m=n(168),h=n(540),f=n(870),v=n(244),g=n(422),y=n(990),_=function(e){function t(t,n){var a;return(a=e.call(this)||this).client=t,a.options=n,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(n),a}(0,h.A)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),b(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return x(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return x(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var r=this.hasListeners();r&&j(this.currentQuery,a,this.options,n)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===a&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var i=this.computeRefetchInterval();!r||this.currentQuery===a&&this.options.enabled===n.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,a={},r=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach(function(t){Object.defineProperty(a,t,{configurable:!1,enumerable:!0,get:function(){return r(t),e[t]}})}),(t.useErrorBoundary||t.suspense)&&r("error"),a},n.getNextResult=function(e){var t=this;return new Promise(function(n,a){var r=t.subscribe(function(t){t.isFetching||(r(),t.isError&&(null==e?void 0:e.throwOnError)?a(t.error):n(t))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,m.A)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),a=this.client.getQueryCache().build(this.client,n);return a.fetch().then(function(){return t.createResult(a,n)})},n.fetch=function(e){var t=this;return this.executeFetch(e).then(function(){return t.updateResult(),t.currentResult})},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(f.lQ)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!f.S$&&!this.currentResult.isStale&&(0,f.gn)(this.options.staleTime)){var t=(0,f.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t)}},n.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!f.S$&&!1!==this.options.enabled&&(0,f.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||v.m.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,t){var n,a=this.currentQuery,r=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==a,u=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,p=e.state,m=p.dataUpdatedAt,h=p.error,v=p.errorUpdatedAt,g=p.isFetching,y=p.status,_=!1,x=!1;if(t.optimisticResults){var k=this.hasListeners(),S=!k&&b(e,t),N=k&&j(e,a,t,r);(S||N)&&(g=!0,m||(y="loading"))}if(t.keepPreviousData&&!p.dataUpdateCount&&(null==d?void 0:d.isSuccess)&&"error"!==y)n=d.data,m=d.dataUpdatedAt,y=d.status,_=!0;else if(t.select&&"undefined"!==typeof p.data)if(s&&p.data===(null==o?void 0:o.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(p.data),!1!==t.structuralSharing&&(n=(0,f.BH)(null==s?void 0:s.data,n)),this.selectResult=n,this.selectError=null}catch(P){(0,i.t)().error(P),this.selectError=P}else n=p.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===y||"idle"===y)){var C;if((null==s?void 0:s.isPlaceholderData)&&t.placeholderData===(null==l?void 0:l.placeholderData))C=s.data;else if(C="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof C)try{C=t.select(C),!1!==t.structuralSharing&&(C=(0,f.BH)(null==s?void 0:s.data,C)),this.selectError=null}catch(P){(0,i.t)().error(P),this.selectError=P}"undefined"!==typeof C&&(y="success",n=C,x=!0)}return this.selectError&&(h=this.selectError,n=this.selectResult,v=Date.now(),y="error"),{status:y,isLoading:"loading"===y,isSuccess:"success"===y,isError:"error"===y,isIdle:"idle"===y,data:n,dataUpdatedAt:m,error:h,errorUpdatedAt:v,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&"loading"!==y,isLoadingError:"error"===y&&0===p.dataUpdatedAt,isPlaceholderData:x,isPreviousData:_,isRefetchError:"error"===y&&0!==p.dataUpdatedAt,isStale:w(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,a=n.notifyOnChangeProps,r=n.notifyOnChangePropsExclusions;if(!a&&!r)return!0;if("tracked"===a&&!this.trackedProps.length)return!0;var i="tracked"===a?this.trackedProps:a;return Object.keys(e).some(function(n){var a=n,s=e[a]!==t[a],o=null==i?void 0:i.some(function(e){return e===n}),l=null==r?void 0:r.some(function(e){return e===n});return s&&!l&&(!i||o)})},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,f.f8)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,m.A)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,y.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;a.j.batch(function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(g.Q);function b(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&x(e,t,t.refetchOnMount)}function x(e,t,n){if(!1!==t.enabled){var a="function"===typeof n?n(e):n;return"always"===a||!1!==a&&w(e,t)}return!1}function j(e,t,n,a){return!1!==n.enabled&&(e!==t||!1===a.enabled)&&(!n.suspense||"error"!==e.state.status)&&w(e,n)}function w(e,t){return e.isStaleByTime(t.staleTime)}function k(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var S=o.createContext(k()),N=function(){return o.useContext(S)};function C(e,t,n){return function(e,t){var n=o.useRef(!1),r=o.useState(0)[1],i=d(),s=N(),l=i.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=a.j.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=a.j.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=a.j.batchCalls(l.onSettled)),l.suspense&&("number"!==typeof l.staleTime&&(l.staleTime=1e3),0===l.cacheTime&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(s.isReset()||(l.retryOnMount=!1));var c,u,p,m=o.useState(function(){return new t(i,l)})[0],h=m.getOptimisticResult(l);if(o.useEffect(function(){n.current=!0,s.clearReset();var e=m.subscribe(a.j.batchCalls(function(){n.current&&r(function(e){return e+1})}));return m.updateResult(),function(){n.current=!1,e()}},[s,m]),o.useEffect(function(){m.setOptions(l,{listeners:!1})},[l,m]),l.suspense&&h.isLoading)throw m.fetchOptimistic(l).then(function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)}).catch(function(e){s.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)});if(h.isError&&!s.isReset()&&!h.isFetching&&(c=l.suspense,u=l.useErrorBoundary,p=[h.error,m.getCurrentQuery()],"function"===typeof u?u.apply(void 0,p):"boolean"===typeof u?u:c))throw h.error;return"tracked"===l.notifyOnChangeProps&&(h=m.trackResult(h,l)),h}((0,f.vh)(e,t,n),_)}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<r&&0>i(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<r&&0>i(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,m=3,h=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function x(e){if(v=!1,b(e),!f)if(null!==a(c))f=!0,R(j);else{var t=a(u);null!==t&&F(x,t.startTime-e)}}function j(e,n){f=!1,v&&(v=!1,y(N),N=-1),h=!0;var i=m;try{for(b(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!E());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===a(c)&&r(c),b(n)}else r(c);p=a(c)}if(null!==p)var l=!0;else{var d=a(u);null!==d&&F(x,d.startTime-n),l=!1}return l}finally{p=null,m=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,N=-1,C=5,P=-1;function E(){return!(t.unstable_now()-P<C)}function T(){if(null!==S){var e=t.unstable_now();P=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof _)w=function(){_(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=T,w=function(){A.postMessage(null)}}else w=function(){g(T,0)};function R(e){S=e,k||(k=!0,w())}function F(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===a(c)&&e===a(u)&&(v?(y(N),N=-1):v=!0,F(x,i-s))):(e.sortIndex=o,n(c,e),f||h||(f=!0,R(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},244:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var a=n(540),r=n(422),i=n(870),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,a.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(r.Q))},298:()=>{},317:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var a=n(540),r=n(422),i=n(870),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,a.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(r.Q))},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},422:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var a=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==n}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},540:(e,t,n)=>{"use strict";function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}n.d(t,{A:()=>r})},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!d.call(h,e)||!d.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var L,M=Object.assign;function I(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==i[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function q(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=Q(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ie(e,t){var n=Q(t.value),a=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,ke=null;function Se(e){if(e=_r(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=xr(t),je(e.stateNode,e.type,t))}}function Ne(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ee(){}var Te=!1;function Oe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Pe(e,t,n)}finally{Te=!1,(null!==we||null!==ke)&&(Ee(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var a=xr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Re=!1}function De(e,t,n,a,r,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ie=!1,ze=null,Ue={onError:function(e){Le=!0,Me=e}};function qe(e,t,n,a,r,i,s,o,l){Le=!1,Me=null,De.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ve(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Qe(r),e;if(s===a)return Qe(r),t;s=s.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,Ge=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?a=dt(o):0!==(i&=s)&&(a=dt(i))}else 0!==(s=n&~r)?a=dt(s):0!==i&&(a=dt(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,jt,wt,kt,St,Nt=!1,Ct=[],Pt=null,Et=null,Tt=null,Ot=new Map,At=new Map,Rt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=yr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&jt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);be=a,n.target.dispatchEvent(a),be=null,t.shift()}return!0}function zt(e,t,n){It(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Pt&&It(Pt)&&(Pt=null),null!==Et&&It(Et)&&(Et=null),null!==Tt&&It(Tt)&&(Tt=null),Ot.forEach(zt),At.forEach(zt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Pt&&qt(Pt,e),null!==Et&&qt(Et,e),null!==Tt&&qt(Tt,e),Ot.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(a=Rt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=b.ReactCurrentBatchConfig,Qt=!0;function Ht(e,t,n,a){var r=_t,i=Bt.transition;Bt.transition=null;try{_t=1,Kt(e,t,n,a)}finally{_t=r,Bt.transition=i}}function Wt(e,t,n,a){var r=_t,i=Bt.transition;Bt.transition=null;try{_t=4,Kt(e,t,n,a)}finally{_t=r,Bt.transition=i}}function Kt(e,t,n,a){if(Qt){var r=Gt(e,t,n,a);if(null===r)Qa(e,t,a,$t,n),Dt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Pt=Lt(Pt,e,t,n,a,r),!0;case"dragenter":return Et=Lt(Et,e,t,n,a,r),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Ot.set(i,Lt(Ot.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Dt(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var i=_r(r);if(null!==i&&xt(i),null===(i=Gt(e,t,n,a))&&Qa(e,t,a,$t,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else Qa(e,t,a,null,n)}}var $t=null;function Gt(e,t,n,a){if($t=null,null!==(e=yr(e=xe(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=M({},cn,{view:0,detail:0}),pn=rn(dn),mn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(mn),fn=rn(M({},mn,{dataTransfer:0})),vn=rn(M({},dn,{relatedTarget:0})),gn=rn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=rn(yn),bn=rn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Nn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(Nn),Pn=rn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=rn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(On),Rn=[9,13,27,32],Fn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Mn=u&&(!Fn||Dn&&8<Dn&&11>=Dn),In=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,a){Ne(a),0<(t=Wa(t,"onChange")).length&&(n=new un("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function $n(e){Ia(e,0)}function Gn(e){if(K(br(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Wn&&(Wn.detachEvent("onpropertychange",na),Kn=Wn=null)}function na(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Oe($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(Wn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function ia(e,t){if("click"===e)return Gn(t)}function sa(e,t){if("input"===e||"change"===e)return Gn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!d.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=ua(n,i);var s=ua(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=u&&"documentMode"in document&&11>=document.documentMode,va=null,ga=null,ya=null,_a=!1;function ba(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_a||null==va||va!==$(a)||("selectionStart"in(a=va)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&la(ya,a)||(ya=a,0<(a=Wa(ga,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,n=ja[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}u&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Na=Sa("animationend"),Ca=Sa("animationiteration"),Pa=Sa("animationstart"),Ea=Sa("transitionend"),Ta=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){Ta.set(e,t),l(t,[e])}for(var Ra=0;Ra<Oa.length;Ra++){var Fa=Oa[Ra];Aa(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Aa(Na,"onAnimationEnd"),Aa(Ca,"onAnimationIteration"),Aa(Pa,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),La=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Ma(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,o,l,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Ie||(Ie=!0,ze=u)}}(a,t,void 0,e),e.currentTarget=null}function Ia(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Ma(r,o,c),i=l}else for(s=0;s<a.length;s++){if(l=(o=a[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Ma(r,o,c),i=l}}}if(Ie)throw e=ze,Ie=!1,ze=null,e}function za(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Ba(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),Ba(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[qa]){e[qa]=!0,s.forEach(function(t){"selectionchange"!==t&&(La.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ua("selectionchange",!1,t))}}function Ba(e,t,n,a){switch(Jt(t)){case 1:var r=Ht;break;case 4:r=Wt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Qa(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=yr(o)))return;if(5===(l=s.tag)||6===l){a=i=s;continue e}o=o.parentNode}}a=a.return}Oe(function(){var a=i,r=xe(n),s=[];e:{var o=Ta.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Na:case Ca:case Pa:l=gn;break;case Ea:l=Tn;break;case"scroll":l=pn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==o?o+"Capture":null:o;u=[];for(var m,h=a;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Ae(h,p))&&u.push(Ha(h,f,m)))),d)break;h=h.return}0<u.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[hr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=hn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,f="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?o:br(l),m=null==c?o:br(c),(o=new u(f,h+"leave",l,n,r)).target=d,o.relatedTarget=m,f=null,yr(r)===a&&((u=new u(p,h+"enter",c,n,r)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(p=c,h=0,m=u=l;m;m=Ka(m))h++;for(m=0,f=p;f;f=Ka(f))m++;for(;0<h-m;)u=Ka(u),h--;for(;0<m-h;)p=Ka(p),m--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Ka(u),p=Ka(p)}u=null}else u=null;null!==l&&$a(s,o,l,u,!1),null!==c&&null!==d&&$a(s,d,c,u,!0)}if("select"===(l=(o=a?br(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Jn;else if(Qn(o))if(Yn)v=sa;else{v=ra;var g=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ia);switch(v&&(v=v(e,a))?Hn(s,v,n,r):(g&&g(e,o,a),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=a?br(a):window,e){case"focusin":(Qn(g)||"true"===g.contentEditable)&&(va=g,ga=a,ya=null);break;case"focusout":ya=ga=va=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,ba(s,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ba(s,n,r)}var y;if(Fn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Vn=!0)),0<(g=Wa(a,_)).length&&(_=new bn(_,e,null,n,r),s.push({event:_,listeners:g}),y?_.data=y:null!==(y=qn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,In);case"textInput":return(e=t.data)===In&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Fn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Wa(a,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=y))}Ia(s,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Ae(e,n))&&a.unshift(Ha(e,i,r)),null!=(i=Ae(e,t))&&a.push(Ha(e,i,r))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Ae(n,i))&&s.unshift(Ha(n,l,o)):r||null!=(l=Ae(n,i))&&s.push(Ha(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ga=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace(Ga,"\n").replace(Ja,"")}function Xa(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(i(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),pr="__reactFiber$"+dr,mr="__reactProps$"+dr,hr="__reactContainer$"+dr,fr="__reactEvents$"+dr,vr="__reactListeners$"+dr,gr="__reactHandles$"+dr;function yr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[pr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[pr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xr(e){return e[mr]||null}var jr=[],wr=-1;function kr(e){return{current:e}}function Sr(e){0>wr||(e.current=jr[wr],jr[wr]=null,wr--)}function Nr(e,t){wr++,jr[wr]=e.current,e.current=t}var Cr={},Pr=kr(Cr),Er=kr(!1),Tr=Cr;function Or(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Sr(Er),Sr(Pr)}function Fr(e,t,n){if(Pr.current!==Cr)throw Error(i(168));Nr(Pr,t),Nr(Er,n)}function Dr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,B(e)||"Unknown",r));return M({},n,a)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Tr=Pr.current,Nr(Pr,e),Nr(Er,Er.current),!0}function Mr(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Dr(e,t,Tr),a.__reactInternalMemoizedMergedChildContext=e,Sr(Er),Sr(Pr),Nr(Pr,e)):Sr(Er),Nr(Er,n)}var Ir=null,zr=!1,Ur=!1;function qr(e){null===Ir?Ir=[e]:Ir.push(e)}function Vr(){if(!Ur&&null!==Ir){Ur=!0;var e=0,t=_t;try{var n=Ir;for(_t=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Ir=null,zr=!1}catch(r){throw null!==Ir&&(Ir=Ir.slice(e+1)),Ke(Ze,Vr),r}finally{_t=t,Ur=!1}}return null}var Br=[],Qr=0,Hr=null,Wr=0,Kr=[],$r=0,Gr=null,Jr=1,Yr="";function Xr(e,t){Br[Qr++]=Wr,Br[Qr++]=Hr,Hr=e,Wr=t}function Zr(e,t,n){Kr[$r++]=Jr,Kr[$r++]=Yr,Kr[$r++]=Gr,Gr=e;var a=Jr;e=Yr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var i=32-st(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Jr=1<<32-st(t)+r|n<<r|a,Yr=i+e}else Jr=1<<i|n<<r|a,Yr=e}function ei(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ti(e){for(;e===Hr;)Hr=Br[--Qr],Br[Qr]=null,Wr=Br[--Qr],Br[Qr]=null;for(;e===Gr;)Gr=Kr[--$r],Kr[$r]=null,Yr=Kr[--$r],Kr[$r]=null,Jr=Kr[--$r],Kr[$r]=null}var ni=null,ai=null,ri=!1,ii=null;function si(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gr?{id:Jr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=ai;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var a=ni;t&&oi(e,t)?si(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ri)return ui(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=cr(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cr(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ai;e;)e=cr(e.nextSibling)}function mi(){ai=ni=null,ri=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var fi=b.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Mc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===w?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&yi(i)===t.type)?((a=r(t,n.props)).ref=vi(e,t,n),a.return=e,a):((a=Fc(n.type,n.key,n.props,null,e.mode,a)).ref=vi(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,i){return null===t||7!==t.tag?((t=Dc(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case j:return(t=Ic(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,a):null;case j:return n.key===r?u(e,t,n,a):null;case A:return m(e,t,(r=n._init)(n._payload),a)}if(te(n)||D(n))return null!==r?null:d(e,t,n,a,null);gi(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case x:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case j:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case A:return h(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||D(a))return d(t,e=e.get(n)||null,a,r,null);gi(t,a)}return null}function f(r,i,o,l){for(var c=null,u=null,d=i,f=i=0,v=null;null!==d&&f<o.length;f++){d.index>f?(v=d,d=null):v=d.sibling;var g=m(r,d,o[f],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(r,d),i=s(g,i,f),null===u?c=g:u.sibling=g,u=g,d=v}if(f===o.length)return n(r,d),ri&&Xr(r,f),c;if(null===d){for(;f<o.length;f++)null!==(d=p(r,o[f],l))&&(i=s(d,i,f),null===u?c=d:u.sibling=d,u=d);return ri&&Xr(r,f),c}for(d=a(r,d);f<o.length;f++)null!==(v=h(d,r,f,o[f],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?f:v.key),i=s(v,i,f),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(r,e)}),ri&&Xr(r,f),c}function v(r,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,f=o,v=o=0,g=null,y=l.next();null!==f&&!y.done;v++,y=l.next()){f.index>v?(g=f,f=null):g=f.sibling;var _=m(r,f,y.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(r,f),o=s(_,o,v),null===d?u=_:d.sibling=_,d=_,f=g}if(y.done)return n(r,f),ri&&Xr(r,v),u;if(null===f){for(;!y.done;v++,y=l.next())null!==(y=p(r,y.value,c))&&(o=s(y,o,v),null===d?u=y:d.sibling=y,d=y);return ri&&Xr(r,v),u}for(f=a(r,f);!y.done;v++,y=l.next())null!==(y=h(f,r,v,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=s(y,o,v),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(r,e)}),ri&&Xr(r,v),u}return function e(a,i,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(a,u.sibling),(i=r(u,s.props.children)).return=a,a=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&yi(c)===u.type){n(a,u.sibling),(i=r(u,s.props)).ref=vi(a,u,s),i.return=a,a=i;break e}n(a,u);break}t(a,u),u=u.sibling}s.type===w?((i=Dc(s.props.children,a.mode,l,s.key)).return=a,a=i):((l=Fc(s.type,s.key,s.props,null,a.mode,l)).ref=vi(a,i,s),l.return=a,a=l)}return o(a);case j:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(a,i.sibling),(i=r(i,s.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Ic(s,a.mode,l)).return=a,a=i}return o(a);case A:return e(a,i,(u=s._init)(s._payload),l)}if(te(s))return f(a,i,s,l);if(D(s))return v(a,i,s,l);gi(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,s)).return=a,a=i):(n(a,i),(i=Mc(s,a.mode,l)).return=a,a=i),o(a)):n(a,i)}}var bi=_i(!0),xi=_i(!1),ji=kr(null),wi=null,ki=null,Si=null;function Ni(){Si=ki=wi=null}function Ci(e){var t=ji.current;Sr(ji),e._currentValue=t}function Pi(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){wi=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===wi)throw Error(i(308));ki=e,wi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Oi=null;function Ai(e){null===Oi?Oi=[e]:Oi.push(e)}function Ri(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ai(t)):(n.next=r.next,r.next=n),t.interleaved=n,Fi(e,a)}function Fi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Pl)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Fi(e,n)}return null===(r=a.interleaved)?(t.next=t,Ai(a)):(t.next=r.next,r.next=t),a.interleaved=t,Fi(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qi(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,a){var r=e.updateQueue;Di=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(s=0,u=c=l=null,o=i;;){var p=o.lane,m=o.eventTime;if((a&p)===p){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){d=h.call(m,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,d,p):h)||void 0===p)break e;d=M({},d,p);break e;case 2:Di=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,s|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var Qi={},Hi=kr(Qi),Wi=kr(Qi),Ki=kr(Qi);function $i(e){if(e===Qi)throw Error(i(174));return e}function Gi(e,t){switch(Nr(Ki,t),Nr(Wi,e),Nr(Hi,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Hi),Nr(Hi,t)}function Ji(){Sr(Hi),Sr(Wi),Sr(Ki)}function Yi(e){$i(Ki.current);var t=$i(Hi.current),n=le(t,e.type);t!==n&&(Nr(Wi,e),Nr(Hi,n))}function Xi(e){Wi.current===e&&(Sr(Hi),Sr(Wi))}var Zi=kr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var as=b.ReactCurrentDispatcher,rs=b.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,ps=0;function ms(){throw Error(i(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function fs(e,t,n,a,r,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Xs:Zs,e=n(a,r),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,as.current=eo,e=n(a,r)}while(us)}if(as.current=Ys,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function vs(){var e=0!==ds;return ds=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function _s(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=os,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,o=a):c=c.next=p,ss.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(_o=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Ll|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oa(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function js(){}function ws(e,t){var n=ss,a=ys(),r=t(),s=!oa(a.memoizedState,r);if(s&&(a.memoizedState=r,_o=!0),a=a.queue,Ds(Ns.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,Ss.bind(null,n,a,r,t),void 0,null),null===El)throw Error(i(349));0!==(30&is)||ks(n,t,r)}return r}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,a){t.value=n,t.getSnapshot=a,Cs(t)&&Ps(e)}function Ns(e,t,n){return n(function(){Cs(t)&&Ps(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Ps(e){var t=Fi(e,1);null!==t&&nc(t,e,1,-1)}function Es(e){var t=gs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Os(){return ys().memoizedState}function As(e,t,n,a){var r=gs();ss.flags|=e,r.memoizedState=Ts(1|t,n,void 0,void 0===a?null:a)}function Rs(e,t,n,a){var r=ys();a=void 0===a?null:a;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==a&&hs(a,s.deps))return void(r.memoizedState=Ts(t,n,i,a))}ss.flags|=e,r.memoizedState=Ts(1|t,n,i,a)}function Fs(e,t){return As(8390656,8,e,t)}function Ds(e,t){return Rs(2048,8,e,t)}function Ls(e,t){return Rs(4,2,e,t)}function Ms(e,t){return Rs(4,4,e,t)}function Is(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Is.bind(null,t,e),n)}function Us(){}function qs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Bs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ss.lanes|=n,Ll|=n,e.baseState=!0),t)}function Qs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var a=rs.transition;rs.transition={};try{e(!1),t()}finally{_t=n,rs.transition=a}}function Hs(){return ys().memoizedState}function Ws(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Gs(t,n);else if(null!==(n=Ri(e,t,n,a))){nc(n,e,a,ec()),Js(n,t,a)}}function Ks(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Gs(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,s)){var l=t.interleaved;return null===l?(r.next=r,Ai(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ri(e,t,r,a))&&(nc(n,e,a,r=ec()),Js(n,t,a))}}function $s(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Gs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ys={readContext:Ti,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Xs={readContext:Ti,useCallback:function(e,t){return gs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4194308,4,Is.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:Es,useDebugValue:Us,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=Qs.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ss,r=gs();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===El)throw Error(i(349));0!==(30&is)||ks(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Fs(Ns.bind(null,a,s,e),[e]),a.flags|=2048,Ts(9,Ss.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=gs(),t=El.identifierPrefix;if(ri){var n=Yr;t=":"+t+"R"+(n=(Jr&~(1<<32-st(Jr)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Ti,useCallback:qs,useContext:Ti,useEffect:Ds,useImperativeHandle:zs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Vs,useReducer:bs,useRef:Os,useState:function(){return bs(_s)},useDebugValue:Us,useDeferredValue:function(e){return Bs(ys(),os.memoizedState,e)},useTransition:function(){return[bs(_s)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ws,useId:Hs,unstable_isNewReconciler:!1},eo={readContext:Ti,useCallback:qs,useContext:Ti,useEffect:Ds,useImperativeHandle:zs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Vs,useReducer:xs,useRef:Os,useState:function(){return xs(_s)},useDebugValue:Us,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Bs(t,os.memoizedState,e)},useTransition:function(){return[xs(_s)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ws,useId:Hs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Ii(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,r))&&(nc(t,e,r,a),Ui(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Ii(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,r))&&(nc(t,e,r,a),Ui(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Ii(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=zi(e,r,a))&&(nc(t,e,a,n),Ui(t,e,a))}};function ro(e,t,n,a,r,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,i))}function io(e,t,n){var a=!1,r=Cr,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(r=Ar(t)?Tr:Pr.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Or(e,r):Cr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ti(i):(i=Ar(t)?Tr:Pr.current,r.context=Or(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ao.enqueueReplaceState(r,r.state,null),Vi(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Ii(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ql||(Ql=!0,Hl=a),uo(0,t)},n}function ho(e,t,n){(n=Ii(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new po;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ii(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yo=b.ReactCurrentOwner,_o=!1;function bo(e,t,n,a){t.child=null===e?xi(t,null,n,a):bi(t,e.child,n,a)}function xo(e,t,n,a,r){n=n.render;var i=t.ref;return Ei(t,r),a=fs(e,t,n,a,i,r),n=vs(),null===e||_o?(ri&&n&&ei(t),t.flags|=1,bo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qo(e,t,r))}function jo(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,wo(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return Qo(e,t,r)}return t.flags|=1,(e=Rc(i,a)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(_o=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,Qo(e,t,r);0!==(131072&e.flags)&&(_o=!0)}}return No(e,t,n,a,r)}function ko(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Rl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(Rl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Nr(Rl,Al),Al|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Nr(Rl,Al),Al|=a;return bo(e,t,r,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,a,r){var i=Ar(n)?Tr:Pr.current;return i=Or(t,i),Ei(t,r),n=fs(e,t,n,a,i,r),a=vs(),null===e||_o?(ri&&a&&ei(t),t.flags|=1,bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qo(e,t,r))}function Co(e,t,n,a,r){if(Ar(n)){var i=!0;Lr(t)}else i=!1;if(Ei(t,r),null===t.stateNode)Bo(e,t),io(t,n,a),oo(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Or(t,c=Ar(n)?Tr:Pr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==a||l!==c)&&so(t,s,a,c),Di=!1;var p=t.memoizedState;s.state=p,Vi(t,a,s,r),l=t.memoizedState,o!==a||p!==l||Er.current||Di?("function"===typeof u&&(no(t,n,u,a),l=t.memoizedState),(o=Di||ro(t,n,o,a,p,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Or(t,l=Ar(n)?Tr:Pr.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||p!==l)&&so(t,s,a,l),Di=!1,p=t.memoizedState,s.state=p,Vi(t,a,s,r);var h=t.memoizedState;o!==d||p!==h||Er.current||Di?("function"===typeof m&&(no(t,n,m,a),h=t.memoizedState),(c=Di||ro(t,n,c,a,p,h,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=l,a=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Po(e,t,n,a,i,r)}function Po(e,t,n,a,r,i){So(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Mr(t,n,!1),Qo(e,t,i);a=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=a.state,r&&Mr(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),Gi(e,t.containerInfo)}function To(e,t,n,a,r){return mi(),hi(r),t.flags|=256,bo(e,t,n,a),t.child}var Oo,Ao,Ro,Fo,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var a,r=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Nr(Zi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,r,0,null),e=Dc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Io(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,a=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Lc({mode:"visible",children:a.children},r,0,null),(s=Dc(s,r,o,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,zo(e,t,o,a=co(s=Error(i(419)),a,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(a=El)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Fi(e,r),nc(a,e,r,-1))}return fc(),zo(e,t,o,a=co(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ai=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Kr[$r++]=Jr,Kr[$r++]=Yr,Kr[$r++]=Gr,Jr=e.id,Yr=e.overflow,Gr=t),t=Io(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,s,n);if(o){o=r.fallback,l=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?o=Rc(a,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=Rc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Io(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,a){return null!==a&&hi(a),bi(t,e.child,null,n),(e=Io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Pi(e.return,t,n)}function qo(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function Vo(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(bo(e,t,a.children,n),0!==(2&(a=Zi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Nr(Zi,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qo(t,!0,n,null,i);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ko(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ar(t.type)&&Rr(),Wo(t),null;case 3:return a=t.stateNode,Ji(),Sr(Er),Sr(Pr),ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ao(e,t),Wo(t),null;case 5:Xi(t);var r=$i(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Wo(t),null}if(e=$i(Hi.current),di(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pr]=t,a[mr]=s,e=0!==(1&t.mode),n){case"dialog":za("cancel",a),za("close",a);break;case"iframe":case"object":case"embed":za("load",a);break;case"video":case"audio":for(r=0;r<Da.length;r++)za(Da[r],a);break;case"source":za("error",a);break;case"img":case"image":case"link":za("error",a),za("load",a);break;case"details":za("toggle",a);break;case"input":J(a,s),za("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},za("invalid",a);break;case"textarea":re(a,s),za("invalid",a)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&za("scroll",a)}switch(n){case"input":W(a),Z(a,s,!0);break;case"textarea":W(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[pr]=t,e[mr]=a,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,a),n){case"dialog":za("cancel",e),za("close",e),r=a;break;case"iframe":case"object":case"embed":za("load",e),r=a;break;case"video":case"audio":for(r=0;r<Da.length;r++)za(Da[r],e);r=a;break;case"source":za("error",e),r=a;break;case"img":case"image":case"link":za("error",e),za("load",e),r=a;break;case"details":za("toggle",e),r=a;break;case"input":J(e,a),r=G(e,a),za("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=M({},a,{value:void 0}),za("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),za("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ve(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&za("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":W(e),Z(e,a,!1);break;case"textarea":W(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+Q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=$i(Ki.current),$i(Hi.current),di(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(s=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Wo(t),null;case 13:if(Sr(Zi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))pi(),mi(),t.flags|=98560,s=!1;else if(s=di(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Fl&&(Fl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Ji(),Ao(e,t),null===e&&Va(t.stateNode.containerInfo),Wo(t),null;case 10:return Ci(t.type._context),Wo(t),null;case 19:if(Sr(Zi),null===(s=t.memoizedState))return Wo(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)Ho(s,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Ho(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nr(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Vl&&(t.flags|=128,a=!0,Ho(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=es(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ri)return Wo(t),null}else 2*Ye()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,Ho(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=Zi.current,Nr(Zi,a?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $o(e,t){switch(ti(t),t.tag){case 1:return Ar(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Sr(Er),Sr(Pr),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Sr(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zi),null;case 4:return Ji(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Ro=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,$i(Hi.current);var i,s=null;switch(n){case"input":r=G(e,r),a=G(e,a),s=[];break;case"select":r=M({},r,{value:void 0}),a=M({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(u in ye(n,a),n=null,r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var c=a[u];if(l=null!=r?r[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&za("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Fo=function(e,t,n,a){n!==a&&(t.flags|=4)};var Go=!1,Jo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){kc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(t,n,i)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[mr],delete t[fr],delete t[vr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var a=ul,r=dl;ul=null,pl(e,t,n),dl=r,null!==(ul=a)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(ul,n.stateNode));break;case 4:a=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,pl(e,t,n),ul=a,dl=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),r=r.next}while(r!==a)}pl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(a=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=a):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var a=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));ml(s,o,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(v){kc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){kc(e,e.return,v)}}break;case 1:fl(t,e),gl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),gl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(v){kc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(r,s),_e(l,o);var u=_e(l,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];"style"===d?ve(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):_(r,d,p,u)}switch(l){case"input":X(r,s);break;case"textarea":ie(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(r,!!s.multiple,h,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[mr]=s}catch(v){kc(e,e.return,v)}}break;case 6:if(fl(t,e),gl(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){kc(e,e.return,v)}}break;case 3:if(fl(t,e),gl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){kc(e,e.return,v)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(ql=Ye())),4&a&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,fl(t,e),Jo=u):fl(t,e),gl(e),8192&a){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(p=Xo=d;null!==Xo;){switch(h=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,n=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){kc(a,n,v)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){xl(p);continue}}null!==h?(h.return=m,Xo=h):xl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){kc(e,e.return,v)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){kc(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),gl(e),4&a&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,_l(e,t,n)}function _l(e,t,n){for(var a=0!==(1&e.mode);null!==Xo;){var r=Xo,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Go;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Go;var c=Jo;if(Go=s,(Jo=l)&&!c)for(Xo=r;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?jl(r):null!==l?(l.return=s,Xo=l):jl(r);for(;null!==i;)Xo=i,_l(i,t,n),i=i.sibling;Xo=r,Go=o,Jo=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xo=i):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Jo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bi(t,s,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&rl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){kc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){kc(t,r,l)}}var i=t.return;try{rl(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var wl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Pl=0,El=null,Tl=null,Ol=0,Al=0,Rl=kr(0),Fl=0,Dl=null,Ll=0,Ml=0,Il=0,zl=null,Ul=null,ql=0,Vl=1/0,Bl=null,Ql=!1,Hl=null,Wl=null,Kl=!1,$l=null,Gl=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Pl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==fi.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,a){if(50<Jl)throw Jl=0,Yl=null,Error(i(185));gt(e,n,a),0!==(2&Pl)&&e===El||(e===El&&(0===(2&Pl)&&(Ml|=n),4===Fl&&oc(e,Ol)),ac(e,a),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Ye()+500,zr&&Vr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&a)||(r[s]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=pt(e,e===El?Ol:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){zr=!0,qr(e)}(lc.bind(null,e)):qr(lc.bind(null,e)),sr(function(){0===(6&Pl)&&Vr()}),n=null;else{switch(bt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Ec(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&Pl))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var a=pt(e,e===El?Ol:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=vc(e,a);else{t=a;var r=Pl;Pl|=2;var s=hc();for(El===e&&Ol===t||(Bl=null,Vl=Ye()+500,pc(e,t));;)try{yc();break}catch(l){mc(e,l)}Ni(),Sl.current=s,Pl=r,null!==Tl?t=0:(El=null,Ol=0,t=Fl)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(a=r,t=ic(e,r))),1===t)throw n=Dl,pc(e,0),oc(e,a),ac(e,Ye()),n;if(6===t)oc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!oa(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,a))&&(0!==(s=ht(e))&&(a=s,t=ic(e,s))),1===t))throw n=Dl,pc(e,0),oc(e,a),ac(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Ul,Bl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=ql+500-Ye())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(xc.bind(null,e,Ul,Bl),t);break}xc(e,Ul,Bl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-st(a);s=1<<o,(o=t[o])>r&&(r=o),a&=~s}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kl(a/1960))-a)){e.timeoutHandle=ar(xc.bind(null,e,Ul,Bl),a);break}xc(e,Ul,Bl);break;default:throw Error(i(329))}}}return ac(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Il,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&Pl))throw Error(i(327));jc();var t=pt(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Dl,pc(e,0),oc(e,t),ac(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Bl),ac(e,Ye()),null}function cc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Ye()+500,zr&&Vr())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&jc();var t=Pl;Pl|=1;var n=Cl.transition,a=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=a,Cl.transition=n,0===(6&(Pl=t))&&Vr()}}function dc(){Al=Rl.current,Sr(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rr();break;case 3:Ji(),Sr(Er),Sr(Pr),ns();break;case 5:Xi(a);break;case 4:Ji();break;case 13:case 19:Sr(Zi);break;case 10:Ci(a.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Tl=e=Rc(e.current,null),Ol=Al=t,Fl=0,Dl=null,Il=Ml=Ll=0,Ul=zl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(a=(n=Oi[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}Oi=null}return e}function mc(e,t){for(;;){var n=Tl;try{if(Ni(),as.current=Ys,cs){for(var a=ss.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,Nl.current=null,null===n||null===n.return){Fl=1,Dl=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vo(o);if(null!==h){h.flags&=-257,go(h,o,l,0,t),1&h.mode&&fo(s,u,t),c=u;var f=(t=h).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){fo(s,u,t),fc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),hi(lo(c,l));break e}}s=c=lo(c,l),4!==Fl&&(Fl=2),null===zl?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qi(s,mo(0,c,t));break e;case 1:l=c;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,qi(s,ho(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Ys,null===e?Ys:e}function fc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===El||0===(268435455&Ll)&&0===(268435455&Ml)||oc(El,Ol)}function vc(e,t){var n=Pl;Pl|=2;var a=hc();for(El===e&&Ol===t||(Bl=null,pc(e,t));;)try{gc();break}catch(r){mc(e,r)}if(Ni(),Pl=n,Sl.current=a,null!==Tl)throw Error(i(261));return El=null,Ol=0,Fl}function gc(){for(;null!==Tl;)_c(Tl)}function yc(){for(;null!==Tl&&!Ge();)_c(Tl)}function _c(e){var t=wl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Nl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Al)))return void(Tl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Fl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Fl&&(Fl=5)}function xc(e,t,n){var a=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,a){do{jc()}while(null!==$l);if(0!==(6&Pl))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,s),e===El&&(Tl=El=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,function(){return jc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=_t;_t=1;var l=Pl;Pl|=4,Nl.current=null,function(e,t){if(er=Qt,ma(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(l=o+r),p!==s||0!==a&&3!==p.nodeType||(c=o+a),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++u===r&&(l=o),m===s&&++d===a&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,n),vl(n,e),ha(tr),Qt=!!er,tr=er=null,e.current=n,yl(n,e,r),Je(),Pl=l,_t=o,Cl.transition=s}else e.current=n;if(Kl&&(Kl=!1,$l=e,Gl=r),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Ql)throw Ql=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vr()}(e,t,n,a)}finally{Cl.transition=r,_t=a}return null}function jc(){if(null!==$l){var e=bt(Gl),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===$l)var a=!1;else{if(e=$l,$l=null,Gl=0,0!==(6&Pl))throw Error(i(331));var r=Pl;for(Pl|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Xo=p;else for(;null!==Xo;){var m=(d=Xo).sibling,h=d.return;if(il(d),d===u){Xo=null;break}if(null!==m){m.return=h,Xo=m;break}Xo=h}}}var f=s.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xo=y;break e}Xo=s.return}}var _=e.current;for(Xo=_;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=_;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Pl=r,Vr(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(j){}a=!0}return a}finally{_t=n,Cl.transition=t}}return!1}function wc(e,t,n){e=zi(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=zi(t,e=ho(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Ol&n)===n&&(4===Fl||3===Fl&&(130023424&Ol)===Ol&&500>Ye()-ql?pc(e,0):Il|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Fi(e,t))&&(gt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Nc(e,n)}function Ec(e,t){return Ke(e,t)}function Tc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,a){return new Tc(e,t,n,a)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,r,s){var o=2;if(a=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Dc(n.children,r,s,t);case k:o=8,r|=8;break;case S:return(e=Oc(12,n,t,2|r)).elementType=S,e.lanes=s,e;case E:return(e=Oc(13,n,t,r)).elementType=E,e.lanes=s,e;case T:return(e=Oc(19,n,t,r)).elementType=T,e.lanes=s,e;case R:return Lc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case C:o=9;break e;case P:o=11;break e;case O:o=14;break e;case A:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Dc(e,t,n,a){return(e=Oc(7,e,a,t)).lanes=n,e}function Lc(e,t,n,a){return(e=Oc(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,r,i,s,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function qc(e){if(!e)return Cr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ar(n))return Dr(e,n,t)}return t}function Vc(e,t,n,a,r,i,s,o,l){return(e=Uc(n,a,!0,e,0,i,0,o,l)).context=qc(null),n=e.current,(i=Ii(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,r),e.current.lanes=r,gt(e,r,a),ac(e,a),e}function Bc(e,t,n,a){var r=t.current,i=ec(),s=tc(r);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ii(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=zi(r,t,s))&&(nc(e,r,s,i),Ui(e,r,s)),s}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),mi();break;case 5:Yi(t);break;case 1:Ar(t.type)&&Lr(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Nr(ji,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Nr(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Nr(Zi,1&Zi.current),null!==(e=Qo(e,t,n))?e.sibling:null);Nr(Zi,1&Zi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nr(Zi,Zi.current),a)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Qo(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,ri&&0!==(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bo(e,t),e=t.pendingProps;var r=Or(t,Pr.current);Ei(t,n),r=fs(null,t,a,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(a)?(s=!0,Lr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(t),r.updater=ao,t.stateNode=r,r._reactInternals=t,oo(t,a,e,n),t=Po(null,t,a,!0,s,n)):(t.tag=0,ri&&s&&ei(t),bo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===O)return 14}return 2}(a),e=to(a,e),r){case 0:t=No(null,t,a,e,n);break e;case 1:t=Co(null,t,a,e,n);break e;case 11:t=xo(null,t,a,e,n);break e;case 14:t=jo(null,t,a,to(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,No(e,t,a,r=t.elementType===a?r:to(a,r),n);case 1:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:to(a,r),n);case 3:e:{if(Eo(t),null===e)throw Error(i(387));a=t.pendingProps,r=(s=t.memoizedState).element,Mi(e,t),Vi(t,a,null,n);var o=t.memoizedState;if(a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,a,n,r=lo(Error(i(423)),t));break e}if(a!==r){t=To(e,t,a,n,r=lo(Error(i(424)),t));break e}for(ai=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=xi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===r){t=Qo(e,t,n);break e}bo(e,t,a,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==s&&nr(a,s)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Mo(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=bi(t,null,a,n):bo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,xo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Nr(ji,a._currentValue),a._currentValue=o,null!==s)if(oa(s.value,o)){if(s.children===r.children&&!Er.current){t=Qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Ii(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pi(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Pi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ei(t,n),a=a(r=Ti(r)),t.flags|=1,bo(e,t,a,n),t.child;case 14:return r=to(a=t.type,t.pendingProps),jo(e,t,a,r=to(a.type,r),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:to(a,r),Bo(e,t),t.tag=1,Ar(a)?(e=!0,Lr(t)):e=!1,Ei(t,n),io(t,a,r),oo(t,a,r,n),Po(null,t,a,!0,e,n);case 19:return Vo(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var o=r;r=function(){var e=Qc(s);o.call(e)}}Bc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=Qc(s);i.call(e)}}var s=Vc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[hr]=s.current,Va(8===e.nodeType?e.parentNode:e),uc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=Qc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[hr]=l.current,Va(8===e.nodeType?e.parentNode:e),uc(function(){Bc(t,l,n,a)}),l}(n,t,e,r,a);return Qc(s)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Bc(null,e,null,null)}),t[hr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Ye()),0===(6&Pl)&&(Vl=Ye()+500,Vr()))}break;case 13:uc(function(){var t=Fi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Fi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Fi(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=xr(a);if(!r)throw Error(i(90));K(a),X(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[_r,br,xr,Ne,Ce,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{rt=au.inject(nu),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,r),e[hr]=t.current,Va(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,s,o),e[hr]=t.current,Va(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},819:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>a.E});var a=n(90),r=n(298);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}})},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},853:(e,t,n)=>{"use strict";e.exports=n(234)},870:(e,t,n)=>{"use strict";n.d(t,{BH:()=>y,Cp:()=>v,F$:()=>h,G6:()=>k,HN:()=>l,MK:()=>p,Od:()=>f,S$:()=>r,Zw:()=>s,b_:()=>d,f8:()=>_,gn:()=>o,j3:()=>c,jY:()=>S,lQ:()=>i,nJ:()=>m,vh:()=>u,yy:()=>w});var a=n(168),r="undefined"===typeof window;function i(){}function s(e,t){return"function"===typeof e?e(t):e}function o(e){return"number"===typeof e&&e>=0&&e!==1/0}function l(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,n){return j(e)?"function"===typeof t?(0,a.A)({},n,{queryKey:e,queryFn:t}):(0,a.A)({},t,{queryKey:e}):e}function d(e,t,n){return j(e)?[(0,a.A)({},t,{queryKey:e}),n]:[e||{},t]}function p(e,t){var n=e.active,a=e.exact,r=e.fetching,i=e.inactive,s=e.predicate,o=e.queryKey,l=e.stale;if(j(o))if(a){if(t.queryHash!==h(o,t.options))return!1}else if(!v(t.queryKey,o))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,i);if("none"===c)return!1;if("all"!==c){var u=t.isActive();if("active"===c&&!u)return!1;if("inactive"===c&&u)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("boolean"!==typeof r||t.isFetching()===r)&&!(s&&!s(t)))}function m(e,t){var n=e.exact,a=e.fetching,r=e.predicate,i=e.mutationKey;if(j(i)){if(!t.options.mutationKey)return!1;if(n){if(f(t.options.mutationKey)!==f(i))return!1}else if(!v(t.options.mutationKey,i))return!1}return("boolean"!==typeof a||"loading"===t.state.status===a)&&!(r&&!r(t))}function h(e,t){return((null==t?void 0:t.queryKeyHashFn)||f)(e)}function f(e){var t,n=l(e);return t=n,JSON.stringify(t,function(e,t){return b(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function v(e,t){return g(l(e),l(t))}function g(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(n){return!g(e[n],t[n])}))}function y(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||b(e)&&b(t)){for(var a=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),i=r.length,s=n?[]:{},o=0,l=0;l<i;l++){var c=n?l:r[l];s[c]=y(e[c],t[c]),s[c]===e[c]&&o++}return a===i&&o===a?e:s}return t}function _(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function b(e){if(!x(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!x(n)&&!!n.hasOwnProperty("isPrototypeOf")}function x(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"string"===typeof e||Array.isArray(e)}function w(e){return new Promise(function(t){setTimeout(t,e)})}function k(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function S(){if("function"===typeof AbortController)return new AbortController}},907:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>a.QueryClient,QueryClientProvider:()=>r.QueryClientProvider,useQuery:()=>r.useQuery});var a=n(819);n.o(a,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return a.QueryClientProvider}}),n.o(a,"useQuery")&&n.d(t,{useQuery:function(){return a.useQuery}});var r=n(223)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},990:(e,t,n)=>{"use strict";n.d(t,{dd:()=>o,eJ:()=>u,wm:()=>c});var a=n(244),r=n(317),i=n(870);function s(e){return Math.min(1e3*Math.pow(2,e),3e4)}function o(e){return"function"===typeof(null==e?void 0:e.cancel)}var l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof l}var u=function(e){var t,n,c,u,d=this,p=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){p=!0},this.continueRetry=function(){p=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){c=e,u=t});var m=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},h=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),u(t))};!function c(){if(!d.isResolved){var u;try{u=e.fn()}catch(f){u=Promise.reject(f)}t=function(e){if(!d.isResolved&&(h(new l(e)),null==d.abort||d.abort(),o(u)))try{u.cancel()}catch(t){}},d.isTransportCancelable=o(u),Promise.resolve(u).then(m).catch(function(t){var o,l;if(!d.isResolved){var u=null!=(o=e.retry)?o:3,m=null!=(l=e.retryDelay)?l:s,f="function"===typeof m?m(d.failureCount,t):m,v=!0===u||"number"===typeof u&&d.failureCount<u||"function"===typeof u&&u(d.failureCount,t);!p&&v?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,i.yy)(f).then(function(){if(!a.m.isFocused()||!r.t.isOnline())return new Promise(function(t){n=t,d.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){n=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){p?h(t):c()})):h(t)}})}}()}},991:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var a=n(870),r=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,a.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];t.schedule(function(){e.apply(void 0,a)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,a.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>a[e]);return s.default=()=>a,n.d(i,s),i}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>Qt,hasStandardBrowserWebWorkerEnv:()=>Ht,navigator:()=>Bt,origin:()=>Wt});var t,a=n(43),r=n.t(a,2),i=n(391),s=n(907);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,n,a,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,u=i.history,h=t.Pop,f=null,v=g();function g(){return(u.state||{idx:null}).idx}function y(){h=t.Pop;let e=g(),n=null==e?null:e-v;v=e,f&&f({action:h,location:b.location,delta:n})}function _(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,u.replaceState(o({},u.state,{idx:v}),""));let b={get action(){return h},get location(){return e(i,u)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),f=e,()=>{i.removeEventListener(l,y),f=null}},createHref:e=>n(i,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let r=p(b.location,e,n);a&&a(r,e),v=g()+1;let o=d(r,v),l=b.createHref(r);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(l)}s&&f&&f({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let r=p(b.location,e,n);a&&a(r,e),v=g();let i=d(r,v),o=b.createHref(r);u.replaceState(i,"",o),s&&f&&f({action:h,location:b.location,delta:0})},go:e=>u.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,a){let r=A(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=O(r);s=E(i[o],e,a)}return s}function _(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let o=M([a,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of b(e.path))r(e,t,a);else r(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return r?[i,""]:[i];let s=b(a.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,j=3,w=2,k=1,S=10,N=-2,C=e=>"*"===e;function P(e,t){let n=e.split("/"),a=n.length;return n.some(C)&&(a+=N),t&&(a+=w),n.filter(e=>!C(e)).reduce((e,t)=>e+(x.test(t)?j:""===t?k:S),a)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},i="/",s=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===i?t:t.slice(i.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!a[a.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:M([i,u.pathname]),pathnameBase:I(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,t?void 0:"i");return[i,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function R(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=h(e):(r=o({},e),c(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let i,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(a),hash:U(r)}}(r,i),d=l&&"/"!==l&&l.endsWith("/"),p=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],B=(new Set(V),["get",...V]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q.apply(this,arguments)}const H=a.createContext(null);const W=a.createContext(null);const K=a.createContext(null);const $=a.createContext(null);const G=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function Y(){return null!=a.useContext($)}function X(){return Y()||c(!1),a.useContext($).location}function Z(e){a.useContext(K).static||a.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=a.useContext(G);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=pe(ce.UseNavigateStable),n=a.useRef(!1);return Z(()=>{n.current=!0}),a.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,Q({fromRouteId:t},r)))},[e,t])}():function(){Y()||c(!1);let e=a.useContext(H),{basename:t,future:n,navigator:r}=a.useContext(K),{matches:i}=a.useContext(G),{pathname:s}=X(),o=JSON.stringify(D(i,n.v7_relativeSplatPath)),l=a.useRef(!1);Z(()=>{l.current=!0});let u=a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=L(n,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[t,r,o,s,e]);return u}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(K),{matches:i}=a.useContext(G),{pathname:s}=X(),o=JSON.stringify(D(i,r.v7_relativeSplatPath));return a.useMemo(()=>L(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ne(e,n,r,i){Y()||c(!1);let{navigator:s}=a.useContext(K),{matches:o}=a.useContext(G),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,m=X();if(n){var f;let e="string"===typeof n?h(n):n;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||c(!1),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=g(e,{pathname:y});let b=oe(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,i);return n&&b?a.createElement($.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},b):b}function ae(){let e=function(){var e;let t=a.useContext(J),n=de(ce.UseRouteError),r=pe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const re=a.createElement(ae,null);class ie extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(G.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(G.Provider,{value:t},r)}function oe(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let s,c=!1,p=null,m=null;var h;n&&(s=l&&r.route.id?l[r.route.id]:void 0,p=r.route.errorElement||re,u&&(d<0&&0===i?(h="route-fallback",!1||me[h]||(me[h]=!0),c=!0,m=null):d===i&&(c=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,i+1)),v=()=>{let t;return t=s?p:c?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(se,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(ie,{location:n.location,revalidation:n.revalidation,component:p,error:s,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=a.useContext(H);return t||c(!1),t}function de(e){let t=a.useContext(W);return t||c(!1),t}function pe(e){let t=function(){let e=a.useContext(G);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function fe(e){let{to:t,replace:n,state:r,relative:i}=e;Y()||c(!1);let{future:s,static:o}=a.useContext(K),{matches:l}=a.useContext(G),{pathname:u}=X(),d=ee(),p=L(t,D(l,s.v7_relativeSplatPath),u,"path"===i),m=JSON.stringify(p);return a.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function ve(e){c(!1)}function ge(e){let{basename:n="/",children:r=null,location:i,navigationType:s=t.Pop,navigator:o,static:l=!1,future:u}=e;Y()&&c(!1);let d=n.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:d,navigator:o,static:l,future:Q({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof i&&(i=h(i));let{pathname:m="/",search:f="",hash:v="",state:g=null,key:y="default"}=i,_=a.useMemo(()=>{let e=A(m,d);return null==e?null:{location:{pathname:e,search:f,hash:v,state:g,key:y},navigationType:s}},[d,m,f,v,g,y,s]);return null==_?null:a.createElement(K.Provider,{value:p},a.createElement($.Provider,{children:r,value:_}))}function ye(e){let{children:t,location:n}=e;return ne(_e(t),n)}new Promise(()=>{});a.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,i)),n.push(s)}),n}var be=n(950),xe=n.t(be,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Li){}new Map;const Se=r.startTransition;xe.flushSync,r.useId;function Ne(e){let{basename:t,children:n,future:r,window:i}=e,s=a.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return p("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=s.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback(e=>{d&&Se?Se(()=>u(e)):u(e)},[u,d]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>he(r),[r]),a.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=a.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:p,viewTransition:h}=e,f=we(e,ke),{basename:v}=a.useContext(K),g=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Ce))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=A(t.pathname,v);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Li){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||c(!1);let{basename:r,navigator:i}=a.useContext(K),{hash:s,pathname:o,search:l}=te(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:M([r,o])),i.createHref({pathname:u,search:l,hash:s})}(d,{relative:i}),_=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=X(),d=te(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:h});return a.createElement("a",je({},f,{href:n||y,onClick:g||s?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:u}))});var Te,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Ae(e,t){return function(){return e.apply(t,arguments)}}const{toString:Re}=Object.prototype,{getPrototypeOf:Fe}=Object,{iterator:De,toStringTag:Le}=Symbol,Me=(Ie=Object.create(null),e=>{const t=Re.call(e);return Ie[t]||(Ie[t]=t.slice(8,-1).toLowerCase())});var Ie;const ze=e=>(e=e.toLowerCase(),t=>Me(t)===e),Ue=e=>t=>typeof t===e,{isArray:qe}=Array,Ve=Ue("undefined");function Be(e){return null!==e&&!Ve(e)&&null!==e.constructor&&!Ve(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qe=ze("ArrayBuffer");const He=Ue("string"),We=Ue("function"),Ke=Ue("number"),$e=e=>null!==e&&"object"===typeof e,Ge=e=>{if("object"!==Me(e))return!1;const t=Fe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Le in e)&&!(De in e)},Je=ze("Date"),Ye=ze("File"),Xe=ze("Blob"),Ze=ze("FileList"),et=ze("URLSearchParams"),[tt,nt,at,rt]=["ReadableStream","Request","Response","Headers"].map(ze);function it(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qe(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Be(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(n=0;n<i;n++)s=a[n],t.call(null,e[s],s,e)}}function st(e,t){if(Be(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const ot="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,lt=e=>!Ve(e)&&e!==ot;const ct=(ut="undefined"!==typeof Uint8Array&&Fe(Uint8Array),e=>ut&&e instanceof ut);var ut;const dt=ze("HTMLFormElement"),pt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),mt=ze("RegExp"),ht=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};it(n,(n,r)=>{let i;!1!==(i=t(n,r,e))&&(a[r]=i||n)}),Object.defineProperties(e,a)};const ft=ze("AsyncFunction"),vt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],ot.addEventListener("message",e=>{let{source:t,data:r}=e;t===ot&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),ot.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,We(ot.postMessage)),gt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ot):"undefined"!==typeof process&&process.nextTick||vt,yt={isArray:qe,isArrayBuffer:Qe,isBuffer:Be,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||We(e.append)&&("formdata"===(t=Me(e))||"object"===t&&We(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qe(e.buffer),t},isString:He,isNumber:Ke,isBoolean:e=>!0===e||!1===e,isObject:$e,isPlainObject:Ge,isEmptyObject:e=>{if(!$e(e)||Be(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Li){return!1}},isReadableStream:tt,isRequest:nt,isResponse:at,isHeaders:rt,isUndefined:Ve,isDate:Je,isFile:Ye,isBlob:Xe,isRegExp:mt,isFunction:We,isStream:e=>$e(e)&&We(e.pipe),isURLSearchParams:et,isTypedArray:ct,isFileList:Ze,forEach:it,merge:function e(){const{caseless:t,skipUndefined:n}=lt(this)&&this||{},a={},r=(r,i)=>{const s=t&&st(a,i)||i;Ge(a[s])&&Ge(r)?a[s]=e(a[s],r):Ge(r)?a[s]=e({},r):qe(r)?a[s]=r.slice():n&&Ve(r)||(a[s]=r)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&it(arguments[i],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return it(t,(t,a)=>{n&&We(t)?e[a]=Ae(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,i,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],a&&!a(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Fe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Me,kindOfTest:ze,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(qe(e))return e;let t=e.length;if(!Ke(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[De]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:dt,hasOwnProperty:pt,hasOwnProp:pt,reduceDescriptors:ht,freezeMethods:e=>{ht(e,(t,n)=>{if(We(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];We(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return qe(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:st,global:ot,isContextDefined:lt,isSpecCompliantForm:function(e){return!!(e&&We(e.append)&&"FormData"===e[Le]&&e[De])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if($e(e)){if(t.indexOf(e)>=0)return;if(Be(e))return e;if(!("toJSON"in e)){t[a]=e;const r=qe(e)?[]:{};return it(e,(e,t)=>{const i=n(e,a+1);!Ve(i)&&(r[t]=i)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:ft,isThenable:e=>e&&($e(e)||We(e))&&We(e.then)&&We(e.catch),setImmediate:vt,asap:gt,isIterable:e=>null!=e&&We(e[De])};function _t(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}yt.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const bt=_t.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}}),Object.defineProperties(_t,xt),Object.defineProperty(bt,"isAxiosError",{value:!0}),_t.from=(e,t,n,a,r,i)=>{const s=Object.create(bt);yt.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return _t.call(s,o,l,n,a,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const jt=_t;function wt(e){return yt.isPlainObject(e)||yt.isArray(e)}function kt(e){return yt.endsWith(e,"[]")?e.slice(0,-2):e}function St(e,t,n){return e?e.concat(t).map(function(e,t){return e=kt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Nt=yt.toFlatObject(yt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ct=function(e,t,n){if(!yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yt.isUndefined(t[e])})).metaTokens,r=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yt.isSpecCompliantForm(t);if(!yt.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(yt.isDate(e))return e.toISOString();if(yt.isBoolean(e))return e.toString();if(!o&&yt.isBlob(e))throw new jt("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(e)||yt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(yt.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(yt.isArray(e)&&function(e){return yt.isArray(e)&&!e.some(wt)}(e)||(yt.isFileList(e)||yt.endsWith(n,"[]"))&&(o=yt.toArray(e)))return n=kt(n),o.forEach(function(e,a){!yt.isUndefined(e)&&null!==e&&t.append(!0===s?St([n],a,i):null===s?n:n+"[]",l(e))}),!1;return!!wt(e)||(t.append(St(r,n,i),l(e)),!1)}const u=[],d=Object.assign(Nt,{defaultVisitor:c,convertValue:l,isVisitable:wt});if(!yt.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!yt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+a.join("."));u.push(n),yt.forEach(n,function(n,i){!0===(!(yt.isUndefined(n)||null===n)&&r.call(t,n,yt.isString(i)?i.trim():i,a,d))&&e(n,a?a.concat(i):[i])}),u.pop()}}(e),t};function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Et(e,t){this._pairs=[],e&&Ct(e,this,t)}const Tt=Et.prototype;Tt.append=function(e,t){this._pairs.push([e,t])},Tt.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ot=Et;function At(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rt(e,t,n){if(!t)return e;const a=n&&n.encode||At;yt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(i=r?r(t,n):yt.isURLSearchParams(t)?t.toString():new Ot(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ft=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Mt(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Lt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}function It(e,t,n){return(t=Mt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach(function(t){It(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ot,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt="undefined"!==typeof window&&"undefined"!==typeof document,Bt="object"===typeof navigator&&navigator||void 0,Qt=Vt&&(!Bt||["ReactNative","NativeScript","NS"].indexOf(Bt.product)<0),Ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Wt=Vt&&window.location.href||"http://localhost",Kt=Ut(Ut({},e),qt);const $t=function(e){function t(e,n,a,r){let i=e[r++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=r>=e.length;if(i=!i&&yt.isArray(a)?a.length:i,o)return yt.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!s;a[i]&&yt.isObject(a[i])||(a[i]=[]);return t(e,n,a[i],r)&&yt.isArray(a[i])&&(a[i]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}(a[i])),!s}if(yt.isFormData(e)&&yt.isFunction(e.entries)){const n={};return yt.forEachEntry(e,(e,a)=>{t(function(e){return yt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Gt={transitional:Dt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=yt.isObject(e);r&&yt.isHTMLForm(e)&&(e=new FormData(e));if(yt.isFormData(e))return a?JSON.stringify($t(e)):e;if(yt.isArrayBuffer(e)||yt.isBuffer(e)||yt.isStream(e)||yt.isFile(e)||yt.isBlob(e)||yt.isReadableStream(e))return e;if(yt.isArrayBufferView(e))return e.buffer;if(yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ct(e,new Kt.classes.URLSearchParams,Ut({visitor:function(e,t,n,a){return Kt.isNode&&yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=yt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ct(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(yt.isString(e))try{return(t||JSON.parse)(e),yt.trim(e)}catch(Li){if("SyntaxError"!==Li.name)throw Li}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gt.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(yt.isResponse(e)||yt.isReadableStream(e))return e;if(e&&yt.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(Li){if(n){if("SyntaxError"===Li.name)throw jt.from(Li,jt.ERR_BAD_RESPONSE,this,null,this.response);throw Li}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],e=>{Gt.headers[e]={}});const Jt=Gt,Yt=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xt=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:yt.isArray(e)?e.map(en):String(e)}function tn(e,t,n,a,r){return yt.isFunction(a)?a.call(this,t,n):(r&&(t=n),yt.isString(t)?yt.isString(a)?-1!==t.indexOf(a):yt.isRegExp(a)?a.test(t):void 0:void 0)}class nn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Zt(t);if(!r)throw new Error("header name must be a non-empty string");const i=yt.findKey(a,r);(!i||void 0===a[i]||!0===n||void 0===n&&!1!==a[i])&&(a[i||t]=en(e))}const i=(e,t)=>yt.forEach(e,(e,n)=>r(e,n,t));if(yt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Yt[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(yt.isObject(e)&&yt.isIterable(e)){let n,a,r={};for(const t of e){if(!yt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?yt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Zt(e)){const n=yt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(yt.isFunction(t))return t.call(this,e,n);if(yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e)){const n=yt.findKey(this,e);return!(!n||void 0===this[n]||t&&!tn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Zt(e)){const r=yt.findKey(n,e);!r||t&&!tn(0,n[r],r,t)||(delete n[r],a=!0)}}return yt.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!tn(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return yt.forEach(this,(a,r)=>{const i=yt.findKey(n,r);if(i)return t[i]=en(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=en(a),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yt.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&yt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Xt]=this[Xt]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Zt(e);t[a]||(!function(e,t){const n=yt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return yt.isArray(e)?e.forEach(a):a(e),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yt.reduceDescriptors(nn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),yt.freezeMethods(nn);const an=nn;function rn(e,t){const n=this||Jt,a=t||n,r=an.from(a.headers);let i=a.data;return yt.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function sn(e){return!(!e||!e.__CANCEL__)}function on(e,t,n){jt.call(this,null==e?"canceled":e,jt.ERR_CANCELED,t,n),this.name="CanceledError"}yt.inherits(on,jt,{__CANCEL__:!0});const ln=on;function cn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const un=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[s];r||(r=l),n[i]=o,a[i]=l;let u=s,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};const dn=function(e,t){let n,a,r=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=i,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,a||(a=setTimeout(()=>{a=null,s(n)},i-t)))},()=>n&&s(n)]},pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=un(50,250);return dn(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-a,l=r(o);a=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},mn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},hn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yt.asap(()=>e(...n))},fn=Kt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,vn=Kt.hasStandardBrowserEnv?{write(e,t,n,a,r,i){const s=[e+"="+encodeURIComponent(t)];yt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),yt.isString(a)&&s.push("path="+a),yt.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yn=e=>e instanceof an?Ut({},e):e;function _n(e,t){t=t||{};const n={};function a(e,t,n,a){return yt.isPlainObject(e)&&yt.isPlainObject(t)?yt.merge.call({caseless:a},e,t):yt.isPlainObject(t)?yt.merge({},t):yt.isArray(t)?t.slice():t}function r(e,t,n,r){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function i(e,t){if(!yt.isUndefined(t))return a(void 0,t)}function s(e,t){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,i){return i in t?a(n,r):i in e?a(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(yn(e),yn(t),0,!0)};return yt.forEach(Object.keys(Ut(Ut({},e),t)),function(a){const i=l[a]||r,s=i(e[a],t[a],a);yt.isUndefined(s)&&i!==o||(n[a]=s)}),n}const bn=e=>{const t=_n({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=an.from(s),t.url=Rt(gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yt.isFormData(n))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(yt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&s.set(n,a)})}if(Kt.hasStandardBrowserEnv&&(a&&yt.isFunction(a)&&(a=a(t)),a||!1!==a&&fn(t.url))){const e=r&&i&&vn.read(i);e&&s.set(r,e)}return t},xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=bn(e);let r=a.data;const i=an.from(a.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),u&&u(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=an.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());cn(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new jt("Request aborted",jt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new jt(a,jt.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Dt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new jt(t,r.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,f)),f=null},void 0===r&&i.setContentType(null),"setRequestHeader"in f&&yt.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),yt.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),d&&"json"!==d&&(f.responseType=a.responseType),m&&([l,u]=pn(m,!0),f.addEventListener("progress",l)),p&&f.upload&&([o,c]=pn(p),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(s=t=>{f&&(n(!t||t.type?new ln(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===Kt.protocols.indexOf(g)?n(new jt("Unsupported protocol "+g+":",jt.ERR_BAD_REQUEST,e)):f.send(r||null)})},jn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof jt?t:new ln(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,r(new jt("timeout ".concat(t," of ms exceeded"),jt.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>yt.asap(s),o}};function wn(e,t){this.v=e,this.k=t}function kn(e){return function(){return new Sn(e.apply(this,arguments))}}function Sn(e){var t,n;function a(t,n){try{var i=e[t](n),s=i.value,o=s instanceof wn;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return a(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,s){var o={key:e,arg:r,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Nn(e){return new wn(e,0)}function Cn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new wn(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Pn(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new En(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function En(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return En=function(e){this.s=e,this.n=e.next},En.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new En(e)}Sn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sn.prototype.next=function(e){return this._invoke("next",e)},Sn.prototype.throw=function(e){return this._invoke("throw",e)},Sn.prototype.return=function(e){return this._invoke("return",e)};const Tn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},On=function(){var e=kn(function*(e,t){var n,a=!1,r=!1;try{for(var i,s=Pn(An(e));a=!(i=yield Nn(s.next())).done;a=!1){const e=i.value;yield*Cn(Pn(Tn(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=s.return&&(yield Nn(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),An=function(){var e=kn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cn(Pn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Nn(t.read());if(e)break;yield n}}finally{yield Nn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Rn=(e,t,n,a)=>{const r=On(e,t);let i,s=0,o=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let i=a.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:Fn}=yt,Dn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(yt.global),{ReadableStream:Ln,TextEncoder:Mn}=yt.global,In=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Li){return!1}},zn=e=>{e=yt.merge.call({skipUndefined:!0},Dn,e);const{fetch:t,Request:n,Response:a}=e,r=t?Fn(t):"function"===typeof fetch,i=Fn(n),s=Fn(a);if(!r)return!1;const o=r&&Fn(Ln),l=r&&("function"===typeof Mn?(c=new Mn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=i&&o&&In(()=>{let e=!1;const t=new n(Kt.origin,{body:new Ln,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=s&&o&&In(()=>yt.isReadableStream(new a("").body)),p={stream:d&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new jt("Response type '".concat(e,"' is not supported"),jt.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const a=yt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(yt.isBlob(e))return e.size;if(yt.isSpecCompliantForm(e)){const t=new n(Kt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yt.isArrayBufferView(e)||yt.isArrayBuffer(e)?e.byteLength:(yt.isURLSearchParams(e)&&(e+=""),yt.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:c,timeout:h,onDownloadProgress:f,onUploadProgress:v,responseType:g,headers:y,withCredentials:_="same-origin",fetchOptions:b}=bn(e),x=t||fetch;g=g?(g+"").toLowerCase():"text";let j=jn([l,c&&c.toAbortSignal()],h),w=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(v&&u&&"get"!==s&&"head"!==s&&0!==(S=await m(y,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(yt.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=mn(S,pn(hn(v)));o=Rn(t.body,65536,e,n)}}yt.isString(_)||(_=_?"include":"omit");const t=i&&"credentials"in n.prototype,l=Ut(Ut({},b),{},{signal:j,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?_:void 0});w=i&&new n(r,l);let c=await(i?x(w,b):x(r,l));const h=d&&("stream"===g||"response"===g);if(d&&(f||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=yt.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&mn(t,pn(hn(f),!0))||[];c=new a(Rn(c.body,65536,n,()=>{r&&r(),k&&k()}),e)}g=g||"text";let N=await p[yt.findKey(p,g)||"text"](c,e);return!h&&k&&k(),await new Promise((t,n)=>{cn(t,n,{data:N,headers:an.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(N){if(k&&k(),N&&"TypeError"===N.name&&/Load failed|fetch/i.test(N.message))throw Object.assign(new jt("Network Error",jt.ERR_NETWORK,e,w),{cause:N.cause||N});throw jt.from(N,N&&N.code,e,w)}}},Un=new Map,qn=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let s,o,l=i.length,c=Un;for(;l--;)s=i[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:zn(t)),c=o;return o},Vn=(qn(),{http:null,xhr:xn,fetch:{get:qn}});yt.forEach(Vn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Li){}Object.defineProperty(e,"adapterName",{value:t})}});const Bn=e=>"- ".concat(e),Qn=e=>yt.isFunction(e)||null===e||!1===e,Hn=(e,t)=>{e=yt.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let s=0;s<n;s++){let n;if(a=e[s],r=a,!Qn(a)&&(r=Vn[(n=String(a)).toLowerCase()],void 0===r))throw new jt("Unknown adapter '".concat(n,"'"));if(r&&(yt.isFunction(r)||(r=r.get(t))))break;i[n||"#"+s]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Bn).join("\n"):" "+Bn(e[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Wn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ln(null,e)}function Kn(e){Wn(e),e.headers=an.from(e.headers),e.data=rn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Hn(e.adapter||Jt.adapter,e)(e).then(function(t){return Wn(e),t.data=rn.call(e,e.transformResponse,t),t.headers=an.from(t.headers),t},function(t){return sn(t)||(Wn(e),t&&t.response&&(t.response.data=rn.call(e,e.transformResponse,t.response),t.response.headers=an.from(t.response.headers))),Promise.reject(t)})}const $n="1.12.2",Gn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Jn={};Gn.transitional=function(e,t,n){function a(e,t){return"[Axios v"+$n+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,i)=>{if(!1===e)throw new jt(a(r," has been removed"+(t?" in "+t:"")),jt.ERR_DEPRECATED);return t&&!Jn[r]&&(Jn[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},Gn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Yn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new jt("option "+i+" must be "+n,jt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new jt("Unknown option "+i,jt.ERR_BAD_OPTION)}},validators:Gn},Xn=Yn.validators;class Zn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ft,response:new Ft}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Li){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=_n(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Yn.assertOptions(n,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),null!=a&&(yt.isFunction(a)?t.paramsSerializer={serialize:a}:Yn.assertOptions(a,{encode:Xn.function,serialize:Xn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yn.assertOptions(t,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&yt.merge(r.common,r[t.method]);r&&yt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=an.concat(i,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Kn.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let p=t;for(;d<u;){const e=s[d++],t=s[d++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=Kn.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Rt(gn((e=_n(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(e){Zn.prototype[e]=function(t,n){return this.request(_n(n||{},{method:e,url:t,data:(n||{}).data}))}}),yt.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(_n(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Zn.prototype[e]=t(),Zn.prototype[e+"Form"]=t(!0)});const ea=Zn;class ta{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new ln(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ta(function(t){e=t});return{token:t,cancel:e}}}const na=ta;const aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aa).forEach(e=>{let[t,n]=e;aa[n]=t});const ra=aa;const ia=function e(t){const n=new ea(t),a=Ae(ea.prototype.request,n);return yt.extend(a,ea.prototype,n,{allOwnKeys:!0}),yt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(_n(t,n))},a}(Jt);ia.Axios=ea,ia.CanceledError=ln,ia.CancelToken=na,ia.isCancel=sn,ia.VERSION=$n,ia.toFormData=Ct,ia.AxiosError=jt,ia.Cancel=ia.CanceledError,ia.all=function(e){return Promise.all(e)},ia.spread=function(e){return function(t){return e.apply(null,t)}},ia.isAxiosError=function(e){return yt.isObject(e)&&!0===e.isAxiosError},ia.mergeConfig=_n,ia.AxiosHeaders=an,ia.formToJSON=e=>$t(yt.isHTMLForm(e)?new FormData(e):e),ia.getAdapter=Hn,ia.HttpStatusCode=ra,ia.default=ia;const sa=ia,oa=(()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;if(e)return e;const t=window.location.hostname;return t.includes("elif")?"http://api.elif":"localhost"===t||"127.0.0.1"===t?"http://localhost:8000":"http://".concat(t,":8000")})(),la=sa.create({baseURL:oa});la.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),la.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refreshToken"),n=await sa.post("".concat(oa,"/api/token/refresh/"),{refresh:e}),{access:a}=n.data;return localStorage.setItem("accessToken",a),t.headers.Authorization="Bearer ".concat(a),la(t)}catch(n){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});const ca=la;var ua=n(579);const da=(0,a.createContext)(),pa=()=>{const e=(0,a.useContext)(da);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ma=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(localStorage.getItem("accessToken"));(0,a.useEffect)(()=>{(async()=>{const e=localStorage.getItem("accessToken");if(e)try{const t=await ca.get("/api/core/profile/");r(t.data),l(e)}catch(t){console.error("Auth initialization failed:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}s(!1)})()},[]);const c={user:n,token:o,loading:i,login:async e=>{try{const t=await ca.post("/api/core/login/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(o){var t,n,a,i,s;return console.error("Login failed:",o),"ECONNREFUSED"===o.code||o.message.includes("Network Error")||o.message.includes("ERR_CONNECTION_REFUSED")?{success:!1,error:"Cannot connect to server. Please check if the backend server is running."}:{success:!1,error:(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.non_field_errors)||void 0===s?void 0:s[0])||"Login failed"}}},register:async e=>{try{const t=await ca.post("/api/core/register/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(n){var t;return console.error("Registration failed:",n),{success:!1,error:(null===(t=n.response)||void 0===t?void 0:t.data)||"Registration failed"}}},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(null),l(null)},updateUser:e=>{r(e)},isAuthenticated:!!n,isAdmin:"admin"===(null===n||void 0===n?void 0:n.role),isManager:"manager"===(null===n||void 0===n?void 0:n.role),isSales:"sales"===(null===n||void 0===n?void 0:n.role)};return(0,ua.jsx)(da.Provider,{value:c,children:t})};n(844);Object.create(null);const ha={},fa=(e,t,n,a)=>{_a(n)&&ha[n]||(_a(n)&&(ha[n]=new Date),((e,t,n,a)=>{var r,i,s;const o=[n,Ut({code:t},a||{})];if(null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);_a(o[0])&&(o[0]="react-i18next:: ".concat(o[0])),null!==e&&void 0!==e&&null!==(i=e.services)&&void 0!==i&&null!==(i=i.logger)&&void 0!==i&&i.warn?e.services.logger.warn(...o):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...o)})(e,t,n,a))},va=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},ga=(e,t,n)=>{e.loadNamespaces(t,va(e,n))},ya=(e,t,n,a)=>{if(_a(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ga(e,n,a);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,va(e,a))},_a=e=>"string"===typeof e,ba=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xa={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},ja=e=>xa[e];let wa={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(ba,ja)};let ka;const Sa={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wa=Ut(Ut({},wa),e)}(e.options.react),(e=>{ka=e})(e)}},Na=(0,a.createContext)();class Ca{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Pa=(e,t,n,a)=>e.getFixedT(t,n,a),Ea=function(e){var t,n,r,i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:o}=s,{i18n:l,defaultNS:c}=(0,a.useContext)(Na)||{},u=o||l||ka;if(u&&!u.reportNamespaces&&(u.reportNamespaces=new Ca),!u){fa(u,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return _a(t)?t:"object"===typeof(n=t)&&null!==n&&_a(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(t=u.options.react)&&void 0!==t&&t.wait&&fa(u,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d=Ut(Ut(Ut({},wa),u.options.react),s),{useSuspense:p,keyPrefix:m}=d;let h=e||c||(null===(n=u.options)||void 0===n?void 0:n.defaultNS);h=_a(h)?[h]:h||["translation"],null===(r=(i=u.reportNamespaces).addUsedNamespaces)||void 0===r||r.call(i,h);const f=(u.isInitialized||u.initializedStoreOnce)&&h.every(e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):(fa(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,u,d)),v=((e,t,n,r)=>(0,a.useCallback)(Pa(e,t,n,r),[e,t,n,r]))(u,s.lng||null,"fallback"===d.nsMode?h:h[0],m),g=()=>v,y=()=>Pa(u,s.lng||null,"fallback"===d.nsMode?h:h[0],m),[_,b]=(0,a.useState)(g);let x=h.join();s.lng&&(x="".concat(s.lng).concat(x));const j=((e,t)=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current})(x),w=(0,a.useRef)(!0);(0,a.useEffect)(()=>{const{bindI18n:e,bindI18nStore:t}=d;w.current=!0,f||p||(s.lng?ya(u,s.lng,h,()=>{w.current&&b(y)}):ga(u,h,()=>{w.current&&b(y)})),f&&j&&j!==x&&w.current&&b(y);const n=()=>{w.current&&b(y)};return e&&(null===u||void 0===u||u.on(e,n)),t&&(null===u||void 0===u||u.store.on(t,n)),()=>{w.current=!1,u&&e&&(null===e||void 0===e||e.split(" ").forEach(e=>u.off(e,n))),t&&u&&t.split(" ").forEach(e=>u.store.off(e,n))}},[u,x]),(0,a.useEffect)(()=>{w.current&&f&&b(g)},[u,m,f]);const k=[_,u,f];if(k.t=_,k.i18n=u,k.ready=f,f)return k;if(!f&&!p)return k;throw new Promise(e=>{s.lng?ya(u,s.lng,h,()=>e()):ga(u,h,()=>e())})};function Ta(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Oa=["children","variant","size","disabled","loading","onClick","type","className"],Aa=e=>{let{children:t,variant:n="primary",size:a="medium",disabled:r=!1,loading:i=!1,onClick:s,type:o="button",className:l=""}=e,c=Ta(e,Oa);const u=["btn",{primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",outline:"btn-outline"}[n],{small:"btn-sm",medium:"btn-md",large:"btn-lg"}[a],i?"btn-loading":"",l].filter(Boolean).join(" ");return(0,ua.jsxs)("button",Ut(Ut({type:o,className:u,disabled:r||i,onClick:s},c),{},{children:[i&&(0,ua.jsx)("span",{className:"btn-spinner"}),t]}))},Ra=()=>{const{i18n:e,t:t}=Ea(),[n,r]=(0,a.useState)(!1),i=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"fr",name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"mg",name:"Malagasy",flag:"\ud83c\uddf2\ud83c\uddec"}],s=i.find(t=>t.code===e.language)||i[0];(0,a.useEffect)(()=>{const t=sessionStorage.getItem("i18nextLng")||localStorage.getItem("i18nextLng")||(e=>{const t=e+"=",n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null})("i18next")||"en";t!==e.language&&e.changeLanguage(t)},[e]);const o=n=>{e.changeLanguage(n),r(!1),sessionStorage.setItem("i18nextLng",n),localStorage.setItem("i18nextLng",n),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);const r=window.location.hostname;document.cookie="".concat(e,"=").concat(t,"; expires=").concat(a.toUTCString(),"; path=/; domain=").concat(r)}("i18next",n,30);t("language.language_changed")};return(0,ua.jsxs)("div",{className:"language-selector",children:[(0,ua.jsxs)("button",{className:"language-selector-button",onClick:()=>{r(!n)},"aria-label":t("language.select_language"),children:[(0,ua.jsx)("span",{className:"language-flag",children:s.flag}),(0,ua.jsx)("span",{className:"language-name",children:s.name}),(0,ua.jsx)("span",{className:"dropdown-arrow ".concat(n?"open":""),children:"\u25bc"})]}),n&&(0,ua.jsx)("div",{className:"language-dropdown",children:i.map(t=>(0,ua.jsxs)("button",{className:"language-option ".concat(e.language===t.code?"active":""),onClick:()=>o(t.code),children:[(0,ua.jsx)("span",{className:"language-flag",children:t.flag}),(0,ua.jsx)("span",{className:"language-name",children:t.name}),e.language===t.code&&(0,ua.jsx)("span",{className:"checkmark",children:"\u2713"})]},t.code))})]})},Fa=()=>{const{user:e,logout:t,isAuthenticated:n,isSales:r}=pa(),{t:i}=Ea(),s=ee(),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!0),[d,p]=(0,a.useState)(null),m=(0,a.useRef)(null),h=()=>{t(),s("/login")};(0,a.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&p(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const f=[{name:i("navigation.dashboard"),path:"/dashboard",icon:"\ud83d\udcc8"},{name:i("navigation.pos"),path:"/pos",icon:"\ud83d\uded2"},{name:i("navigation.pending_sales"),path:"/pending-sales",icon:"\u23f3"},{name:i("navigation.sales_management"),path:"/sales-management",icon:"\ud83d\udcca"},{name:i("navigation.packaging_management"),path:"/packaging-management",icon:"\ud83d\udce6"},{name:i("navigation.reports"),path:"/reports",icon:"\ud83d\udccb"},{name:i("navigation.all_pages")||"All Pages",path:"/all-pages",icon:"\ud83d\udcc4"}];return(0,ua.jsx)("nav",{className:"navbar ".concat(c?"collapsed":""),ref:m,children:(0,ua.jsx)("div",{className:"navbar-container",children:n?(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"navbar-header",children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ua.jsx)(Ee,{to:"/",className:"navbar-brand",children:!c&&(0,ua.jsx)("h1",{children:i("app.title")})}),(0,ua.jsx)("button",{className:"navbar-toggle",onClick:()=>{u(!c)},"aria-label":"Toggle navigation",title:c?"Expand navigation":"Collapse navigation",children:c?"\u2192":"\u2190"})]}),!c&&(0,ua.jsx)(Ra,{})]}),(0,ua.jsx)("div",{className:"navbar-content",children:(0,ua.jsx)("div",{className:"navbar-menu ".concat(o?"active":""),children:f.map((e,t)=>(0,ua.jsxs)(Ee,{to:e.path,className:"navbar-link",onClick:()=>l(!1),title:c?e.name:"",children:[(0,ua.jsx)("span",{className:"nav-icon",children:e.icon}),!c&&e.name]},t))})}),(0,ua.jsxs)("div",{className:"navbar-footer",children:[!c&&(0,ua.jsxs)("div",{className:"navbar-user",children:[(0,ua.jsxs)("div",{className:"user-info",children:[(0,ua.jsx)("span",{className:"user-name",children:null===e||void 0===e?void 0:e.username}),(0,ua.jsx)("span",{className:"user-role",children:null===e||void 0===e?void 0:e.role})]}),(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:h,children:i("navigation.logout")})]}),c&&(0,ua.jsx)("button",{className:"logout-icon",onClick:h,title:"Logout",children:"\ud83d\udeaa"})]})]}):(0,ua.jsx)(Ee,{to:"/",className:"navbar-brand",children:(0,ua.jsx)("h1",{children:i("app.title")})})})})},Da=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!0),i=async()=>{try{r(!0),await ca.get("/api/core/health/",{timeout:5e3}),t(!0)}catch(e){"ECONNREFUSED"===e.code||e.message.includes("Network Error")||e.message.includes("ERR_CONNECTION_REFUSED")||e.message.includes("Failed to fetch")||e.message.includes("Connection refused")?t(!1):e.response&&e.response.status?t(!0):t(!1)}finally{r(!1)}};return(0,a.useEffect)(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[]),(0,ua.jsxs)("div",{className:"connection-status",children:[(0,ua.jsx)("div",{className:"status-dot ".concat(e?"connected":"disconnected"," ").concat(n?"checking":""),title:n?"Checking connection...":e?"Server connected":"Server disconnected"}),(0,ua.jsx)("span",{className:"status-text",children:n?"Checking...":e?"Connected":"Disconnected"})]})},La=e=>{let{isOpen:t,onClose:n}=e;const{t:a}=Ea();if(!t)return null;const r={"elif-orders-app":"orders.elif","elif-sales-app":"sales.elif","elif-admin-app":"admin.elif"},i=((()=>{const e=parseInt(window.location.port);window.location.hostname;if(3e3===e)return"elif-orders-app";if(3001===e)return"elif-sales-app";if(3002===e)return"elif-admin-app";const t=window.location.pathname.split("/").filter(e=>e),n=["elif-admin-app","elif-orders-app","elif-sales-app"],a=t.find(e=>n.includes(e))})(),(()=>{const e=window.location.pathname.split("/").filter(e=>e),t=["elif-admin-app","elif-orders-app","elif-sales-app"],n=e.find(e=>t.includes(e));n&&"/".concat(n)})(),window.location.hostname,e=>{const t=window.location.protocol,n=r[e];return"".concat(t,"//").concat(n)}),s=[{name:"Admin App",url:i("elif-admin-app"),icon:"\u2699\ufe0f",description:"Manage inventory, users, system settings, and more"},{name:"Orders App",url:i("elif-orders-app"),icon:"\ud83d\udccb",description:"Manage purchase orders, inventory, and suppliers"}];return(0,ua.jsx)("div",{className:"all-pages-popup-overlay",onClick:n,children:(0,ua.jsxs)("div",{className:"all-pages-popup-content",onClick:e=>e.stopPropagation(),children:[(0,ua.jsxs)("div",{className:"all-pages-popup-header",children:[(0,ua.jsx)("h2",{children:a("all_pages.title")||"All Applications"}),(0,ua.jsx)("button",{className:"all-pages-popup-close",onClick:n,children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"all-pages-popup-body",children:[(0,ua.jsx)("p",{className:"all-pages-popup-subtitle",children:a("all_pages.subtitle")||"Access other applications"}),(0,ua.jsx)("div",{className:"all-pages-popup-grid",children:s.map((e,t)=>(0,ua.jsxs)("div",{className:"all-pages-popup-card",children:[(0,ua.jsxs)("div",{className:"all-pages-popup-card-header",children:[(0,ua.jsx)("span",{className:"all-pages-popup-icon",children:e.icon}),(0,ua.jsx)("h3",{children:e.name})]}),(0,ua.jsx)("div",{className:"all-pages-popup-card-body",children:(0,ua.jsx)("p",{children:e.description})}),(0,ua.jsx)("div",{className:"all-pages-popup-card-footer",children:(0,ua.jsx)("a",{href:e.url,className:"all-pages-popup-link",onClick:n,children:a("all_pages.access_app")||"Access App"})})]},t))})]})]})})},Ma=()=>{const[e,t]=(0,a.useState)({username:"",password:""}),[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),{login:c,isAuthenticated:u}=pa(),{t:d}=Ea(),p=ee();(0,a.useEffect)(()=>{u&&p("/dashboard")},[u,p]);const m=n=>{t(Ut(Ut({},e),{},{[n.target.name]:n.target.value})),s("")};return(0,ua.jsxs)("div",{className:"login-container",children:[(0,ua.jsx)("div",{className:"login-language-selector",children:(0,ua.jsx)(Ra,{})}),(0,ua.jsxs)("div",{className:"login-card",children:[(0,ua.jsxs)("div",{className:"login-header",children:[(0,ua.jsx)("h1",{children:d("app.title")}),(0,ua.jsx)("p",{children:d("auth.login")})]}),(0,ua.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0),s("");const n=await c(e);n.success?p("/dashboard"):s(n.error),r(!1)},className:"login-form",children:[i&&(0,ua.jsx)("div",{className:"error-message",children:i}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{htmlFor:"username",children:d("auth.username")}),(0,ua.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:m,required:!0,disabled:n})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{htmlFor:"password",children:d("auth.password")}),(0,ua.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,required:!0,disabled:n})]}),(0,ua.jsx)(Aa,{type:"submit",loading:n,className:"login-button",children:d("auth.login")})]}),(0,ua.jsxs)("div",{className:"login-footer",children:[(0,ua.jsxs)("p",{children:[d("messages.dont_have_account")," ",(0,ua.jsx)(Ee,{to:"/register",className:"register-link",children:d("messages.contact_administrator")})]}),(0,ua.jsx)("button",{className:"all-pages-button",onClick:()=>l(!0),type:"button",children:"\ud83d\udcf1 View All Applications"})]})]}),(0,ua.jsx)(La,{isOpen:o,onClose:()=>l(!1)})]})},Ia=["page","pageSize","status","customer_name","start_date","end_date","sale_number","payment_status"],za=()=>{if("undefined"===typeof window)return!1;const e=window.navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)||window.innerWidth<=768||"ontouchstart"in window||navigator.maxTouchPoints>0},Ua=(e,t)=>{try{if(!e||!t)return console.error("Invalid data or title provided to downloadReceiptFile"),!1;const n=((e,t)=>{za();const n="80mm";return"\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,'</title>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <style>\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: \'Courier New\', Courier, monospace;\n          font-size: ').concat("12px",";\n          line-height: 1.2;\n          color: #000;\n          width: ").concat(n,";\n          max-width: ").concat(n,";\n          margin: 0 auto;\n          padding: 2mm;\n          background: white;\n        }\n        \n        .receipt-header {\n          text-align: center;\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dashed #000;\n        }\n        \n        .company-name {\n          font-weight: bold;\n          font-size: 14px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .document-title {\n          font-weight: bold;\n          font-size: 13px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .receipt-date {\n          font-size: 11px;\n          color: #555;\n        }\n        \n        .receipt-section {\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dotted #ccc;\n        }\n        \n        .section-title {\n          font-weight: bold;\n          font-size: 11px;\n          margin-bottom: 3px;\n          text-transform: uppercase;\n          background: #f0f0f0;\n          padding: 1px 3px;\n        }\n        \n        .receipt-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-size: 11px;\n        }\n        \n        .item-name {\n          font-weight: bold;\n          margin-bottom: 1px;\n          word-wrap: break-word;\n          max-width: 22ch;\n        }\n        \n        .item-details {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: #555;\n        }\n        \n        .receipt-totals {\n          margin: 6px 0;\n          padding-top: 4px;\n          border-top: 2px solid #000;\n        }\n        \n        .total-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-weight: bold;\n          font-size: 11px;\n        }\n        \n        .receipt-footer {\n          text-align: center;\n          margin-top: 8px;\n          padding-top: 4px;\n          border-top: 1px dashed #000;\n          font-size: 10px;\n          color: #666;\n        }\n        \n        @media print {\n          body {\n            margin: 0;\n            padding: 1mm;\n            width: ").concat(n,";\n          }\n          \n          @page {\n            size: ").concat(n,' auto;\n            margin: 0;\n          }\n        }\n        \n        @media screen {\n          body {\n            border: 1px solid #ccc;\n            box-shadow: 0 0 10px rgba(0,0,0,0.1);\n          }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="receipt-header">\n        <div class="company-name">______ANTATSIMO______</div>\n        <div class="document-title">').concat(t.toUpperCase(),'</div>\n        <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n      </div>\n      \n      <div class="receipt-section">\n        <div class="section-title">SALE INFO</div>\n        <div class="receipt-row">\n          <span>Sale No:</span>\n          <span>').concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Status:</span>\n          <span>').concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Customer:</span>\n          <span>').concat((e.customer_name||"Walk-in Customer").substring(0,22),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>Phone:</span>\n            <span>'.concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Peyment Status:</span>\n          <span>').concat(e.payment_status,'</span>\n        </div>\n      </div>\n      \n      <div class="receipt-section">\n        <div class="section-title">ITEMS</div>\n        ').concat(e.items&&Array.isArray(e.items)?e.items.map(e=>'\n          <div class="item-name">'.concat((e.product_name||"N/A").substring(0,22),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_display||e.quantity||0," x ").concat(parseFloat(e.unit_price||0).toFixed(2),"</span>\n            <span>").concat(parseFloat(e.total_price||0).toFixed(2)," MGA</span>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n      </div>\n      \n      <div class="receipt-totals">\n        <div class="total-row">\n          <span>Total:</span>\n          <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="total-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="total-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n      </div>\n      \n      <div class="receipt-footer">\n        <div>Thank you for your business!</div>\n        <div>Created by: ').concat(e.created_by_name||e.sold_by_name||"N/A","</div>\n      </div>\n    </body>\n    </html>\n  ")})(e,t);if(!n)return console.error("Failed to create PDF content"),!1;const a=new Blob([n],{type:"text/html"}),r=URL.createObjectURL(a),i=document.createElement("a");return i.href=r,i.download="receipt_".concat(e.sale_number||Date.now(),".html"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),!0}catch(n){return console.error("Failed to download receipt file:",n),!1}},qa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";return new Promise(n=>{try{const a=za()?"width=400,height=600,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=no":"width=900,height=700,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=no",r=window.open("","_blank",a);if(!r)throw new Error("Popup blocked or window.open failed");r.document.title=t,r.document.write(e),r.document.close(),r.focus();const i=()=>{try{r.focus(),setTimeout(()=>{try{r.print(),setTimeout(()=>{r.closed||window.confirm("Close the print preview window?")&&r.close()},5e3),n(!0)}catch(e){console.error("Print failed:",e),n(!1)}},500)}catch(e){console.error("Error in showAndPrint:",e),n(!1)}};"complete"===r.document.readyState?i():r.onload=i,setTimeout(()=>{r.closed||console.log("Print window timeout - window remains open for user interaction")},3e4)}catch(a){console.error("Failed to open print window:",a),n(!1)}})},Va=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";try{const n=za()?"width=500,height=700,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=yes":"width=1000,height=800,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=yes",a=window.open("","_blank",n);if(!a)throw new Error("Popup blocked or window.open failed");a.document.title="".concat(t," - Print Preview");const r="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>".concat(t,' - Print Preview</title>\n        <meta charset="UTF-8">\n        <style>\n          body {\n            margin: 0;\n            padding: 20px;\n            font-family: Arial, sans-serif;\n            background: #f5f5f5;\n          }\n          .print-controls {\n            position: fixed;\n            top: 10px;\n            right: 10px;\n            background: white;\n            padding: 10px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            z-index: 1000;\n          }\n          .print-controls button {\n            margin: 5px;\n            padding: 8px 16px;\n            border: none;\n            border-radius: 3px;\n            cursor: pointer;\n            font-size: 14px;\n          }\n          .print-btn {\n            background: #007bff;\n            color: white;\n          }\n          .close-btn {\n            background: #6c757d;\n            color: white;\n          }\n          .print-content {\n            background: white;\n            padding: 20px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            max-width: 800px;\n            margin: 0 auto;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="print-controls">\n          <button class="print-btn" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n          <button class="close-btn" onclick="window.close()">\u274c Close</button>\n        </div>\n        <div class="print-content">\n          ').concat(e.replace("<!DOCTYPE html>","").replace("<html>","").replace("<head>","").replace("</head>","").replace("<body>","").replace("</body>","").replace("</html>",""),"\n        </div>\n      </body>\n      </html>\n    ");return a.document.write(r),a.document.close(),a.focus(),!0}catch(n){return console.error("Failed to open print preview:",n),!1}},Ba=(e,t,n,a)=>{(new Date).toLocaleDateString(),(new Date).toLocaleTimeString();let r="\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,"</title>\n      <meta charset=\"UTF-8\">\n      <style>\n        /* 80mm Thermal Printer Receipt Styles */\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: 'Courier New', Courier, monospace;\n          font-size: 12px;\n          line-height: 1.2;\n          color: #000;\n          width: 80mm;\n          max-width: 80mm;\n          margin: 0 auto;\n          padding: 3mm;\n          background: white;\n        }\n        \n        .receipt-header {\n          text-align: center;\n          margin-bottom: 8px;\n          padding-bottom: 6px;\n          border-bottom: 1px dashed #000;\n        }\n        \n        .company-name {\n          font-weight: bold;\n          font-size: 14px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .document-title {\n          font-weight: bold;\n          font-size: 13px;\n          margin-bottom: 3px;\n          text-transform: uppercase;\n        }\n        \n        .receipt-date {\n          font-size: 11px;\n          color: #555;\n        }\n        \n        .receipt-section {\n          margin-bottom: 8px;\n          padding-bottom: 6px;\n          border-bottom: 1px dotted #ccc;\n        }\n        \n        .section-title {\n          font-weight: bold;\n          font-size: 11px;\n          margin-bottom: 4px;\n          text-transform: uppercase;\n          background: #f0f0f0;\n          padding: 2px 4px;\n        }\n        \n        .receipt-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 3px;\n          font-size: 11px;\n        }\n        \n        .product-item,\n        .order-item,\n        .delivery-item,\n        .sale-item,\n        .packaging-item,\n        .sale-summary {\n          margin-bottom: 4px;\n          padding: 2px 0;\n        }\n        \n        .product-name,\n        .item-name {\n          font-weight: bold;\n          margin-bottom: 1px;\n          word-wrap: break-word;\n        }\n        \n        .product-details,\n        .item-details,\n        .sale-info {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: #555;\n        }\n        \n        .receipt-totals,\n        .receipt-total {\n          margin: 8px 0;\n          padding-top: 6px;\n          border-top: 2px solid #000;\n        }\n        \n        .total-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 3px;\n          font-weight: bold;\n        }\n        \n        .due-amount {\n          color: #d00;\n        }\n        \n        .no-data {\n          text-align: center;\n          color: #888;\n          font-style: italic;\n          padding: 8px 0;\n        }\n        \n        .truncated-warning {\n          text-align: center;\n          color: #888;\n          font-size: 10px;\n          font-style: italic;\n          margin-top: 4px;\n        }\n        \n        .thank-you {\n          text-align: center;\n          font-weight: bold;\n          margin: 6px 0;\n        }\n        \n        .receipt-footer {\n          text-align: center;\n          margin-top: 10px;\n          padding-top: 6px;\n          border-top: 1px dashed #000;\n          font-size: 10px;\n          color: #666;\n        }\n        \n        .footer-text {\n          margin-bottom: 2px;\n        }\n        \n        .status-consignation { color: #090; }\n        .status-exchange { color: #009; }\n        .status-due { color: #d00; font-weight: bold; }\n        \n        /* Print-specific styles */\n        @media print {\n          body {\n            margin: 0;\n            padding: 2mm;\n            width: 80mm;\n          }\n          \n          .no-print {\n            display: none;\n          }\n          \n          /* Ensure proper sizing for thermal paper */\n          @page {\n            size: 80mm auto;\n            margin: 0;\n          }\n        }\n        \n        /* Force monospace and proper breaking */\n        * {\n          font-family: 'Courier New', Courier, monospace !important;\n        }\n        \n        .default-content {\n          text-align: center;\n          padding: 10px 0;\n          color: #666;\n        }\n      </style>\n    </head>\n    <body>\n  ");switch(n){case"inventory":case"inventory_report":r+=((e,t)=>{let n=[],a={},r=e.filter_type||"",i=e.report_name||"INVENTORY REPORT";if(Array.isArray(e))n=e;else if(e.products&&Array.isArray(e.products))n=e.products,a=e.summary||{};else if(e.results&&Array.isArray(e.results))n=e.results;else if(e.data&&Array.isArray(e.data))n=e.data;else if(e.items&&Array.isArray(e.items))n=e.items;else{const t=Object.keys(e).filter(e=>/^\d+$/.test(e));t.length>0&&(n=t.map(t=>e[t]).filter(e=>e&&"object"===typeof e))}"low_stock"===r?(n=n.filter(e=>e.is_low_stock),i="LOW STOCK REPORT"):"out_of_stock"===r&&(n=n.filter(e=>e.is_out_of_stock),i="OUT OF STOCK REPORT");const s=a.total_value||n.reduce((e,t)=>e+parseFloat(t.stock_value||0),0),o=a.low_stock_count||n.filter(e=>e.is_low_stock).length,l=a.out_of_stock_count||n.filter(e=>e.is_out_of_stock).length;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">').concat(i,'</div>\n      <div class="receipt-date">').concat(e.generated_at?new Date(e.generated_at).toLocaleDateString():(new Date).toLocaleDateString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Products:</span>\n        <span>').concat(n.length,"</span>\n      </div>\n      ").concat(void 0!==a.total_value?'\n        <div class="receipt-row">\n          <span>Total Value:</span>\n          <span>'.concat(parseFloat(s).toFixed(2)," MGA</span>\n        </div>\n      "):"","\n      ").concat(r?"":'\n        <div class="receipt-row">\n          <span>Low Stock:</span>\n          <span style="color: #f59e0b">'.concat(o,'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Out of Stock:</span>\n          <span style="color: #dc2626">').concat(l,"</span>\n        </div>\n      "),'\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">PRODUCTS (').concat(n.length,")</div>\n      ").concat(n.length>0?n.slice(0,30).map((e,t)=>{const n=parseFloat(e.stock_quantity||0),a=parseFloat(e.min_stock_level||0),r=e.base_unit_symbol||e.base_unit_name||"pcs",i=e.is_out_of_stock?"#dc2626":e.is_low_stock?"#f59e0b":"#10b981",s=e.is_out_of_stock?"OUT":e.is_low_stock?"LOW":"OK";return'\n          <div class="product-item" style="margin-bottom: 4px; padding: 2px 0; border-bottom: 1px dotted #ccc;">\n            <div class="product-name" style="font-weight: bold; margin-bottom: 2px;">\n              '.concat(t+1,". ").concat((e.name||"N/A").substring(0,22),'\n            </div>\n            <div class="product-details" style="font-size: 9px; display: flex; justify-content: space-between; flex-wrap: wrap; margin-bottom: 1px;">\n              <span>SKU: ').concat((e.sku||"N/A").substring(0,10),"</span>\n              <span>Cat: ").concat((e.category||"N/A").substring(0,8),"</span>\n              ").concat(e.storage_section?"<span>Loc: ".concat(e.storage_section,"</span>"):"",'\n            </div>\n            <div class="product-details" style="font-size: 9px; display: flex; justify-content: space-between; margin-top: 1px;">\n              <span>Stock: ').concat(n.toFixed(2)," ").concat(r,"</span>\n              <span>Min: ").concat(a.toFixed(2),'</span>\n              <span style="color: ').concat(i,'; font-weight: bold">').concat(s,'</span>\n            </div>\n            <div class="product-details" style="font-size: 9px; display: flex; justify-content: space-between; margin-top: 1px;">\n              <span>Cost: ').concat(parseFloat(e.cost_price||0).toFixed(2)," MGA</span>\n              <span>Value: ").concat(parseFloat(e.stock_value||0).toFixed(2)," MGA</span>\n            </div>\n          </div>\n        ")}).join(""):'<div class="no-data">No products found</div>',"\n      ").concat(n.length>30?'\n        <div class="truncated-warning">... and '.concat(n.length-30," more products</div>\n      "):"",'\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Report generated by: ').concat(e.user_name||"System",'</div>\n      <div class="footer-text">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),"</div>\n    </div>\n  ")})(e,a);break;case"purchase_order":r+=((e,t)=>{var n;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">PURCHASE ORDER</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ORDER INFO</div>\n      <div class="receipt-row">\n        <span>Order No:</span>\n        <span>').concat(e.order_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Supplier:</span>\n        <span>').concat(((null===(n=e.supplier)||void 0===n?void 0:n.name)||"N/A").substring(0,25),'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Date:</span>\n        <span>').concat(e.order_date?new Date(e.order_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ITEMS</div>\n      ').concat(e.items?e.items.map(e=>{var t;return'\n        <div class="order-item">\n          <div class="item-name">'.concat(((null===(t=e.product)||void 0===t?void 0:t.name)||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_ordered||0," x ").concat(parseFloat(e.unit_cost||0).toFixed(2),"</span>\n            <span>").concat(parseFloat((e.quantity_ordered||0)*(e.unit_cost||0)).toFixed(2)," MGA</span>\n          </div>\n        </div>\n      ")}).join(""):'<div class="no-data">No items found</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>TOTAL AMOUNT:</span>\n        <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">End of Purchase Order</div>\n    </div>\n  ')})(e,a);break;case"delivery":r+=((e,t)=>{var n;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">DELIVERY RECEIPT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">DELIVERY INFO</div>\n      <div class="receipt-row">\n        <span>Delivery No:</span>\n        <span>').concat(e.delivery_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>PO Number:</span>\n        <span>').concat((null===(n=e.purchase_order)||void 0===n?void 0:n.order_number)||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Date:</span>\n        <span>').concat(e.delivery_date?new Date(e.delivery_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ITEMS RECEIVED</div>\n      ').concat(e.items?e.items.map(e=>{var t;return'\n        <div class="delivery-item">\n          <div class="item-name">'.concat((e.product_name||(null===(t=e.product)||void 0===t?void 0:t.name)||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_received||e.delivered_quantity||0," x ").concat(parseFloat(e.unit_cost||0).toFixed(2),"</span>\n            <span>").concat(parseFloat((e.quantity_received||e.delivered_quantity||0)*(e.unit_cost||0)).toFixed(2)," MGA</span>\n          </div>\n        </div>\n      ")}).join(""):'<div class="no-data">No items found</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>TOTAL AMOUNT:</span>\n        <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Delivery completed</div>\n    </div>\n  ')})(e,a);break;case"sale":r+=((e,t)=>{let n=e.items;if(!n){const t=Object.keys(e).filter(e=>/^\d+$/.test(e));t.length>0&&(n=t.map(t=>e[t]).filter(e=>e&&"object"===typeof e))}const a="paid"===e.payment_status?"PAID":"partial"===e.payment_status?"PARTIAL":"pending"===e.payment_status?"PENDING":"UNKNOWN";return console.log(e),'\n    <div class="receipt-header">\n        <div class="company-name" style="text-align: center;">________ANTATSIMO_______</div>\n      </div>\n      <div class="receipt-section">\n        <div class="no-data">'.concat("\xa0",'</div>\n        <div class="section-title">',t("print.sale_information"),'</div>\n        <div class="receipt-row">\n          <span>').concat(t("print.sale_no"),":</span>\n          <span>").concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>').concat(t("print.sale_status"),":</span>\n          <span>").concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>').concat(t("sales.customer_name"),":</span>\n          <span>").concat((e.customer_name||t("customer.walk_in")).substring(0,25),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>'.concat(t("sales.customer_phone"),":</span>\n            <span>").concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>').concat(t("print.peyment_status"),":</span>\n          <span>").concat(a,'</span>\n        </div>\n\n        <div class="no-data">',"\xa0",'</div>\n      </div>\n      <div class="receipt-section">\n        <div class="section-title">').concat(t("print.item_sold"),'</div>    \n        <div class="no-data">__________________________________________________</div>\n        <div class="item-details">\n          <span>Info</span>\n          <span>\n            Qte').concat("\xa0".repeat(10),"Total").concat("\xa0".repeat(2),"\n          </span>\n        </div>\n      \n        ").concat(n&&Array.isArray(n)?n.map(e=>'\n          <div class="no-data">\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf</div>         \n          <div class="sale-item">\n            <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),' </div>\n            <div class="item-details">\n              <span>\n                ').concat("(".concat(e.unit_name,")").concat(parseFloat(e.unit_price||0).toFixed(2)).padEnd(26,"\xa0"),"\n                ").concat((e.quantity_display||e.quantity||0).toString().padStart(3,"\xa0"),"\n                ").concat(parseFloat(e.total_price||0).toFixed(2).padStart(12,"\xa0")," MGA\n              </span>\n            </div>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n\n        <div class="no-data">__________________________________________________</div>\n      </div>\n      ').concat(e.packaging_items&&e.packaging_items.length>0?'\n        <div class="receipt-section">\n          <div class="section-title">'.concat(t("print.packagings"),'</div>    \n          <div class="no-data">__________________________________________________</div>\n          <div class="item-details">\n            <span>Info</span>\n            <span>\n              Qte').concat("\xa0".repeat(10),"Total").concat("\xa0".repeat(2),"\n            </span>\n          </div>\n        \n          ").concat(e.packaging_items.map(e=>{let t,n;return"consignation"===e.status?(t="".concat(parseFloat(e.unit_price||0).toFixed(2)),n="".concat(parseFloat(e.total_price||0).toFixed(2)," MGA")):"exchange"===e.status?(t="0.00",n="0.00 MGA"):"due"===e.status?(t="DUE",n="DUE"):(t="".concat(parseFloat(e.unit_price||0).toFixed(2)),n="".concat(parseFloat(e.total_price||0).toFixed(2)," MGA")),'\n            <div class="no-data">\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf</div>         \n            <div class="packaging-item">\n              <div class="item-name">'.concat((e.packaging_name||"N/A").substring(0,25),' </div>\n              <div class="item-details">\n                <span>\n                  ').concat(t.padEnd(26,"\xa0"),"\n                  ").concat((e.quantity||0).toString().padStart(3,"\xa0"),"\n                  ").concat(n.padStart(12,"\xa0"),"\n                </span>\n              </div>\n            </div>\n          ")}).join(""),'\n\n          <div class="no-data">__________________________________________________</div>\n        </div>\n      '):"",'\n      <div class="receipt-totals">\n        <div class="receipt-row">\n          <span>Subtotal:</span>\n          <span>').concat(parseFloat(e.subtotal||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat(e.packaging_total&&e.packaging_total>0?'\n          <div class="receipt-row">\n            <span>Packagings:</span>\n            <span>'.concat(parseFloat(e.packaging_total||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Total:</span>\n          <span>').concat(parseFloat(e.grand_total||e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="receipt-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="receipt-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">',"\xa0",'</div>\n      </div>\n      <div class="receipt-footer">\n        <div class="thank-you">').concat(t("print.thankings"),'</div>\n        <div class="footer-text" style="text-align: center;">').concat(t("common.created_by"),": ").concat(e.created_by_name||e.sold_by_name||e.user_name||"N/A"," -- ").concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n        <div class="terms">').concat(t("messages.terms_of_sales"),"</div>\n      </div>\n  ")})(e,a);break;case"sales_history":r+=((e,t)=>{let n=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))n=e.results;else if(e.data&&Array.isArray(e.data))n=e.data;else if(e.items&&Array.isArray(e.items))n=e.items;else{const t=Object.keys(e).filter(e=>/^\d+$/.test(e));n=t.length>0?t.map(t=>e[t]).filter(e=>e&&"object"===typeof e):[]}const a=Array.isArray(n)?n.reduce((e,t)=>e+parseFloat(t.total_amount||0),0):0;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">SALES REPORT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Sales:</span>\n        <span>').concat(Array.isArray(n)?n.length:0,'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Total Revenue:</span>\n        <span>').concat(a.toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">RECENT SALES</div>\n      ').concat(Array.isArray(n)?n.map(e=>'\n        <div class="sale-summary">\n          <div class="sale-info">\n            <span>'.concat(e.sale_number||"N/A","</span>\n            <span>").concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n          </div>\n          <div class="sale-details">\n            <span>').concat((e.customer_name||t("customer.walk_in","Walk-in")).substring(0,15),"</span>\n            <span>").concat(e.created_at?new Date(e.created_at).toLocaleDateString():"N/A","</span>\n          </div>\n        </div>\n      ")).join(""):'<div class="no-data">No sales data</div>',"\n      ").concat(Array.isArray(n)&&n.length>20?'\n        <div class="truncated-warning">... and '.concat(n.length-20," more sales</div>\n      "):"",'\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Sales report generated</div>\n    </div>\n  ')})(e,a);break;case"sales_report":r+=((e,t)=>{const n=e.summary||{},a=e.chart_data||[],r=e.details||[],i=e.top_products||[],s=e.date_range||{},o=parseFloat(n.total_sales||0),l=parseFloat(n.total_cost||0),c=parseFloat(n.profit||0),u=parseFloat(n.profit_margin||0),d=n.total_count||0,p=n.total_items||0,m=d>0?o/d:0;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">SALES REPORT</div>\n      <div class="receipt-date">').concat(e.generated_at?new Date(e.generated_at).toLocaleDateString():(new Date).toLocaleDateString(),"</div>\n      ").concat(s.start_date&&s.end_date?'\n        <div class="receipt-date" style="font-size: 10px; margin-top: 2px;">\n          '.concat(new Date(s.start_date).toLocaleDateString()," - ").concat(new Date(s.end_date).toLocaleDateString(),"\n        </div>\n      "):"",'\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">FINANCIAL SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Revenue:</span>\n        <span>').concat(o.toFixed(2),' MGA</span>\n      </div>\n      <div class="receipt-row">\n        <span>Total Cost:</span>\n        <span>').concat(l.toFixed(2),' MGA</span>\n      </div>\n      <div class="receipt-row" style="font-weight: bold; border-top: 1px solid #000; padding-top: 3px; margin-top: 3px;">\n        <span>Profit:</span>\n        <span style="color: ').concat(c>=0?"#090":"#d00",'">').concat(c.toFixed(2),' MGA</span>\n      </div>\n      <div class="receipt-row">\n        <span>Profit Margin:</span>\n        <span style="color: ').concat(u>=0?"#090":"#d00",'">').concat(u.toFixed(2),'%</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">SALES SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Transactions:</span>\n        <span>').concat(d,'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Total Items Sold:</span>\n        <span>').concat(p,'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Average Sale:</span>\n        <span>').concat(m.toFixed(2)," MGA</span>\n      </div>\n    </div>\n    \n    ").concat(a.length>0?'\n      <div class="receipt-section">\n        <div class="section-title">DAILY BREAKDOWN</div>\n        '.concat(a.slice(0,10).map(e=>{const t=(e.total||0)-(e.cost||0);return'\n            <div class="sale-summary" style="margin-bottom: 4px; padding: 2px 0; border-bottom: 1px dotted #ccc;">\n              <div class="sale-info" style="font-weight: bold; margin-bottom: 2px;">\n                <span>'.concat(e.date,'</span>\n              </div>\n              <div class="sale-details" style="font-size: 9px; display: flex; justify-content: space-between;">\n                <span>Rev: ').concat(parseFloat(e.total||0).toFixed(2)," MGA</span>\n                <span>Cost: ").concat(parseFloat(e.cost||0).toFixed(2),' MGA</span>\n                <span style="color: ').concat(t>=0?"#090":"#d00",'">Profit: ').concat(t.toFixed(2)," MGA</span>\n              </div>\n            </div>\n          ")}).join(""),"\n        ").concat(a.length>10?'\n          <div class="truncated-warning">... and '.concat(a.length-10," more days</div>\n        "):"","\n      </div>\n    "):"","\n    \n    ").concat(i.length>0?'\n      <div class="receipt-section">\n        <div class="section-title">TOP PRODUCTS ('.concat(i.length,")</div>\n        ").concat(i.map((e,t)=>{const n=parseFloat(e.profit||0);return'\n            <div class="sale-summary" style="margin-bottom: 4px; padding: 2px 0; border-bottom: 1px dotted #ccc;">\n              <div class="sale-info" style="font-weight: bold; margin-bottom: 2px;">\n                <span>'.concat(t+1,". ").concat((e.product__name||"N/A").substring(0,20),'</span>\n              </div>\n              <div class="sale-details" style="font-size: 9px; display: flex; justify-content: space-between; flex-wrap: wrap;">\n                <span>SKU: ').concat(e.product__sku||"N/A","</span>\n                <span>Qty: ").concat(e.total_sold||0," ").concat(e.unit_symbol||"pcs",'</span>\n              </div>\n              <div class="sale-details" style="font-size: 9px; display: flex; justify-content: space-between; margin-top: 1px;">\n                <span>Rev: ').concat(parseFloat(e.total_revenue||0).toFixed(2)," MGA</span>\n                <span>Cost: ").concat(parseFloat(e.total_cost||0).toFixed(2),' MGA</span>\n                <span style="color: ').concat(n>=0?"#090":"#d00",'">Profit: ').concat(n.toFixed(2),' MGA</span>\n                <span style="color: ').concat(n>=0?"#090":"#d00",'">').concat(parseFloat(e.profit_margin||0).toFixed(1),"%</span>\n              </div>\n            </div>\n          ")}).join(""),"\n      </div>\n    "):"","\n    \n    ").concat(r.length>0?'\n      <div class="receipt-section">\n        <div class="section-title">RECENT SALES ('.concat(Math.min(r.length,5)," of ").concat(r.length,")</div>\n        ").concat(r.slice(0,5).map(e=>'\n          <div class="sale-summary" style="margin-bottom: 3px; padding: 2px 0;">\n            <div class="sale-info">\n              <span>'.concat(e.sale_number||"N/A","</span>\n              <span>").concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n            </div>\n            <div class="sale-details" style="font-size: 9px;">\n              <span>').concat((e.customer_name||t("customer.walk_in","Walk-in")).substring(0,20),"</span>\n              <span>").concat(e.created_at?new Date(e.created_at).toLocaleDateString():"N/A","</span>\n            </div>\n          </div>\n        ")).join(""),"\n        ").concat(r.length>5?'\n          <div class="truncated-warning">... and '.concat(r.length-5," more sales</div>\n        "):"","\n      </div>\n    "):"",'\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Report generated by: ').concat(e.user_name||"System",'</div>\n      <div class="footer-text">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),"</div>\n    </div>\n  ")})(e,a);break;case"packaging_validation":r+=((e,t)=>'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">PACKAGING VALIDATION</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">VALIDATION INFO</div>\n      <div class="receipt-row">\n        <span>Sale No:</span>\n        <span>').concat(e.sale_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Customer:</span>\n        <span>').concat((e.customer_name||t("customer.walk_in","Walk-in Customer")).substring(0,25),"</span>\n      </div>\n      ").concat(e.customer_phone?'\n        <div class="receipt-row">\n          <span>Phone:</span>\n          <span>'.concat(e.customer_phone,"</span>\n        </div>\n      "):"",'\n      <div class="receipt-row">\n        <span>Total Items:</span>\n        <span>').concat(e.packaging_items?e.packaging_items.length:0,'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">PACKAGING ITEMS</div>\n      ').concat(e.packaging_items&&Array.isArray(e.packaging_items)?e.packaging_items.map(e=>'\n        <div class="packaging-item">\n          <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity||0," x ").concat(parseFloat(e.unit_price||0).toFixed(2),"</span>\n            <span>").concat(parseFloat(e.total_price||0).toFixed(2),' MGA</span>\n            <span class="status-').concat(e.status,'">').concat("consignation"===e.status?"PAID":"exchange"===e.status?"EXCH":"due"===e.status?"DUE":e.status,"</span>\n          </div>\n        </div>\n      ")).join(""):'<div class="no-data">No packaging items</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>PACKAGING TOTAL:</span>\n        <span>').concat(parseFloat(e.packaging_total||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Packaging validation completed</div>\n    </div>\n  '))(e,a);break;default:r+=((e,t)=>'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">DOCUMENT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">CONTENT</div>\n      <div class="default-content">\n        Document generated successfully\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Document printed</div>\n    </div>\n  '))(0,a)}return r+="\n    </body>\n    </html>\n  ",r},Qa=e=>{let{data:t,title:n,type:r="default",onValidate:i=null,validateText:s="Validate & Print",printText:o="Print",className:l="",disabled:c=!1,showValidateOption:u=!1}=e;const{t:d}=Ea(),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),v=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return console.error("No data provided to PrintButton"),void window.alert(d("print.no_data","No data available to print."));if(e&&i)try{await i()}catch(o){return void console.error("Validation failed:",o)}m(!0);try{let e;const i=za();if(a){console.log("Attempting to download receipt file...",{data:t,title:n});const e=Ua(t,n);if(console.log("Download result:",e),e)return void window.alert(d("print.pdf_downloaded","Receipt PDF downloaded! You can now open it with any PDF viewer or receipt printer app to print directly to your Xprinter."));throw new Error("Failed to download receipt file.")}if(e=Ba(t,n,r,d),s){if(Va(e,n))return;throw new Error("Failed to open print preview window.")}if(i){const a=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";try{if(navigator.share&&za())try{const n=new Blob([e],{type:"text/html"}),a=new File([n],"".concat(t,".html"),{type:"text/html"});return await navigator.share({title:t,text:"Print this receipt",files:[a]}),!0}catch(n){console.log("Web Share API with file failed, trying other methods:",n)}if(window.print&&!za()){const t=document.createElement("div");t.innerHTML=e,t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t);const n=document.body.innerHTML;return document.body.innerHTML=e,window.print(),document.body.innerHTML=n,document.body.removeChild(t),!0}return await qa(e,t)}catch(o){return console.error("All print methods failed:",o),!1}}(e,n);if(!a){if(window.confirm(d("print.mobile_failed_offer_app","Mobile printing failed. Would you like to download a file for receipt printer apps instead?"))){if(Ua(t,n))return void window.alert(d("print.pdf_downloaded","Receipt PDF downloaded! You can now open it with any PDF viewer or receipt printer app to print directly to your Xprinter."))}throw new Error("Mobile printing failed. Please try again or check your printer connection.")}}else{if(Va(e,n))return;if(!await qa(e,n))throw new Error("Failed to open print window. Please check popup blockers and try again.")}}catch(o){console.error("Print error:",o);let e=d("print.failed","Failed to print. Please try again.");o.message.includes("popup")?e=d("print.popup_blocked","Popup blocked. Please allow popups for this site and try again."):o.message.includes("Mobile printing failed")?e=d("print.mobile_failed","Mobile printing failed. Please check your printer connection and try again."):o.message.includes("window.open")?e=d("print.window_failed","Could not open print window. Please check your browser settings."):o.message.includes("Failed to download")&&(e=d("print.download_failed","Failed to download receipt file. Please try again.")),window.alert(e)}finally{m(!1),f(!1)}};if(u&&i)return(0,ua.jsxs)("div",{className:"print-button-container ".concat(l),children:[(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>f(!h),disabled:c,children:h?d("button.hide_options","Hide Options"):d("button.show_options","Show Options")}),h&&(0,ua.jsxs)("div",{className:"print-options",children:[(0,ua.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>v(!0),disabled:c||p,children:p?d("button.processing","Processing..."):s}),(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1),disabled:c||p,children:p?d("button.preparing","Preparing..."):o}),(0,ua.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?d("button.preparing","Preparing..."):d("button.print_thermal","Print (Thermal)")})]})]});return za()?(0,ua.jsx)("div",{className:"print-button-container ".concat(l),children:(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,ua.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?d("button.printing","Printing..."):d("button.print_receipt","Print Receipt")}),(0,ua.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!1,!0),disabled:c||p,children:p?d("button.downloading","Downloading..."):d("button.download_pdf","Download PDF")}),(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!1,!1,!0),disabled:c||p,children:p?d("button.loading","Loading..."):d("button.preview","Print Preview")}),u&&i&&(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!0,!0),disabled:c||p,children:p?d("button.processing","Processing..."):s})]})}):(0,ua.jsx)("div",{className:"print-button-container ".concat(l),children:(0,ua.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?d("button.printing","Printing..."):o}),(0,ua.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!1,!0),disabled:c||p,children:p?d("button.downloading","Downloading..."):d("button.download_pdf","Download PDF")}),(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!1,!1,!0),disabled:c||p,children:p?d("button.loading","Loading..."):d("button.preview","Print Preview")})]})})},Ha=e=>new Intl.NumberFormat("mg-MG",{style:"currency",currency:"MGA"}).format(e),Wa=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}},Ka=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch(t){return console.error("Error formatting datetime:",t),"Invalid Date"}},$a=e=>({pending:"status-pending",completed:"status-completed",cancelled:"status-cancelled",refunded:"status-refunded"}[e]||"status-unknown"),Ga=e=>{var t;let{sale:n,onClose:r,loading:i=!1}=e;const{t:s}=Ea(),[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(1),[d,p]=(0,a.useState)(1),[m,h]=(0,a.useState)({saleId:"",clientName:"",startDate:"",endDate:""}),[f,v]=(0,a.useState)(!1),g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(!0);try{const n=new URLSearchParams(Ut({page:e.toString(),limit:20..toString()},t)),a=await fetch("/api/sales?".concat(n)),r=await a.json();l(r.sales),u(r.currentPage),p(r.totalPages)}catch(n){console.error("Error fetching sales:",n)}finally{v(!1)}};(0,a.useEffect)(()=>{n||g(1,m)},[n]);const y=(e,t)=>{h(n=>Ut(Ut({},n),{},{[e]:t}))};return n||i||f||0!==o.length||f?n&&!n.sale_number?(0,ua.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,ua.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsx)("h2",{children:s("modals.sale_details")}),(0,ua.jsx)("button",{className:"modal-close",onClick:r,children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ua.jsx)("div",{className:"modal-body",children:(0,ua.jsx)("div",{className:"error-state",children:(0,ua.jsx)("p",{children:"Unable to load sale details. The sale data appears to be incomplete."})})}),(0,ua.jsx)("div",{className:"modal-footer",children:(0,ua.jsx)("button",{className:"btn-secondary",onClick:r,children:s("modals.close")})})]})}):(0,ua.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,ua.jsxs)("div",{className:"modal-content sales-list-modal",onClick:e=>e.stopPropagation(),children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsx)("h2",{children:s("modals.sale_details")}),(0,ua.jsxs)("div",{className:"header-actions",children:[n&&(0,ua.jsx)(Qa,{data:n,title:s("titles.sale_receipt"),type:"sale",printText:s("buttons.print_receipt"),className:"print-sale-receipt-btn"}),(0,ua.jsx)("button",{className:"modal-close",onClick:r,children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[!n&&(0,ua.jsxs)("div",{className:"filters-section",children:[(0,ua.jsx)("h3",{children:s("modals.filter_sales")}),(0,ua.jsxs)("div",{className:"filters-grid",children:[(0,ua.jsxs)("div",{className:"filter-item",children:[(0,ua.jsxs)("label",{htmlFor:"saleId",children:[s("table_headers.sale_number"),":"]}),(0,ua.jsx)("input",{id:"saleId",type:"text",placeholder:s("placeholders.enter_sale_id"),value:m.saleId,onChange:e=>y("saleId",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-item",children:[(0,ua.jsxs)("label",{htmlFor:"clientName",children:[s("common.name"),":"]}),(0,ua.jsx)("input",{id:"clientName",type:"text",placeholder:s("placeholders.enter_client_name"),value:m.clientName,onChange:e=>y("clientName",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-item",children:[(0,ua.jsxs)("label",{htmlFor:"startDate",children:[s("labels.start_date"),":"]}),(0,ua.jsx)("input",{id:"startDate",type:"date",value:m.startDate,onChange:e=>y("startDate",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-item",children:[(0,ua.jsxs)("label",{htmlFor:"endDate",children:[s("labels.end_date"),":"]}),(0,ua.jsx)("input",{id:"endDate",type:"date",value:m.endDate,onChange:e=>y("endDate",e.target.value)})]})]}),(0,ua.jsxs)("div",{className:"filter-actions",children:[(0,ua.jsx)("button",{className:"btn-primary",onClick:()=>{u(1);const e=Object.fromEntries(Object.entries(m).filter(e=>{let[t,n]=e;return""!==n}));g(1,e)},children:s("buttons.apply_filters")}),(0,ua.jsx)("button",{className:"btn-secondary",onClick:()=>{h({saleId:"",clientName:"",startDate:"",endDate:""}),u(1),g(1,{})},children:s("buttons.clear_filters")})]})]}),i||f?(0,ua.jsxs)("div",{className:"loading-state",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("p",{children:s("modals.loading_sale_details")})]}):n?(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"sale-info-section",children:[(0,ua.jsx)("h3",{children:s("modals.sale_information")}),(0,ua.jsxs)("div",{className:"info-grid",children:[(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("table_headers.sale_number"),":"]}),(0,ua.jsx)("span",{className:"sale-number",children:n.sale_number})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("common.status"),":"]}),(0,ua.jsx)("span",{className:"status status-".concat(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("common.date"),":"]}),(0,ua.jsx)("span",{children:Wa(n.created_at)})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("table_headers.sold_by"),":"]}),(0,ua.jsx)("span",{children:n.sold_by_name||s("app.unknown_user")})]})]})]}),(0,ua.jsxs)("div",{className:"customer-info-section",children:[(0,ua.jsx)("h3",{children:s("modals.customer_information")}),(0,ua.jsxs)("div",{className:"info-grid",children:[(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("common.name"),":"]}),(0,ua.jsx)("span",{children:n.customer_name||s("dashboard.walk_in_customer")})]}),n.customer_phone&&(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("common.phone"),":"]}),(0,ua.jsx)("span",{children:n.customer_phone})]}),n.customer_email&&(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsxs)("label",{children:[s("common.email"),":"]}),(0,ua.jsx)("span",{children:n.customer_email})]})]})]}),(0,ua.jsxs)("div",{className:"items-section",children:[(0,ua.jsxs)("h3",{children:[s("table_headers.items")," (",(null===(t=n.items)||void 0===t?void 0:t.length)||0,")"]}),n.items&&n.items.length>0?(0,ua.jsxs)("div",{className:"items-table",children:[(0,ua.jsxs)("div",{className:"table-header",children:[(0,ua.jsx)("div",{className:"col-product",children:s("common.name")}),(0,ua.jsx)("div",{className:"col-sku",children:"SKU"}),(0,ua.jsx)("div",{className:"col-quantity",children:s("common.quantity")}),(0,ua.jsx)("div",{className:"col-unit",children:s("common.unit")}),(0,ua.jsx)("div",{className:"col-price",children:s("common.price")}),(0,ua.jsx)("div",{className:"col-mode",children:s("common.type")}),(0,ua.jsx)("div",{className:"col-total",children:s("common.total")})]}),n.items.map((e,t)=>(0,ua.jsxs)("div",{className:"table-row",children:[(0,ua.jsx)("div",{className:"col-product",children:(0,ua.jsx)("div",{className:"product-name",children:e.product_name})}),(0,ua.jsx)("div",{className:"col-sku",children:e.product_sku}),(0,ua.jsx)("div",{className:"col-quantity",children:e.quantity_display||e.quantity}),(0,ua.jsx)("div",{className:"col-unit",children:e.unit_name?"".concat(e.unit_name," (").concat(e.unit_symbol||"",")"):"N/A"}),(0,ua.jsx)("div",{className:"col-price",children:Ha(e.unit_price)}),(0,ua.jsx)("div",{className:"col-mode",children:(0,ua.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?s("common.wholesale"):s("common.retail")})}),(0,ua.jsx)("div",{className:"col-total",children:Ha(e.total_price)})]},t))]}):(0,ua.jsx)("p",{className:"no-items",children:"No items found"})]}),(0,ua.jsxs)("div",{className:"payment-section",children:[(0,ua.jsx)("h3",{children:s("modals.payment_summary")}),(0,ua.jsxs)("div",{className:"payment-summary",children:[(0,ua.jsxs)("div",{className:"payment-row",children:[(0,ua.jsxs)("label",{children:[s("table_headers.total_amount"),":"]}),(0,ua.jsx)("span",{children:Ha(n.subtotal)})]}),n.cost_amount&&n.cost_amount>0&&(0,ua.jsxs)("div",{className:"payment-row cost-breakdown",children:[(0,ua.jsx)("label",{children:"Cost (excl. tax):"}),(0,ua.jsx)("span",{children:Ha(n.cost_amount)})]}),n.tax_amount>0&&(0,ua.jsxs)("div",{className:"payment-row tax-breakdown",children:[(0,ua.jsxs)("label",{children:[s("modals.tax_included"),":"]}),(0,ua.jsx)("span",{children:Ha(n.tax_amount)})]}),n.discount_amount>0&&(0,ua.jsxs)("div",{className:"payment-row discount",children:[(0,ua.jsxs)("label",{children:[s("modals.discount"),":"]}),(0,ua.jsxs)("span",{children:["-",Ha(n.discount_amount)]})]}),(0,ua.jsxs)("div",{className:"payment-row total",children:[(0,ua.jsxs)("label",{children:[s("common.total"),":"]}),(0,ua.jsx)("span",{children:Ha(n.total_amount)})]}),(0,ua.jsxs)("div",{className:"payment-row",children:[(0,ua.jsxs)("label",{children:[s("table_headers.payment_method"),":"]}),(0,ua.jsx)("span",{className:"payment-method",children:n.payment_method.charAt(0).toUpperCase()+n.payment_method.slice(1)})]})]})]}),n.notes&&(0,ua.jsxs)("div",{className:"notes-section",children:[(0,ua.jsx)("h3",{children:s("common.notes")}),(0,ua.jsx)("div",{className:"notes-content",children:n.notes})]})]}):(0,ua.jsx)(ua.Fragment,{children:(0,ua.jsxs)("div",{className:"sales-list-section",children:[(0,ua.jsxs)("h3",{children:[s("modals.recent_sales")," (",o.length,")"]}),o.length>0?(0,ua.jsxs)("div",{className:"sales-table",children:[(0,ua.jsxs)("div",{className:"table-header",children:[(0,ua.jsx)("div",{className:"col-sale-number",children:s("table_headers.sale_number")}),(0,ua.jsx)("div",{className:"col-customer",children:s("common.name")}),(0,ua.jsx)("div",{className:"col-date",children:s("common.date")}),(0,ua.jsx)("div",{className:"col-amount",children:s("common.total")}),(0,ua.jsx)("div",{className:"col-status",children:s("common.status")})]}),o.map(e=>(0,ua.jsxs)("div",{className:"table-row clickable",onClick:()=>{},children:[(0,ua.jsx)("div",{className:"col-sale-number",children:e.sale_number}),(0,ua.jsx)("div",{className:"col-customer",children:e.customer_name||s("dashboard.walk_in_customer")}),(0,ua.jsx)("div",{className:"col-date",children:Wa(e.created_at)}),(0,ua.jsx)("div",{className:"col-amount",children:Ha(e.total_amount)}),(0,ua.jsx)("div",{className:"col-status",children:(0,ua.jsx)("span",{className:"status status-".concat(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id))]}):(0,ua.jsx)("p",{className:"no-sales",children:s("modals.no_sales_found")}),d>1&&(0,ua.jsxs)("div",{className:"pagination-controls",children:[(0,ua.jsx)("button",{className:"btn-pagination",onClick:()=>{if(c>1){const e=c-1;u(e),g(e,m)}},disabled:1===c,children:s("buttons.previous")}),(0,ua.jsxs)("span",{className:"pagination-info",children:[s("pagination.page")," ",c," ",s("pagination.of")," ",d]}),(0,ua.jsx)("button",{className:"btn-pagination",onClick:()=>{if(c<d){const e=c+1;u(e),g(e,m)}},disabled:c===d,children:s("buttons.next")})]})]})})]}),(0,ua.jsx)("div",{className:"modal-footer",children:(0,ua.jsx)("button",{className:"btn-secondary",onClick:r,children:s("modals.close")})})]})}):null},Ja=()=>{var e,t,n,r,i,o,l,c,u,d,p,m,h,f,v,g;const{t:y}=Ea(),{user:_}=pa(),[b,x]=(0,a.useState)(!0),[j,w]=(0,a.useState)(""),[k,S]=(0,a.useState)("daily"),[N,C]=(0,a.useState)(null),[P,E]=(0,a.useState)(!1),[T,O]=(0,a.useState)(!1),[A,R]=(0,a.useState)(10),[F,D]=(0,a.useState)(10),[L,M]=(0,a.useState)(!1),[I,z]=(0,a.useState)(!1),[U,q]=(0,a.useState)(null),V="sales"===(null===_||void 0===_?void 0:_.role),{data:B,isLoading:Q,error:H,refetch:W}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"daily",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.useQuery)(["dashboard",e,t],async()=>{const n=t?"/api/reports/dashboard/":"/api/reports/dashboard/?period=".concat(e);return(await ca.get(n)).data},{staleTime:12e4,cacheTime:3e5,refetchOnWindowFocus:!1})}(k,V),{data:K}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"daily",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,s.useQuery)(["top-products",e,t,n,a],async()=>{const r=t?"/api/reports/top-products/?offset=".concat(n,"&limit=").concat(a):"/api/reports/top-products/?period=".concat(e,"&offset=").concat(n,"&limit=").concat(a);return(await ca.get(r)).data},{staleTime:12e4,cacheTime:3e5,refetchOnWindowFocus:!1})}(k,V,10,1);(0,a.useEffect)(()=>{x(Q)},[Q]),(0,a.useEffect)(()=>{H&&w(y("dashboard.failed_to_load"))},[H,y]),(0,a.useEffect)(()=>{B&&q(B)},[B]),(0,a.useEffect)(()=>{var e,t;10===(null===U||void 0===U||null===(e=U.top_products)||void 0===e?void 0:e.length)?M((null===K||void 0===K?void 0:K.has_more)||(null===K||void 0===K||null===(t=K.products)||void 0===t?void 0:t.length)>0||!1):M(!1)},[U,K]),(0,a.useEffect)(()=>{R(10),D(10)},[k,V]);const $=(null===N||void 0===N?void 0:N.id)||(null===N||void 0===N?void 0:N.sale_id),{data:G,isLoading:J}=(e=>(0,s.useQuery)(["sale",e],()=>ca.get("/api/sales/".concat(e,"/")).then(e=>e.data),{enabled:!!e,staleTime:6e4,cacheTime:3e5}))($);(0,a.useEffect)(()=>{P&&$&&G&&C(G),O(J)},[P,$,G,J]);return b?(0,ua.jsx)("div",{className:"dashboard",children:(0,ua.jsxs)("div",{className:"dashboard-loading",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("span",{children:y("dashboard.loading")})]})}):j?(0,ua.jsx)("div",{className:"dashboard",children:(0,ua.jsxs)("div",{className:"dashboard-error",children:[(0,ua.jsx)("h2",{children:y("dashboard.error")}),(0,ua.jsx)("p",{children:j}),(0,ua.jsx)("button",{onClick:()=>W(),children:y("common.retry")})]})}):(0,ua.jsxs)("div",{className:"dashboard",children:[(0,ua.jsx)("div",{className:"dashboard-header",children:(0,ua.jsxs)("div",{className:"header-content",children:[(0,ua.jsxs)("div",{className:"header-text",children:[(0,ua.jsx)("h1",{children:y("dashboard.title")}),(0,ua.jsx)("p",{children:y("dashboard.welcome",{username:null===_||void 0===_?void 0:_.username})}),V&&(0,ua.jsx)("p",{className:"role-indicator",children:y("dashboard.sales_team_view")})]}),!V&&(0,ua.jsxs)("div",{className:"period-selector",children:[(0,ua.jsx)("label",{children:y("dashboard.time_period")}),(0,ua.jsxs)("select",{value:k,onChange:e=>{return t=e.target.value,void(V||S(t));var t},className:"period-select",children:[(0,ua.jsx)("option",{value:"daily",children:y("dashboard.daily")}),(0,ua.jsx)("option",{value:"weekly",children:y("dashboard.weekly")}),(0,ua.jsx)("option",{value:"monthly",children:y("dashboard.monthly")})]})]})]})}),(0,ua.jsxs)("div",{className:"dashboard-grid",children:[(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon sales",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:y("dashboard.total_revenue")}),!V&&(0,ua.jsx)("p",{className:"metric-value",children:Ha(null===U||void 0===U||null===(e=U.sales)||void 0===e?void 0:e.total_sales)}),V&&(0,ua.jsx)("p",{className:"metric-value",children:"N/A"}),(0,ua.jsxs)("p",{className:"metric-label",children:[(null===U||void 0===U||null===(t=U.sales)||void 0===t?void 0:t.total_count)||0," ",y("dashboard.transactions")]})]})]}),!V&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon cost",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:y("dashboard.total_cost")}),(0,ua.jsx)("p",{className:"metric-value",children:Ha(null===U||void 0===U||null===(n=U.sales)||void 0===n?void 0:n.total_cost)}),(0,ua.jsx)("p",{className:"metric-label",children:y("dashboard.cost_of_goods_sold")})]})]}),(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon profit",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:y("dashboard.profit")}),(0,ua.jsx)("p",{className:"metric-value",children:Ha(null===U||void 0===U||null===(r=U.sales)||void 0===r?void 0:r.profit)}),(0,ua.jsxs)("p",{className:"metric-label",children:[(null===U||void 0===U||null===(i=U.sales)||void 0===i||null===(o=i.profit_margin)||void 0===o?void 0:o.toFixed(1))||"0.0","% ",y("dashboard.margin")]})]})]})]}),(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon inventory",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:y(V?"dashboard.total_products":"dashboard.inventory_value")}),(0,ua.jsx)("p",{className:"metric-value",children:V?(null===U||void 0===U||null===(l=U.inventory)||void 0===l?void 0:l.total_products)||0:"".concat(Ha(null===U||void 0===U||null===(c=U.inventory)||void 0===c?void 0:c.total_inventory_value))}),(0,ua.jsx)("p",{className:"metric-label",children:V?y("dashboard.available_products"):"".concat((null===U||void 0===U||null===(u=U.inventory)||void 0===u?void 0:u.total_products)||0," ").concat(y("dashboard.products"))})]})]}),!V&&(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon retail",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M7 4V2c0-.55-.45-1-1-1s-1 .45-1 1v2H3c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H7zM21 4h-2V2c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:"Retail Value"}),(0,ua.jsx)("p",{className:"metric-value",children:Ha(null===U||void 0===U||null===(d=U.inventory)||void 0===d?void 0:d.total_retail_value)}),(0,ua.jsxs)("p",{className:"metric-label",children:[(null===U||void 0===U||null===(p=U.inventory)||void 0===p?void 0:p.low_stock_count)||0," low stock"]})]})]}),(0,ua.jsxs)("div",{className:"metric-card",children:[(0,ua.jsx)("div",{className:"metric-icon alert",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})})}),(0,ua.jsxs)("div",{className:"metric-content",children:[(0,ua.jsx)("h3",{children:"Out of Stock"}),(0,ua.jsx)("p",{className:"metric-value",children:(null===U||void 0===U||null===(m=U.inventory)||void 0===m?void 0:m.out_of_stock_count)||0}),(0,ua.jsx)("p",{className:"metric-label",children:"products need restocking"})]})]})]}),!V&&(0,ua.jsxs)("div",{className:"dashboard-section",children:[(0,ua.jsx)("h2",{children:y("dashboard.sales_trend")}),(0,ua.jsx)("div",{className:"sales-chart",children:(null===U||void 0===U||null===(h=U.chart_data)||void 0===h?void 0:h.length)>0?(0,ua.jsxs)("div",{className:"chart-container",children:[(0,ua.jsx)("div",{className:"chart-bars",children:U.chart_data.reverse().map((e,t)=>(0,ua.jsxs)("div",{className:"chart-bar",children:[(0,ua.jsxs)("div",{className:"bar-group",children:[(0,ua.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,e.sales/Math.max(...U.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(y("dashboard.sales"),": ").concat(Ha(e.sales))}),(0,ua.jsx)("div",{className:"bar cost-bar",style:{height:"".concat(Math.max(5,e.cost/Math.max(...U.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(y("dashboard.cost"),": ").concat(Ha(e.cost))})]}),(0,ua.jsx)("div",{className:"bar-label",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,ua.jsxs)("div",{className:"bar-values",children:[(0,ua.jsx)("div",{className:"value sales",children:Ha(e.sales)}),(0,ua.jsx)("div",{className:"value cost",children:Ha(e.cost)})]})]},t))}),(0,ua.jsxs)("div",{className:"chart-legend",children:[(0,ua.jsxs)("div",{className:"legend-item",children:[(0,ua.jsx)("div",{className:"legend-color sales"}),(0,ua.jsx)("span",{children:y("dashboard.sales")})]}),(0,ua.jsxs)("div",{className:"legend-item",children:[(0,ua.jsx)("div",{className:"legend-color cost"}),(0,ua.jsx)("span",{children:y("dashboard.cost")})]})]})]}):(0,ua.jsx)("p",{className:"no-data",children:y("dashboard.no_sales_data")})})]}),(0,ua.jsxs)("div",{className:"dashboard-section",children:[(0,ua.jsxs)("div",{className:"section-header",children:[(0,ua.jsx)("h2",{children:y("dashboard.recent_sales")}),(null===U||void 0===U||null===(f=U.recent_sales)||void 0===f?void 0:f.length)>0&&(0,ua.jsx)(Qa,{data:Ut(Ut({},U.recent_sales),{},{user_name:(null===_||void 0===_?void 0:_.username)||y("app.unknown_user"),user_id:(null===_||void 0===_?void 0:_.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:y("titles.sales_management_report"),type:"sales_history",printText:y("buttons.print_sales_report"),className:"print-recent-sales-btn"})]}),(0,ua.jsx)("div",{className:"recent-sales",children:(null===U||void 0===U||null===(v=U.recent_sales)||void 0===v?void 0:v.length)>0?(0,ua.jsx)("div",{className:"sales-list",children:U.recent_sales.map((e,t)=>(0,ua.jsxs)("div",{className:"sale-item clickable",onClick:()=>(e=>{e.id||e.sale_id?(C(e),E(!0)):w(y("errors.not_found"))})(e),title:y("dashboard.click_to_view_details"),children:[(0,ua.jsxs)("div",{className:"sale-info",children:[(0,ua.jsx)("h4",{children:e.sale_number}),(0,ua.jsx)("p",{children:e.customer_name||y("dashboard.walk_in_customer")})]}),(0,ua.jsxs)("div",{className:"sale-amount",children:[(0,ua.jsx)("span",{children:Ha(e.total_amount)}),(0,ua.jsx)("small",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,ua.jsx)("div",{className:"sale-arrow",children:(0,ua.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ua.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})})]},t))}):(0,ua.jsx)("p",{className:"no-data",children:"No recent sales"})})]}),(0,ua.jsxs)("div",{className:"dashboard-section",children:[(0,ua.jsx)("h2",{children:y("dashboard.top_selling_products")}),(0,ua.jsx)("div",{className:"top-products",children:(null===U||void 0===U||null===(g=U.top_products)||void 0===g?void 0:g.length)>0?(0,ua.jsxs)("div",{className:"products-list",children:[U.top_products.slice(0,A).map((e,t)=>{var n;return(0,ua.jsxs)("div",{className:"product-item",children:[(0,ua.jsxs)("div",{className:"product-info",children:[(0,ua.jsx)("h4",{children:e.product__name}),(0,ua.jsx)("p",{children:e.product__sku})]}),(0,ua.jsxs)("div",{className:"product-stats",children:[(0,ua.jsxs)("div",{className:"stat-row",children:[(0,ua.jsxs)("span",{className:"stat-label",children:[y("dashboard.sold"),":"]}),(0,ua.jsxs)("span",{className:"stat-value",children:[e.total_sold," ",e.unit_symbol||"piece"]})]}),(0,ua.jsxs)("div",{className:"stat-row",children:[(0,ua.jsxs)("span",{className:"stat-label",children:[y("dashboard.revenue"),":"]}),(0,ua.jsx)("span",{className:"stat-value",children:Ha(e.total_revenue)})]}),!V&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"stat-row",children:[(0,ua.jsxs)("span",{className:"stat-label",children:[y("dashboard.cost"),":"]}),(0,ua.jsx)("span",{className:"stat-value",children:Ha(e.total_cost)})]}),(0,ua.jsxs)("div",{className:"stat-row",children:[(0,ua.jsxs)("span",{className:"stat-label",children:[y("dashboard.profit"),":"]}),(0,ua.jsx)("span",{className:"stat-value profit",children:Ha(e.profit)})]}),(0,ua.jsxs)("div",{className:"stat-row",children:[(0,ua.jsxs)("span",{className:"stat-label",children:[y("dashboard.margin"),":"]}),(0,ua.jsxs)("span",{className:"stat-value margin",children:[(null===(n=e.profit_margin)||void 0===n?void 0:n.toFixed(1))||"0.0","%"]})]})]})]})]},t)}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",justifyContent:"center"},children:[L&&(0,ua.jsx)("button",{type:"button",className:"print-recent-sales-btn",onClick:async()=>{try{z(!0);const e=V?"/api/reports/top-products/?offset=".concat(F,"&limit=10"):"/api/reports/top-products/?period=".concat(k,"&offset=").concat(F,"&limit=10"),t=await ca.get(e),n=t.data.products;if(n&&n.length>0){q(e=>Ut(Ut({},e),{},{top_products:[...e.top_products||[],...n]}));const e=F+n.length;D(e),R(e),M(t.data.has_more)}else M(!1)}catch(e){console.error("Failed to load more products:",e),w(y("dashboard.failed_to_load_more_products"))}finally{z(!1)}},disabled:I,children:I?y("dashboard.loading")||"Loading...":y("dashboard.show_more")||"Show More"}),A>10&&(0,ua.jsx)("button",{type:"button",className:"print-recent-sales-btn",onClick:()=>{R(10),M(F>10||U.top_products.length>10)},children:y("dashboard.show_less")||"Show Less"})]})]}):(0,ua.jsx)("p",{className:"no-data",children:"No sales data available"})})]}),P&&(0,ua.jsx)(Ga,{sale:N,onClose:()=>{E(!1),C(null)},loading:T})]})},Ya="pos_products_cache",Xa="pos_products_cache_timestamp",Za=()=>{try{const e=localStorage.getItem(Ya),t=localStorage.getItem(Xa);if(e&&t){if(Date.now()-parseInt(t,10)<18e5)return JSON.parse(e)}}catch(e){console.error("Error reading products cache:",e)}return null},er=e=>{try{localStorage.setItem(Ya,JSON.stringify(e)),localStorage.setItem(Xa,Date.now().toString())}catch(t){console.error("Error saving products cache:",t)}},tr=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;!1!==e.is_active&&t.append("is_active","true"),e.category&&t.append("category",e.category);const n="/api/products/".concat(t.toString()?"?"+t.toString():"");let a=await ca.get(n),r=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[],i=a.data.next;for(;i;){a=await ca.get(i);const e=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[];r=r.concat(e),i=a.data.next}return r}catch(t){console.error("Error fetching products:",t);const e=Za();if(e)return e;throw t}},nr="pos_categories_cache",ar="pos_categories_cache_timestamp",rr=()=>{try{const e=localStorage.getItem(nr),t=localStorage.getItem(ar);if(e&&t){if(Date.now()-parseInt(t,10)<36e5)return JSON.parse(e)}}catch(e){console.error("Error reading categories cache:",e)}return null},ir=e=>{try{localStorage.setItem(nr,JSON.stringify(e)),localStorage.setItem(ar,Date.now().toString())}catch(t){console.error("Error saving categories cache:",t)}},sr=e=>{if(!e||0===e.length)return e;try{const t=JSON.parse(sessionStorage.getItem("sellableCategories")||"{}");return e.map(e=>Ut(Ut({},e),{},{is_sellable:Object.prototype.hasOwnProperty.call(t,e.id)?t[e.id]:e.is_sellable}))}catch(t){return console.error("Error applying session sellable status:",t),e}},or=async()=>{try{const e=await ca.get("/api/products/categories/"),t=e.data.results||e.data;return sr(t)}catch(e){console.error("Error fetching categories:",e);const t=rr();if(t)return t;throw e}},lr="posActiveDraftSale",cr="posSavedDraftSales",ur=()=>{const{t:e}=Ea(),{user:t}=pa(),[n,r]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),[p,m]=(0,a.useState)([]),[h,f]=(0,a.useState)({name:"",phone:"",email:""}),[v,g]=(0,a.useState)("cash"),[y,_]=(0,a.useState)("full"),[b,x]=(0,a.useState)(0),[j,w]=(0,a.useState)(!0),[k,S]=(0,a.useState)(!0),[N,C]=(0,a.useState)(!1),[P,E]=(0,a.useState)(""),[T,O]=(0,a.useState)(""),[A,R]=(0,a.useState)({}),[F,D]=(0,a.useState)(!1),[L,M]=(0,a.useState)(!1),[I,z]=(0,a.useState)({category:"",search:""}),[U,q]=(0,a.useState)(""),[V,B]=(0,a.useState)(null),[Q,H]=(0,a.useState)(""),[W,K]=(0,a.useState)({}),$=(0,a.useRef)(null),G=(0,a.useRef)(I),J=(0,a.useRef)(null),Y=(0,a.useRef)(u),X=(0,a.useRef)(F),[Z,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)("standard"),[ae,re]=(0,a.useState)("complete"),[ie,se]=(0,a.useState)(!0),[oe,le]=(0,a.useState)(1),ce=24,[ue,de]=(0,a.useState)([]),[pe,me]=(0,a.useState)({hasDraft:!1,savedAt:null}),[he,fe]=(0,a.useState)([]),[ve,ge]=(0,a.useState)(!1),ye=(0,a.useRef)(!1),_e=(0,a.useRef)(null),{data:be=[],isLoading:xe,refetch:je}=(()=>{const e=rr(),t=!!e,n=t?sr(e):void 0;return(0,s.useQuery)(["categories-pos"],async()=>{const e=rr();if(e)return or().then(e=>{e&&ir(e)}).catch(()=>{}),sr(e);const t=await or();return t&&ir(t),sr(t)},{staleTime:36e5,cacheTime:72e5,refetchOnWindowFocus:!1,refetchOnMount:!t,refetchOnReconnect:!0,initialData:n})})(),{data:we=[],isLoading:ke,refetch:Se}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Za(),n=t&&(!e.category||""===e.category);return(0,s.useQuery)(["products-pos",e],async()=>{const t=Za();if(t&&(!e.category||""===e.category))return tr(e).then(t=>{!t||e.category&&""!==e.category||er(t)}).catch(()=>{}),t;const n=await tr(e);return!n||e.category&&""!==e.category||er(n),n},{staleTime:18e5,cacheTime:36e5,refetchOnWindowFocus:!1,refetchOnMount:!n,refetchOnReconnect:!0,initialData:n?t:void 0})}(I.category?{category:I.category}:{});(0,a.useEffect)(()=>{be.length>0&&(d(be),D(!0))},[be]),(0,a.useEffect)(()=>{G.current=I},[I]),(0,a.useEffect)(()=>{Y.current=u},[u]),(0,a.useEffect)(()=>{X.current=F},[F]);const Ne=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=[...e];if(t&&""!==t.trim()){const e=t.toLowerCase().trim();a=a.filter(t=>{var n,a,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.sku)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e))})}if(n&&""!==n){const e=parseInt(n);a=a.filter(t=>{if(t.category_name){const n=Y.current.find(e=>e.name===t.category_name);return n&&n.id===e}return t.category&&"number"===typeof t.category?t.category===e:!(!t.category||!t.category.id)&&t.category.id===e})}return a},[]),Ce=(0,a.useMemo)(()=>we&&0!==we.length&&u&&0!==u.length?we.filter(e=>{let t=!1;if(e.category_name){const n=u.find(t=>t.name===e.category_name);t=!!n&&n.is_sellable}else if(e.category&&"number"===typeof e.category){const n=u.find(t=>t.id===e.category);t=!!n&&n.is_sellable}else if(e.category&&e.category.id){const n=u.find(t=>t.id===e.category.id);t=!!n&&n.is_sellable}return t}):[],[we,u]),Pe=(0,a.useCallback)(()=>{sessionStorage.removeItem(lr),me({hasDraft:!1,savedAt:null})},[]),Ee=(0,a.useCallback)(()=>{try{const e=sessionStorage.getItem(cr);if(!e)return fe([]),[];const t=JSON.parse(e);return Array.isArray(t)?(fe(t),t):(fe([]),[])}catch(P){return console.error("Failed to load saved drafts:",P),fe([]),[]}},[]),Te=(0,a.useCallback)(e=>{try{sessionStorage.setItem(cr,JSON.stringify(e)),fe(e)}catch(P){console.error("Failed to persist saved drafts:",P)}},[]),Oe=(0,a.useCallback)(e=>{var t,n,a;e&&(ye.current=!0,m(Array.isArray(e.cart)?e.cart:[]),de(Array.isArray(e.packagingCart)?e.packagingCart:[]),f({name:(null===(t=e.customerInfo)||void 0===t?void 0:t.name)||"",phone:(null===(n=e.customerInfo)||void 0===n?void 0:n.phone)||"",email:(null===(a=e.customerInfo)||void 0===a?void 0:a.email)||""}),g(e.paymentMethod||"cash"),_(e.paymentType||"full"),x("number"===typeof e.paidAmount?e.paidAmount:0),ne(e.priceMode||"standard"),re(e.saleMode||"complete"),z(e.filters?{category:e.filters.category||"",search:e.filters.search||""}:{category:"",search:""}),q(e.searchInput||""),K(e.selectedUnits||{}),ee(!!e.showSellableToggle),setTimeout(()=>{ye.current=!1},0))},[m,de,f,g,_,x,ne,re,z,q,K,ee]),Ae=(0,a.useCallback)(()=>({cart:p,packagingCart:ue,customerInfo:h,paymentMethod:v,paymentType:y,paidAmount:b,priceMode:te,saleMode:ae,filters:I,searchInput:U,selectedUnits:W,showSellableToggle:Z}),[p,ue,h,v,y,b,te,ae,I,U,W,Z]),Re=(0,a.useCallback)(()=>p.length>0||ue.length>0||h.name||h.phone||h.email||b>0||"partial"===y,[p,ue,h,b,y]),Fe=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{silent:!0};const{silent:t}=e;try{const e=sessionStorage.getItem(lr);if(!e)return Pe(),t||E("No draft sale found to restore"),!1;const n=JSON.parse(e);if(!n)return Pe(),t||E("Draft data is corrupted"),!1;Oe(n);const a=n.savedAt||(new Date).toISOString();return me({hasDraft:!0,savedAt:a}),t||O("Draft sale restored"),!0}catch(n){return console.error("Failed to restore draft sale:",n),t||E("Failed to restore draft sale"),!1}},[Oe,Pe]),De=(0,a.useMemo)(()=>{if(!pe.savedAt)return"";try{return new Date(pe.savedAt).toLocaleString()}catch(e){return""}},[pe.savedAt]),Le=((0,a.useCallback)(()=>{window.confirm("Discard the saved draft sale? This will clear the current cart and customer information.")&&(m([]),de([]),f({name:"",phone:"",email:""}),g("cash"),_("full"),x(0),ne("standard"),re("complete"),K({}),z({category:"",search:""}),q(""),ee(!1),Pe(),E(""),O(""))},[Pe]),(0,a.useCallback)(()=>{if(!Re())return void E("Add items or customer details before saving a draft.");const e="Draft ".concat((new Date).toLocaleString()),t=window.prompt("Enter a name for this draft sale:",e);if(!t)return;const n=Ae(),a=t.trim();if(!a)return void E("Draft name cannot be empty");const r=[{id:"draft-".concat(Date.now()),name:a,savedAt:(new Date).toISOString(),data:n},...he];Te(r),O("Draft saved successfully")},[Ae,Re,Te,he,E,O])),Me=(0,a.useCallback)(e=>{const t=he.find(t=>t.id===e);if(!t)return void E("Draft not found");Oe(t.data),me({hasDraft:!0,savedAt:t.savedAt}),O('Draft "'.concat(t.name,'" restored')),ge(!1);const n=he.filter(t=>t.id!==e);Te(n)},[he,Oe,E,O]),Ie=(0,a.useCallback)(e=>{const t=he.find(t=>t.id===e);if(!t)return;if(!window.confirm('Delete draft "'.concat(t.name,'"?')))return;const n=he.filter(t=>t.id!==e);Te(n)},[he,Te]);(0,a.useEffect)(()=>(Fe({silent:!0}),()=>{_e.current&&clearTimeout(_e.current)}),[Fe]),(0,a.useEffect)(()=>{Ee()},[Ee]),(0,a.useEffect)(()=>{Ce.length>0&&o(Ce)},[Ce]),(0,a.useEffect)(()=>{if(i.length>0){const e=Ne(i,U,I.category);c(e),r(e)}},[i,U,I.category,Ne]);const ze=(0,a.useCallback)(()=>{const e={};u.forEach(t=>{e[t.id]=t.is_sellable}),sessionStorage.setItem("sellableCategories",JSON.stringify(e))},[u]);(0,a.useEffect)(()=>{u.length>0&&ze()},[u,ze]),(0,a.useEffect)(()=>{X.current&&Y.current.length>0&&""===G.current.category&&""===G.current.search&&Se()},[F,u.length,I,Se]);const Ue=async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Sale Receipt",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!t)return console.error("No data provided for printing"),window.alert("No data available to print."),!1;const r=za(),i=Ba(t,n,"sale",e);if(a){if(Va(i,n))return!0;throw new Error("Failed to open print preview window.")}if(r){if(!await qa(i,n)){if(window.confirm("Mobile printing failed. Would you like to download a file for receipt printer apps instead?")){if(Ua(t,n))return window.alert("Receipt file downloaded! You can now open it with any receipt printer app to print directly to your Xprinter."),!0}throw new Error("Mobile printing failed. Please try again or check your printer connection.")}return!0}if(!await qe(i,n)){if(!Va(i,n))throw new Error("Failed to print receipt. Please try print preview instead.")}return!0}catch(P){return console.error("Print error:",P),window.alert("Failed to print receipt. Please try print preview or check your printer settings."),!1}},qe=(e,t)=>new Promise(t=>{try{const n=document.createElement("iframe");n.style.position="fixed",n.style.right="0",n.style.bottom="0",n.style.width="0",n.style.height="0",n.style.border="none",n.style.visibility="hidden",document.body.appendChild(n);let a=n.contentWindow||n.contentDocument;a.document&&(a=a.document),a.open(),a.write(e),a.close();const r=setTimeout(()=>{try{n.contentWindow.focus(),setTimeout(()=>{n.contentWindow.print(),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n),t(!0)},1e3)},500)}catch(e){console.error("Print error:",e),document.body.contains(n)&&document.body.removeChild(n),t(!1)}},1e3);n.onload=function(){clearTimeout(r);try{n.contentWindow.focus(),setTimeout(()=>{n.contentWindow.print(),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n),t(!0)},1e3)},500)}catch(P){console.error("Print error:",P),document.body.contains(n)&&document.body.removeChild(n),t(!1)}}}catch(P){console.error("Print setup error:",P),t(!1)}}),Ve=()=>p.reduce((e,t)=>e+(t.unit_price||0)*t.quantity,0);(0,a.useEffect)(()=>{const e=Ve();"full"===y?x(e):"partial"===y&&b===e&&x(0)},[y,p,ue]),(0,a.useEffect)(()=>{xe||ke?(w(!0),S(!0)):(w(!1),S(!1))},[xe,ke]),(0,a.useEffect)(()=>{if(F&&i.length>0){const e=i.filter(e=>{let t=!1;if(e.category_name){const n=Y.current.find(t=>t.name===e.category_name);t=!!n&&n.is_sellable}else if(e.category&&"number"===typeof e.category){const n=Y.current.find(t=>t.id===e.category);t=!!n&&n.is_sellable}else if(e.category&&e.category.id){const n=Y.current.find(t=>t.id===e.category.id);t=!!n&&n.is_sellable}else t=!1;return t});o(e)}},[F,i.length]),(0,a.useEffect)(()=>{if(J.current&&clearTimeout(J.current),""!==U)J.current=setTimeout(()=>{const e=Ut(Ut({},G.current),{},{search:U});z(e)},300);else if(""!==G.current.search){const e=Ut(Ut({},G.current),{},{search:""});z(e)}return()=>{J.current&&clearTimeout(J.current)}},[U]),(0,a.useEffect)(()=>{if(!ye.current)return _e.current&&clearTimeout(_e.current),_e.current=setTimeout(()=>{if(!Re())return void Pe();const e=Ut(Ut({},Ae()),{},{savedAt:(new Date).toISOString()});sessionStorage.setItem(lr,JSON.stringify(e)),me({hasDraft:!0,savedAt:e.savedAt})},400),()=>{_e.current&&(clearTimeout(_e.current),_e.current=null)}},[Ae,Re,Pe]),(0,a.useEffect)(()=>{i.length>0&&Be();const e={};i.forEach(t=>{if(t.standard_prices_list&&t.standard_prices_list.length>0)e[t.id]="price-0";else if(t.compatible_units&&t.compatible_units.length>1){let a=t.compatible_units.find(e=>e.is_default);var n;if(a||(a=t.compatible_units.find(e=>e.unit.is_base_unit)),a||(a=t.compatible_units[0]),a)e[t.id]=(null===(n=a.unit)||void 0===n?void 0:n.id)||a.unit}}),K(e)},[i]),(0,a.useEffect)(()=>{ue.length>0&&et()},[p]),(0,a.useEffect)(()=>{0!==i.length&&K(e=>{const t=Ut({},e);return i.forEach(e=>{if("standard"===te&&e.standard_prices_list&&e.standard_prices_list.length>0)t[e.id]&&t[e.id].toString().startsWith("price-")||(t[e.id]="price-0");else if("wholesale"===te&&e.compatible_units&&e.compatible_units.length>1&&t[e.id]&&t[e.id].toString().startsWith("price-")){let a=e.compatible_units.find(e=>e.is_default);var n;if(a||(a=e.compatible_units.find(e=>e.unit.is_base_unit)),a||(a=e.compatible_units[0]),a)t[e.id]=(null===(n=a.unit)||void 0===n?void 0:n.id)||a.unit}}),t})},[te,i]);const Be=async()=>{try{const e=i.map(e=>e.id),t=await ca.post("/api/products/bulk-stock-availability/",{product_ids:e}),n={};Object.values(t.data).forEach(e=>{n[e.product_id]=e.available_units}),R(n)}catch(e){i.forEach(e=>{$e(e.id)})}},Qe=()=>{i.length>0&&Be()},He=e=>{const t=A[e];if(!t)return null;const n=p.filter(t=>t.id===e).reduce((e,n)=>{const a=t.find(e=>e.id===n.unit_id);return a&&a.conversion_factor?e+n.quantity*a.conversion_factor:a&&a.is_base_unit?e+n.quantity:e},0),a=t.find(e=>e.is_base_unit),r=a?a.available_quantity:0,i=Math.max(0,r-n);return t.map(e=>{let t=0,n=!1;return e.is_base_unit?(t=i,n=i>0):e.conversion_factor&&(t=Math.floor(i/e.conversion_factor),n=t>0),Ut(Ut({},e),{},{available_quantity:t,is_available:n})})};(0,a.useEffect)(()=>{F&&Se()},[I.category,F,Se]);const We=(0,a.useCallback)(async(e,t)=>{try{M(!0);const n=!t,a=JSON.parse(sessionStorage.getItem("sellableCategories")||"{}");a[e]=n,sessionStorage.setItem("sellableCategories",JSON.stringify(a)),d(t=>t.map(t=>t.id===e?Ut(Ut({},t),{},{is_sellable:n}):t)),Se(),setTimeout(()=>M(!1),500)}catch(n){E("Failed to update category status"),console.error("Category toggle error:",n),M(!1)}},[u]),Ke=(0,a.useCallback)(async()=>{try{M(!0),sessionStorage.removeItem("sellableCategories");const e=await je();e.data&&e.data.length>0&&d(e.data),Se(),O("Categories have been reset to database defaults"),setTimeout(()=>M(!1),500)}catch(e){E("Failed to reset categories"),console.error("Category reset error:",e),M(!1)}},[je,Se]),$e=async e=>{try{const t=await ca.get("/api/products/".concat(e,"/stock-availability/"));R(n=>Ut(Ut({},n),{},{[e]:t.data.available_units}))}catch(t){}},Ge=function(e){var t;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!a&&e.available_units&&e.available_units[0]){const t=e.available_units[0];a={id:t.id,name:t.name,symbol:t.symbol}}var r;a||(a={id:(null===(r=e.base_unit)||void 0===r?void 0:r.id)||e.base_unit,name:"Piece",symbol:"piece"});if("complete"===ae){if(!A[e.id])return void E("Loading stock information... Please try again.");const t=He(e.id),n=null===t||void 0===t?void 0:t.find(e=>e.id===a.id);if(!n)return void E("Unit ".concat(a.name," not found in stock information"));if(!n.is_available)return void E("".concat(a.name," is out of stock"));if(n.available_quantity<=0)return void E("No ".concat(a.name," stock left"))}const i=null===(t=e.available_units)||void 0===t?void 0:t.find(e=>e.id===a.id);let s=0;if(n)s=parseFloat(n);else if(i)if("standard"===te)s=parseFloat(e.price||0);else if(i.unit_specific_wholesale_price)s=i.unit_specific_wholesale_price;else{const t=parseFloat(e.wholesale_price||0);s=i.conversion_factor&&i.conversion_factor>0?t*i.conversion_factor:t}if("standard"===te){const t=p.find(t=>t.id===e.id&&"standard"===t.price_mode);if(t&&t.unit_price!==s)return void E("This product is already in cart with a different price. Please update the existing item or remove it first.")}const o=p.find(t=>t.id===e.id&&t.unit_id===a.id&&t.price_mode===te&&t.unit_price===s);if(o){if("complete"===ae){const t=He(e.id),n=null===t||void 0===t?void 0:t.find(e=>e.id===a.id);if(n&&o.quantity+1>n.available_quantity)return void E("Not enough ".concat(a.name," available. Only ").concat(n.available_quantity," left."))}m(t=>t.map(t=>t.id===e.id&&t.unit_id===a.id&&t.price_mode===te&&t.unit_price===s?Ut(Ut({},t),{},{quantity:t.quantity+1}):t))}else{if("complete"===ae){const t=He(e.id),n=null===t||void 0===t?void 0:t.find(e=>e.id===a.id);if(n&&1>n.available_quantity)return void E("Not enough ".concat(a.name," available. Only ").concat(n.available_quantity," left."))}const t=Ut(Ut({},e),{},{quantity:1,unit_id:a.id,unit_name:a.name,unit_symbol:a.symbol,unit_price:s,price_mode:te});m(e=>[...e,t])}e.packaging&&setTimeout(()=>{Xe(e,a)},0),E("")},Je=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a<=0){m(p.filter(n=>!(n.id===e&&n.unit_id===t&&n.price_mode===r)));const n=i.find(t=>t.id===e);if(n&&n.packaging){p.some(t=>{var a;return t.id!==e&&(null===(a=i.find(e=>e.id===t.id))||void 0===a?void 0:a.packaging)===n.packaging})||de(ue.filter(e=>e.packaging_id!==n.packaging))}}else{if("complete"===ae){const n=He(e),i=null===n||void 0===n?void 0:n.find(e=>e.id===t);if(!i||!i.is_available)return void E("Unit is out of stock");const s=p.filter(n=>n.id===e&&n.unit_id===t&&n.price_mode===r).reduce((e,t)=>e+t.quantity,0),o=i.available_quantity+s;if(a>o)return void E("Not enough stock available. Max: ".concat(o))}m(p.map(n=>n.id===e&&n.unit_id===t&&n.price_mode===r?Ut(Ut({},n),{},{quantity:a}):n));const i=n.find(t=>t.id===e);if(i&&i.packaging){Ze(i,{id:t},a)}E("")}},Ye=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(p.filter(a=>!(a.id===e&&a.unit_id===t&&a.price_mode===n)))},Xe=(e,t)=>{e.packaging&&m(n=>{const a=n.find(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===te);if(!a)return n;const r=He(e.id),s=null===r||void 0===r?void 0:r.find(e=>e.id===t.id);let o=a.quantity;return s&&!s.is_base_unit&&s.conversion_factor&&(o=a.quantity*s.conversion_factor),de(t=>{const a=e.packaging;if(t.find(e=>e.packaging_id===a)){const e=n.filter(e=>{const t=i.find(t=>t.id===e.id);return t&&t.packaging===a}).reduce((e,t)=>{const n=i.find(e=>e.id===t.id);if(!n)return e;const a=He(n.id),r=null===a||void 0===a?void 0:a.find(e=>e.id===t.unit_id);let s=t.quantity;return r&&!r.is_base_unit&&r.conversion_factor&&(s=t.quantity*r.conversion_factor),e+s},0);return t.map(t=>t.packaging_id===a?Ut(Ut({},t),{},{quantity:e,total_price:parseFloat(t.unit_price)*e}):t)}{const n=e.packaging_price_display||e.packaging_price||0,r={packaging_id:a,packaging_name:e.packaging_name||"Packaging",quantity:o,unit_price:parseFloat(n),total_price:parseFloat(n)*o,status:"consignation",customer_name:h.name,customer_phone:h.phone};return[...t,r]}}),n})},Ze=(e,t,n)=>{if(!e.packaging)return;const a=He(e.id),r=null===a||void 0===a?void 0:a.find(e=>e.id===t.id);let s=n;r&&!r.is_base_unit&&r.conversion_factor&&(s=n*r.conversion_factor),de(t=>{const n=e.packaging;if(t.find(e=>e.packaging_id===n)){const e=p.filter(e=>{const t=i.find(t=>t.id===e.id);return t&&t.packaging===n}).reduce((e,t)=>{const n=i.find(e=>e.id===t.id);if(!n)return e;const a=He(n.id),r=null===a||void 0===a?void 0:a.find(e=>e.id===t.unit_id);let s=t.quantity;return r&&!r.is_base_unit&&r.conversion_factor&&(s=t.quantity*r.conversion_factor),e+s},0);return t.map(t=>t.packaging_id===n?Ut(Ut({},t),{},{quantity:e,total_price:parseFloat(t.unit_price)*e}):t)}{const a=e.packaging_price_display||e.packaging_price||0,r={packaging_id:n,packaging_name:e.packaging_name||"Packaging",quantity:s,unit_price:parseFloat(a),total_price:parseFloat(a)*s,status:"consignation",customer_name:h.name,customer_phone:h.phone};return[...t,r]}})},et=()=>{de(e=>{const t={};return p.forEach(e=>{const n=i.find(t=>t.id===e.id);if(n&&n.packaging){const a=n.packaging;t[a]||(t[a]={packaging_id:a,packaging_name:n.packaging_name||"Packaging",unit_price:parseFloat(n.packaging_price_display||n.packaging_price||0),quantity:0});const r=He(n.id),i=null===r||void 0===r?void 0:r.find(t=>t.id===e.unit_id);let s=e.quantity;i&&!i.is_base_unit&&i.conversion_factor&&(s=e.quantity*i.conversion_factor),t[a].quantity+=s}}),Object.values(t).map(t=>{const n=e.find(e=>e.packaging_id===t.packaging_id);return Ut(Ut({},t),{},{total_price:t.unit_price*t.quantity,status:(null===n||void 0===n?void 0:n.status)||"consignation",customer_name:(null===n||void 0===n?void 0:n.customer_name)||h.name,customer_phone:(null===n||void 0===n?void 0:n.customer_phone)||h.phone})})})},tt=()=>ue.reduce((e,t)=>"consignation"===t.status?e+(t.total_price||0):e,0),nt=()=>p.reduce((e,t)=>e+t.quantity*t.unit_price,0),at=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"completed";const r=nt(),i=ue.reduce((e,t)=>"consignation"===t.status?e+(t.total_price||0):e,0),s=r+i,o=s-b;return{sale_number:n,customer_name:h.name||e("customer.walk_in"),customer_phone:h.phone||"",customer_email:h.email||"",user_name:(null===t||void 0===t?void 0:t.username)||"Unknown User",user_id:(null===t||void 0===t?void 0:t.id)||"unknown",created_at:(new Date).toISOString(),print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:a,subtotal:r,total_amount:s,packaging_total:i,grand_total:s,paid_amount:b,remaining_amount:o,payment_status:o>0?"partial":"paid",due_date:o>0?new Date(Date.now()+2592e6).toLocaleDateString():null,items:p.map(e=>{var t;return{product_name:e.name,product_sku:e.sku,quantity:e.quantity,unit_name:e.unit_name||(null===(t=e.unit)||void 0===t?void 0:t.name)||"piece",unit_price:e.unit_price,total_price:e.unit_price*e.quantity}}),packaging_items:ue.map(e=>({packaging_name:e.packaging_name||"Packaging",quantity:e.quantity,unit_price:e.unit_price,total_price:e.total_price||e.quantity*e.unit_price,status:e.status}))}},rt=(0,a.useCallback)((e,t)=>{if("search"===e)q(t);else{const n=Ut(Ut({},G.current),{},{[e]:t});z(n)}},[]),it=(0,a.useCallback)(()=>{z({category:"",search:""}),q(""),X.current&&Y.current.length>0&&Se()},[F,u.length]),st=e=>{const t=e.target.value;(""===t||/^\d*(?:[.,]\d{0,1})?$/.test(t))&&H(t)},ot=e=>{const t=(Q||"").replace(",","."),n=parseFloat(t),a=/^\d+(?:\.\d)?$/.test(t);if(""===Q||isNaN(n)||n<1||!a)return E("Quantity must be >= 1 and have at most 1 decimal digit"),void B(null);if("complete"===ae){const t=He(e.id),a=null===t||void 0===t?void 0:t.find(t=>t.id===e.unit_id);if(!a||!a.is_available)return E("Unit is out of stock"),void B(null);const r=p.filter(t=>t.id===e.id&&t.unit_id===e.unit_id&&t.price_mode===e.price_mode).reduce((e,t)=>e+t.quantity,0),i=a.available_quantity+r;if(n>i)return E("Not enough stock available. Max: ".concat(i)),void B(null)}0===n?Ye(e.id,e.unit_id,e.price_mode):Je(e.id,e.unit_id,n,e.price_mode),B(null),H(""),E("")},lt=(e,t)=>{"Enter"===e.key?ot(t):"Escape"===e.key&&(B(null),H(""))};return(0,ua.jsxs)("div",{className:"pos",children:[(0,ua.jsxs)("div",{className:"pos-header",children:[(0,ua.jsx)("h1",{children:e("titles.point_of_sale")}),(0,ua.jsx)("div",{className:"pos-user",children:(0,ua.jsxs)("span",{children:["Cashier: ",null===t||void 0===t?void 0:t.username]})})]}),(0,ua.jsxs)("div",{className:"pos-draft-actions",style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginBottom:"0.75rem"},children:[(0,ua.jsx)(Aa,{variant:"primary",size:"small",onClick:Le,children:"Save Draft"}),(0,ua.jsxs)(Aa,{variant:"outline",size:"small",onClick:()=>ge(!0),children:["Manage Drafts (",he.length,")"]})]}),pe.hasDraft&&(0,ua.jsx)("div",{className:"pos-draft-banner",style:{backgroundColor:"#fef9c3",border:"1px solid #fcd34d",borderRadius:"0.5rem",padding:"0.75rem 1rem",marginBottom:"1rem",display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"0.5rem"},children:(0,ua.jsxs)("div",{children:[(0,ua.jsx)("strong",{children:"Draft sale saved"}),De&&(0,ua.jsxs)("span",{style:{marginLeft:"0.5rem",fontSize:"0.875rem",color:"#92400e"},children:["Last saved: ",De]})]})}),(0,ua.jsxs)("div",{className:"pos-content",children:[(0,ua.jsxs)("div",{className:"pos-products",children:[(0,ua.jsx)("h2",{children:"Products"}),(0,ua.jsxs)("form",{className:"pos-filters",children:[(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Category:"}),(0,ua.jsxs)("select",{value:I.category,onChange:e=>rt("category",e.target.value),children:[(0,ua.jsx)("option",{value:"",children:"All Categories"}),u.filter(e=>e.is_sellable).map(e=>(0,ua.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ua.jsxs)(Aa,{variant:"outline",size:"small",onClick:()=>ee(!Z),style:{marginTop:"0.5rem"},children:[Z?"Hide":"Manage"," Categories"]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Price Mode:"}),(0,ua.jsxs)("div",{className:"price-mode-toggle",children:[(0,ua.jsx)("button",{type:"button",className:"price-mode-btn ".concat("standard"===te?"active":""),onClick:()=>ne("standard"),children:"Standard"}),(0,ua.jsx)("button",{type:"button",className:"price-mode-btn ".concat("wholesale"===te?"active":""),onClick:()=>ne("wholesale"),children:"Wholesale"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Sale Mode:"}),(0,ua.jsxs)("div",{className:"sale-mode-toggle",children:[(0,ua.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("complete"===ae?"active":""),onClick:()=>re("complete"),title:e("alerts.sale_will_be_completed"),children:"Complete"}),(0,ua.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("pending"===ae?"active":""),onClick:()=>re("pending"),title:e("alerts.sale_will_be_created_pending"),children:"Pending"})]})]}),(0,ua.jsxs)("div",{className:"filter-group print-receipt-group",children:[(0,ua.jsx)("label",{children:"Print Receipt:"}),(0,ua.jsxs)("div",{className:"sale-mode-toggle print-receipt-toggle",children:[(0,ua.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(ie?"active":""),onClick:()=>se(!0),title:e("alerts.print_receipt_after_sale"),children:"Yes"}),(0,ua.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(ie?"":"active"),onClick:()=>se(!1),title:e("pos.dont_print_receipt"),children:"No"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Search:"}),(0,ua.jsx)("input",{ref:$,type:"text",placeholder:e("pos.search_products"),value:U,onChange:e=>rt("search",e.target.value)},"search-input")]}),(0,ua.jsx)("div",{className:"filter-group",children:(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:it,children:"Clear"})})]}),Z&&(0,ua.jsxs)("div",{className:"category-management",style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,ua.jsxs)("h3",{style:{margin:"0",fontSize:"1rem",fontWeight:"600"},children:["Manage Sellable Categories",L&&(0,ua.jsx)("span",{style:{marginLeft:"0.5rem",color:"#3b82f6"},children:"\u27f3"})]}),(0,ua.jsx)("button",{onClick:Ke,disabled:L,style:{padding:"0.5rem 1rem",fontSize:"0.875rem",borderRadius:"0.375rem",border:"1px solid #3b82f6",cursor:L?"not-allowed":"pointer",backgroundColor:L?"#9ca3af":"#3b82f6",color:"white",fontWeight:"500",opacity:L?.6:1},children:"Reset All to Sellable"})]}),(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:u.map(e=>(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",backgroundColor:"white",borderRadius:"0.375rem",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e.name}),(0,ua.jsx)("button",{onClick:()=>We(e.id,e.is_sellable),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",borderRadius:"0.25rem",border:"1px solid",cursor:"pointer",backgroundColor:e.is_sellable?"#dcfce7":"#fee2e2",borderColor:e.is_sellable?"#16a34a":"#dc2626",color:e.is_sellable?"#15803d":"#dc2626"},children:e.is_sellable?"Sellable":"Not Sellable"})]},e.id))})]}),(0,ua.jsx)("div",{className:"products-info",children:(0,ua.jsxs)("p",{className:"products-count",children:[l.length," product",1!==l.length?"s":""," found"]})}),(0,ua.jsx)("div",{className:"products-grid",children:l.slice((oe-1)*ce,oe*ce).map(e=>(0,ua.jsx)("div",{className:"product-card ".concat(e.stock_quantity<=0&&"complete"===ae?"out-of-stock":""," clickable"),onClick:()=>(e=>{if("complete"!==ae||!e.available_units||!e.available_units.every(t=>{let n=e.stock_quantity;return t.conversion_factor&&t.conversion_factor>0&&(n=e.stock_quantity/t.conversion_factor),n<=0}))if(e.available_units&&e.available_units.length>0&&"wholesale"===te||"standard"===te&&e.standard_prices_list&&e.standard_prices_list.length>0){const r=W[e.id];if(r)try{if("standard"===te&&r.startsWith("price-")){var t,n,a;const i=parseInt(r.split("-")[1]),s=e.standard_prices_list[i],o={id:(null===(t=e.base_unit)||void 0===t?void 0:t.id)||e.base_unit,name:(null===(n=e.base_unit)||void 0===n?void 0:n.name)||"Piece",symbol:(null===(a=e.base_unit)||void 0===a?void 0:a.symbol)||"piece"};Ge(e,o,s)}else{const t=e.available_units.find(e=>e.id===parseInt(r));if(t){const n={id:t.id,name:t.name,symbol:t.symbol};Ge(e,n)}}}catch(P){E("Please select unit from the drop-down or see : ",P)}else E("Please select unit from the drop-down")}else Ge(e)})(e),children:(0,ua.jsxs)("div",{className:"product-info",children:[(0,ua.jsx)("h3",{children:e.name}),(0,ua.jsx)("p",{className:"product-sku",children:e.sku}),(0,ua.jsx)("p",{className:"product-price",children:e.available_units&&e.available_units.length>1&&" (Base Unit: ".concat(e.base_unit_symbol,")")}),(0,ua.jsxs)("p",{className:"product-stock",children:["Stock: ",e.stock_quantity," ",e.unit,e.available_units&&e.available_units.length>0&&"wholesale"===te&&(0,ua.jsx)("span",{className:"stock-details",children:e.available_units.map(t=>{let n=0,a=!0;if(t.unit_specific_wholesale_price)n=t.unit_specific_wholesale_price;else{const a=parseFloat(e.wholesale_price||0);n=t.conversion_factor&&t.conversion_factor>0?a*t.conversion_factor:a}let r=e.stock_quantity;return t.conversion_factor&&t.conversion_factor>0&&(r=e.stock_quantity/t.conversion_factor),a=r>0,(0,ua.jsxs)("span",{className:"unit-stock ".concat(a?"available":"unavailable"),children:[t.name,": ",Ha(n)," (",r.toFixed(1)," available)"]},t.id)})})]}),(e.available_units&&e.available_units.length>1&&"wholesale"===te||"standard"===te&&e.standard_prices_list&&e.standard_prices_list.length>0)&&(0,ua.jsxs)("div",{className:"unit-selection",children:[(0,ua.jsx)("label",{children:"Unit:"}),(0,ua.jsxs)("select",{className:"unit-select",value:W[e.id]||"",onChange:t=>{const n=t.target.value;((e,t)=>{K(n=>Ut(Ut({},n),{},{[e]:t}))})(e.id,n)},onClick:e=>e.stopPropagation(),children:[(0,ua.jsx)("option",{value:"",children:"Select Unit"}),"standard"===te&&e.standard_prices_list&&e.standard_prices_list.length>0?e.standard_prices_list.map((e,t)=>(0,ua.jsxs)("option",{value:"price-".concat(t),children:["Standard Price ",t+1," - ",Ha(e)]},"price-".concat(t))):e.available_units.map(t=>{let n=0,a=!0;if(t.unit_specific_wholesale_price)n=t.unit_specific_wholesale_price;else{const a=parseFloat(e.wholesale_price||0);n=t.conversion_factor&&t.conversion_factor>0?a*t.conversion_factor:a}let r=e.stock_quantity;return t.conversion_factor&&t.conversion_factor>0&&(r=e.stock_quantity/t.conversion_factor),a=r>0,(0,ua.jsxs)("option",{value:t.id,disabled:"complete"===ae&&!a,children:[t.name," (",t.symbol,") - ",Ha(n),a||"complete"!==ae?"":" - OUT OF STOCK"]},t.id)})]})]}),!(e.available_units&&e.available_units.length>1&&"wholesale"===te||"standard"===te&&e.standard_prices_list&&e.standard_prices_list.length>0)&&(0,ua.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>Ge(e),disabled:"pending"!==ae&&(!A[e.id]||e.stock_quantity<=0),className:"add-to-cart-btn",children:A[e.id]?"pending"===ae?"Add to Cart":e.stock_quantity<=0?"Out of Stock":"Add to Cart":"Loading..."}),e.packaging_name&&(0,ua.jsx)("div",{className:"packaging-info",children:(0,ua.jsxs)("small",{className:"packaging-price",children:["Packaging: ",e.packaging_name," - ",Ha(e.packaging_price_display||e.packaging_price||0)," (Auto-added)"]})}),e.available_units&&e.available_units.length>1&&(0,ua.jsx)("div",{className:"unit-instruction",children:(0,ua.jsx)("p",{children:"Click card or select unit to add to cart"})})]})},e.id))}),l.length>ce&&(0,ua.jsxs)("div",{className:"products-pagination",style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"12px"},children:[(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>le(e=>Math.max(1,e-1)),disabled:1===oe,children:"Prev"}),(0,ua.jsxs)("span",{style:{alignSelf:"center"},children:["Page ",oe," of ",Math.ceil(l.length/ce)]}),(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>le(e=>Math.min(Math.ceil(l.length/ce),e+1)),disabled:oe>=Math.ceil(l.length/ce),children:"Next"})]})]}),(0,ua.jsxs)("div",{className:"pos-cart",children:[(0,ua.jsxs)("div",{className:"cart-header",children:[(0,ua.jsx)("h2",{children:"Shopping Cart"}),p.length>0&&(0,ua.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>{m([]),de([]),E(""),Pe()},children:"Clear Cart"})]}),P&&(0,ua.jsx)("div",{className:"error-message",children:P}),(0,ua.jsx)("div",{className:"cart-items",children:0===p.length?(0,ua.jsxs)("div",{className:"empty-cart",children:[(0,ua.jsx)("p",{children:"Cart is empty"}),(0,ua.jsx)("p",{className:"empty-cart-hint",children:"Add items from the product list to start a sale"})]}):(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"cart-table-header",children:[(0,ua.jsx)("div",{className:"header-product",children:"Product"}),(0,ua.jsx)("div",{className:"header-unit",children:"Unit"}),(0,ua.jsx)("div",{className:"header-price",children:"Price"}),(0,ua.jsx)("div",{className:"header-quantity",children:"Qty"}),(0,ua.jsx)("div",{className:"header-status",children:"Status"}),(0,ua.jsx)("div",{className:"header-total",children:"Total"}),(0,ua.jsx)("div",{className:"header-actions",children:"Actions"})]}),p.map(t=>(0,ua.jsxs)("div",{className:"cart-item",children:[(0,ua.jsxs)("div",{className:"item-product",children:[(0,ua.jsx)("h4",{children:t.name}),(0,ua.jsxs)("p",{className:"item-sku",children:["SKU: ",t.sku]}),(0,ua.jsx)("span",{className:"price-mode-badge ".concat(t.price_mode),children:"wholesale"===t.price_mode?"WS":"STD"})]}),(0,ua.jsx)("div",{className:"item-unit",children:t.unit_symbol||"piece"}),(0,ua.jsx)("div",{className:"item-price",children:Ha(t.unit_price)}),(0,ua.jsx)("div",{className:"item-quantity",children:(0,ua.jsxs)("div",{className:"quantity-controls",children:[(0,ua.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>Je(t.id,t.unit_id,t.quantity-1,t.price_mode),children:"-"}),V==="".concat(t.id,"-").concat(t.unit_id)?(0,ua.jsx)("div",{className:"quantity-edit",children:(0,ua.jsx)("input",{type:"text",inputMode:"decimal",pattern:"^\\\\d+([.,]\\\\d)?$",value:Q,onChange:st,onKeyPress:e=>lt(e,t),onBlur:()=>ot(t),className:"quantity-input",autoFocus:!0})}):(0,ua.jsx)("span",{className:"quantity clickable",onClick:()=>(e=>{B("".concat(e.id,"-").concat(e.unit_id)),H(e.quantity.toString())})(t),title:e("alerts.click_to_edit_quantity"),children:t.quantity}),(0,ua.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>Je(t.id,t.unit_id,t.quantity+1,t.price_mode),disabled:(()=>{if("pending"===ae)return!1;const e=He(t.id),n=null===e||void 0===e?void 0:e.find(e=>e.id===t.unit_id),a=p.filter(e=>e.id===t.id&&e.unit_id===t.unit_id&&e.price_mode===t.price_mode).reduce((e,t)=>e+t.quantity,0),r=((null===n||void 0===n?void 0:n.available_quantity)||0)+a;return t.quantity>=r})(),children:"+"})]})}),(0,ua.jsx)("div",{className:"item-status",children:(0,ua.jsx)("span",{className:"sales-item-status",children:"-"})}),(0,ua.jsx)("div",{className:"item-total",children:Ha(t.quantity*t.unit_price)}),(0,ua.jsx)("div",{className:"item-actions",children:(0,ua.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>Ye(t.id,t.unit_id,t.price_mode),title:e("alerts.remove_item"),children:"\xd7"})})]},"".concat(t.id,"-").concat(t.unit_id,"-").concat(t.price_mode))),ue.length>0&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("div",{className:"packaging-section-header",children:(0,ua.jsx)("h4",{children:"Packaging Items (Auto-calculated)"})}),ue.map(e=>(0,ua.jsxs)("div",{className:"cart-item packaging-item",children:[(0,ua.jsxs)("div",{className:"item-product",children:[(0,ua.jsx)("h4",{children:e.packaging_name||"Packaging"}),(0,ua.jsx)("p",{className:"item-sku",children:"Packaging Type"})]}),(0,ua.jsx)("div",{className:"item-unit",children:"piece"}),(0,ua.jsx)("div",{className:"item-price",children:Ha(e.unit_price)}),(0,ua.jsxs)("div",{className:"item-quantity",children:[(0,ua.jsx)("span",{className:"quantity auto-calculated",children:e.quantity}),(0,ua.jsx)("small",{className:"auto-label",children:"Auto"})]}),(0,ua.jsx)("div",{className:"item-status",children:(0,ua.jsxs)("select",{value:e.status,onChange:t=>{return n=e.packaging_id,a=t.target.value,void de(ue.map(e=>e.packaging_id===n?Ut(Ut({},e),{},{status:a}):e));var n,a},className:"packaging-status-select",children:[(0,ua.jsx)("option",{value:"consignation",children:"Consigned (Paid)"}),(0,ua.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ua.jsx)("option",{value:"due",children:"Due (Return Required)"})]})}),(0,ua.jsx)("div",{className:"item-total",children:Ha(e.total_price||e.quantity*e.unit_price)}),(0,ua.jsx)("div",{className:"item-actions",children:(0,ua.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>{return t=e.packaging_id,void de(ue.filter(e=>e.packaging_id!==t));var t},title:"Remove packaging item",children:"\xd7"})})]},"packaging-".concat(e.packaging_id)))]})]})}),p.length>0&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"cart-summary",children:[(0,ua.jsxs)("div",{className:"summary-row",children:[(0,ua.jsx)("span",{children:"Items Total:"}),(0,ua.jsx)("span",{children:Ha(nt())})]}),ue.length>0&&(0,ua.jsxs)("div",{className:"summary-row packaging-breakdown",children:[(0,ua.jsx)("span",{children:"Packaging Total:"}),(0,ua.jsxs)("span",{children:[Ha(tt())," "]})]}),(0,ua.jsxs)("div",{className:"summary-row cost-breakdown",children:[(0,ua.jsx)("span",{children:"Cost (excl. tax):"}),(0,ua.jsx)("span",{children:Ha((()=>{let e=0;return p.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*100/(100+t.tax_rate);e+=n}else e+=t.quantity*t.unit_price}),e})())})]}),(0,ua.jsxs)("div",{className:"summary-row tax-breakdown",children:[(0,ua.jsx)("span",{children:"Tax included:"}),(0,ua.jsxs)("span",{children:[Ha((()=>{let e=0;return p.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*t.tax_rate/(100+t.tax_rate);e+=n}}),e})())," "]})]}),(0,ua.jsxs)("div",{className:"summary-row",children:[(0,ua.jsx)("span",{children:"Products Total:"}),(0,ua.jsxs)("span",{children:[Ha(Ve())," "]})]}),ue.length>0&&(0,ua.jsxs)("div",{className:"summary-row",children:[(0,ua.jsx)("span",{children:"Packaging Total:"}),(0,ua.jsx)("span",{children:Ha(tt())})]}),(0,ua.jsxs)("div",{className:"summary-row total",children:[(0,ua.jsx)("span",{children:"Total (Products Only):"}),(0,ua.jsx)("span",{children:Ha(Ve())})]})]}),(0,ua.jsxs)("form",{className:"checkout-form",children:[(0,ua.jsxs)("div",{className:"customer-info",children:[(0,ua.jsx)("h3",{children:"Customer Information"}),(0,ua.jsx)("div",{className:"form-group",children:(0,ua.jsx)("input",{type:"text",placeholder:"complete"!==ae||"partial"===y?"Customer Name (Required for Partial Payment)":"Customer Name (Optional)",value:h.name,onChange:e=>f(Ut(Ut({},h),{},{name:e.target.value})),className:"complete"===ae&&"partial"!==y||h.name?"":"required-field"})}),(0,ua.jsx)("div",{className:"form-group",children:(0,ua.jsx)("input",{type:"tel",placeholder:"Phone Number (Optional)",value:h.phone,onChange:e=>f(Ut(Ut({},h),{},{phone:e.target.value}))})}),(0,ua.jsx)("div",{className:"form-group",children:(0,ua.jsx)("input",{type:"email",placeholder:"Email (Optional)",value:h.email,onChange:e=>f(Ut(Ut({},h),{},{email:e.target.value}))})})]}),(0,ua.jsxs)("div",{className:"payment-section",children:[(0,ua.jsx)("h3",{children:"Payment Method"}),(0,ua.jsx)("div",{className:"payment-methods",children:["cash","card","mobile_money","bank_transfer"].map(e=>(0,ua.jsxs)("label",{className:"payment-method",children:[(0,ua.jsx)("input",{type:"radio",name:"payment",value:e,checked:v===e,onChange:e=>g(e.target.value)}),(0,ua.jsx)("span",{children:e.replace("_"," ").toUpperCase()})]},e))}),(0,ua.jsx)("h3",{children:"Payment Type"}),(0,ua.jsxs)("div",{className:"payment-types",children:[(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===y,onChange:e=>_(e.target.value)}),(0,ua.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===y,onChange:e=>_(e.target.value)}),(0,ua.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===y&&(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Amount to Pay"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0",max:Ve(),value:b||0,onChange:e=>{const t=parseFloat(e.target.value)||0;x(t)},placeholder:e("forms.enter_amount_to_pay")}),(0,ua.jsxs)("small",{children:["Products Total: $",Ve().toFixed(2)," | Remaining: $",(Ve()-(b||0)).toFixed(2)]})]})]})]}),(0,ua.jsxs)("div",{className:"checkout-actions",children:[(0,ua.jsx)(Aa,{variant:"outline",size:"large",onClick:async()=>{const t=at("PREVIEW-".concat(Date.now()),"pending"===ae?"pending":"completed");await Ue(t,e("titles.sale_receipt"),!0)},className:"print-preview-btn",children:"\ud83d\udda8\ufe0f Print Preview"}),(0,ua.jsxs)(Aa,{onClick:async()=>{if(0===p.length)return void E(e("pos.cart_empty"));if(C(!0),E(""),("complete"!==ae||"partial"===y)&&(!h.name||!h.name.trim()))return E("Customer name is required for partial/uncompleted payments"),void C(!1);const t=Ve();if(b>t)return E("Paid amount cannot exceed the total amount"),void C(!1);if(b<0)return E("Paid amount cannot be negative"),void C(!1);try{const t={sale_type:"sale",customer_name:h.name,customer_phone:h.phone,customer_email:h.email,payment_method:v,paid_amount:b,items:p.map(e=>{let t=e.unit_id;return"object"===typeof t&&null!==t&&(t=t.id||t),{product:e.id,quantity:parseFloat(e.quantity),unit:parseInt(t),unit_price:parseFloat(e.unit_price),price_mode:e.price_mode||"standard"}}),packaging_items:ue.map(e=>({packaging:e.packaging_id,quantity:parseFloat(e.quantity),status:e.status||"consignation",customer_name:e.customer_name||h.name,customer_phone:e.customer_phone||h.phone,notes:e.notes||""}))},r=await ca.post("/api/sales/",t),i=r.data.id,s=r.data.sale_number;if("complete"===ae)try{const t=await ca.post("/api/sales/".concat(i,"/complete/"));if(ie){const t=at(s,"completed");await Ue(t,e("titles.sale_receipt"))}m([]),de([]),f({name:"",phone:"",email:""}),x(0),ne("standard"),Pe(),await new Promise(e=>setTimeout(e,500)),await Se(),await new Promise(e=>setTimeout(e,250)),Qe();let n="Sale completed successfully! Sale Number: ".concat(s);if(t.data.packaging_transaction){const e=t.data.packaging_transaction;n+="\n\nPackaging transaction automatically created:\nTransaction: ".concat(e.transaction_number,"\nAmount: ").concat(Ha(e.total_amount))}alert(n)}catch(g){var n,a;E("Sale created (".concat(s,") but completion failed: ").concat((null===(n=g.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||g.message)),m([]),de([]),f({name:"",phone:"",email:""}),x(0),await new Promise(e=>setTimeout(e,500)),await Se(),await new Promise(e=>setTimeout(e,250)),Qe(),Pe()}else{if(ie){const t=at(s,"pending");await Ue(t,e("titles.sale_receipt"))}m([]),de([]),f({name:"",phone:"",email:""}),x(0),ne("standard"),Pe(),alert("Pending sale created successfully! Sale Number: ".concat(s))}}catch(_){var r,i,s,o,l,c,u,d;null!==(r=_.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.error?E(_.response.data.error):null!==(s=_.response)&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.detail?E(_.response.data.detail):null!==(l=_.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.customer_name?E(_.response.data.customer_name[0]):null!==(u=_.response)&&void 0!==u&&null!==(d=u.data)&&void 0!==d&&d.paid_amount?E(_.response.data.paid_amount[0]):E("Failed to create sale. Please check the console for details.")}finally{C(!1)}},loading:N,className:"validate-button",size:"large",variant:"primary",disabled:0===p.length,children:[e("complete"===ae?"pos.complete_sale":"pos.create_pending_sale"),ie&&e("pos.print_receipt")]})]})]})]})]}),ve&&(0,ua.jsx)("div",{className:"drafts-modal-backdrop",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>ge(!1),children:(0,ua.jsxs)("div",{className:"drafts-modal",style:{backgroundColor:"white",borderRadius:"0.75rem",width:"min(90vw, 600px)",maxHeight:"80vh",overflowY:"auto",padding:"1.5rem",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},onClick:e=>e.stopPropagation(),children:[(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,ua.jsx)("h3",{style:{margin:0},children:"Saved Drafts"}),(0,ua.jsx)("button",{onClick:()=>ge(!1),style:{background:"transparent",border:"none",fontSize:"1.25rem",cursor:"pointer"},children:"\xd7"})]}),0===he.length?(0,ua.jsx)("p",{style:{marginBottom:0},children:'No saved drafts yet. Use "Save Draft" to store the current sale.'}):(0,ua.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:he.map(e=>(0,ua.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.5rem"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsx)("strong",{children:e.name}),(0,ua.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:["Saved: ",new Date(e.savedAt).toLocaleString()]})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ua.jsx)(Aa,{size:"small",onClick:()=>Me(e.id),children:"Restore"}),(0,ua.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>Ie(e.id),children:"Delete"})]})]},e.id))})]})})]})},dr=e=>{let{saleId:t,onComplete:n,onCancel:r}=e;const{t:i}=Ea(),{user:s}=pa(),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)([]),[d,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[f,v]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[_,b]=(0,a.useState)(!1),[x,j]=(0,a.useState)({product:"",quantity:1,unit:1,unit_price:0,status:"consignation",customer_name:"",customer_phone:"",notes:""});(0,a.useEffect)(()=>{t&&w()},[t]);const w=async()=>{try{h(!0);const e=await ca.get("/api/sales/".concat(t,"/packaging-validation/"));l(e.data.sale),u(e.data.packaging_items||[]),p(e.data.available_products||[])}catch(e){v("Failed to load packaging data"),console.error("Error fetching packaging data:",e)}finally{h(!1)}},k=async()=>{try{v(""),y("");for(const e of c)"consignation"!==e.status&&await ca.patch("/api/sales/packaging/".concat(e.id,"/"),{status:e.status});y("Packaging validation completed successfully"),n&&n()}catch(a){var e,t;v((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to complete packaging validation"),console.error("Error completing packaging validation:",a)}},S=()=>c.reduce((e,t)=>e+(parseFloat(t.total_price)||0),0);return m?(0,ua.jsx)("div",{className:"packaging-validation",children:(0,ua.jsx)("div",{className:"loading",children:"Loading packaging data..."})}):(0,ua.jsxs)("div",{className:"packaging-validation",children:[(0,ua.jsxs)("div",{className:"validation-header",children:[(0,ua.jsx)("h2",{children:"Packaging Validation"}),(0,ua.jsxs)("div",{className:"sale-info",children:[(0,ua.jsxs)("h3",{children:["Sale: ",null===o||void 0===o?void 0:o.sale_number]}),(0,ua.jsxs)("p",{children:["Customer: ",(null===o||void 0===o?void 0:o.customer_name)||"Walk-in Customer"]}),(null===o||void 0===o?void 0:o.customer_phone)&&(0,ua.jsxs)("p",{children:["Phone: ",o.customer_phone]})]})]}),f&&(0,ua.jsx)("div",{className:"error-message",children:f}),g&&(0,ua.jsx)("div",{className:"success-message",children:g}),(0,ua.jsxs)("div",{className:"packaging-summary",children:[(0,ua.jsxs)("div",{className:"summary-row",children:[(0,ua.jsx)("span",{children:"Packaging Items:"}),(0,ua.jsx)("span",{children:c.length})]}),(0,ua.jsxs)("div",{className:"summary-row",children:[(0,ua.jsx)("span",{children:"Packaging Total:"}),(0,ua.jsx)("span",{children:Ha(S())})]})]}),(0,ua.jsx)("div",{className:"packaging-actions",children:(0,ua.jsx)(Aa,{onClick:()=>b(!_),variant:"primary",size:"small",children:_?"Cancel":"Add Packaging"})}),_&&(0,ua.jsxs)("div",{className:"add-packaging-form",children:[(0,ua.jsx)("h4",{children:"Add New Packaging Item"}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Product *"}),(0,ua.jsxs)("select",{value:x.product,onChange:e=>(e=>{const t=d.find(t=>t.id===parseInt(e));t&&j(n=>Ut(Ut({},n),{},{product:e,unit_price:t.packaging_price||0}))})(e.target.value),required:!0,children:[(0,ua.jsx)("option",{value:"",children:"Select Product"}),d.map(e=>(0,ua.jsxs)("option",{value:e.id,children:[e.name," - ",Ha(e.packaging_price)]},e.id))]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Quantity *"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0.01",value:x.quantity,onChange:e=>j(t=>Ut(Ut({},t),{},{quantity:e.target.value})),required:!0})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Unit Price"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0",value:x.unit_price,onChange:e=>j(t=>Ut(Ut({},t),{},{unit_price:e.target.value}))})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Status"}),(0,ua.jsxs)("select",{value:x.status,onChange:e=>j(t=>Ut(Ut({},t),{},{status:e.target.value})),children:[(0,ua.jsx)("option",{value:"consignation",children:"Consignation (Paid)"}),(0,ua.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ua.jsx)("option",{value:"due",children:"Due (To be returned)"})]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Customer Name"}),(0,ua.jsx)("input",{type:"text",value:x.customer_name,onChange:e=>j(t=>Ut(Ut({},t),{},{customer_name:e.target.value}))})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Customer Phone"}),(0,ua.jsx)("input",{type:"text",value:x.customer_phone,onChange:e=>j(t=>Ut(Ut({},t),{},{customer_phone:e.target.value}))})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Notes"}),(0,ua.jsx)("textarea",{value:x.notes,onChange:e=>j(t=>Ut(Ut({},t),{},{notes:e.target.value})),rows:"3"})]}),(0,ua.jsxs)("div",{className:"form-actions",children:[(0,ua.jsx)(Aa,{onClick:async()=>{try{if(v(""),y(""),!x.product||!x.quantity)return void v("Please fill in all required fields");const e={packaging_items:[{product:parseInt(x.product),quantity:parseFloat(x.quantity),unit:parseInt(x.unit),unit_price:parseFloat(x.unit_price),status:x.status,customer_name:x.customer_name||o.customer_name,customer_phone:x.customer_phone||o.customer_phone,notes:x.notes}]};await ca.post("/api/sales/".concat(t,"/add-packaging/"),e),y("Packaging item added successfully"),j({product:"",quantity:1,unit:1,unit_price:0,status:"consignation",customer_name:"",customer_phone:"",notes:""}),b(!1),w()}catch(a){var e,n;v((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Failed to add packaging item"),console.error("Error adding packaging:",a)}},variant:"primary",children:"Add Packaging"}),(0,ua.jsx)(Aa,{onClick:()=>b(!1),variant:"secondary",children:"Cancel"})]})]}),(0,ua.jsxs)("div",{className:"packaging-items",children:[(0,ua.jsx)("h4",{children:"Current Packaging Items"}),0===c.length?(0,ua.jsx)("div",{className:"no-items",children:"No packaging items for this sale"}):(0,ua.jsx)("div",{className:"packaging-list",children:c.map(e=>(0,ua.jsx)("div",{className:"packaging-item",children:(0,ua.jsxs)("div",{className:"item-info",children:[(0,ua.jsx)("div",{className:"item-name",children:e.product_name}),(0,ua.jsxs)("div",{className:"item-details",children:[e.quantity," ",e.unit_name," \xd7 ",Ha(e.unit_price)," = ",Ha(e.total_price)]}),(0,ua.jsxs)("div",{className:"item-status",children:["Status:",(0,ua.jsxs)("select",{value:e.status,onChange:t=>{return n=e.id,a=t.target.value,void u(e=>e.map(e=>e.id===n?Ut(Ut({},e),{},{status:a}):e));var n,a},children:[(0,ua.jsx)("option",{value:"consignation",children:"Consignation (Paid)"}),(0,ua.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ua.jsx)("option",{value:"due",children:"Due (To be returned)"})]}),"due"===e.status&&(0,ua.jsx)(Aa,{onClick:()=>(async e=>{try{v(""),y(""),await ca.patch("/api/sales/packaging/".concat(e,"/"),{status:"consignation"}),y("Packaging item settled successfully"),u(t=>t.map(t=>t.id===e?Ut(Ut({},t),{},{status:"consignation"}):t)),w()}catch(a){var t,n;v((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to settle packaging item"),console.error("Error settling packaging:",a)}})(e.id),variant:"success",size:"small",style:{marginLeft:"10px"},children:"Settle"})]}),e.customer_name&&(0,ua.jsxs)("div",{className:"customer-info",children:["Customer: ",e.customer_name," ",e.customer_phone&&"(".concat(e.customer_phone,")")]}),e.notes&&(0,ua.jsxs)("div",{className:"item-notes",children:["Notes: ",e.notes]})]})},e.id))})]}),(0,ua.jsxs)("div",{className:"validation-actions",children:[(0,ua.jsx)(Qa,{data:{sale_number:(null===o||void 0===o?void 0:o.sale_number)||"N/A",customer_name:(null===o||void 0===o?void 0:o.customer_name)||"Walk-in Customer",customer_phone:(null===o||void 0===o?void 0:o.customer_phone)||"",customer_email:(null===o||void 0===o?void 0:o.customer_email)||"",user_name:(null===s||void 0===s?void 0:s.username)||i("app.unknown_user"),user_id:(null===s||void 0===s?void 0:s.id)||"unknown",created_at:(null===o||void 0===o?void 0:o.created_at)||(new Date).toISOString(),print_timestamp:(new Date).toISOString(),print_id:"PACKAGING-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),packaging_items:c.map(e=>({product_name:e.product_name,quantity:e.quantity,unit_name:e.unit_name,unit_price:e.unit_price,total_price:e.total_price,status:e.status})),packaging_total:S()},title:"Packaging Validation Report",type:"packaging_validation",printText:"Print Report",className:"print-packaging-btn",showValidateOption:!0,onValidate:k,validateText:"Validate & Print"}),(0,ua.jsx)(Aa,{onClick:k,variant:"primary",size:"large",children:"Complete Validation"}),(0,ua.jsx)(Aa,{onClick:r,variant:"secondary",size:"large",children:"Cancel"})]})]})},pr=()=>{var e,t,n,r,i,o,l,c,u;const{t:d}=Ea(),{user:p,loading:m}=pa(),[h,f]=(0,a.useState)([]),[v,g]=(0,a.useState)(!0),[y,_]=(0,a.useState)(!1),[b,x]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[N,C]=(0,a.useState)({}),[P,E]=(0,a.useState)({subtotal:0,total_amount:0}),[T,O]=(0,a.useState)(null),[A,R]=(0,a.useState)({}),[F,D]=(0,a.useState)("full"),[L,M]=(0,a.useState)(0),[I,z]=(0,a.useState)(!1),[U,q]=(0,a.useState)(null),{data:V=[],isLoading:B,error:Q,refetch:H}=(0,s.useQuery)(["sales","pending"],()=>ca.get("/api/sales/pending/").then(e=>e.data),{staleTime:3e4,cacheTime:12e4,refetchInterval:3e4});(0,a.useEffect)(()=>{V&&f(V)},[V]),(0,a.useEffect)(()=>{g(B)},[B]),(0,a.useEffect)(()=>{var e,t,n;Q&&(401===(null===(e=Q.response)||void 0===e?void 0:e.status)?(alert("Authentication required. Please log in again."),window.location.href="/login"):alert("Error fetching pending sales: "+((null===(t=Q.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||Q.message)))},[Q]),(0,a.useEffect)(()=>{g(B)},[B]),(0,a.useEffect)(()=>{var e,t,n;Q&&(401===(null===(e=Q.response)||void 0===e?void 0:e.status)?(alert("Authentication required. Please log in again."),window.location.href="/login"):alert("Error fetching pending sales: "+((null===(t=Q.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||Q.message)))},[Q]);const W=(0,a.useCallback)(async()=>{try{const e=new Set;if(h.forEach(t=>{var n;null===(n=t.items)||void 0===n||n.forEach(t=>{t.product&&e.add(t.product)})}),0===e.size)return void R({});const t=(await ca.post("/api/products/bulk-stock-availability/",{product_ids:Array.from(e)})).data||{},n={};for(const a of h){let e=!1;for(const n of a.items||[]){const a=n.product,r=t[a]||t[String(a)]||t[Number(a)];if(r&&r.available_units){const t=r.available_units.find(e=>e.id===n.unit);if(t&&t.available_quantity<n.quantity_display){e=!0;break}}}n[a.id]={hasInsufficientStock:e}}R(n)}catch(e){console.error("Error validating stock:",e);const t={};h.forEach(e=>{t[e.id]={hasInsufficientStock:!0}}),R(t)}},[h]);(0,a.useEffect)(()=>{h.length>0&&W()},[h,W]);const K=async e=>{try{var t;O(e);const n=h.find(t=>t.id===e);if(null===(t=n.items)||void 0===t?void 0:t.some(e=>e.product_has_packaging))return q(e),z(!0),void O(null);await $(e)}catch(r){var n,a;console.error("Error completing sale:",r),alert("Error completing sale: "+((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||r.message)),O(null)}},$=async e=>{try{const t=h.find(t=>t.id===e),n=[];for(const e of t.items||[])try{const t=(await ca.get("/api/products/".concat(e.product,"/stock-availability/"))).data;if(t.available_units){const a=t.available_units.find(t=>t.id===e.unit);a&&a.available_quantity<e.quantity_display&&n.push("".concat(e.product_name,": Required ").concat(e.quantity_display," ").concat(e.unit_name,", but only ").concat(a.available_quantity," available"))}}catch(a){console.error("Error checking stock for product ".concat(e.product,":"),a),n.push("".concat(e.product_name,": Unable to check stock availability"))}if(n.length>0)return void alert("Cannot complete sale due to insufficient stock:\n"+n.join("\n"));await ca.post("/api/sales/".concat(e,"/complete/"));Ut(Ut({},t),{},{status:"completed"});f(t=>t.filter(t=>t.id!==e)),_(!1),x(null),alert("Sale completed successfully!")}catch(a){var t,n;console.error("Error completing sale:",a),alert("Error completing sale: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}finally{O(null)}},G=e=>{var t;return{sale_number:e.sale_number,customer_name:e.customer_name||"Walk-in Customer",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",user_name:(null===p||void 0===p?void 0:p.username)||d("app.unknown_user"),user_id:(null===p||void 0===p?void 0:p.id)||"unknown",created_at:e.created_at,print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:"completed"===e.status?"completed":"pending",payment_status:e.payment_status||"pending",payment_method:e.payment_method||"cash",total_amount:e.total_amount||e.subtotal,paid_amount:e.paid_amount||0,remaining_amount:e.remaining_amount||parseFloat(e.total_amount||e.subtotal)-parseFloat(e.paid_amount||0),due_date:e.due_date||null,subtotal:e.subtotal,discount_amount:e.discount_amount||0,tax_amount:e.tax_amount||0,created_by_name:e.created_by_name,items:(null===(t=e.items)||void 0===t?void 0:t.map(e=>({product_name:e.product_name,product_sku:e.product_sku,quantity:e.quantity,quantity_display:e.quantity_display,unit_name:e.unit_name,unit_price:e.unit_price,total_price:e.total_price})))||[]}},J=e=>{var t;S(e);const n=(null===(t=e.items)||void 0===t?void 0:t.map(e=>{const t=parseFloat(e.quantity_display||e.quantity)||0,n=parseFloat(e.unit_price)||0,a=t*n;return Ut(Ut({},e),{},{quantity:t,unit_price:n,total_price:a})}))||[],a=n.reduce((e,t)=>e+t.total_price,0),r=a,i=a+(parseFloat(e.tax_amount||0)||0)-(parseFloat(e.discount_amount||0)||0),s={customer_name:e.customer_name||"",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",payment_method:e.payment_method||"cash",items:n,subtotal:r,total_amount:i,tax_amount:e.tax_amount||0,discount_amount:e.discount_amount||0};C(s),E({subtotal:r,total_amount:i});const o=parseFloat(e.paid_amount)||0,l=i;o>=l?(D("full"),M(l)):o>0?(D("partial"),M(o)):(D("full"),M(l)),w(!0),_(!1)};(0,a.useEffect)(()=>{"full"===F&&M(P.subtotal||0)},[F,P.subtotal]);return m||v?(0,ua.jsxs)("div",{className:"pending-sales-page",children:[(0,ua.jsx)("div",{className:"page-header",children:(0,ua.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ua.jsx)("div",{className:"loading-message",children:"Loading pending sales..."})]}):p?(0,ua.jsxs)("div",{className:"pending-sales-page",children:[(0,ua.jsxs)("div",{className:"page-header",children:[(0,ua.jsx)("h1",{children:d("titles.pending_sales")}),(0,ua.jsx)("p",{children:"Manage and validate pending sales before completion"})]}),0===h.length?(0,ua.jsxs)("div",{className:"no-pending-sales",children:[(0,ua.jsx)("div",{className:"no-sales-icon",children:"\ud83d\udccb"}),(0,ua.jsx)("h3",{children:d("titles.no_pending_sales")}),(0,ua.jsx)("p",{children:"All sales have been completed or there are no pending sales at the moment."})]}):(0,ua.jsx)("div",{className:"pending-sales-grid",children:h.map(e=>{var t,n,a,r,i,s;return(0,ua.jsxs)("div",{className:"pending-sale-card",children:[(0,ua.jsxs)("div",{className:"sale-header",children:[(0,ua.jsx)("div",{className:"sale-number",children:e.sale_number}),(0,ua.jsx)("div",{className:"sale-date",children:Wa(e.created_at)})]}),(0,ua.jsx)("div",{className:"sale-customer",children:(0,ua.jsx)("strong",{children:e.customer_name||"Walk-in Customer"})}),(0,ua.jsxs)("div",{className:"sale-items",children:[(0,ua.jsxs)("div",{className:"items-count",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,ua.jsxs)("div",{className:"items-preview",children:[null===(n=e.items)||void 0===n?void 0:n.slice(0,3).map((e,t)=>(0,ua.jsxs)("div",{className:"item-preview",children:[(0,ua.jsx)("span",{className:"item-name",children:e.product_name}),(0,ua.jsxs)("span",{className:"item-quantity",children:[e.quantity_display||e.quantity," ",e.unit_name]}),(0,ua.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]},t)),(null===(a=e.items)||void 0===a?void 0:a.length)>3&&(0,ua.jsxs)("div",{className:"more-items",children:["+",e.items.length-3," more items"]})]})]}),(0,ua.jsx)("div",{className:"sale-total",children:(0,ua.jsx)("strong",{children:Ha(e.total_amount)})}),(0,ua.jsx)("div",{className:"stock-status",children:null!==(r=A[e.id])&&void 0!==r&&r.hasInsufficientStock?(0,ua.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ua.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})}),(0,ua.jsxs)("div",{className:"sale-actions",children:[(0,ua.jsx)(Aa,{size:"small",variant:"outline",onClick:async()=>{try{const t=await ca.get("/api/sales/".concat(e.id,"/"));x(t.data),_(!0)}catch(t){console.error("Error fetching sale details:",t),x(e),_(!0)}},children:"View Details"}),(0,ua.jsx)(Qa,{data:G(e),title:d("titles.sale_receipt"),type:"sale",printText:"\ud83d\udda8\ufe0f Print",className:"print-sale-btn",variant:"outline",size:"small"}),(0,ua.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>J(e),children:"\u270f\ufe0f Edit"}),(0,ua.jsx)(Aa,{size:"small",variant:"primary",disabled:null===(i=A[e.id])||void 0===i?void 0:i.hasInsufficientStock,onClick:()=>K(e.id),loading:T===e.id,children:null!==(s=A[e.id])&&void 0!==s&&s.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]},e.id)})}),y&&b&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal sale-details-modal",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsxs)("h2",{children:["Sale Details - ",b.sale_number]}),(0,ua.jsx)("button",{className:"modal-close",onClick:()=>{_(!1),x(null)},children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsxs)("div",{className:"info-section",children:[(0,ua.jsx)("h3",{children:"Customer Information"}),(0,ua.jsxs)("div",{className:"info-grid",children:[(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Name:"}),(0,ua.jsx)("span",{className:"info-value",children:b.customer_name||"Walk-in Customer"})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Phone:"}),(0,ua.jsx)("span",{className:"info-value",children:b.customer_phone||"N/A"})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Email:"}),(0,ua.jsx)("span",{className:"info-value",children:b.customer_email||"N/A"})]})]})]}),(0,ua.jsxs)("div",{className:"info-section",children:[(0,ua.jsx)("h3",{children:"Sale Information"}),(0,ua.jsxs)("div",{className:"info-grid",children:[(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Date:"}),(0,ua.jsx)("span",{className:"info-value",children:Wa(b.created_at)})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Payment Method:"}),(0,ua.jsx)("span",{className:"info-value",children:null===(e=b.payment_method)||void 0===e?void 0:e.replace("_"," ").toUpperCase()})]}),(0,ua.jsxs)("div",{className:"info-item",children:[(0,ua.jsx)("span",{className:"info-label",children:"Status:"}),(0,ua.jsx)("span",{className:"status-badge pending",children:"Pending"})]})]})]}),(0,ua.jsxs)("div",{className:"items-section",children:[(0,ua.jsxs)("h3",{children:["Items (",(null===(t=b.items)||void 0===t?void 0:t.length)||0,")"]}),(0,ua.jsx)("div",{className:"items-container",style:{minHeight:"".concat(Math.max(200,120*((null===(n=b.items)||void 0===n?void 0:n.length)||0)),"px"),maxHeight:"500px"},children:null===(r=b.items)||void 0===r?void 0:r.map((e,t)=>(0,ua.jsxs)("div",{className:"item-card",style:{marginBottom:"12px"},children:[(0,ua.jsxs)("div",{className:"item-header",children:[(0,ua.jsx)("div",{className:"item-name",children:e.product_name}),(0,ua.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ua.jsxs)("div",{className:"item-details",children:[(0,ua.jsxs)("div",{className:"item-quantity",children:[(0,ua.jsx)("span",{className:"quantity",children:e.quantity_display||e.quantity||"N/A"}),(0,ua.jsx)("span",{className:"unit",children:e.unit_name||"N/A"})]}),(0,ua.jsxs)("div",{className:"item-price",children:[(0,ua.jsxs)("span",{className:"unit-price",children:[e.unit_price?Ha(e.unit_price):"N/A"," each"]}),(0,ua.jsx)("span",{className:"total-price",children:e.total_price?Ha(e.total_price):"N/A"})]})]})]},t))})]}),(0,ua.jsxs)("div",{className:"totals-section",children:[(0,ua.jsx)("h3",{children:"Totals"}),(0,ua.jsxs)("div",{className:"totals-grid",children:[(0,ua.jsxs)("div",{className:"total-item",children:[(0,ua.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ua.jsx)("span",{className:"total-value",children:Ha(b.subtotal)})]}),b.discount_amount>0&&(0,ua.jsxs)("div",{className:"total-item",children:[(0,ua.jsx)("span",{className:"total-label",children:"Discount:"}),(0,ua.jsxs)("span",{className:"total-value",children:["-",Ha(b.discount_amount)]})]}),b.tax_amount>0&&(0,ua.jsxs)("div",{className:"total-item",children:[(0,ua.jsx)("span",{className:"total-label",children:"Tax:"}),(0,ua.jsx)("span",{className:"total-value",children:Ha(b.tax_amount)})]}),(0,ua.jsxs)("div",{className:"total-item total-final",children:[(0,ua.jsx)("span",{className:"total-label",children:"Total:"}),(0,ua.jsx)("span",{className:"total-value",children:Ha(b.total_amount)})]})]})]}),(0,ua.jsxs)("div",{className:"stock-section",children:[(0,ua.jsx)("h3",{children:"Stock Status"}),(0,ua.jsx)("div",{className:"stock-status",children:null!==(i=A[b.id])&&void 0!==i&&i.hasInsufficientStock?(0,ua.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ua.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})})]})]}),(0,ua.jsxs)("div",{className:"modal-footer",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>{_(!1),x(null)},children:"Close"}),(0,ua.jsx)(Qa,{data:G(b),title:d("titles.sale_receipt"),type:"sale",printText:"\ud83d\udda8\ufe0f Print Receipt",className:"print-sale-btn",variant:"secondary"}),(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>J(b),children:"\u270f\ufe0f Edit"}),(0,ua.jsx)(Aa,{variant:"success",disabled:null===(o=A[b.id])||void 0===o?void 0:o.hasInsufficientStock,onClick:()=>K(b.id),children:null!==(l=A[b.id])&&void 0!==l&&l.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]})}),j&&k&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal edit-sale-modal",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsxs)("h2",{children:["Edit Sale - ",k.sale_number]}),(0,ua.jsx)("button",{className:"modal-close",onClick:()=>{w(!1),S(null),C({})},children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsxs)("div",{className:"form-section",children:[(0,ua.jsx)("h3",{children:"Customer Information"}),(0,ua.jsxs)("div",{className:"form-grid",children:[(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Customer Name"}),(0,ua.jsx)("input",{type:"text",value:N.customer_name||"",onChange:e=>C(Ut(Ut({},N),{},{customer_name:e.target.value})),placeholder:d("forms.customer_name")})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Phone"}),(0,ua.jsx)("input",{type:"text",value:N.customer_phone||"",onChange:e=>C(Ut(Ut({},N),{},{customer_phone:e.target.value})),placeholder:d("forms.phone_number")})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Email"}),(0,ua.jsx)("input",{type:"email",value:N.customer_email||"",onChange:e=>C(Ut(Ut({},N),{},{customer_email:e.target.value})),placeholder:d("forms.email_address")})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Method"}),(0,ua.jsxs)("select",{value:N.payment_method||"cash",onChange:e=>C(Ut(Ut({},N),{},{payment_method:e.target.value})),children:[(0,ua.jsx)("option",{value:"cash",children:"Cash"}),(0,ua.jsx)("option",{value:"card",children:"Card"}),(0,ua.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ua.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),(0,ua.jsxs)("div",{className:"form-section",children:[(0,ua.jsx)("h3",{children:"Payment Type"}),(0,ua.jsxs)("div",{className:"payment-types",children:[(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===F,onChange:e=>D(e.target.value)}),(0,ua.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===F,onChange:e=>D(e.target.value)}),(0,ua.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===F&&(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Amount to Pay"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0",max:P.subtotal||0,value:L||0,onChange:e=>{const t=parseFloat(e.target.value)||0;M(t)},placeholder:d("forms.enter_amount_to_pay")}),(0,ua.jsxs)("small",{children:["Total: ",Ha(P.subtotal||0)," | Remaining: ",Ha((P.subtotal||0)-(L||0))]})]}),"full"===F&&(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Amount to Pay"}),(0,ua.jsx)("input",{type:"number",step:"0.01",value:P.subtotal||0,readOnly:!0,className:"form-control"}),(0,ua.jsx)("small",{children:"Full payment for the total amount."})]})]}),(0,ua.jsxs)("div",{className:"form-section",children:[(0,ua.jsxs)("h3",{children:["Items (",(null===(c=N.items)||void 0===c?void 0:c.length)||0,")"]}),(0,ua.jsx)("div",{className:"items-edit-container",children:null===(u=N.items)||void 0===u?void 0:u.map((e,t)=>(0,ua.jsxs)("div",{className:"edit-item-card",children:[(0,ua.jsxs)("div",{className:"item-header",children:[(0,ua.jsx)("div",{className:"item-name",children:e.product_name}),(0,ua.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ua.jsxs)("div",{className:"item-details",children:[(0,ua.jsx)("div",{className:"item-unit",children:e.unit_name}),(0,ua.jsxs)("div",{className:"item-price",children:[Ha(e.unit_price)," each"]})]}),(0,ua.jsxs)("div",{className:"item-controls",children:[(0,ua.jsxs)("div",{className:"control-group",children:[(0,ua.jsx)("label",{children:"Quantity:"}),(0,ua.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.quantity,onChange:e=>((e,t)=>{if(!N.items||!Array.isArray(N.items))return void console.error("editFormData.items is not properly initialized:",N);const n=[...N.items];n[e].quantity=parseFloat(t)||0,n[e].total_price=n[e].quantity*parseFloat(n[e].unit_price)||0;const a=n.reduce((e,t)=>e+t.total_price,0);C(Ut(Ut({},N),{},{items:n,subtotal:a}));const r=parseFloat(void 0!==N.tax_amount?N.tax_amount:(null===k||void 0===k?void 0:k.tax_amount)||0)||0,i=parseFloat(void 0!==N.discount_amount?N.discount_amount:(null===k||void 0===k?void 0:k.discount_amount)||0)||0,s=a+r-i;E({subtotal:a,taxAmount:r,discountAmount:i,newTotalAmount:s,editFormDataTax:N.tax_amount,editFormDataDiscount:N.discount_amount});const o=Ut(Ut({},N),{},{items:n,subtotal:a,total_amount:s});C(o),E({subtotal:a,total_amount:s}),setTimeout(()=>{},100)})(t,e.target.value)})]}),(0,ua.jsxs)("div",{className:"control-group",children:[(0,ua.jsx)("label",{children:"Price Mode:"}),(0,ua.jsxs)("select",{value:e.price_mode,disabled:!0,style:{backgroundColor:"#f5f5f5",color:"#666"},children:[(0,ua.jsx)("option",{value:"standard",children:"Standard"}),(0,ua.jsx)("option",{value:"wholesale",children:"Wholesale"})]})]}),(0,ua.jsx)("div",{className:"item-total",children:Ha(e.total_price)}),(0,ua.jsx)("div",{className:"item-actions",children:(0,ua.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>(e=>{const t=N.items.filter((t,n)=>n!==e),n=t.reduce((e,t)=>e+t.total_price,0),a=n+(parseFloat(void 0!==N.tax_amount?N.tax_amount:(null===k||void 0===k?void 0:k.tax_amount)||0)||0)-(parseFloat(void 0!==N.discount_amount?N.discount_amount:(null===k||void 0===k?void 0:k.discount_amount)||0)||0);C(Ut(Ut({},N),{},{items:t,subtotal:n,total_amount:a})),E({subtotal:n,total_amount:a})})(t),children:"Remove"})})]})]},t))})]}),(0,ua.jsxs)("div",{className:"totals-section",children:[(0,ua.jsx)("h3",{children:"Totals"}),(0,ua.jsxs)("div",{className:"totals-grid",children:[(0,ua.jsxs)("div",{className:"total-item",children:[(0,ua.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ua.jsx)("span",{className:"total-value",children:Ha(P.subtotal||0)})]}),(0,ua.jsxs)("div",{className:"total-item total-final",children:[(0,ua.jsx)("span",{className:"total-label",children:"Total:"}),(0,ua.jsx)("span",{className:"total-value",children:Ha(P.total_amount||0)})]})]})]})]}),(0,ua.jsxs)("div",{className:"modal-footer",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>{w(!1),S(null),C({})},children:"Cancel"}),(0,ua.jsx)(Aa,{variant:"primary",onClick:async()=>{try{const e={customer_name:N.customer_name,customer_phone:N.customer_phone,customer_email:N.customer_email,payment_method:N.payment_method,paid_amount:L,items:N.items.map(e=>({id:e.id,product:e.product,unit:e.unit,quantity:e.quantity,unit_price:e.unit_price,price_mode:e.price_mode}))};console.log("Saving edited sale:",{saleId:k.id,updateData:e,editFormData:N});await ca.put("/api/sales/".concat(k.id,"/edit/"),e);w(!1),S(null),C({}),H(),alert("Sale updated successfully!")}catch(n){var e,t;console.error("Error updating sale:",n),alert("Error updating sale: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}},children:"Save Changes"})]})]})}),I&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsx)("div",{className:"modal-content packaging-validation-modal",children:(0,ua.jsx)(dr,{saleId:U,onComplete:async()=>{try{await $(U),z(!1),q(null)}catch(e){console.error("Error completing sale after packaging validation:",e)}},onCancel:()=>{z(!1),q(null),O(null)}})})})]}):(0,ua.jsxs)("div",{className:"pending-sales-page",children:[(0,ua.jsx)("div",{className:"page-header",children:(0,ua.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ua.jsx)("div",{className:"loading-message",children:"Please log in to view pending sales."})]})},mr=["data","columns","loading","emptyMessage","className","onRowClick"],hr=e=>{let{data:t=[],columns:n=[],loading:a=!1,emptyMessage:r,className:i="",onRowClick:s}=e,o=Ta(e,mr);const{t:l}=Ea(),c=r||l("app.no_data_available");return a?(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("div",{className:"table-loading",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("span",{children:"Loading..."})]})}):0===t.length?(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsx)("div",{className:"table-empty",children:(0,ua.jsx)("span",{children:c})})}):(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("table",Ut(Ut({className:"table ".concat(i)},o),{},{children:[(0,ua.jsx)("thead",{children:(0,ua.jsx)("tr",{children:n.map((e,t)=>(0,ua.jsx)("th",{className:"table-header",children:e.header},t))})}),(0,ua.jsx)("tbody",{children:t.map((e,t)=>(0,ua.jsx)("tr",{className:"table-row ".concat(s?"clickable":""),onClick:()=>s&&s(e,t),children:n.map((n,a)=>(0,ua.jsx)("td",{className:"table-cell",children:n.render?n.render(e[n.key],e,t):e[n.key]},a))},t))})]}))})},fr=()=>{const{t:e}=Ea(),{user:t}=pa(),[n,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[v,g]=(0,a.useState)(null),[y,_]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(1),[N,C]=(0,a.useState)(1),[P,E]=(0,a.useState)(0),[T,O]=(0,a.useState)({customer_name:"",start_date:"",end_date:"",status:"completed"}),[A,R]=(0,a.useState)({items:[],payment_type:"full",paid_amount:0}),[F,D]=(0,a.useState)([]),L=()=>(new Date).toISOString().split("T")[0],[M,I]=(0,a.useState)({status:"",customer_name:"",start_date:L(),end_date:L(),sale_number:"",payment_status:""}),{data:z,isLoading:U,error:q,refetch:V}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{page:t=1,pageSize:n=20,status:a,customer_name:r,start_date:i,end_date:o,sale_number:l,payment_status:c}=e,u=Ta(e,Ia);return(0,s.useQuery)(["sales",Ut({page:t,pageSize:n,status:a,customer_name:r,start_date:i,end_date:o,sale_number:l,payment_status:c},u)],async()=>{const e=new URLSearchParams;e.append("page",t.toString()),e.append("page_size",n.toString()),a&&e.append("status",a),r&&e.append("search",r),i&&e.append("created_at__date__gte",i),o&&e.append("created_at__date__lte",o),l&&e.append("sale_number",l),c&&e.append("payment_status",c);const s=await ca.get("/api/sales/?".concat(e.toString())),u=s.data.results||s.data;return{sales:Array.isArray(u)?u:[],count:s.data.count||u.length,totalPages:s.data.count?Math.ceil(s.data.count/n):1,currentPage:t}},{staleTime:6e4,cacheTime:3e5,refetchOnWindowFocus:!1})}({page:k,pageSize:20,status:M.status||void 0,customer_name:M.customer_name||void 0,start_date:M.start_date||void 0,end_date:M.end_date||void 0,sale_number:M.sale_number||void 0,payment_status:M.payment_status||void 0}),{data:B=[],refetch:Q}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.useQuery)(["products",e],async()=>{const t=new URLSearchParams;!1!==e.is_active&&t.append("is_active","true"),e.category&&t.append("category",e.category);const n="/api/products/".concat(t.toString()?"?"+t.toString():"");let a=await ca.get(n),r=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[],i=a.data.next;for(;i;){a=await ca.get(i);const e=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[];r=r.concat(e),i=a.data.next}return r},{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1})}({is_active:!0});(0,a.useEffect)(()=>{z&&(r(z.sales||[]),E(z.count||0),C(z.totalPages||1),S(z.currentPage||1))},[z]),(0,a.useEffect)(()=>{B&&D(B)},[B]),(0,a.useEffect)(()=>{o(U)},[U]),(0,a.useEffect)(()=>{var e,t;q&&c("Failed to fetch sales: "+((null===(e=q.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||q.message))},[q]),(0,a.useEffect)(()=>{V()},[M,k,V]);const H=()=>{k<N&&S(k+1)},W=()=>{k>1&&S(k-1)},K=e=>{e>=1&&e<=N&&S(e)},$=e=>{const{name:t,value:n}=e.target;I(e=>Ut(Ut({},e),{},{[t]:n}))},G=e=>{const{name:t,value:n}=e.target;O(e=>Ut(Ut({},e),{},{[t]:n}))},J=e=>new Date(e).toLocaleDateString(),Y=e=>(0,ua.jsx)("span",{className:"status-badge ".concat({pending:"status-pending",completed:"status-completed",cancelled:"status-cancelled",returned:"status-returned",refunded:"status-refunded"}[e]||""),children:e}),X=()=>A.items.reduce((e,t)=>e+parseFloat(t.unit_price||0)*parseFloat(t.quantity||0),0);(0,a.useEffect)(()=>{"full"===A.payment_type&&R(e=>Ut(Ut({},e),{},{paid_amount:X()}))},[A.payment_type,A.items]);const Z=async t=>{try{w(!0),x(!0);const n=t.id||t.sale_id;if(!n)throw new Error(e("errors.not_found"));const a=await ca.get("/api/sales/".concat(n,"/"));g(a.data)}catch(n){console.error("Failed to fetch sale details:",n),c("Failed to load sale details: ".concat(n.message)),x(!1)}finally{w(!1)}},ee=()=>{const e=[];let t=Math.max(1,k-Math.floor(2.5)),n=Math.min(N,t+5-1);n-t+1<5&&(t=Math.max(1,n-5+1));for(let a=t;a<=n;a++)e.push(a);return e};return(0,ua.jsxs)("div",{className:"sales-management",children:[(0,ua.jsxs)("div",{className:"page-header",children:[(0,ua.jsx)("h1",{children:e("titles.sales_management")}),(0,ua.jsxs)("div",{className:"header-actions",children:[(0,ua.jsx)(Qa,{data:Ut(Ut({},n),{},{user_name:(null===t||void 0===t?void 0:t.username)||e("app.unknown_user"),user_id:(null===t||void 0===t?void 0:t.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:e("titles.sales_management_report"),type:"sales_history",printText:e("buttons.print_sales_report"),className:"print-sales-report-btn"}),(0,ua.jsx)(Aa,{variant:"danger",onClick:()=>d(!0),children:"Delete Sales"})]})]}),l&&(0,ua.jsxs)("div",{className:"error-message",children:[l,(0,ua.jsx)("button",{onClick:()=>c(""),children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"filters-section",children:[(0,ua.jsx)("h3",{children:"Filters"}),(0,ua.jsxs)("div",{className:"filters-grid",children:[(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Sale Number"}),(0,ua.jsx)("input",{type:"text",name:"sale_number",value:M.sale_number,onChange:$,placeholder:"Enter sale number"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Status"}),(0,ua.jsxs)("select",{name:"status",value:M.status,onChange:$,children:[(0,ua.jsx)("option",{value:"",children:"All Statuses"}),(0,ua.jsx)("option",{value:"pending",children:"Pending"}),(0,ua.jsx)("option",{value:"completed",children:"Completed"}),(0,ua.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ua.jsx)("option",{value:"returned",children:"Returned"})]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Status"}),(0,ua.jsxs)("select",{name:"payment_status",value:M.payment_status,onChange:$,children:[(0,ua.jsx)("option",{value:"",children:"All Payment Statuses"}),(0,ua.jsx)("option",{value:"pending",children:"Unpaid"}),(0,ua.jsx)("option",{value:"partial",children:"Partial"}),(0,ua.jsx)("option",{value:"paid",children:"Paid"})]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Customer Name"}),(0,ua.jsx)("input",{type:"text",name:"customer_name",value:M.customer_name,onChange:$,placeholder:e("forms.search_by_customer_name")})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Start Date"}),(0,ua.jsx)("input",{type:"date",name:"start_date",value:M.start_date,onChange:$})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"End Date"}),(0,ua.jsx)("input",{type:"date",name:"end_date",value:M.end_date,onChange:$})]})]}),(0,ua.jsxs)("div",{className:"filter-actions",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>{I({status:"",customer_name:"",start_date:"",end_date:"",sale_number:"",payment_status:""}),S(1),S(1),V()},children:"Clear Filters"}),(0,ua.jsx)(Aa,{variant:"primary",onClick:()=>{S(1),S(1),V()},children:"Apply Filters"})]})]}),(0,ua.jsxs)("div",{className:"pagination-info-top",children:["Showing ",n.length," of ",P," sales (Page ",k," of ",N,")"]}),(0,ua.jsx)("div",{className:"table-section",children:i?(0,ua.jsx)("div",{className:"loading",children:"Loading sales..."}):(0,ua.jsxs)(ua.Fragment,{children:[N>1&&(0,ua.jsxs)("div",{className:"pagination-controls",children:[(0,ua.jsx)("button",{className:"btn-pagination",onClick:W,disabled:1===k,children:e("buttons.previous")}),ee().map(e=>(0,ua.jsx)("button",{className:"btn-pagination ".concat(k===e?"active":""),onClick:()=>K(e),children:e},e)),(0,ua.jsxs)("span",{className:"pagination-info",children:["Page ",k," of ",N]}),(0,ua.jsx)("button",{className:"btn-pagination",onClick:H,disabled:k===N,children:e("buttons.next")})]}),(0,ua.jsx)(hr,{data:n,columns:[{key:"sale_number",header:e("table_headers.sale_number"),render:(e,t)=>(0,ua.jsx)("span",{className:"sale-number clickable",onClick:()=>Z(t),children:e})},{key:"customer_name",header:e("table_headers.customer"),render:e=>e||"N/A"},{key:"status",header:e("table_headers.status"),render:e=>(0,ua.jsx)("div",{className:"status-container",children:(0,ua.jsx)("div",{className:"sale-status",children:Y(e)})})},{key:"payment_status",header:e("table_headers.payment"),render:t=>{const n={pending:e("status_labels.pending"),partial:e("status_labels.partial"),paid:e("status_labels.paid")};return(0,ua.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[t]||""),children:n[t]||t})}},{key:"items",header:e("table_headers.items"),render:e=>e&&0!==e.length?(0,ua.jsxs)("div",{className:"sale-items",children:[e.slice(0,2).map((e,t)=>(0,ua.jsxs)("div",{className:"sale-item-row",children:[(0,ua.jsxs)("span",{className:"item-name",children:[e.product_name,(0,ua.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ua.jsxs)("span",{className:"item-details",children:[e.quantity_display||e.quantity," ",e.unit_symbol||"pcs"," \xd7 ",Ha(e.unit_price)]})]},t)),e.length>2&&(0,ua.jsxs)("div",{className:"more-items",children:["+",e.length-2," more items"]})]}):(0,ua.jsx)("span",{className:"no-items",children:"No items"})},{key:"total_amount",header:e("table_headers.total_amount"),render:e=>(0,ua.jsx)("div",{className:"amount-container",children:(0,ua.jsx)("div",{className:"total-amount",children:Ha(e)})})},{key:"created_at",header:e("table_headers.date"),render:e=>J(e)},{key:"sold_by_name",header:e("table_headers.sold_by"),render:e=>e||"N/A"},{key:"payment_method",header:e("table_headers.payment_method"),render:(t,n)=>{if("pending"===n.status)return(0,ua.jsxs)("select",{value:t||"cash",onChange:e=>(async(e,t)=>{try{c(""),await ca.patch("/sales/".concat(e,"/payment-method/"),{payment_method:t}),r(n=>n.map(n=>n.id===e?Ut(Ut({},n),{},{payment_method:t}):n))}catch(i){var n,a;c((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to update payment method"),console.error("Payment method update error:",i)}})(n.id,e.target.value),className:"payment-method-select",children:[(0,ua.jsx)("option",{value:"cash",children:"Cash"}),(0,ua.jsx)("option",{value:"card",children:"Card"}),(0,ua.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ua.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]});const a={cash:e("payment_methods.cash"),card:e("payment_methods.card"),mobile_money:e("payment_methods.mobile_money"),bank_transfer:e("payment_methods.bank_transfer")};return(0,ua.jsx)("span",{className:"payment-method-display",children:a[t]||t||"Cash"})}},{key:"paid_amount",header:e("table_headers.paid_amount"),render:e=>(0,ua.jsx)("div",{className:"payment-amount-container",children:(0,ua.jsx)("div",{className:"paid-amount",children:Ha(parseFloat(e)||0)})})},{key:"actions",header:e("table_headers.actions"),render:(e,t)=>(0,ua.jsxs)("div",{className:"action-buttons",onClick:e=>e.stopPropagation(),children:[!("completed"===t.status&&"paid"===t.payment_status)&&"refunded"!==t.status&&(0,ua.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>(async e=>{try{_(!0),c("");const t=(await ca.get("/api/sales/".concat(e.id,"/"))).data;g(t),R({items:t.items.map(e=>{var t;return{product:e.product,quantity:e.quantity,unit:(null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit||"",unit_price:e.unit_price,price_mode:e.price_mode||"standard"}}),payment_type:"paid"===t.payment_status?"full":"partial"===t.payment_status?"partial":"full",paid_amount:t.paid_amount||0}),m(!0)}catch(t){c("Failed to load sale details"),console.error("Sale fetch error:",t)}finally{_(!1)}})(t),loading:y,disabled:y,children:"Edit"}),("pending"===t.status||"completed"===t.status)&&"refunded"!==t.status&&"return"!==t.sale_type&&(0,ua.jsx)(Aa,{variant:"danger",size:"small",onClick:()=>{window.confirm("Are you sure you want to cancel this ".concat(t.status," sale?"))&&(async e=>{try{c("");const t=await ca.post("/api/sales/".concat(e,"/cancel/"));"Sale cancelled and stock restored"===t.data.message?t.data.refund_amount&&t.data.refund_amount>0?alert("Sale cancelled and stock restored successfully!\n\nRefund Information:\nOriginal Sale: ".concat(t.data.original_sale_number,"\nRefund Amount: $").concat(t.data.refund_amount.toFixed(2),"\n\nPlease process the refund to the customer.")):alert("Sale cancelled and stock restored successfully"):alert("Sale cancelled successfully"),V(),Q()}catch(a){var t,n;c((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to cancel sale"),console.error("Cancel sale error:",a)}})(t.id)},children:"Cancel"})]})}],onRowClick:e=>Z(e)}),N>1&&(0,ua.jsxs)("div",{className:"pagination-controls",children:[(0,ua.jsx)("button",{className:"btn-pagination",onClick:W,disabled:1===k,children:e("buttons.previous")}),ee().map(e=>(0,ua.jsx)("button",{className:"btn-pagination ".concat(k===e?"active":""),onClick:()=>K(e),children:e},e)),(0,ua.jsxs)("span",{className:"pagination-info",children:["Page ",k," of ",N]}),(0,ua.jsx)("button",{className:"btn-pagination",onClick:H,disabled:k===N,children:e("buttons.next")})]})]})}),u&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsx)("h2",{children:"Delete Sales"}),(0,ua.jsx)("button",{className:"close-button",onClick:()=>d(!1),children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsx)("p",{children:"Select criteria to delete sales:"}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Customer Name (optional)"}),(0,ua.jsx)("input",{type:"text",name:"customer_name",value:T.customer_name,onChange:G,placeholder:e("forms.leave_empty_to_delete_all")})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Start Date (optional)"}),(0,ua.jsx)("input",{type:"date",name:"start_date",value:T.start_date,onChange:G})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"End Date (optional)"}),(0,ua.jsx)("input",{type:"date",name:"end_date",value:T.end_date,onChange:G})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Status"}),(0,ua.jsxs)("select",{name:"status",value:T.status,onChange:G,children:[(0,ua.jsx)("option",{value:"completed",children:"Completed"}),(0,ua.jsx)("option",{value:"pending",children:"Pending"}),(0,ua.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ua.jsx)("option",{value:"returned",children:"Returned"}),(0,ua.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ua.jsxs)("div",{className:"modal-actions",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),(0,ua.jsx)(Aa,{variant:"danger",onClick:async()=>{try{c("");const e=await ca.delete("/api/sales/delete/",{data:T});alert("Successfully deleted ".concat(e.data.deleted_count," sales")),d(!1),O({customer_name:"",start_date:"",end_date:"",status:"completed"}),V(),Q()}catch(n){var e,t;c((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete sales"),console.error("Delete sales error:",n)}},children:"Delete Sales"})]})]})]})}),p&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content large-modal",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsxs)("h2",{children:["completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)?e("modals.view_sale"):e("modals.edit_sale"),": ",(null===v||void 0===v?void 0:v.sale_number)||e("app.loading"),"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)&&(0,ua.jsx)("span",{className:"view-only-badge",children:e("modals.view_only")})]}),(0,ua.jsx)("button",{className:"close-button",onClick:()=>m(!1),children:"\xd7"})]}),(0,ua.jsx)("div",{className:"modal-body",children:y?(0,ua.jsx)("div",{className:"loading",children:"Loading sale details..."}):v?(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"edit-sale-info",children:[(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Customer:"})," ",v.customer_name||"N/A"]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Date:"})," ",J(v.created_at)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Status:"})," ",Y(v.status)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Payment Status:"})," ",(te=v.payment_status,(0,ua.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[te]||""),children:{pending:"Unpaid",partial:"Partial",paid:"Paid"}[te]||te}))]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Total Amount:"})," $",v.total_amount]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Paid Amount:"})," $",v.paid_amount]}),"partial"===v.payment_status&&(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Remaining Amount:"})," $",v.remaining_amount]}),v.due_date&&(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Due Date:"})," ",J(v.due_date)]})]}),(0,ua.jsx)("h3",{children:"Sale Items"}),(0,ua.jsx)("div",{className:"edit-items",children:A.items.map((t,n)=>{var a;const r=null===v||void 0===v||null===(a=v.items)||void 0===a?void 0:a.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);return(0,ua.jsxs)("div",{className:"edit-item",children:[(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Product"}),(0,ua.jsx)("input",{type:"text",value:(null===r||void 0===r?void 0:r.product_name)||e("app.unknown_product"),readOnly:!0,className:"readonly-field"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Unit"}),(0,ua.jsx)("input",{type:"text",value:null!==r&&void 0!==r&&r.unit_name?"".concat(r.unit_name," (").concat(r.unit_symbol,")"):"N/A",readOnly:!0,className:"readonly-field"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Price Mode"}),(0,ua.jsx)("input",{type:"text",value:"wholesale"===t.price_mode?"Wholesale (WS)":"Standard (STD)",readOnly:!0,className:"readonly-field"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Unit Price"}),(0,ua.jsx)("input",{type:"text",value:Ha(t.unit_price),readOnly:!0,className:"readonly-field"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Quantity"}),(0,ua.jsx)("input",{type:"number",min:"0",value:t.quantity,onChange:e=>((e,t,n)=>{R(a=>Ut(Ut({},a),{},{items:a.items.map((a,r)=>r===e?Ut(Ut({},a),{},{[t]:n}):a)}))})(n,"quantity",parseFloat(e.target.value)||0),readOnly:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status),className:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)?"read-only-input":""})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Total"}),(0,ua.jsx)("input",{type:"text",value:Ha(t.quantity*t.unit_price),readOnly:!0,className:"readonly-field"})]}),!("completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status))&&(0,ua.jsx)(Aa,{variant:"danger",size:"small",onClick:()=>(e=>{R(t=>Ut(Ut({},t),{},{items:t.items.filter((t,n)=>n!==e)}))})(n),children:"Remove"})]},n)})}),!("completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status))&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("h3",{children:"Payment Options"}),(0,ua.jsxs)("div",{className:"payment-section",children:[(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Type"}),(0,ua.jsxs)("div",{className:"payment-types",children:[(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"editPaymentType",value:"full",checked:"full"===A.payment_type,onChange:e=>R(t=>Ut(Ut({},t),{},{payment_type:e.target.value,paid_amount:"full"===e.target.value?X():t.paid_amount})),disabled:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)}),(0,ua.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ua.jsxs)("label",{className:"payment-type",children:[(0,ua.jsx)("input",{type:"radio",name:"editPaymentType",value:"partial",checked:"partial"===A.payment_type,onChange:e=>R(t=>Ut(Ut({},t),{},{payment_type:e.target.value})),disabled:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)}),(0,ua.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]})]}),"partial"===A.payment_type&&(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Amount to Pay"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0",max:X(),value:A.paid_amount||0,onChange:e=>{const t=parseFloat(e.target.value)||0;R(e=>Ut(Ut({},e),{},{paid_amount:t}))},placeholder:e("forms.enter_amount_to_pay"),readOnly:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status),className:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)?"read-only-input":""}),(0,ua.jsxs)("small",{children:["Total: $",X().toFixed(2)," | Remaining: $",(X()-(A.paid_amount||0)).toFixed(2)]})]}),"full"===A.payment_type&&(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Amount to Pay"}),(0,ua.jsx)("input",{type:"number",step:"0.01",value:X(),readOnly:!0,className:"form-control"}),(0,ua.jsx)("small",{children:"Full payment for the total amount."})]})]})]}),(0,ua.jsxs)("div",{className:"modal-actions",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>m(!1),children:"completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status)?e("modals.close"):e("modals.cancel")}),!("completed"===(null===v||void 0===v?void 0:v.status)&&"paid"===(null===v||void 0===v?void 0:v.payment_status))&&(0,ua.jsx)(Aa,{variant:"primary",onClick:async()=>{try{c("");const e={items:A.items,paid_amount:A.paid_amount};await ca.put("/api/sales/".concat(v.id,"/edit/"),e),alert("Sale updated successfully"),m(!1),g(null),R({items:[],payment_type:"full",paid_amount:0}),V(),Q()}catch(n){var e,t;c((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update sale"),console.error("Edit sale error:",n)}},disabled:!(()=>{if(!A.items||0===A.items.length)return!1;for(const t of A.items){var e;const n=parseFloat(t.quantity);if(isNaN(n)||n<0)return!1;const a=null===v||void 0===v||null===(e=v.items)||void 0===e?void 0:e.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);if(a){const e=n-parseFloat(a.quantity);if(e>0){const n=F.find(e=>e.id===parseInt(t.product));if(n){const t=e;if(n.stock_quantity<t)return!1}}}}if("partial"===A.payment_type){const e=X(),t=parseFloat(A.paid_amount)||0;if(t>=e||t<=0)return!1}else if("full"===A.payment_type){const e=X();if((parseFloat(A.paid_amount)||0)!==e)return!1}return!0})(),children:"Update Sale"})]})]}):(0,ua.jsx)("div",{className:"error-message",children:"Failed to load sale details"})})]})}),h&&v&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsxs)("h2",{children:["Make Payment - ",v.sale_number]}),(0,ua.jsx)("button",{className:"close-button",onClick:()=>f(!1),children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsxs)("div",{className:"payment-info",children:[(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Customer:"})," ",v.customer_name||"N/A"]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Total Amount:"})," $",v.total_amount]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Paid Amount:"})," $",v.paid_amount]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Remaining Amount:"})," $",v.remaining_amount]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Amount (Full Payment Only)"}),(0,ua.jsx)("input",{type:"number",step:"0.01",value:v.remaining_amount,readOnly:!0,className:"form-control"}),(0,ua.jsx)("small",{children:"This will be a full payment for the remaining amount."})]}),(0,ua.jsxs)("div",{className:"modal-actions",children:[(0,ua.jsx)(Aa,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,ua.jsxs)(Aa,{variant:"success",onClick:()=>(async(e,t)=>{try{c(""),await ca.post("/api/sales/".concat(e,"/payment/"),{payment_amount:t,is_full_payment:!0}),alert("Payment processed successfully"),f(!1),V()}catch(r){var n,a;c((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to process payment"),console.error("Payment error:",r)}})(v.id,v.remaining_amount),children:["Process Payment ($",v.remaining_amount,")"]})]})]})]})}),b&&(0,ua.jsx)(Ga,{sale:v,onClose:()=>{x(!1),g(null)},loading:j})]});var te},vr=()=>{const{t:e}=Ea(),{user:t}=pa(),[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[d,p]=(0,a.useState)(!0),[m,h]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[_,b]=(0,a.useState)(!1),[x,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[S,N]=(0,a.useState)(null),[C,P]=(0,a.useState)(null),[E,T]=(0,a.useState)({}),[O,A]=(0,a.useState)(1),[R,F]=(0,a.useState)(1),D=10,[L,M]=(0,a.useState)({search:"",status:"",paymentStatus:"",startDate:"",endDate:"",transactionType:""}),[I,z]=(0,a.useState)({search:"",status:"",startDate:"",endDate:""}),[U,q]=(0,a.useState)({transaction_type:"consignation",sale:"",customer_name:"",customer_phone:"",customer_email:"",payment_method:"cash",status:"active",notes:"",items:[]}),[V,B]=(0,a.useState)({amount:0,payment_method:"cash",notes:""}),[Q,H]=(0,a.useState)({settlement_type:"return",notes:""});(0,a.useEffect)(()=>{W(),K(),$()},[]),(0,a.useEffect)(()=>{G()},[n,L]),(0,a.useEffect)(()=>{J()},[o,I]);const W=async()=>{try{p(!0);const e=await ca.get("/api/packaging/transactions/");r(e.data.results||e.data)}catch(e){h("Failed to load packaging transactions"),console.error("Error fetching transactions:",e)}finally{p(!1)}},K=async()=>{try{const e=await ca.get("/api/sales/");l(e.data.results||e.data)}catch(e){console.error("Error fetching sales:",e)}},$=async()=>{try{const e=await ca.get("/api/packaging/statistics/");T(e.data)}catch(e){console.error("Error fetching statistics:",e)}},G=()=>{let e=[...n];if(L.search){const t=L.search.toLowerCase();e=e.filter(e=>{var n,a,r;return(null===(n=e.transaction_number)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.customer_name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.sale_number)||void 0===r?void 0:r.toLowerCase().includes(t))})}L.status&&(e=e.filter(e=>e.status===L.status)),L.paymentStatus&&(e=e.filter(e=>e.payment_status===L.paymentStatus)),L.transactionType&&(e=e.filter(e=>e.transaction_type===L.transactionType)),L.startDate&&(e=e.filter(e=>new Date(e.created_at)>=new Date(L.startDate))),L.endDate&&(e=e.filter(e=>new Date(e.created_at)<=new Date(L.endDate+"T23:59:59"))),s(e),A(1)},J=()=>{let e=o.filter(e=>e.packaging_items&&e.packaging_items.length>0);if(I.search){const t=I.search.toLowerCase();e=e.filter(e=>{var n,a;return(null===(n=e.sale_number)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.customer_name)||void 0===a?void 0:a.toLowerCase().includes(t))})}I.status&&(e=e.filter(e=>e.status===I.status)),I.startDate&&(e=e.filter(e=>new Date(e.created_at)>=new Date(I.startDate))),I.endDate&&(e=e.filter(e=>new Date(e.created_at)<=new Date(I.endDate+"T23:59:59"))),u(e),F(1)},Y=(e,t)=>{M(n=>Ut(Ut({},n),{},{[e]:t}))},X=(e,t)=>{z(n=>Ut(Ut({},n),{},{[e]:t}))},Z=async e=>{try{N(e),p(!0);const t=await(async e=>{try{const t=await ca.get("/api/packaging/transactions/".concat(e,"/"));return P(t.data),t.data}catch(t){return h("Failed to load transaction details"),console.error("Error fetching transaction details:",t),null}})(e.id);t&&(P(t),k(!0))}catch(t){h("Failed to load transaction details")}finally{p(!1)}},ee=e=>(0,ua.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid",refunded:"payment-refunded"}[e]||""),children:{pending:"Unpaid",partial:"Partial",paid:"Paid",refunded:"Refunded"}[e]||e});if(d&&!w)return(0,ua.jsx)("div",{className:"packaging-management",children:(0,ua.jsx)("div",{className:"loading",children:"Loading packaging transactions..."})});const te=(()=>{const e=(O-1)*D,t=e+D;return i.slice(e,t)})(),ne=(()=>{const e=(R-1)*D,t=e+D;return c.slice(e,t)})(),ae=Math.ceil(i.length/D),re=Math.ceil(c.length/D),ie=Object.values(L).some(e=>""!==e),se=Object.values(I).some(e=>""!==e);return(0,ua.jsxs)("div",{className:"packaging-management",children:[(0,ua.jsxs)("div",{className:"page-header",children:[(0,ua.jsx)("h1",{children:"Packaging Management"}),(0,ua.jsx)("div",{className:"header-actions",children:(0,ua.jsx)("div",{className:"info-text",children:(0,ua.jsx)("small",{children:"Packaging transactions are automatically created when sales are completed"})})})]}),m&&(0,ua.jsx)("div",{className:"error-message",children:m}),f&&(0,ua.jsx)("div",{className:"success-message",children:f}),(0,ua.jsxs)("div",{className:"statistics-grid",children:[(0,ua.jsxs)("div",{className:"stat-card",children:[(0,ua.jsx)("h3",{children:"Total Transactions"}),(0,ua.jsx)("p",{children:E.total_transactions||0})]}),(0,ua.jsxs)("div",{className:"stat-card",children:[(0,ua.jsx)("h3",{children:"Active Transactions"}),(0,ua.jsx)("p",{children:E.active_transactions||0})]}),(0,ua.jsxs)("div",{className:"stat-card",children:[(0,ua.jsx)("h3",{children:"Total Amount"}),(0,ua.jsx)("p",{children:Ha(E.total_amount||0)})]}),(0,ua.jsxs)("div",{className:"stat-card",children:[(0,ua.jsx)("h3",{children:"Paid Amount"}),(0,ua.jsx)("p",{children:Ha(E.paid_amount||0)})]}),(0,ua.jsxs)("div",{className:"stat-card",children:[(0,ua.jsx)("h3",{children:"Remaining Amount"}),(0,ua.jsx)("p",{children:Ha(E.remaining_amount||0)})]})]}),(0,ua.jsxs)("div",{className:"transactions-section",children:[(0,ua.jsxs)("div",{className:"section-header",children:[(0,ua.jsx)("h2",{children:"Packaging Transactions"}),ae>1&&(0,ua.jsxs)("div",{className:"pagination-info",children:["Page ",O," of ",ae,"(",i.length," filtered of ",n.length," total)"]})]}),(0,ua.jsxs)("div",{className:"filters-section",children:[(0,ua.jsxs)("div",{className:"filters-header",children:[(0,ua.jsx)("h3",{children:"Filters"}),ie&&(0,ua.jsx)(Aa,{onClick:()=>{M({search:"",status:"",paymentStatus:"",startDate:"",endDate:"",transactionType:""})},variant:"text",size:"small",children:"Clear All Filters"})]}),(0,ua.jsxs)("div",{className:"filters-grid",children:[(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Search"}),(0,ua.jsx)("input",{type:"text",placeholder:"Search by transaction, customer, or sale...",value:L.search,onChange:e=>Y("search",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Status"}),(0,ua.jsxs)("select",{value:L.status,onChange:e=>Y("status",e.target.value),children:[(0,ua.jsx)("option",{value:"",children:"All Statuses"}),(0,ua.jsx)("option",{value:"active",children:"Active"}),(0,ua.jsx)("option",{value:"completed",children:"Completed"}),(0,ua.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Payment Status"}),(0,ua.jsxs)("select",{value:L.paymentStatus,onChange:e=>Y("paymentStatus",e.target.value),children:[(0,ua.jsx)("option",{value:"",children:"All Payment Statuses"}),(0,ua.jsx)("option",{value:"pending",children:"Unpaid"}),(0,ua.jsx)("option",{value:"partial",children:"Partial"}),(0,ua.jsx)("option",{value:"paid",children:"Paid"}),(0,ua.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Transaction Type"}),(0,ua.jsxs)("select",{value:L.transactionType,onChange:e=>Y("transactionType",e.target.value),children:[(0,ua.jsx)("option",{value:"",children:"All Types"}),(0,ua.jsx)("option",{value:"consignation",children:"Consignation"}),(0,ua.jsx)("option",{value:"exchange",children:"Exchange"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Start Date"}),(0,ua.jsx)("input",{type:"date",value:L.startDate,onChange:e=>Y("startDate",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"End Date"}),(0,ua.jsx)("input",{type:"date",value:L.endDate,onChange:e=>Y("endDate",e.target.value)})]})]})]}),0===i.length?(0,ua.jsx)("div",{className:"no-data",children:0===n.length?"No packaging transactions found":"No transactions match your filters"}):(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("div",{className:"transactions-list",children:te.map(e=>(0,ua.jsxs)("div",{className:"transaction-card",children:[(0,ua.jsxs)("div",{className:"transaction-header",children:[(0,ua.jsxs)("div",{className:"transaction-info",children:[(0,ua.jsx)("h3",{children:e.transaction_number}),(0,ua.jsxs)("p",{children:["Sale: ",e.sale_number]}),(0,ua.jsxs)("p",{children:["Customer: ",e.customer_name||"N/A"]})]}),(0,ua.jsxs)("div",{className:"transaction-status",children:[$a(e.status),ee(e.payment_status)]})]}),(0,ua.jsx)("div",{className:"transaction-details",children:(()=>{const t="consignation"===e.transaction_type,n=e=>t?Ha(e):"-";return(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{className:"detail-row",children:[(0,ua.jsx)("span",{children:"Type:"}),(0,ua.jsx)("span",{children:e.transaction_type})]}),(0,ua.jsxs)("div",{className:"detail-row",children:[(0,ua.jsx)("span",{children:"Total Amount:"}),(0,ua.jsx)("span",{children:n(e.total_amount)})]}),(0,ua.jsxs)("div",{className:"detail-row",children:[(0,ua.jsx)("span",{children:"Paid Amount:"}),(0,ua.jsx)("span",{children:n(e.paid_amount)})]}),(0,ua.jsxs)("div",{className:"detail-row",children:[(0,ua.jsx)("span",{children:"Remaining:"}),(0,ua.jsx)("span",{children:n(e.remaining_amount)})]}),(0,ua.jsxs)("div",{className:"detail-row",children:[(0,ua.jsx)("span",{children:"Created:"}),(0,ua.jsx)("span",{children:Wa(e.created_at)})]})]})})()}),(0,ua.jsxs)("div",{className:"transaction-actions",children:["consignation"===e.transaction_type&&"active"===e.status&&("pending"===e.payment_status||"partial"===e.payment_status)&&e.remaining_amount>0&&(0,ua.jsx)(Aa,{onClick:()=>{N(e),B(t=>Ut(Ut({},t),{},{amount:e.remaining_amount})),b(!0)},variant:"primary",size:"small",children:"Make Payment"}),"active"===e.status&&"due"===e.transaction_type&&(0,ua.jsx)(Aa,{onClick:()=>{N(e),H({settlement_type:"return",notes:""}),j(!0)},variant:"success",size:"small",children:"Settle"}),"consignation"===e.transaction_type&&"paid"===e.payment_status&&(0,ua.jsx)(Aa,{onClick:()=>{N(e),H({settlement_type:"return",notes:""}),j(!0)},variant:"warning",size:"small",children:"Mark Returned"}),(0,ua.jsx)(Aa,{onClick:async()=>{try{h(""),v(""),await ca.delete("/api/packaging/transactions/".concat(e.id,"/")),v("Packaging transaction deleted"),W(),$()}catch(a){var t,n;h((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to delete transaction")}},variant:"danger",size:"small",children:"Delete"}),(0,ua.jsx)(Aa,{onClick:()=>Z(e),variant:"secondary",size:"small",children:"View Details"})]})]},e.id))}),ae>1&&(0,ua.jsxs)("div",{className:"pagination-controls",children:[(0,ua.jsx)(Aa,{onClick:()=>A(e=>Math.max(e-1,1)),disabled:1===O,variant:"secondary",size:"small",children:"Previous"}),(0,ua.jsxs)("span",{className:"page-indicator",children:["Page ",O," of ",ae]}),(0,ua.jsx)(Aa,{onClick:()=>A(e=>Math.min(e+1,ae)),disabled:O===ae,variant:"secondary",size:"small",children:"Next"})]})]})]}),(0,ua.jsxs)("div",{className:"sales-section",children:[(0,ua.jsxs)("div",{className:"section-header",children:[(0,ua.jsx)("h2",{children:"Sales with Packaging"}),re>1&&(0,ua.jsxs)("div",{className:"pagination-info",children:["Page ",R," of ",re,"(",c.length," filtered)"]})]}),(0,ua.jsxs)("div",{className:"filters-section",children:[(0,ua.jsxs)("div",{className:"filters-header",children:[(0,ua.jsx)("h3",{children:"Filters"}),se&&(0,ua.jsx)(Aa,{onClick:()=>{z({search:"",status:"",startDate:"",endDate:""})},variant:"text",size:"small",children:"Clear All Filters"})]}),(0,ua.jsxs)("div",{className:"filters-grid",children:[(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Search"}),(0,ua.jsx)("input",{type:"text",placeholder:"Search by sale number or customer...",value:I.search,onChange:e=>X("search",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Status"}),(0,ua.jsxs)("select",{value:I.status,onChange:e=>X("status",e.target.value),children:[(0,ua.jsx)("option",{value:"",children:"All Statuses"}),(0,ua.jsx)("option",{value:"pending",children:"Pending"}),(0,ua.jsx)("option",{value:"completed",children:"Completed"}),(0,ua.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Start Date"}),(0,ua.jsx)("input",{type:"date",value:I.startDate,onChange:e=>X("startDate",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"End Date"}),(0,ua.jsx)("input",{type:"date",value:I.endDate,onChange:e=>X("endDate",e.target.value)})]})]})]}),0===c.length?(0,ua.jsx)("div",{className:"no-data",children:0===o.filter(e=>e.packaging_items&&e.packaging_items.length>0).length?"No sales with packaging found":"No sales match your filters"}):(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("div",{className:"sales-list",children:ne.map(e=>(0,ua.jsxs)("div",{className:"sale-card",children:[(0,ua.jsx)("div",{className:"sale-header",children:(0,ua.jsxs)("div",{className:"sale-info",children:[(0,ua.jsx)("h3",{children:e.sale_number}),(0,ua.jsxs)("p",{children:["Customer: ",e.customer_name||"Walk-in Customer"]}),(0,ua.jsxs)("p",{children:["Date: ",Wa(e.created_at)]}),(0,ua.jsxs)("p",{children:["Status: ",e.status]})]})}),(0,ua.jsxs)("div",{className:"packaging-summary",children:[(0,ua.jsxs)("h4",{children:["Packaging Items (",e.packaging_items.length,")"]}),(0,ua.jsx)("div",{className:"packaging-items",children:e.packaging_items.map((e,t)=>(0,ua.jsxs)("div",{className:"packaging-item",children:[(0,ua.jsxs)("span",{children:[e.product_name," x ",e.quantity," = ",Ha(e.total_price)]}),(0,ua.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})]},t))}),"completed"===e.status&&(0,ua.jsx)("div",{className:"auto-created-notice",children:(0,ua.jsx)("small",{children:"\u2705 Packaging transaction automatically created"})})]})]},e.id))}),re>1&&(0,ua.jsxs)("div",{className:"pagination-controls",children:[(0,ua.jsx)(Aa,{onClick:()=>F(e=>Math.max(e-1,1)),disabled:1===R,variant:"secondary",size:"small",children:"Previous"}),(0,ua.jsxs)("span",{className:"page-indicator",children:["Page ",R," of ",re]}),(0,ua.jsx)(Aa,{onClick:()=>F(e=>Math.min(e+1,re)),disabled:R===re,variant:"secondary",size:"small",children:"Next"})]})]})]}),w&&S&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content large-modal",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsxs)("h2",{children:["Transaction Details - ",S.transaction_number]}),(0,ua.jsx)("button",{onClick:()=>k(!1),className:"close-btn",children:"\xd7"})]}),(0,ua.jsx)("div",{className:"modal-body",children:d?(0,ua.jsx)("div",{className:"loading",children:"Loading details..."}):C?(0,ua.jsxs)("div",{className:"transaction-details-content",children:[(0,ua.jsxs)("div",{className:"details-section",children:[(0,ua.jsx)("h3",{children:"Basic Information"}),(0,ua.jsxs)("div",{className:"details-grid",children:[(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Transaction Number:"}),(0,ua.jsx)("span",{children:C.transaction_number})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Sale Number:"}),(0,ua.jsx)("span",{children:C.sale_number})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Customer:"}),(0,ua.jsx)("span",{children:C.customer_name||"N/A"})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Transaction Type:"}),(0,ua.jsx)("span",{children:C.transaction_type})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Status:"}),(0,ua.jsx)("span",{children:$a(C.status)})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Payment Status:"}),(0,ua.jsx)("span",{children:ee(C.payment_status)})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Created Date:"}),(0,ua.jsx)("span",{children:Ka(C.created_at)})]}),(0,ua.jsxs)("div",{className:"detail-item",children:[(0,ua.jsx)("label",{children:"Last Updated:"}),(0,ua.jsx)("span",{children:Ka(C.updated_at)})]})]})]}),(0,ua.jsxs)("div",{className:"details-section",children:[(0,ua.jsx)("h3",{children:"Financial Summary"}),(0,ua.jsxs)("div",{className:"financial-grid",children:[(0,ua.jsxs)("div",{className:"financial-item",children:[(0,ua.jsx)("label",{children:"Total Amount:"}),(0,ua.jsx)("span",{className:"amount",children:Ha(C.total_amount)})]}),(0,ua.jsxs)("div",{className:"financial-item",children:[(0,ua.jsx)("label",{children:"Paid Amount:"}),(0,ua.jsx)("span",{className:"amount paid",children:Ha(C.paid_amount)})]}),(0,ua.jsxs)("div",{className:"financial-item",children:[(0,ua.jsx)("label",{children:"Remaining Amount:"}),(0,ua.jsx)("span",{className:"amount remaining",children:Ha(C.remaining_amount)})]})]})]}),C.items&&C.items.length>0&&(0,ua.jsxs)("div",{className:"details-section",children:[(0,ua.jsxs)("h3",{children:["Packaging Items (",C.items.length,")"]}),(0,ua.jsxs)("div",{className:"items-table",children:[(0,ua.jsxs)("div",{className:"table-header",children:[(0,ua.jsx)("div",{children:"Product Name"}),(0,ua.jsx)("div",{children:"Quantity"}),(0,ua.jsx)("div",{children:"Unit Price"}),(0,ua.jsx)("div",{children:"Total Price"}),(0,ua.jsx)("div",{children:"Status"})]}),(0,ua.jsx)("div",{className:"table-body",children:C.items.map((e,t)=>(0,ua.jsxs)("div",{className:"table-row",children:[(0,ua.jsx)("div",{children:e.product_name}),(0,ua.jsx)("div",{children:e.quantity}),(0,ua.jsx)("div",{children:Ha(e.unit_price)}),(0,ua.jsx)("div",{children:Ha(e.total_price)}),(0,ua.jsx)("div",{children:(0,ua.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})})]},t))})]})]}),C.payments&&C.payments.length>0&&(0,ua.jsxs)("div",{className:"details-section",children:[(0,ua.jsxs)("h3",{children:["Payment History (",C.payments.length,")"]}),(0,ua.jsxs)("div",{className:"items-table",children:[(0,ua.jsxs)("div",{className:"table-header",children:[(0,ua.jsx)("div",{children:"Date"}),(0,ua.jsx)("div",{children:"Amount"}),(0,ua.jsx)("div",{children:"Method"}),(0,ua.jsx)("div",{children:"Notes"})]}),(0,ua.jsx)("div",{className:"table-body",children:C.payments.map((e,t)=>(0,ua.jsxs)("div",{className:"table-row",children:[(0,ua.jsx)("div",{children:Ka(e.created_at)}),(0,ua.jsx)("div",{children:Ha(e.amount)}),(0,ua.jsx)("div",{children:e.payment_method}),(0,ua.jsx)("div",{children:e.notes||"-"})]},t))})]})]}),C.notes&&(0,ua.jsxs)("div",{className:"details-section",children:[(0,ua.jsx)("h3",{children:"Notes"}),(0,ua.jsx)("div",{className:"notes-content",children:C.notes})]})]}):(0,ua.jsx)("div",{className:"error-message",children:"Failed to load transaction details"})}),(0,ua.jsx)("div",{className:"modal-footer",children:(0,ua.jsx)(Aa,{onClick:()=>k(!1),variant:"secondary",children:"Close"})})]})}),_&&S&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsx)("h2",{children:"Make Payment"}),(0,ua.jsx)("button",{onClick:()=>b(!1),className:"close-btn",children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsxs)("div",{className:"payment-info",children:[(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Transaction:"})," ",S.transaction_number]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Customer:"})," ",S.customer_name||"N/A"]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Total Amount:"})," ",Ha(S.total_amount)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Paid Amount:"})," ",Ha(S.paid_amount)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Remaining:"})," ",Ha(S.remaining_amount)]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Amount *"}),(0,ua.jsx)("input",{type:"number",step:"0.01",min:"0.01",max:S.remaining_amount,value:V.amount,onChange:e=>B(t=>Ut(Ut({},t),{},{amount:parseFloat(e.target.value)})),required:!0})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Payment Method"}),(0,ua.jsxs)("select",{value:V.payment_method,onChange:e=>B(t=>Ut(Ut({},t),{},{payment_method:e.target.value})),children:[(0,ua.jsx)("option",{value:"cash",children:"Cash"}),(0,ua.jsx)("option",{value:"card",children:"Card"}),(0,ua.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ua.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Notes"}),(0,ua.jsx)("textarea",{value:V.notes,onChange:e=>B(t=>Ut(Ut({},t),{},{notes:e.target.value})),rows:"3"})]})]}),(0,ua.jsxs)("div",{className:"modal-footer",children:[(0,ua.jsx)(Aa,{onClick:async()=>{try{if(h(""),v(""),!S||!V.amount)return void h("Please select a transaction and enter payment amount");await ca.post("/api/packaging/transactions/".concat(S.id,"/payments/"),V),v("Payment processed successfully"),B({amount:0,payment_method:"cash",notes:""}),b(!1),N(null),W(),$()}catch(n){var e,t;h((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to process payment"),console.error("Error processing payment:",n)}},variant:"primary",children:"Process Payment"}),(0,ua.jsx)(Aa,{onClick:()=>b(!1),variant:"secondary",children:"Cancel"})]})]})}),x&&S&&(0,ua.jsx)("div",{className:"modal-overlay",children:(0,ua.jsxs)("div",{className:"modal-content",children:[(0,ua.jsxs)("div",{className:"modal-header",children:[(0,ua.jsx)("h2",{children:"Settle Packaging Transaction"}),(0,ua.jsx)("button",{onClick:()=>j(!1),className:"close-btn",children:"\xd7"})]}),(0,ua.jsxs)("div",{className:"modal-body",children:[(0,ua.jsxs)("div",{className:"payment-info",children:[(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Transaction:"})," ",S.transaction_number]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Customer:"})," ",S.customer_name||"N/A"]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Sale:"})," ",S.sale_number]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Total Amount:"})," ",Ha(S.total_amount)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Paid Amount:"})," ",Ha(S.paid_amount)]}),(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"Remaining:"})," ",Ha(S.remaining_amount)]})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Settlement Type *"}),(0,ua.jsxs)("select",{value:Q.settlement_type,onChange:e=>H(t=>Ut(Ut({},t),{},{settlement_type:e.target.value})),required:!0,children:[(0,ua.jsx)("option",{value:"return",children:"Packaging Returned"}),(0,ua.jsx)("option",{value:"refund",children:"Deposit Refunded"})]}),(0,ua.jsx)("small",{children:"return"===Q.settlement_type?"Customer returned the packaging items":"Customer received refund for packaging deposit"})]}),(0,ua.jsxs)("div",{className:"form-group",children:[(0,ua.jsx)("label",{children:"Notes"}),(0,ua.jsx)("textarea",{value:Q.notes,onChange:e=>H(t=>Ut(Ut({},t),{},{notes:e.target.value})),rows:"3",placeholder:"Additional notes about the settlement..."})]}),(0,ua.jsx)("div",{className:"settlement-warning",children:(0,ua.jsxs)("p",{children:[(0,ua.jsx)("strong",{children:"\u26a0\ufe0f Warning:"})," This action will mark the packaging transaction as completed and cannot be undone."]})})]}),(0,ua.jsxs)("div",{className:"modal-footer",children:[(0,ua.jsx)(Aa,{onClick:async()=>{try{if(h(""),v(""),!S)return void h("Please select a transaction to settle");await ca.post("/api/packaging/transactions/".concat(S.id,"/settle/"),Q),v("Packaging transaction settled successfully"),H({settlement_type:"return",notes:""}),j(!1),N(null),W(),$()}catch(n){var e,t;h((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to settle transaction"),console.error("Error settling transaction:",n)}},variant:"success",children:"Settle Transaction"}),(0,ua.jsx)(Aa,{onClick:()=>j(!1),variant:"secondary",children:"Cancel"})]})]})})]})},gr=()=>{var e,t,n,r,i,s,o;const{t:l}=Ea(),{user:c}=pa(),[u,d]=(0,a.useState)(!1),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[v,g]=(0,a.useState)([]),[y,_]=(0,a.useState)(""),[b,x]=(0,a.useState)({start_date:"",end_date:"",product_id:"",category_id:"",customer_name:""}),[j,w]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),N=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis with revenue, cost, and profit breakdown",icon:"\ud83d\udcb0",color:"#10b981"},{id:"inventory",name:"Inventory Report",description:"Current inventory status, stock levels, and valuation",icon:"\ud83d\udce6",color:"#8b5cf6"},{id:"profit_loss",name:"Profit & Loss Report",description:"Financial performance analysis with profit margins",icon:"\ud83d\udcca",color:"#3b82f6"},{id:"stock_movement",name:"Stock Movement Report",description:"Track all stock movements, purchases, and sales",icon:"\ud83d\udcc8",color:"#f59e0b"},{id:"customer",name:"Customer Report",description:"Customer analysis and purchase behavior",icon:"\ud83d\udc65",color:"#06b6d4"}];(0,a.useEffect)(()=>{C()},[]);const C=async()=>{try{d(!0);const e=await ca.get("/api/reports/");g(e.data)}catch(e){m("Failed to load reports"),console.error("Reports error:",e)}finally{d(!1)}},P=(e,t)=>{x(n=>Ut(Ut({},n),{},{[e]:t}))},E=async e=>{if(j)try{var t;d(!0),m("");const n={name:"".concat(null===(t=N.find(e=>e.id===y))||void 0===t?void 0:t.name," - ").concat((new Date).toLocaleDateString()),report_type:y,description:"Generated report with filters: ".concat(JSON.stringify(b)),parameters:b};await ca.post("/api/reports/",n);let a="",r="",i="";"pdf"===e?(a="".concat(y,"_report_").concat((new Date).toISOString().split("T")[0],".txt"),r=T(j),i="text/plain"):"excel"===e&&(a="".concat(y,"_report_").concat((new Date).toISOString().split("T")[0],".csv"),r=O(j),i="text/csv"),A(r,a,i),f("Report exported as ".concat(e.toUpperCase()," successfully!")),C()}catch(r){var n,a;m("Failed to export report: ".concat((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||r.message)),console.error("Export error:",r)}finally{d(!1)}else m("No report to export")},T=e=>{var t,n,a,r,i,s,o,l,c,u,d,p;const{type:m,data:h}=e;let f="".concat(null===(t=N.find(e=>e.id===m))||void 0===t?void 0:t.name,"\n");switch(f+="Generated: ".concat(R(e.generated_at),"\n"),f+="=====================================\n\n",m){case"sales":f+="SUMMARY:\n",f+="Total Sales: ".concat((null===(n=h.summary)||void 0===n||null===(a=n.total_sales)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA\n"),f+="Total Transactions: ".concat((null===(r=h.summary)||void 0===r?void 0:r.total_count)||0,"\n"),f+="Total Items Sold: ".concat((null===(i=h.summary)||void 0===i?void 0:i.total_items)||0,"\n"),f+="Average Sale: ".concat(null!==(s=h.summary)&&void 0!==s&&s.total_sales&&null!==(o=h.summary)&&void 0!==o&&o.total_count?(h.summary.total_sales/h.summary.total_count).toFixed(2):"0.00"," MGA\n\n"),h.details&&h.details.length>0&&(f+="SALES DETAILS:\n",f+="Sale Number | Customer | Amount | Items | Sold By | Date\n",f+="------------|----------|--------|-------|---------|-----\n",h.details.forEach(e=>{var t;f+="".concat(e.sale_number," | ").concat(e.customer_name||"Walk-in"," | ").concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat(e.items_count," | ").concat(e.sold_by||"-"," | ").concat(R(e.created_at),"\n")}));break;case"inventory":f+="SUMMARY:\n",f+="Total Products: ".concat((null===(l=h.summary)||void 0===l?void 0:l.total_products)||0,"\n"),f+="Total Value: ".concat((null===(c=h.summary)||void 0===c||null===(u=c.total_value)||void 0===u?void 0:u.toFixed(2))||"0.00"," MGA\n"),f+="Low Stock Items: ".concat((null===(d=h.summary)||void 0===d?void 0:d.low_stock_count)||0,"\n"),f+="Out of Stock: ".concat((null===(p=h.summary)||void 0===p?void 0:p.out_of_stock_count)||0,"\n\n"),h.products&&h.products.length>0&&(f+="PRODUCT DETAILS:\n",f+="Product | SKU | Category | Stock | Cost Price | Selling Price | Stock Value | Status\n",f+="--------|-----|----------|-------|------------|---------------|-------------|-------\n",h.products.forEach(e=>{var t,n,a;const r=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";f+="".concat(e.name," | ").concat(e.sku," | ").concat(e.category," | ").concat(e.stock_quantity," | ").concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA | ").concat((null===(a=e.stock_value)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA | ").concat(r,"\n")}));break;case"stock_movement":h.summary&&h.summary.length>0&&(f+="MOVEMENT SUMMARY:\n",h.summary.forEach(e=>{f+="".concat(e.movement_type,": ").concat(e.total_quantity," units (").concat(e.count," movements)\n")}),f+="\n"),h.movements&&h.movements.length>0&&(f+="MOVEMENT DETAILS:\n",f+="Date | Product | SKU | Type | Quantity | Reference | Notes | User\n",f+="-----|---------|-----|------|----------|-----------|-------|-----\n",h.movements.forEach(e=>{f+="".concat(R(e.created_at)," | ").concat(e.product_name," | ").concat(e.product_sku," | ").concat(e.movement_type," | ").concat(e.quantity," | ").concat(e.reference_number||"-"," | ").concat(e.notes||"-"," | ").concat(e.created_by||"-","\n")}));break;default:f+="Report data:\n".concat(JSON.stringify(h,null,2))}return f},O=e=>{const{type:t,data:n}=e;let a="";switch(t){case"sales":n.details&&n.details.length>0&&(a+="Sale Number,Customer,Amount,Items,Sold By,Date\n",n.details.forEach(e=>{var t;a+='"'.concat(e.sale_number,'","').concat(e.customer_name||"Walk-in",'","').concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat(e.items_count,'","').concat(e.sold_by||"-",'","').concat(R(e.created_at),'"\n')}));break;case"inventory":n.products&&n.products.length>0&&(a+="Product,SKU,Category,Stock,Cost Price,Selling Price,Stock Value,Status\n",n.products.forEach(e=>{var t,n,r;const i=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";a+='"'.concat(e.name,'","').concat(e.sku,'","').concat(e.category,'","').concat(e.stock_quantity,'","').concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00",' MGA","').concat((null===(r=e.stock_value)||void 0===r?void 0:r.toFixed(2))||"0.00",' MGA","').concat(i,'"\n')}));break;case"stock_movement":n.movements&&n.movements.length>0&&(a+="Date,Product,SKU,Type,Quantity,Reference,Notes,User\n",n.movements.forEach(e=>{a+='"'.concat(R(e.created_at),'","').concat(e.product_name,'","').concat(e.product_sku,'","').concat(e.movement_type,'","').concat(e.quantity,'","').concat(e.reference_number||"-",'","').concat(e.notes||"-",'","').concat(e.created_by||"-",'"\n')}));break;default:a="Report data not available for CSV export"}return a},A=(e,t,n)=>{const a=new Blob([e],{type:n}),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)},R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u&&!j?(0,ua.jsx)("div",{className:"reports",children:(0,ua.jsxs)("div",{className:"reports-loading",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("span",{children:"Loading reports..."})]})}):(0,ua.jsxs)("div",{className:"reports",children:[(0,ua.jsxs)("div",{className:"reports-header",children:[(0,ua.jsx)("h1",{children:l("titles.reports")}),(0,ua.jsx)("p",{children:"Generate detailed reports and export them for analysis"})]}),p&&(0,ua.jsxs)("div",{className:"alert alert-error",children:[(0,ua.jsx)("span",{children:"\u26a0\ufe0f"}),p]}),h&&(0,ua.jsxs)("div",{className:"alert alert-success",children:[(0,ua.jsx)("span",{children:"\u2705"}),h]}),(0,ua.jsxs)("div",{className:"reports-content",children:[(0,ua.jsxs)("div",{className:"report-types-section",children:[(0,ua.jsx)("h2",{children:"Select Report Type"}),(0,ua.jsx)("div",{className:"report-types-grid",children:N.map(e=>(0,ua.jsxs)("div",{className:"report-type-card ".concat(y===e.id?"selected":""),onClick:()=>(e=>{_(e),S(!0),w(null),m(""),f("")})(e.id),children:[(0,ua.jsx)("div",{className:"report-type-icon",style:{backgroundColor:e.color},children:e.icon}),(0,ua.jsxs)("div",{className:"report-type-content",children:[(0,ua.jsx)("h3",{children:e.name}),(0,ua.jsx)("p",{children:e.description})]})]},e.id))})]}),k&&(0,ua.jsxs)("div",{className:"filters-section",children:[(0,ua.jsx)("h2",{children:"Report Filters"}),(0,ua.jsxs)("div",{className:"filters-grid",children:[(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Start Date"}),(0,ua.jsx)("input",{type:"date",value:b.start_date,onChange:e=>P("start_date",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"End Date"}),(0,ua.jsx)("input",{type:"date",value:b.end_date,onChange:e=>P("end_date",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Product ID"}),(0,ua.jsx)("input",{type:"text",placeholder:"Enter product ID",value:b.product_id,onChange:e=>P("product_id",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Category ID"}),(0,ua.jsx)("input",{type:"text",placeholder:"Enter category ID",value:b.category_id,onChange:e=>P("category_id",e.target.value)})]}),(0,ua.jsxs)("div",{className:"filter-group",children:[(0,ua.jsx)("label",{children:"Customer Name"}),(0,ua.jsx)("input",{type:"text",placeholder:"Enter customer name",value:b.customer_name,onChange:e=>P("customer_name",e.target.value)})]})]}),(0,ua.jsxs)("div",{className:"filters-actions",children:[(0,ua.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(y)try{d(!0),m(""),f("");let e={};b.start_date&&(e.start_date=b.start_date),b.end_date&&(e.end_date=b.end_date);let t="";switch(y){case"sales":t="/api/reports/sales/",e={start_date:b.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:b.end_date||(new Date).toISOString().split("T")[0],include_details:!0,group_by:"day"};break;case"inventory":if(t="/api/reports/inventory/",e={},b.category_id){const t=parseInt(b.category_id);isNaN(t)||(e.category=t)}e.low_stock_only=!1,e.out_of_stock_only=!1,e.include_inactive=!1;break;case"stock_movement":if(t="/api/reports/stock-movements/",e={start_date:b.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:b.end_date||(new Date).toISOString().split("T")[0]},b.product_id){const t=parseInt(b.product_id);isNaN(t)||(e.product=t)}break;default:return void m("Report type not implemented yet")}const n=await ca.post(t,e);w({type:y,data:n.data,generated_at:(new Date).toISOString()}),f("Report generated successfully!")}catch(n){var e,t;m("Failed to generate report: ".concat((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message)),console.error("Report generation error:",n)}finally{d(!1)}else m("Please select a report type")},disabled:u,children:u?"Generating...":"Generate Report"}),(0,ua.jsx)("button",{className:"btn btn-secondary",onClick:()=>S(!1),children:"Cancel"})]})]}),j&&(0,ua.jsxs)("div",{className:"generated-report-section",children:[(0,ua.jsxs)("div",{className:"report-header",children:[(0,ua.jsxs)("h2",{children:[null===(e=N.find(e=>e.id===y))||void 0===e?void 0:e.name,(0,ua.jsxs)("span",{className:"report-date",children:["Generated: ",R(j.generated_at)]})]}),(0,ua.jsxs)("div",{className:"report-actions",children:["sales"===y&&j.data&&(0,ua.jsx)(Qa,{data:Ut(Ut({},j.data),{},{report_type:y,report_name:null===(t=N.find(e=>e.id===y))||void 0===t?void 0:t.name,generated_at:j.generated_at,date_range:{start_date:b.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:b.end_date||(new Date).toISOString().split("T")[0]},user_name:(null===c||void 0===c?void 0:c.username)||l("app.unknown_user"),user_id:(null===c||void 0===c?void 0:c.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"REPORT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:(null===(n=N.find(e=>e.id===y))||void 0===n?void 0:n.name)||"Sales Report",type:"sales_report",printText:l("buttons.print_report")||"Print Report",className:"print-report-btn"}),"inventory"===y&&j.data&&(0,ua.jsxs)(ua.Fragment,{children:[(null===(r=j.data.products)||void 0===r?void 0:r.some(e=>e.is_low_stock))&&(0,ua.jsx)(Qa,{data:Ut(Ut({},j.data),{},{report_type:y,report_name:"Low Stock Report",filter_type:"low_stock",generated_at:j.generated_at,user_name:(null===c||void 0===c?void 0:c.username)||l("app.unknown_user"),user_id:(null===c||void 0===c?void 0:c.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"LOW-STOCK-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:"Low Stock Report",type:"inventory_report",printText:l("buttons.print_low_stock")||"Print Low Stock",className:"print-report-btn"}),(null===(i=j.data.products)||void 0===i?void 0:i.some(e=>e.is_out_of_stock))&&(0,ua.jsx)(Qa,{data:Ut(Ut({},j.data),{},{report_type:y,report_name:"Out of Stock Report",filter_type:"out_of_stock",generated_at:j.generated_at,user_name:(null===c||void 0===c?void 0:c.username)||l("app.unknown_user"),user_id:(null===c||void 0===c?void 0:c.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"OUT-OF-STOCK-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:"Out of Stock Report",type:"inventory_report",printText:l("buttons.print_out_of_stock")||"Print Out of Stock",className:"print-report-btn"}),(0,ua.jsx)(Qa,{data:Ut(Ut({},j.data),{},{report_type:y,report_name:null===(s=N.find(e=>e.id===y))||void 0===s?void 0:s.name,generated_at:j.generated_at,user_name:(null===c||void 0===c?void 0:c.username)||l("app.unknown_user"),user_id:(null===c||void 0===c?void 0:c.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"INVENTORY-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:(null===(o=N.find(e=>e.id===y))||void 0===o?void 0:o.name)||"Inventory Report",type:"inventory_report",printText:l("buttons.print_report")||"Print Report",className:"print-report-btn"})]}),(0,ua.jsx)("button",{className:"btn btn-success",onClick:()=>E("pdf"),disabled:u,children:"\ud83d\udcc4 Export Text"}),(0,ua.jsx)("button",{className:"btn btn-info",onClick:()=>E("excel"),disabled:u,children:"\ud83d\udcca Export CSV"})]})]}),(()=>{var e,t,n,a,r,i,s,o,c,u,d,p,m,h;if(!j)return null;const{type:f,data:v}=j;switch(f){case"sales":return(0,ua.jsxs)("div",{className:"report-data",children:[(0,ua.jsx)("h3",{children:"Sales Report Data"}),(0,ua.jsxs)("div",{className:"sales-summary",children:[(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Revenue"}),(0,ua.jsx)("p",{children:Ha((null===(e=v.summary)||void 0===e?void 0:e.total_sales)||0)})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Cost"}),(0,ua.jsx)("p",{children:Ha((null===(t=v.summary)||void 0===t?void 0:t.total_cost)||0)})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Profit"}),(0,ua.jsx)("p",{className:"profit",children:Ha((null===(n=v.summary)||void 0===n?void 0:n.profit)||0)})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Profit Margin"}),(0,ua.jsxs)("p",{children:[(null===(a=v.summary)||void 0===a||null===(r=a.profit_margin)||void 0===r?void 0:r.toFixed(2))||"0.00","%"]})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Transactions"}),(0,ua.jsx)("p",{children:(null===(i=v.summary)||void 0===i?void 0:i.total_count)||0})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Items Sold"}),(0,ua.jsx)("p",{children:(null===(s=v.summary)||void 0===s?void 0:s.total_items)||0})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Average Sale"}),(0,ua.jsx)("p",{children:null!==(o=v.summary)&&void 0!==o&&o.total_sales&&null!==(c=v.summary)&&void 0!==c&&c.total_count?Ha(v.summary.total_sales/v.summary.total_count):Ha(0)})]})]}),v.chart_data&&v.chart_data.length>0&&(0,ua.jsxs)("div",{className:"sales-chart",children:[(0,ua.jsx)("h4",{children:"Sales Trend"}),(0,ua.jsxs)("div",{className:"chart-container",children:[(0,ua.jsx)("div",{className:"chart-bars",children:v.chart_data.map((e,t)=>{const n=Math.max(...v.chart_data.map(e=>Math.max(e.total||0,e.cost||0)));return(0,ua.jsxs)("div",{className:"chart-bar",children:[(0,ua.jsxs)("div",{className:"bar-group",children:[(0,ua.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,(e.total||0)/n*100),"%")},title:"Revenue: ".concat(Ha(e.total||0))}),(0,ua.jsx)("div",{className:"bar cost-bar",style:{height:"".concat(Math.max(5,(e.cost||0)/n*100),"%")},title:"Cost: ".concat(Ha(e.cost||0))})]}),(0,ua.jsx)("div",{className:"bar-label",children:e.date}),(0,ua.jsxs)("div",{className:"bar-values",children:[(0,ua.jsx)("div",{className:"value sales",children:Ha(e.total||0)}),(0,ua.jsx)("div",{className:"value cost",children:Ha(e.cost||0)})]})]},t)})}),(0,ua.jsxs)("div",{className:"chart-legend",children:[(0,ua.jsxs)("div",{className:"legend-item",children:[(0,ua.jsx)("div",{className:"legend-color sales"}),(0,ua.jsx)("span",{children:"Revenue"})]}),(0,ua.jsxs)("div",{className:"legend-item",children:[(0,ua.jsx)("div",{className:"legend-color cost"}),(0,ua.jsx)("span",{children:"Cost"})]})]})]})]}),v.top_products&&v.top_products.length>0&&(0,ua.jsxs)("div",{className:"top-products-section",children:[(0,ua.jsx)("h4",{children:"Top Selling Products"}),(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("table",{children:[(0,ua.jsx)("thead",{children:(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("th",{children:"Product"}),(0,ua.jsx)("th",{children:"SKU"}),(0,ua.jsx)("th",{children:"Quantity Sold"}),(0,ua.jsx)("th",{children:"Revenue"}),(0,ua.jsx)("th",{children:"Cost"}),(0,ua.jsx)("th",{children:"Profit"}),(0,ua.jsx)("th",{children:"Margin"})]})}),(0,ua.jsx)("tbody",{children:v.top_products.map((e,t)=>{var n;return(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("td",{children:e.product__name}),(0,ua.jsx)("td",{children:e.product__sku}),(0,ua.jsxs)("td",{children:[e.total_sold," ",e.unit_symbol||"piece"]}),(0,ua.jsx)("td",{children:Ha(e.total_revenue||0)}),(0,ua.jsx)("td",{children:Ha(e.total_cost||0)}),(0,ua.jsx)("td",{className:"profit",children:Ha(e.profit||0)}),(0,ua.jsxs)("td",{children:[(null===(n=e.profit_margin)||void 0===n?void 0:n.toFixed(1))||"0.0","%"]})]},t)})})]})})]}),v.details&&v.details.length>0&&(0,ua.jsxs)("div",{className:"sales-details",children:[(0,ua.jsx)("h4",{children:"Sales Details"}),(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("table",{children:[(0,ua.jsx)("thead",{children:(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("th",{children:"Sale Number"}),(0,ua.jsx)("th",{children:"Customer"}),(0,ua.jsx)("th",{children:"Amount"}),(0,ua.jsx)("th",{children:"Items"}),(0,ua.jsx)("th",{children:"Sold By"}),(0,ua.jsx)("th",{children:"Date"})]})}),(0,ua.jsx)("tbody",{children:v.details.map((e,t)=>{var n;return(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("td",{children:e.sale_number}),(0,ua.jsx)("td",{children:e.customer_name||"Walk-in"}),(0,ua.jsxs)("td",{children:[(null===(n=e.total_amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]}),(0,ua.jsx)("td",{children:e.items_count}),(0,ua.jsx)("td",{children:e.sold_by||"-"}),(0,ua.jsx)("td",{children:R(e.created_at)})]},t)})})]})})]})]});case"inventory":return(0,ua.jsxs)("div",{className:"report-data",children:[(0,ua.jsx)("h3",{children:l("titles.inventory_report_data")}),(0,ua.jsxs)("div",{className:"inventory-summary",children:[(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Products"}),(0,ua.jsx)("p",{children:(null===(u=v.summary)||void 0===u?void 0:u.total_products)||0})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Total Value"}),(0,ua.jsxs)("p",{children:[(null===(d=v.summary)||void 0===d||null===(p=d.total_value)||void 0===p?void 0:p.toFixed(2))||"0.00"," MGA"]})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Low Stock Items"}),(0,ua.jsx)("p",{children:(null===(m=v.summary)||void 0===m?void 0:m.low_stock_count)||0})]}),(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:"Out of Stock"}),(0,ua.jsx)("p",{children:(null===(h=v.summary)||void 0===h?void 0:h.out_of_stock_count)||0})]})]}),v.products&&v.products.length>0&&(0,ua.jsxs)("div",{className:"inventory-details",children:[(0,ua.jsx)("h4",{children:"Product Details"}),(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("table",{children:[(0,ua.jsx)("thead",{children:(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("th",{children:"Product"}),(0,ua.jsx)("th",{children:"SKU"}),(0,ua.jsx)("th",{children:"Category"}),(0,ua.jsx)("th",{children:"Stock"}),(0,ua.jsx)("th",{children:"Unit"}),(0,ua.jsx)("th",{children:"Min Level"}),(0,ua.jsx)("th",{children:"Cost Price"}),(0,ua.jsx)("th",{children:"Selling Price"}),(0,ua.jsx)("th",{children:"Stock Value"}),(0,ua.jsx)("th",{children:"Status"})]})}),(0,ua.jsx)("tbody",{children:v.products.map((e,t)=>{var n,a;return(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("td",{children:e.name}),(0,ua.jsx)("td",{children:e.sku}),(0,ua.jsx)("td",{children:e.category}),(0,ua.jsx)("td",{children:(null===(n=e.stock_quantity)||void 0===n?void 0:n.toFixed(2))||"0.00"}),(0,ua.jsx)("td",{children:e.base_unit_symbol||e.base_unit_name||"piece"}),(0,ua.jsx)("td",{children:(null===(a=e.min_stock_level)||void 0===a?void 0:a.toFixed(2))||"0.00"}),(0,ua.jsx)("td",{children:Ha(e.cost_price||0)}),(0,ua.jsx)("td",{children:Ha(e.selling_price||0)}),(0,ua.jsx)("td",{children:Ha(e.stock_value||0)}),(0,ua.jsx)("td",{children:(0,ua.jsx)("span",{className:"status ".concat(e.is_out_of_stock?"out-of-stock":e.is_low_stock?"low-stock":"in-stock"),children:e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock"})})]},t)})})]})})]})]});case"stock_movement":return(0,ua.jsxs)("div",{className:"report-data",children:[(0,ua.jsx)("h3",{children:l("titles.stock_movement_report_data")}),v.summary&&v.summary.length>0&&(0,ua.jsxs)("div",{className:"movement-summary",children:[(0,ua.jsx)("h4",{children:"Movement Summary"}),(0,ua.jsx)("div",{className:"summary-cards",children:v.summary.map((e,t)=>(0,ua.jsxs)("div",{className:"summary-card",children:[(0,ua.jsx)("h4",{children:e.movement_type}),(0,ua.jsxs)("p",{children:["Quantity: ",e.total_quantity]}),(0,ua.jsxs)("p",{children:["Count: ",e.count]})]},t))})]}),v.movements&&v.movements.length>0&&(0,ua.jsxs)("div",{className:"stock-movements",children:[(0,ua.jsx)("h4",{children:"Movement Details"}),(0,ua.jsx)("div",{className:"table-container",children:(0,ua.jsxs)("table",{children:[(0,ua.jsx)("thead",{children:(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("th",{children:"Date"}),(0,ua.jsx)("th",{children:"Product"}),(0,ua.jsx)("th",{children:"SKU"}),(0,ua.jsx)("th",{children:"Type"}),(0,ua.jsx)("th",{children:"Quantity"}),(0,ua.jsx)("th",{children:"Reference"}),(0,ua.jsx)("th",{children:"Notes"}),(0,ua.jsx)("th",{children:"User"})]})}),(0,ua.jsx)("tbody",{children:v.movements.map((e,t)=>(0,ua.jsxs)("tr",{children:[(0,ua.jsx)("td",{children:R(e.created_at)}),(0,ua.jsx)("td",{children:e.product_name}),(0,ua.jsx)("td",{children:e.product_sku}),(0,ua.jsx)("td",{children:(0,ua.jsx)("span",{className:"movement-type ".concat(e.movement_type),children:e.movement_type})}),(0,ua.jsx)("td",{children:e.quantity}),(0,ua.jsx)("td",{children:e.reference_number||"-"}),(0,ua.jsx)("td",{children:e.notes||"-"}),(0,ua.jsx)("td",{children:e.created_by||"-"})]},t))})]})})]})]});default:return(0,ua.jsxs)("div",{className:"report-data",children:[(0,ua.jsx)("p",{children:"Report data format not implemented yet."}),(0,ua.jsx)("pre",{children:JSON.stringify(v,null,2)})]})}})()]}),(0,ua.jsxs)("div",{className:"previous-reports-section",children:[(0,ua.jsx)("h2",{children:l("titles.previous_reports")}),v.length>0?(0,ua.jsx)("div",{className:"reports-list",children:v.map(e=>(0,ua.jsxs)("div",{className:"report-item",children:[(0,ua.jsxs)("div",{className:"report-info",children:[(0,ua.jsx)("h4",{children:e.name}),(0,ua.jsx)("p",{children:e.description}),(0,ua.jsxs)("div",{className:"report-meta",children:[(0,ua.jsxs)("span",{children:["Type: ",e.report_type]}),(0,ua.jsxs)("span",{children:["Generated: ",R(e.generated_at)]}),(0,ua.jsxs)("span",{children:["By: ",e.generated_by_name]})]})]}),(0,ua.jsx)("div",{className:"report-actions",children:e.file_path&&(0,ua.jsx)("button",{className:"btn btn-sm btn-outline",children:"\ud83d\udce5 Download"})})]},e.id))}):(0,ua.jsx)("p",{className:"no-data",children:"No previous reports found"})]})]})]})},yr=()=>{const{t:e}=Ea(),t={"elif-orders-app":"orders.elif","elif-sales-app":"sales.elif","elif-admin-app":"admin.elif"},n=((()=>{const e=parseInt(window.location.port);window.location.hostname;if(3e3===e)return"elif-orders-app";if(3001===e)return"elif-sales-app";if(3002===e)return"elif-admin-app";const t=window.location.pathname.split("/").filter(e=>e),n=["elif-admin-app","elif-orders-app","elif-sales-app"],a=t.find(e=>n.includes(e))})(),(()=>{const e=window.location.pathname.split("/").filter(e=>e),t=["elif-admin-app","elif-orders-app","elif-sales-app"],n=e.find(e=>t.includes(e));n&&"/".concat(n)})(),window.location.hostname,e=>{const n=window.location.protocol,a=t[e];return"".concat(n,"//").concat(a)}),a=[{name:"Admin App",url:n("elif-admin-app"),icon:"\u2699\ufe0f",description:"Manage inventory, users, system settings, and more"},{name:"Orders App",url:n("elif-orders-app"),icon:"\ud83d\udccb",description:"Manage purchase orders, inventory, and suppliers"}];return(0,ua.jsxs)("div",{className:"all-pages",children:[(0,ua.jsxs)("div",{className:"all-pages-header",children:[(0,ua.jsx)("h1",{children:e("all_pages.title")||"All Pages"}),(0,ua.jsx)("p",{children:e("all_pages.subtitle")||"Access other applications"})]}),(0,ua.jsx)("div",{className:"all-pages-content",children:(0,ua.jsx)("div",{className:"pages-grid",children:a.map((t,n)=>(0,ua.jsxs)("div",{className:"page-card",children:[(0,ua.jsxs)("div",{className:"page-card-header",children:[(0,ua.jsx)("span",{className:"page-icon",children:t.icon}),(0,ua.jsx)("h3",{children:t.name})]}),(0,ua.jsx)("div",{className:"page-card-body",children:(0,ua.jsx)("p",{children:t.description})}),(0,ua.jsx)("div",{className:"page-card-footer",children:(0,ua.jsx)("a",{href:t.url,className:"page-link",children:e("all_pages.access_app")||"Access App"})})]},n))})})]})},_r=e=>"string"===typeof e,br=()=>{let e,t;const n=new Promise((n,a)=>{e=n,t=a});return n.resolve=e,n.reject=t,n},xr=e=>null==e?"":""+e,jr=/###/g,wr=e=>e&&e.indexOf("###")>-1?e.replace(jr,"."):e,kr=e=>!e||_r(e),Sr=(e,t,n)=>{const a=_r(t)?t.split("."):t;let r=0;for(;r<a.length-1;){if(kr(e))return{};const t=wr(a[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return kr(e)?{}:{obj:e,k:wr(a[r])}},Nr=(e,t,n)=>{const{obj:a,k:r}=Sr(e,t,Object);if(void 0!==a||1===t.length)return void(a[r]=n);let i=t[t.length-1],s=t.slice(0,t.length-1),o=Sr(e,s,Object);for(;void 0===o.obj&&s.length;){var l;i="".concat(s[s.length-1],".").concat(i),s=s.slice(0,s.length-1),o=Sr(e,s,Object),null!==(l=o)&&void 0!==l&&l.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(i)]&&(o.obj=void 0)}o.obj["".concat(o.k,".").concat(i)]=n},Cr=(e,t)=>{const{obj:n,k:a}=Sr(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},Pr=(e,t,n)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?_r(e[a])||e[a]instanceof String||_r(t[a])||t[a]instanceof String?n&&(e[a]=t[a]):Pr(e[a],t[a],n):e[a]=t[a]);return e},Er=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Or=e=>_r(e)?e.replace(/[&<>"'\/]/g,e=>Tr[e]):e;const Ar=[" ",",","?","!",";"],Rr=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Fr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const a=t.split(n);let r=e;for(let i=0;i<a.length;){if(!r||"object"!==typeof r)return;let e,t="";for(let s=i;s<a.length;++s)if(s!==i&&(t+=n),t+=a[s],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<a.length-1)continue;i+=s-i+1;break}r=e}return r},Dr=e=>null===e||void 0===e?void 0:e.replace("_","-"),Lr={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,a;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(a=n.apply)||void 0===a||a.call(n,console,t)}};class Mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Lr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:(_r(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Mr(this.logger,Ut(Ut({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Mr(this.logger,e)}}var Ir=new Mr;class zr{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,a]=e;for(let r=0;r<a;r++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[a,r]=t;for(let i=0;i<r;i++)a.apply(a,[e,...n])})}}}class Ur extends zr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):_r(n)&&i?o.push(...n.split(i)):o.push(n)));const l=Cr(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),!l&&s&&_r(n)?Fr(null===(a=this.data)||void 0===a||null===(a=a[e])||void 0===a?void 0:a[t],n,i):l}addResource(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."),a=t,t=s[1]),this.addNamespaces(t),Nr(this.data,s,a),r.silent||this.emit("added",e,t,n,a)}addResources(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(_r(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),a=n,n=t,t=s[1]),this.addNamespaces(t);let o=Cr(this.data,s)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?Pr(o,n,r):o=Ut(Ut({},o),n),Nr(this.data,s,o),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var qr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,a,r){return e.forEach(e=>{var i,s;t=null!==(i=null===(s=this.processors[e])||void 0===s?void 0:s.process(t,n,a,r))&&void 0!==i?i:t}),t}};const Vr=Symbol("i18next/PATH_KEY");function Br(e,t){var n;const{[Vr]:a}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(a,r)=>{var i,s;return null===(i=n)||void 0===i||null===(s=i.revoke)||void 0===s||s.call(i),r===Vr?e:(e.push(r),n=Proxy.revocable(a,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return a.join(null!==(n=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==n?n:".")}const Qr={},Hr=e=>!_r(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Wr extends zr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ir.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=Ut({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const a=Ar.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===a.length)return!0;const r=Rr.getRegExp("(".concat(a.map(e=>"?"===e?"\\?":e).join("|"),")"));let i=!r.test(e);if(!i){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(i=!0)}return i})(e,n,a);if(i&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:_r(r)?[r]:r};const i=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(a)}return{key:e,namespaces:_r(r)?[r]:r}}translate(e,t,n){let a="object"===typeof t?Ut({},t):t;if("object"!==typeof a&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof a&&(a=Ut({},a)),a||(a={}),null==e)return"";"function"===typeof e&&(e=Br(e,Ut(Ut({},this.options),a))),Array.isArray(e)||(e=[String(e)]);const r=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,i=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],a),l=o[o.length-1];let c=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const u=a.lng||this.language,d=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===u||void 0===u?void 0:u.toLowerCase()))return d?r?{res:"".concat(l).concat(c).concat(s),usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:"".concat(l).concat(c).concat(s):r?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:s;const p=this.resolve(e,a);let m=null===p||void 0===p?void 0:p.res;const h=(null===p||void 0===p?void 0:p.usedKey)||s,f=(null===p||void 0===p?void 0:p.exactUsedKey)||s,v=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==a.count&&!_r(a.count),_=Wr.hasDefaultValue(a),b=y?this.pluralResolver.getSuffix(u,a.count,a):"",x=a.ordinal&&y?this.pluralResolver.getSuffix(u,a.count,{ordinal:!1}):"",j=y&&!a.ordinal&&0===a.count,w=j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]||a["defaultValue".concat(b)]||a["defaultValue".concat(x)]||a.defaultValue;let k=m;g&&!m&&_&&(k=w);const S=Hr(k),N=Object.prototype.toString.apply(k);if(!(g&&k&&S&&["[object Number]","[object Function]","[object RegExp]"].indexOf(N)<0)||_r(v)&&Array.isArray(k))if(g&&_r(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,a,n));else{let t=!1,r=!1;!this.isValidLookup(m)&&_&&(t=!0,m=w),this.isValidLookup(m)||(r=!0,m=s);const o=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:m,d=_&&w!==m&&this.options.updateMissing;if(r||t||d){if(this.logger.log(d?"updateKey":"missingKey",u,l,s,d?w:m),i){const e=this.resolve(s,Ut(Ut({},a),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;a<t.length;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(a.lng||this.language):e.push(a.lng||this.language);const n=(e,t,n)=>{var r;const i=_&&n!==m?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,d,a):null!==(r=this.backendConnector)&&void 0!==r&&r.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,d,a),this.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,a);j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{n([e],s+t,a["defaultValue".concat(t)]||w)})}):n(e,s,w))}m=this.extendTranslation(m,e,a,p,n),r&&m===s&&this.options.appendNamespaceToMissingKey&&(m="".concat(l).concat(c).concat(s)),(r||t)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(c).concat(s):s,t?m:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,k,Ut(Ut({},a),{},{ns:o})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return r?(p.res=e,p.usedParams=this.getUsedParamsDetails(a),p):e}if(i){const e=Array.isArray(k),t=e?[]:{},n=e?f:h;for(const r in k)if(Object.prototype.hasOwnProperty.call(k,r)){const e="".concat(n).concat(i).concat(r);t[r]=_&&!m?this.translate(e,Ut(Ut({},a),{},{defaultValue:Hr(w)?w[r]:void 0},{joinArrays:!1,ns:o})):this.translate(e,Ut(Ut({},a),{joinArrays:!1,ns:o})),t[r]===e&&(t[r]=k[r])}m=t}}return r?(p.res=m,p.usedParams=this.getUsedParamsDetails(a),p):m}extendTranslation(e,t,n,a,r){var i,s=this;if(null!==(i=this.i18nFormat)&&void 0!==i&&i.parse)e=this.i18nFormat.parse(e,Ut(Ut({},this.options.interpolation.defaultVariables),n),n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){var o;n.interpolation&&this.interpolator.init(Ut(Ut({},n),{interpolation:Ut(Ut({},this.options.interpolation),n.interpolation)}));const i=_r(e)&&(void 0!==(null===n||void 0===n||null===(o=n.interpolation)||void 0===o?void 0:o.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(i){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!_r(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Ut(Ut({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language||a.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(null===r||void 0===r?void 0:r[0])!==a[0]||n.context?s.translate(...a,t):(s.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=_r(l)?[l]:l;return null!=e&&null!==c&&void 0!==c&&c.length&&!1!==n.applyPostProcessor&&(e=qr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?Ut({i18nResolved:Ut(Ut({},a),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,a,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _r(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,s),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&!_r(s.count),d=u&&!s.ordinal&&0===s.count,p=void 0!==s.context&&(_r(s.context)||"number"===typeof s.context)&&""!==s.context,m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(t)||(i=e,Qr["".concat(m[0],"-").concat(e)]||null===(o=this.utils)||void 0===o||!o.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(i)||(Qr["".concat(m[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(n=>{var i;if(this.isValidLookup(t))return;r=n;const o=[l];if(null!==(i=this.i18nFormat)&&void 0!==i&&i.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),a="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(s.ordinal&&0===e.indexOf(a)&&o.push(l+e.replace(a,this.options.pluralSeparator)),o.push(l+e),d&&o.push(l+t)),p){const n="".concat(l).concat(this.options.contextSeparator||"_").concat(s.context);o.push(n),u&&(s.ordinal&&0===e.indexOf(a)&&o.push(n+e.replace(a,this.options.pluralSeparator)),o.push(n+e),d&&o.push(n+t))}}let c;for(;c=o.pop();)this.isValidLookup(t)||(a=c,t=this.getResource(n,e,c,s))}))})}),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(a=this.i18nFormat)&&void 0!==a&&a.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!_r(e.replace);let a=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=Ut(Ut({},this.options.interpolation.defaultVariables),a)),!n){a=Ut({},a);for(const e of t)delete a[e]}return a}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Kr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ir.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Dr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Dr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(_r(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(Li){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const a=this.getLanguagePartFromCode(e);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(e=>e===a?e:e.indexOf("-")<0&&a.indexOf("-")<0?void 0:e.indexOf("-")>0&&a.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===a||0===e.indexOf(a)&&a.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),_r(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),a=[],r=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return _r(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):_r(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{a.indexOf(e)<0&&r(this.formatLanguageCode(e))}),a}}const $r={zero:0,one:1,two:2,few:3,many:4,other:5},Gr={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Jr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ir.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Dr("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:a});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let i;try{i=new Intl.PluralRules(n,{type:a})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Gr;if(!e.match(/-|_/))return Gr;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[r]=i,i}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),(null===(t=a)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>$r[e]-$r[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.getRule(e,n);return a?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(a.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const Yr=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,n)=>{const a=Cr(e,n);return void 0!==a?a:Cr(t,n)})(e,t,n);return!i&&r&&_r(n)&&(i=Fr(e,n,a),void 0===i&&(i=Fr(t,n,a))),i},Xr=e=>e.replace(/\$/g,"$$$$");class Zr{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ir.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:a,prefix:r,prefixEscaped:i,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:f,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=void 0!==t?t:Or,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==a&&a,this.prefix=r?Er(r):i||"{{",this.suffix=s?Er(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Er(d):p||Er("$t("),this.nestingSuffix=m?Er(m):h||Er(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==g&&g,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,n,a){var r;let i,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=Yr(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,Ut(Ut(Ut({},a),t),{},{interpolationkey:e})):r}const r=e.split(this.formatSeparator),i=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(Yr(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,Ut(Ut(Ut({},a),t),{},{interpolationkey:i}))};this.resetRegExp();const u=(null===a||void 0===a?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=void 0!==(null===a||void 0===a||null===(r=a.interpolation)||void 0===r?void 0:r.skipOnVariables)?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Xr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Xr(this.escape(e)):Xr(e)}].forEach(t=>{for(o=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=c(n),void 0===s)if("function"===typeof u){const t=u(e,i,a);s=_r(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,n))s="";else{if(d){s=i[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else _r(s)||this.useRawValueToEscape||(s=xr(s));const r=t.safeValue(s);if(e=e.replace(i[0],r),d?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n,a,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{var n;const a=this.nestingOptionsSeparator;if(e.indexOf(a)<0)return e;const i=e.split(new RegExp("".concat(a,"[ ]*{")));let s="{".concat(i[1]);e=i[0],s=this.interpolate(s,r);const o=s.match(/'/g),l=s.match(/"/g);((null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(s=s.replace(/'/g,'"'));try{r=JSON.parse(s),t&&(r=Ut(Ut({},t),r))}catch(Li){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),Li),"".concat(e).concat(a).concat(s)}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];r=Ut({},i),r=r.replace&&!_r(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(o=n[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),a=t(s.call(this,n[1].trim(),r),r),a&&n[0]===e&&!_r(a))return a;_r(a)||(a=xr(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),o.length&&(a=o.reduce((e,t)=>this.format(e,t,i.lng,Ut(Ut({},i),{},{interpolationkey:n[1].trim()})),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const ei=e=>{const t={};return(n,a,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i=Ut(Ut({},i),{},{[r.interpolationkey]:void 0}));const s=a+JSON.stringify(i);let o=t[s];return o||(o=e(Dr(a),r),t[s]=o),o(n)}},ti=e=>(t,n,a)=>e(Dr(n),a)(t);class ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ir.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?ei:ti;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,Ut({},t));return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,Ut(Ut({},t),{},{style:"currency"}));return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,Ut({},t));return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,Ut({},t));return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,Ut({},t));return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ei(t)}format(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce((e,t)=>{const{formatName:r,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),r=a.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=r),"false"===r&&(n[i]=!1),"true"===r&&(n[i]=!0),isNaN(r)||(n[i]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{var s;const o=(null===a||void 0===a||null===(s=a.formatParams)||void 0===s?void 0:s[a.interpolationkey])||{},l=o.locale||o.lng||a.locale||a.lng||n;t=this.formats[r](e,l,Ut(Ut(Ut({},i),a),o))}catch(o){this.logger.warn(o)}return t}return this.logger.warn("there was no format function for ".concat(r)),e},e)}}class ai extends zr{constructor(e,t,n){var a,r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ir.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],null===(a=this.backend)||void 0===a||null===(r=a.init)||void 0===r||r.call(a,n,i.backend,i)}queueLoad(e,t,n,a){const r={},i={},s={},o={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const s="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,a=!1,void 0===i[s]&&(i[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),a||(s[e]=!0)}),(Object.keys(r).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(r),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const a=e.split("|"),r=a[0],i=a[1];t&&this.emit("failedLoading",r,i,t),!t&&n&&this.store.addResourceBundle(r,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:a,k:r}=Sr(e,t,Object);a[r]=a[r]||[],a[r].push(n)})(n.loaded,[r],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:r,callback:i});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&a<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,a+1,2*r,i)},r):i(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"===typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();_r(e)&&(e=this.languageUtils.toResolveHierarchy(e)),_r(t)&&(t=[t]);const r=this.queueLoad(e,t,n,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),a=n[0],r=n[1];this.read(a,r,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(r," for language ").concat(a," failed"),n),!n&&i&&this.logger.log("".concat(t,"loaded namespace ").concat(r," for language ").concat(a),i),this.loaded(e,n,i)})}saveMissing(e,t,n,a,r){var i,s,o;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(i=this.services)||void 0===i||null===(i=i.utils)||void 0===i||!i.hasLoadedNamespace||null!==(s=this.services)&&void 0!==s&&null!==(s=s.utils)&&void 0!==s&&s.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(o=this.backend)&&void 0!==o&&o.create){const i=Ut(Ut({},l),{},{isUpdate:r}),s=this.backend.create.bind(this.backend);if(s.length<6)try{let r;r=5===s.length?s(e,t,n,a,i):s(e,t,n,a),r&&"function"===typeof r.then?r.then(e=>c(null,e)).catch(c):c(null,r)}catch(u){c(u)}else s(e,t,n,a,c,i)}e&&e[0]&&this.store.addResource(e[0],t,n,a)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const ri=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),_r(e[1])&&(t.defaultValue=e[1]),_r(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ii=e=>{var t,n;return _r(e.ns)&&(e.ns=[e.ns]),_r(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),_r(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},si=()=>{};class oi extends zr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=ii(e),this.services={},this.logger=Ir,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(_r(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=ri();this.options=Ut(Ut(Ut({},a),this.options),ii(t)),this.options.interpolation=Ut(Ut({},a.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Ir.init(r(this.modules.logger),this.options):Ir.init(null,this.options),t=this.modules.formatter?this.modules.formatter:ni;const n=new Kr(this.options);this.store=new Ur(this.options.resources,this.options);const i=this.services;i.logger=Ir,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new Jr(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(i.formatter=r(t),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new Zr(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new ai(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Wr(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=si),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const i=br(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;const n=_r(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var a,r;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}null===(a=this.options.preload)||void 0===a||null===(r=a.forEach)||void 0===r||r.call(a,e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const a=br();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=si),this.services.backendConnector.reload(e,t,e=>{a.resolve(),n(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&qr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const a=br();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,s)=>{s?this.isLanguageChangingTo===e&&(r(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),t&&t(i,function(){return n.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=_r(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(_r(t)?[t]:t);var s,o;a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),null===(s=this.services.languageDetector)||void 0===s||null===(o=s.cacheUserLanguage)||void 0===o||o.call(s,a));this.loadResources(a,e=>{i(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),a}getFixedT(e,t,n){var a=this;const r=function(e,t){let i;if("object"!==typeof t){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];i=a.options.overloadTranslationOptionHandler([e,t].concat(o))}else i=Ut({},t);i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||r.keyPrefix);const c=a.options.keySeparator||".";let u;return i.keyPrefix&&Array.isArray(e)?u=e.map(e=>("function"===typeof e&&(e=Br(e,Ut(Ut({},a.options),t))),"".concat(i.keyPrefix).concat(c).concat(e))):("function"===typeof e&&(e=Br(e,Ut(Ut({},a.options),t))),u=i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(e):e),a.t(u,i)};return _r(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||a&&!i(r,e)))}loadNamespaces(e,t){const n=br();return this.options.ns?(_r(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=br();_r(e)&&(e=[e]);const a=this.options.preload||[],r=e.filter(e=>a.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=a.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(Li){}const a=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new Kr(ri());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new oi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a=Ut(Ut(Ut({},this.options),e),{isClone:!0}),r=new oi(a);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));if(["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services=Ut({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=Ut({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((n,a)=>(n[a]=Ut({},e[t][a]),n),e[t]),e),{});r.store=new Ur(e,a),r.services.resourceStore=r.store}return r.translator=new Wr(r.services,a),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.emit(e,...n)}),r.init(a,t),r.translator.options=a,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const li=oi.createInstance();li.createInstance=oi.createInstance;li.createInstance,li.dir,li.init,li.loadResources,li.reloadResources,li.use,li.changeLanguage,li.getFixedT,li.t,li.exists,li.setDefaultNamespace,li.hasLoadedNamespace,li.loadNamespaces,li.loadLanguages;const{slice:ci,forEach:ui}=[];const di=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pi={create(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),a&&(r.domain=a),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},a=encodeURIComponent(t);let r="".concat(e,"=").concat(a);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!di.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(n.domain)}if(n.path){if(!di.test(n.path))throw new TypeError("option path is invalid");r+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,r)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var mi={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return pi.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:a,cookieDomain:r,cookieOptions:i}=t;n&&"undefined"!==typeof document&&pi.create(n,e,a,r,i)}},hi={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var a;let{search:e}=window.location;!window.location.search&&(null===(a=window.location.hash)||void 0===a?void 0:a.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let a=0;a<r.length;a++){const e=r[a].indexOf("=");if(e>0){r[a].substring(0,e)===n&&(t=r[a].substring(e+1))}}}return t}},fi={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:a}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(n){const e=i.split("&");for(let a=0;a<e.length;a++){const r=e[a].indexOf("=");if(r>0){e[a].substring(0,r)===n&&(t=e[a].substring(r+1))}}}if(t)return t;if(!t&&a>-1){var r;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(r=t["number"===typeof a?a:0])||void 0===r?void 0:r.replace("/","")}}}return t}};let vi=null;const gi=()=>{if(null!==vi)return vi;try{if(vi="undefined"!==typeof window&&null!==window.localStorage,!vi)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(Li){vi=!1}return vi};var yi={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&gi())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&gi()&&window.localStorage.setItem(n,e)}};let _i=null;const bi=()=>{if(null!==_i)return _i;try{if(_i="undefined"!==typeof window&&null!==window.sessionStorage,!_i)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(Li){_i=!1}return _i};var xi={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&bi())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&bi()&&window.sessionStorage.setItem(n,e)}},ji={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:a}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},wi={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const a=n||("undefined"!==typeof document?document.documentElement:null);return a&&"function"===typeof a.getAttribute&&(t=a.getAttribute("lang")),t}},ki={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(a))return;return null===(t=a["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},Si={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const a="number"===typeof n?n+1:1,r="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[a]}};let Ni=!1;try{document.cookie,Ni=!0}catch(Li){}const Ci=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ni||Ci.splice(1,1);class Pi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return ui.call(ci.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:Ci,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(mi),this.addDetector(hi),this.addDetector(yi),this.addDetector(xi),this.addDetector(ji),this.addDetector(wi),this.addDetector(ki),this.addDetector(Si),this.addDetector(fi)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}Pi.type="languageDetector";const Ei={en:{translation:JSON.parse('{"common":{"loading":"Loading...","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","add":"Add","search":"Search","filter":"Filter","clear":"Clear","confirm":"Confirm","yes":"Yes","no":"No","close":"Close","back":"Back","next":"Next","previous":"Previous","submit":"Submit","reset":"Reset","print":"Print","export":"Export","import":"Import","refresh":"Refresh","view":"View","details":"Details","actions":"Actions","status":"Status","date":"Date","time":"Time","name":"Name","description":"Description","quantity":"Quantity","price":"Price","total":"Total","amount":"Amount","unit":"Unit","category":"Category","type":"Type","method":"Method","phone":"Phone","email":"Email","address":"Address","notes":"Notes","created":"Created","updated":"Updated","created_by":"Created By","updated_by":"Updated By","retry":"Retry","wholesale":"WS","piece":"Piece","retail":"STD"},"navigation":{"dashboard":"Dashboard","pos":"Point of Sale","pending_sales":"Pending Sales","sales_management":"Sales Management","packaging_management":"Packaging Management","reports":"Reports","logout":"Logout","profile":"Profile","settings":"Settings","all_pages":"All Pages"},"auth":{"login":"Login","logout":"Logout","username":"Username","password":"Password","remember_me":"Remember Me","forgot_password":"Forgot Password?","login_success":"Login successful","login_failed":"Login failed","invalid_credentials":"Invalid username or password","session_expired":"Session expired. Please login again.","access_denied":"Access denied. You don\'t have permission to access this resource."},"dashboard":{"title":"Dashboard","welcome":"Welcome back, {{username}}!","loading":"Loading dashboard...","error":"Error","failed_to_load":"Failed to load dashboard data","time_period":"Time Period:","daily":"Daily","weekly":"Weekly","monthly":"Monthly","sales_team_view":"Sales Team View - Daily Sales Only","total_revenue":"Total Revenue","transactions":"transactions","total_cost":"Total Cost","cost_of_goods_sold":"Cost of goods sold","profit":"Profit","margin":"margin","total_products":"Total Products","inventory_value":"Inventory Value","available_products":"available products","retail_value":"Retail Value","low_stock":"low stock","out_of_stock":"Out of Stock","products_need_restocking":"products need restocking","sales_trend":"Sales Trend (Last 31 Days)","no_sales_data":"No sales data available","recent_sales":"Recent Sales","print_recent_sales":"Print Recent Sales","recent_sales_report":"Recent Sales Report","click_to_view_details":"Click to view details","walk_in_customer":"Walk-in Customer","top_selling_products":"Top Selling Products","revenue":"Revenue","sold":"Sold","products":"products","low_stock_items":"low stock items","top_products":"Top Products","no_products_data":"No product data available","product_name":"Product Name","units_sold":"Units Sold","sales":"Sales","cost":"Cost","inventory_alerts":"Inventory Alerts","no_alerts":"No inventory alerts","quick_actions":"Quick Actions","go_to_pos":"Go to POS","manage_inventory":"Manage Inventory","view_reports":"View Reports","today_sales":"Today\'s Sales","this_week":"This Week","this_month":"This Month","this_year":"This Year"},"sales":{"title":"Sales Management","pos":"Point of Sale","pending_sales":"Pending Sales","sales_history":"Sales History","create_sale":"Create Sale","edit_sale":"Edit Sale","cancel_sale":"Cancel Sale","complete_sale":"Complete Sale","return_sale":"Return Sale","sale_number":"Sale Number","customer_name":"Customer Name","customer_phone":"Customer Phone","customer_email":"Customer Email","sale_date":"Sale Date","sale_status":"Sale Status","payment_method":"Payment Method","payment_status":"Payment Status","paid_amount":"Paid Amount","remaining_amount":"Remaining Amount","due_date":"Due Date","subtotal":"Subtotal","tax_amount":"Tax Amount","discount_amount":"Discount Amount","total_amount":"Total Amount","sold_by":"Sold By","items":"Items","add_item":"Add Item","remove_item":"Remove Item","item_name":"Item Name","item_quantity":"Quantity","item_price":"Price","item_total":"Total","cart":"Cart","cart_empty":"Cart is empty","checkout":"Checkout","payment_type":"Payment Type","full_payment":"Full Payment","partial_payment":"Partial Payment","amount_to_pay":"Amount to Pay","change":"Change","receipt":"Receipt","print_receipt":"Print Receipt","pending":"Pending","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded","paid":"Paid","partial":"Partial","cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer","no_sales":"No sales found","search_sales":"Search sales...","filter_by_status":"Filter by status","filter_by_date":"Filter by date","date_from":"From Date","date_to":"To Date"},"returns":{"title":"Return Management","create_return":"Create Return","return_number":"Return Number","original_sale":"Original Sale","return_items":"Return Items","return_quantity":"Return Quantity","max_returnable":"Max Returnable","return_reason":"Return Reason","refund_amount":"Refund Amount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded the amount they actually paid.","process_return":"Process Return","return_processed":"Return processed successfully","stock_restored":"Stock restored successfully"},"errors":{"general_error":"An error occurred. Please try again.","network_error":"Network error. Please check your connection.","validation_error":"Please check your input and try again.","permission_error":"You don\'t have permission to perform this action.","not_found":"The requested resource was not found.","server_error":"Server error. Please contact support.","timeout_error":"Request timeout. Please try again.","required_field":"This field is required.","invalid_email":"Please enter a valid email address.","invalid_phone":"Please enter a valid phone number.","invalid_number":"Please enter a valid number.","min_length":"Minimum length is {{min}} characters.","max_length":"Maximum length is {{max}} characters.","min_value":"Minimum value is {{min}}.","max_value":"Maximum value is {{max}}.","unique_value":"This value already exists.","stock_insufficient":"Insufficient stock available.","quantity_required":"Quantity is required.","price_required":"Price is required.","customer_required":"Customer information is required for partial payments."},"success":{"saved":"Saved successfully","updated":"Updated successfully","deleted":"Deleted successfully","created":"Created successfully","sale_completed":"Sale completed successfully","sale_cancelled":"Sale cancelled successfully","return_processed":"Return processed successfully","payment_made":"Payment made successfully","delivery_confirmed":"Delivery confirmed successfully","order_sent":"Order sent successfully","stock_updated":"Stock updated successfully","user_created":"User created successfully","user_updated":"User updated successfully","user_deleted":"User deleted successfully","settings_saved":"Settings saved successfully"},"language":{"select_language":"Select Language","english":"English","french":"Fran\xe7ais","malagasy":"Malagasy","language_changed":"Language changed successfully","current_language":"Current Language"},"app":{"title":"ELIF Sales","no_data_available":"No data available","unknown_user":"Unknown User","unknown_product":"Unknown Product","loading":"Loading...","toggle_menu":"Toggle menu"},"forms":{"search_by_customer_name":"Search by customer name","customer_name":"Customer name","phone_number":"Phone number","email_address":"Email address","enter_amount_to_pay":"Enter amount to pay","leave_empty_to_delete_all":"Leave empty to delete all","enter_printer_name":"Enter printer name"},"buttons":{"add_to_return":"Add to Return","added":"Added","creating":"Creating...","create_return":"Create Return","complete_sale":"Complete Sale","insufficient_stock":"Insufficient Stock","print_sales_report":"Print Sales Report","print_receipt":"Print Receipt","print":"Print","print_order":"Print Order","previous":"Previous","next":"Next","apply_filters":"Apply Filters","clear_filters":"Clear Filters"},"messages":{"sale_updated_successfully":"Sale updated successfully","payment_processed_successfully":"Payment processed successfully","sale_cancelled_and_stock_restored":"Sale cancelled and stock restored successfully","sale_cancelled_successfully":"Sale cancelled successfully","failed_to_delete_sales":"Failed to delete sales","failed_to_update_sale":"Failed to update sale","failed_to_process_payment":"Failed to process payment","failed_to_load_sale_details":"Failed to load sale details","failed_to_cancel_sale":"Failed to cancel sale","failed_to_update_payment_method":"Failed to update payment method","item_already_added_to_return":"Item already added to return","please_add_at_least_one_item":"Please add at least one item to return","failed_to_create_return":"Failed to create return","pending_sale_created":"Pending sale created! Sale Number: {{saleNumber}}\\nYou can complete it later in Sales Management.","dont_have_account":"Don\'t have an account?","contact_administrator":"Contact administrator","failed_to_load_users":"Failed to load users","failed_to_delete_user":"Failed to delete user","terms_of_sales":"TERMS: No exchanges, refunds, or returns. All sales are final."},"titles":{"sales_management":"Sales Management","pending_sales":"Pending Sales","no_pending_sales":"No Pending Sales","point_of_sale":"Point of Sale","reports":"Reports","previous_reports":"Previous Reports","sale_receipt":"Sale Receipt","sales_management_report":"Sales Management Report","inventory_report_data":"Inventory Report Data","stock_movement_report_data":"Stock Movement Report Data","inventory_summary":"INVENTORY SUMMARY"},"table_headers":{"sale_number":"Sale Number","customer":"Customer","status":"Status","payment":"Payment","items":"Items","total_amount":"Total Amount","date":"Date","sold_by":"Sold By","payment_method":"Payment Method","paid_amount":"Paid Amount","actions":"Actions","username":"Username","full_name":"Full Name","role":"Role","phone":"Phone"},"status_labels":{"pending":"Pending","partial":"Partial","paid":"Paid","unpaid":"Unpaid","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded"},"payment_methods":{"cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer"},"payment_status":{"paid":"Paid","partial_payment":"Partial Payment","pending_payment":"Pending Payment","to_be_determined":"To be determined","unknown":"Unknown"},"modals":{"view_sale":"View Sale","edit_sale":"Edit Sale","view_only":"View Only","close":"Close","cancel":"Cancel","sale_details":"Sale Details","loading_sale_details":"Loading sale details...","sale_information":"Sale Information","customer_information":"Customer Information","payment_summary":"Payment Summary","tax_included":"Tax included","discount":"Discount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded ${{amount}} (the amount they actually paid).","available_items":"Available Items","max_returnable":"Max Returnable","sale_price":"Sale Price","return_price":"Return Price","return_items":"Return Items","no_items_added":"No items added to return yet","return_quantity":"Return Quantity","return_reason_placeholder":"Return reason or additional notes...","return_summary":"Return Summary","total_return_amount":"Total Return Amount","please_specify_quantities":"Please specify quantities for at least one item","filter_sales":"Filter Sales","recent_sales":"Recent Sales","no_sales_found":"No sales found"},"alerts":{"sale_will_be_completed":"Sale will be completed immediately and stock will be deducted","sale_will_be_created_pending":"Sale will be created as pending and can be completed later","print_receipt_after_sale":"Print receipt after sale","click_to_edit_quantity":"Click to edit quantity","remove_item":"Remove item"},"empty_messages":{"no_archived_purchase_orders":"No archived purchase orders found","no_active_purchase_orders":"No active purchase orders found","no_pending_deliveries":"No pending deliveries","no_delivery_history":"No delivery history found","no_printers_found":"No printers found"},"pos":{"dont_print_receipt":"Don\'t print receipt","search_products":"Search products...","add_to_cart":"Add to Cart","out_of_stock":"Out of Stock","loading":"Loading...","customer_name_required":"Customer Name (Required for Partial Payment)","customer_name_optional":"Customer Name (Optional)","phone_optional":"Phone Number (Optional)","email_optional":"Email (Optional)","walk_in_customer":"Walk-in Customer","unknown_user":"Unknown User","sale_receipt":"Sale Receipt","cart_empty":"Cart is empty. Please add items to the cart before completing the sale.","customer_name_required_partial":"Customer name is required for partial payments","paid_amount_exceeds_total":"Paid amount cannot exceed the total amount","paid_amount_negative":"Paid amount cannot be negative","sale_completed_success":"Sale completed successfully! Sale Number: {saleNumber}","sale_created_but_completion_failed":"Sale created ({saleNumber}) but completion failed: {error}","failed_to_create_sale":"Failed to create sale. Please check the console for details.","failed_to_update_category_status":"Failed to update category status: {error}","enter_valid_quantity":"Please enter a valid quantity","hide_categories":"Hide","manage_categories":"Manage Categories","sellable":"Sellable","not_sellable":"Not Sellable","complete_sale":"Complete Sale","create_pending_sale":"Create Pending Sale","print_receipt":" & Print Receipt","wholesale_short":"WS","standard_short":"STD","unit_not_found":"Unit {unitName} not found in stock information","no_stock_left":"No {unitName} stock left","not_enough_available":"Not enough {unitName} available. Only {quantity} left.","unit_out_of_stock":"Unit is out of stock","not_enough_stock_max":"Not enough stock available. Max: {max}","out_of_stock_label":" - OUT OF STOCK","available_label":" - {quantity} available","loading_stock_info":"Loading stock information... Please try again."},"all_pages":{"title":"All Pages","subtitle":"Access other applications","access_app":"Access App"},"placeholders":{"enter_sale_id":"Enter sale ID","enter_client_name":"Enter client name"},"labels":{"start_date":"Start Date","end_date":"End Date"},"company":{"name":"________ANTATSIMO_______"},"customer":{"walk_in":"Walk-in Customer"},"footer":{"generated_by":"Generated by ________ANTATSIMO_______ System"},"print":{"no_data":"No data available to print.","sale_information":"SALE INFO","sale_status":"Sale Status","phone":"Phone","peyment_status":"Peyment Status","item_sold":"ITEMS SOLD","packagings":"PACKAGINGS","thankings":"Thank You!","sale_no":"Sale No"},"pagination":{"page":"Page","of":"of"}}')},fr:{translation:JSON.parse('{"common":{"loading":"Chargement...","save":"Enregistrer","cancel":"Annuler","delete":"Supprimer","edit":"Modifier","add":"Ajouter","search":"Rechercher","filter":"Filtrer","clear":"Effacer","confirm":"Confirmer","yes":"Oui","no":"Non","close":"Fermer","back":"Retour","next":"Suivant","previous":"Pr\xe9c\xe9dent","submit":"Soumettre","reset":"R\xe9initialiser","print":"Imprimer","export":"Exporter","import":"Importer","refresh":"Actualiser","view":"Voir","details":"D\xe9tails","actions":"Actions","status":"Statut","date":"Date","time":"Heure","name":"Nom","description":"Description","quantity":"Quantit\xe9","price":"Prix","total":"Total","amount":"Montant","unit":"Unit\xe9","category":"Cat\xe9gorie","type":"Type","method":"M\xe9thode","phone":"T\xe9l\xe9phone","email":"Email","address":"Adresse","notes":"Notes","created":"Cr\xe9\xe9","updated":"Mis \xe0 jour","created_by":"Cr\xe9\xe9 par","updated_by":"Mis \xe0 jour par","retry":"R\xe9essayer","wholesale":"V-G","piece":"Pi\xe8ce","retail":"STD"},"navigation":{"dashboard":"Tableau de bord","pos":"Point de vente","pending_sales":"Ventes en attente","sales_management":"Gestion des ventes","packaging_management":"Gestion des emballages","reports":"Rapports","logout":"D\xe9connexion","profile":"Profil","settings":"Param\xe8tres","all_pages":"Toutes les pages"},"auth":{"login":"Connexion","logout":"D\xe9connexion","username":"Nom d\'utilisateur","password":"Mot de passe","remember_me":"Se souvenir de moi","forgot_password":"Mot de passe oubli\xe9 ?","login_success":"Connexion r\xe9ussie","login_failed":"\xc9chec de la connexion","invalid_credentials":"Nom d\'utilisateur ou mot de passe invalide","session_expired":"Session expir\xe9e. Veuillez vous reconnecter.","access_denied":"Acc\xe8s refus\xe9. Vous n\'avez pas la permission d\'acc\xe9der \xe0 cette ressource."},"dashboard":{"title":"Tableau de bord","welcome":"Bon retour, {{username}} !","loading":"Chargement du tableau de bord...","error":"Erreur","failed_to_load":"\xc9chec du chargement des donn\xe9es du tableau de bord","time_period":"P\xe9riode :","daily":"Quotidien","weekly":"Hebdomadaire","monthly":"Mensuel","sales_team_view":"Vue \xe9quipe de vente - Ventes quotidiennes uniquement","total_revenue":"Chiffre d\'affaires total","transactions":"transactions","total_cost":"Co\xfbt total","cost_of_goods_sold":"Co\xfbt des marchandises vendues","profit":"B\xe9n\xe9fice","margin":"marge","total_products":"Total des produits","inventory_value":"Valeur de l\'inventaire","available_products":"produits disponibles","retail_value":"Valeur de d\xe9tail","low_stock":"stock faible","out_of_stock":"Rupture de stock","products_need_restocking":"produits n\xe9cessitent un r\xe9approvisionnement","sales_trend":"Tendance des ventes (31 derniers jours)","no_sales_data":"Aucune donn\xe9e de vente disponible","recent_sales":"Ventes r\xe9centes","print_recent_sales":"Imprimer les ventes r\xe9centes","recent_sales_report":"Rapport des ventes r\xe9centes","click_to_view_details":"Cliquez pour voir les d\xe9tails","walk_in_customer":"Client de passage","top_selling_products":"Produits les plus vendus","revenue":"Chiffre d\'affaires","sold":"Vendu","products":"produits","low_stock_items":"articles en stock faible","top_products":"Meilleurs produits","no_products_data":"Aucune donn\xe9e de produit disponible","product_name":"Nom du produit","units_sold":"Unit\xe9s vendues","sales":"Ventes","cost":"Co\xfbt","inventory_alerts":"Alertes d\'inventaire","no_alerts":"Aucune alerte d\'inventaire","quick_actions":"Actions rapides","go_to_pos":"Aller au PDV","manage_inventory":"G\xe9rer l\'inventaire","view_reports":"Voir les rapports","today_sales":"Ventes d\'aujourd\'hui","this_week":"Cette semaine","this_month":"Ce mois","this_year":"Cette ann\xe9e"},"sales":{"title":"Gestion des ventes","pos":"Point de vente","pending_sales":"Ventes en attente","sales_history":"Historique des ventes","create_sale":"Cr\xe9er une vente","edit_sale":"Modifier la vente","cancel_sale":"Annuler la vente","complete_sale":"Terminer la vente","return_sale":"Retourner la vente","sale_number":"Num\xe9ro de vente","customer_name":"Nom du client","customer_phone":"T\xe9l\xe9phone du client","customer_email":"Email du client","sale_date":"Date de vente","sale_status":"Statut de la vente","payment_method":"M\xe9thode de paiement","payment_status":"Statut du paiement","paid_amount":"Montant pay\xe9","remaining_amount":"Montant restant","due_date":"Date d\'\xe9ch\xe9ance","subtotal":"Sous-total","tax_amount":"Montant de la taxe","discount_amount":"Montant de la remise","total_amount":"Montant total","sold_by":"Vendu par","items":"Articles","add_item":"Ajouter un article","remove_item":"Supprimer l\'article","item_name":"Nom de l\'article","item_quantity":"Quantit\xe9","item_price":"Prix","item_total":"Total","cart":"Panier","cart_empty":"Le panier est vide","checkout":"Commander","payment_type":"Type de paiement","full_payment":"Paiement complet","partial_payment":"Paiement partiel","amount_to_pay":"Montant \xe0 payer","change":"Monnaie","receipt":"Re\xe7u","print_receipt":"Imprimer le re\xe7u","pending":"En attente","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9","paid":"Pay\xe9","partial":"Partiel","cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement bancaire","no_sales":"Aucune vente trouv\xe9e","search_sales":"Rechercher des ventes...","filter_by_status":"Filtrer par statut","filter_by_date":"Filtrer par date","date_from":"Date de d\xe9but","date_to":"Date de fin"},"returns":{"title":"Gestion des retours","create_return":"Cr\xe9er un retour","return_number":"Num\xe9ro de retour","original_sale":"Vente originale","return_items":"Articles de retour","return_quantity":"Quantit\xe9 de retour","max_returnable":"Maximum retournable","return_reason":"Raison du retour","refund_amount":"Montant du remboursement","refund_information":"Informations de remboursement","original_sale_amount":"Montant de la vente originale","amount_paid_by_customer":"Montant pay\xe9 par le client","remaining_amount":"Montant restant","refund_note":"Le client devrait \xeatre rembours\xe9 du montant qu\'il a r\xe9ellement pay\xe9.","process_return":"Traiter le retour","return_processed":"Retour trait\xe9 avec succ\xe8s","stock_restored":"Stock restaur\xe9 avec succ\xe8s"},"errors":{"general_error":"Une erreur s\'est produite. Veuillez r\xe9essayer.","network_error":"Erreur r\xe9seau. Veuillez v\xe9rifier votre connexion.","validation_error":"Veuillez v\xe9rifier votre saisie et r\xe9essayer.","permission_error":"Vous n\'avez pas la permission d\'effectuer cette action.","not_found":"La ressource demand\xe9e n\'a pas \xe9t\xe9 trouv\xe9e.","server_error":"Erreur serveur. Veuillez contacter le support.","timeout_error":"D\xe9lai d\'attente de la requ\xeate d\xe9pass\xe9. Veuillez r\xe9essayer.","required_field":"Ce champ est obligatoire.","invalid_email":"Veuillez saisir une adresse email valide.","invalid_phone":"Veuillez saisir un num\xe9ro de t\xe9l\xe9phone valide.","invalid_number":"Veuillez saisir un nombre valide.","min_length":"La longueur minimale est de {{min}} caract\xe8res.","max_length":"La longueur maximale est de {{max}} caract\xe8res.","min_value":"La valeur minimale est {{min}}.","max_value":"La valeur maximale est {{max}}.","unique_value":"Cette valeur existe d\xe9j\xe0.","stock_insufficient":"Stock insuffisant disponible.","quantity_required":"La quantit\xe9 est obligatoire.","price_required":"Le prix est obligatoire.","customer_required":"Les informations client sont obligatoires pour les paiements partiels."},"success":{"saved":"Enregistr\xe9 avec succ\xe8s","updated":"Mis \xe0 jour avec succ\xe8s","deleted":"Supprim\xe9 avec succ\xe8s","created":"Cr\xe9\xe9 avec succ\xe8s","sale_completed":"Vente termin\xe9e avec succ\xe8s","sale_cancelled":"Vente annul\xe9e avec succ\xe8s","return_processed":"Retour trait\xe9 avec succ\xe8s","payment_made":"Paiement effectu\xe9 avec succ\xe8s","delivery_confirmed":"Livraison confirm\xe9e avec succ\xe8s","order_sent":"Commande envoy\xe9e avec succ\xe8s","stock_updated":"Stock mis \xe0 jour avec succ\xe8s","user_created":"Utilisateur cr\xe9\xe9 avec succ\xe8s","user_updated":"Utilisateur mis \xe0 jour avec succ\xe8s","user_deleted":"Utilisateur supprim\xe9 avec succ\xe8s","settings_saved":"Param\xe8tres enregistr\xe9s avec succ\xe8s"},"language":{"select_language":"S\xe9lectionner la langue","english":"Anglais","french":"Fran\xe7ais","malagasy":"Malgache","language_changed":"Langue chang\xe9e avec succ\xe8s","current_language":"Langue actuelle"},"app":{"title":"ELIF Ventes","no_data_available":"Aucune donn\xe9e disponible","unknown_user":"Utilisateur inconnu","unknown_product":"Produit inconnu","loading":"Chargement...","toggle_menu":"Basculer le menu"},"forms":{"search_by_customer_name":"Rechercher par nom de client","customer_name":"Nom du client","phone_number":"Num\xe9ro de t\xe9l\xe9phone","email_address":"Adresse email","enter_amount_to_pay":"Saisir le montant \xe0 payer","leave_empty_to_delete_all":"Laisser vide pour tout supprimer","enter_printer_name":"Saisir le nom de l\'imprimante"},"buttons":{"add_to_return":"Ajouter au retour","added":"Ajout\xe9","creating":"Cr\xe9ation...","create_return":"Cr\xe9er un retour","complete_sale":"Terminer la vente","insufficient_stock":"Stock insuffisant","print_sales_report":"Imprimer le rapport de ventes","print_receipt":"Imprimer le re\xe7u","print":"Imprimer","print_order":"Imprimer la commande","previous":"Pr\xe9c\xe9dent","next":"Suivant","apply_filters":"Appliquer les filtres","clear_filters":"Effacer les filtres"},"messages":{"sale_updated_successfully":"Vente mise \xe0 jour avec succ\xe8s","payment_processed_successfully":"Paiement trait\xe9 avec succ\xe8s","sale_cancelled_and_stock_restored":"Vente annul\xe9e et stock restaur\xe9 avec succ\xe8s","sale_cancelled_successfully":"Vente annul\xe9e avec succ\xe8s","failed_to_delete_sales":"\xc9chec de la suppression des ventes","failed_to_update_sale":"\xc9chec de la mise \xe0 jour de la vente","failed_to_process_payment":"\xc9chec du traitement du paiement","failed_to_load_sale_details":"\xc9chec du chargement des d\xe9tails de la vente","failed_to_cancel_sale":"\xc9chec de l\'annulation de la vente","failed_to_update_payment_method":"\xc9chec de la mise \xe0 jour de la m\xe9thode de paiement","item_already_added_to_return":"Article d\xe9j\xe0 ajout\xe9 au retour","please_add_at_least_one_item":"Veuillez ajouter au moins un article au retour","failed_to_create_return":"\xc9chec de la cr\xe9ation du retour","pending_sale_created":"Vente en attente cr\xe9\xe9e ! Num\xe9ro de vente : {{saleNumber}}\\nVous pouvez la terminer plus tard dans la Gestion des ventes.","dont_have_account":"Vous n\'avez pas de compte ?","contact_administrator":"Contacter l\'administrateur","failed_to_load_users":"\xc9chec du chargement des utilisateurs","failed_to_delete_user":"\xc9chec de la suppression de l\'utilisateur","terms_of_sales":"CONDITIONS : Aucun \xe9change, remboursement ou retour. Toutes les ventes sont d\xe9finitives."},"titles":{"sales_management":"Gestion des ventes","pending_sales":"Ventes en attente","no_pending_sales":"Aucune vente en attente","point_of_sale":"Point de vente","reports":"Rapports","previous_reports":"Rapports pr\xe9c\xe9dents","sale_receipt":"Re\xe7u de vente","sales_management_report":"Rapport de gestion des ventes","inventory_report_data":"Donn\xe9es du rapport d\'inventaire","stock_movement_report_data":"Donn\xe9es du rapport de mouvements de stock","inventory_summary":"R\xc9SUM\xc9 D\'INVENTAIRE"},"table_headers":{"sale_number":"Num\xe9ro de vente","customer":"Client","status":"Statut","payment":"Paiement","items":"Articles","total_amount":"Montant total","date":"Date","sold_by":"Vendu par","payment_method":"M\xe9thode de paiement","paid_amount":"Montant pay\xe9","actions":"Actions","username":"Nom d\'utilisateur","full_name":"Nom complet","role":"R\xf4le","phone":"T\xe9l\xe9phone"},"status_labels":{"pending":"En attente","partial":"Partiel","paid":"Pay\xe9","unpaid":"Impay\xe9","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9"},"payment_methods":{"cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement bancaire"},"payment_status":{"paid":"Pay\xe9","partial_payment":"Paiement partiel","pending_payment":"Paiement en attente","to_be_determined":"\xc0 d\xe9terminer","unknown":"Inconnu"},"modals":{"view_sale":"Voir la vente","edit_sale":"Modifier la vente","view_only":"Voir seulement","close":"Fermer","cancel":"Annuler","sale_details":"D\xe9tails de la vente","loading_sale_details":"Chargement des d\xe9tails de la vente...","sale_information":"Informations de la vente","customer_information":"Informations client","payment_summary":"R\xe9sum\xe9 du paiement","tax_included":"Taxe incluse","discount":"Remise","refund_information":"Informations de remboursement","original_sale_amount":"Montant de la vente originale","amount_paid_by_customer":"Montant pay\xe9 par le client","remaining_amount":"Montant restant","refund_note":"Le client devrait \xeatre rembours\xe9 de {{amount}} $ (le montant qu\'il a r\xe9ellement pay\xe9).","available_items":"Articles disponibles","max_returnable":"Maximum retournable","sale_price":"Prix de vente","return_price":"Prix de retour","return_items":"Articles de retour","no_items_added":"Aucun article ajout\xe9 au retour pour le moment","return_quantity":"Quantit\xe9 de retour","return_reason_placeholder":"Raison du retour ou notes suppl\xe9mentaires...","return_summary":"R\xe9sum\xe9 du retour","total_return_amount":"Montant total du retour","please_specify_quantities":"Veuillez sp\xe9cifier les quantit\xe9s pour au moins un article","filter_sales":"Filtrer les ventes","recent_sales":"Ventes r\xe9centes","no_sales_found":"Aucune vente trouv\xe9e"},"alerts":{"sale_will_be_completed":"La vente sera termin\xe9e imm\xe9diatement et le stock sera d\xe9duit","sale_will_be_created_pending":"La vente sera cr\xe9\xe9e en attente et pourra \xeatre termin\xe9e plus tard","print_receipt_after_sale":"Imprimer le re\xe7u apr\xe8s la vente","click_to_edit_quantity":"Cliquez pour modifier la quantit\xe9","remove_item":"Supprimer l\'article"},"empty_messages":{"no_archived_purchase_orders":"Aucune commande d\'achat archiv\xe9e trouv\xe9e","no_active_purchase_orders":"Aucune commande d\'achat active trouv\xe9e","no_pending_deliveries":"Aucune livraison en attente","no_delivery_history":"Aucun historique de livraison trouv\xe9","no_printers_found":"Aucune imprimante trouv\xe9e"},"pos":{"dont_print_receipt":"Ne pas imprimer le re\xe7u","search_products":"Rechercher des produits...","add_to_cart":"Ajouter au panier","out_of_stock":"Rupture de stock","loading":"Chargement...","customer_name_required":"Nom du client (Obligatoire pour paiement partiel)","customer_name_optional":"Nom du client (Optionnel)","phone_optional":"Num\xe9ro de t\xe9l\xe9phone (Optionnel)","email_optional":"Email (Optionnel)","walk_in_customer":"Client de passage","unknown_user":"Utilisateur inconnu","sale_receipt":"Re\xe7u de vente","cart_empty":"Le panier est vide. Veuillez ajouter des articles au panier avant de terminer la vente.","customer_name_required_partial":"Le nom du client est obligatoire pour les paiements partiels","paid_amount_exceeds_total":"Le montant pay\xe9 ne peut pas d\xe9passer le montant total","paid_amount_negative":"Le montant pay\xe9 ne peut pas \xeatre n\xe9gatif","sale_completed_success":"Vente termin\xe9e avec succ\xe8s ! Num\xe9ro de vente : {saleNumber}","sale_created_but_completion_failed":"Vente cr\xe9\xe9e ({saleNumber}) mais \xe9chec de la finalisation : {error}","failed_to_create_sale":"\xc9chec de la cr\xe9ation de la vente. Veuillez v\xe9rifier la console pour plus de d\xe9tails.","failed_to_update_category_status":"\xc9chec de la mise \xe0 jour du statut de la cat\xe9gorie : {error}","enter_valid_quantity":"Veuillez saisir une quantit\xe9 valide","hide_categories":"Masquer","manage_categories":"G\xe9rer les cat\xe9gories","sellable":"Vendable","not_sellable":"Non vendable","complete_sale":"Terminer la vente","create_pending_sale":"Cr\xe9er une vente en attente","print_receipt":" & Imprimer le re\xe7u","wholesale_short":"V-G","standard_short":"STD","unit_not_found":"Unit\xe9 {unitName} non trouv\xe9e dans les informations de stock","no_stock_left":"Aucun stock {unitName} restant","not_enough_available":"Pas assez de {unitName} disponible. Seulement {quantity} restant.","unit_out_of_stock":"L\'unit\xe9 est en rupture de stock","not_enough_stock_max":"Pas assez de stock disponible. Max : {max}","out_of_stock_label":" - RUPTURE DE STOCK","available_label":" - {quantity} disponible","loading_stock_info":"Chargement des informations de stock... Veuillez r\xe9essayer."},"all_pages":{"title":"Toutes les pages","subtitle":"Acc\xe9der aux autres applications","access_app":"Acc\xe9der \xe0 l\'application"},"placeholders":{"enter_sale_id":"Saisir l\'ID de vente","enter_client_name":"Saisir le nom du client"},"labels":{"start_date":"Date de d\xe9but","end_date":"Date de fin"},"company":{"name":"______ANTATSIMO______"},"customer":{"walk_in":"Client de passage"},"footer":{"generated_by":"G\xe9n\xe9r\xe9 par le syst\xe8me ______ANTATSIMO______"},"print":{"no_data":"Aucune donn\xe9e disponible \xe0 imprimer.","sale_information":"INFO DU VENTE","sale_status":"Status du vente","phone":"Contact","peyment_status":"Status de paiement","item_sold":"ARTICLES VENDUS","packagings":"EMBALLAGES","thankings":"Merci!","sale_no":"Vente Numero"},"pagination":{"page":"Page","of":"sur"}}')},mg:{translation:JSON.parse('{"common":{"loading":"Miandry...","save":"Tehirizo","cancel":"Ajanono","delete":"Fafao","edit":"Ovay","add":"Ampio","search":"Karohy","filter":"Sivana","clear":"Fadio","confirm":"Manamarina","yes":"Eny","no":"Tsia","close":"Akatona","back":"Miverina","next":"Manaraka","previous":"Teo aloha","submit":"Alefa","reset":"Averina","print":"Printy","export":"Alaharo","import":"Ampidiro","refresh":"Averina","view":"Jereo","details":"Antsipirihany","actions":"Asa","status":"Sata","date":"Daty","time":"Ora","name":"Anarana","description":"Famaritana","quantity":"Habe","price":"Vidiny","total":"Totaly","amount":"Volany","unit":"Vondrona","category":"Sokajy","type":"Karazana","method":"Fomba","phone":"Finday","email":"Mailaka","address":"Adiresy","notes":"Fanamarihana","created":"Noforona","updated":"Nohavaozina","created_by":"Noforonin\'ny","updated_by":"Nohavaozin\'ny","retry":"Andramo indray","wholesale":"GV","piece":"Sombiny","retail":"STD"},"navigation":{"dashboard":"Tabilao fanaraha-maso","pos":"Toerana fivarotana","pending_sales":"Fivarotana miandry","sales_management":"Fitantanana ny fivarotana","packaging_management":"Fitantanana ny fonosana","reports":"Tatitra","logout":"Fivoahana","profile":"Tantara","settings":"Fandaharana","all_pages":"Pejy rehetra"},"auth":{"login":"Fidirana","logout":"Fivoahana","username":"Anaran\'ny mpampiasa","password":"Tenimiafina","remember_me":"Tsarovy ahy","forgot_password":"Hadino ny tenimiafina?","login_success":"Niditra soa aman-tsara","login_failed":"Tsy niditra","invalid_credentials":"Anaran\'ny mpampiasa na tenimiafina tsy mety","session_expired":"Lany ny fotoana. Midira indray azafady.","access_denied":"Tsy azo idirana. Tsy manana alalana hankafy an\'io loharano io ianao."},"dashboard":{"title":"Tabilao fanaraha-maso","welcome":"Tongasoa indray, {{username}}!","loading":"Miandry ny tabilao fanaraha-maso...","error":"Hadisoana","failed_to_load":"Tsy nety ny fampidirana ny angon-drakitra","time_period":"Fotoana:","daily":"Isan\'andro","weekly":"Isan-kerinandro","monthly":"Isam-bolana","sales_team_view":"Fijery ekipa fivarotana - Fivarotana isan\'andro ihany","total_revenue":"Volan\'ny fivarotana manontolo","transactions":"fivarotana","total_cost":"Vola lany manontolo","cost_of_goods_sold":"Vola lany amin\'ny entana nivarotana","profit":"Tombony","margin":"sisa","total_products":"Entana manontolo","inventory_value":"Sanda ny inventaire","available_products":"entana azo","retail_value":"Sanda fivarotana","low_stock":"stock kely","out_of_stock":"Tsy misy stock","products_need_restocking":"entana mila famenoana","sales_trend":"Fironan\'ny fivarotana (31 andro farany)","no_sales_data":"Tsy misy angon-drakitra fivarotana","recent_sales":"Fivarotana vao haingana","print_recent_sales":"Printy ny fivarotana vao haingana","recent_sales_report":"Tatitra ny fivarotana vao haingana","click_to_view_details":"Tsindrio raha te hijery antsipirihany","walk_in_customer":"Mpanjifa tonga","top_selling_products":"Entana be indrindra nivarotana","revenue":"Volan\'ny fivarotana","sold":"Nivarotana","products":"entana","low_stock_items":"zavatra stock kely","top_products":"Entana tsara indrindra","no_products_data":"Tsy misy angon-drakitra entana","product_name":"Anaran\'ny entana","units_sold":"Vondrona nivarotana","sales":"Fivarotana","cost":"Vola lany","inventory_alerts":"Fampitandremana inventaire","no_alerts":"Tsy misy fampitandremana inventaire","quick_actions":"Asa haingana","go_to_pos":"Mandeha any amin\'ny PDV","manage_inventory":"Mikarakara ny inventaire","view_reports":"Jereo ny tatitra","today_sales":"Fivarotana anio","this_week":"Eto amin\'ity herinandro ity","this_month":"Eto amin\'ity volana ity","this_year":"Eto amin\'ity taona ity"},"sales":{"title":"Fitantanana ny fivarotana","pos":"Toerana fivarotana","pending_sales":"Fivarotana miandry","sales_history":"Tantara ny fivarotana","create_sale":"Mamorona fivarotana","edit_sale":"Ovay ny fivarotana","cancel_sale":"Ajanono ny fivarotana","complete_sale":"Vita ny fivarotana","return_sale":"Averina ny fivarotana","sale_number":"Laharana fivarotana","customer_name":"Anaran\'ny mpanjifa","customer_phone":"Finday ny mpanjifa","customer_email":"Mailaka ny mpanjifa","sale_date":"Daty fivarotana","sale_status":"Sata ny fivarotana","payment_method":"Fomba fandoavam-bola","payment_status":"Sata ny fandoavam-bola","paid_amount":"Volany noloa","remaining_amount":"Volany sisa","due_date":"Daty tokony hovoa","subtotal":"Subtotaly","tax_amount":"Volan\'ny hetra","discount_amount":"Volan\'ny fihenam-bidy","total_amount":"Volany manontolo","sold_by":"Nivarotana n\'ny","items":"Zavatra","add_item":"Ampio zavatra","remove_item":"Esory ny zavatra","item_name":"Anaran\'ny zavatra","item_quantity":"Habe","item_price":"Vidiny","item_total":"Totaly","cart":"Harona","cart_empty":"Banga ny harona","checkout":"Mandidy","payment_type":"Karazana fandoavam-bola","full_payment":"Fandoavam-bola feno","partial_payment":"Fandoavam-bola ampahany","amount_to_pay":"Volany tokony aloa","change":"Volamena","receipt":"Rosia","print_receipt":"Printy ny rosia","pending":"Miandry","completed":"Vita","cancelled":"Nofoanana","refunded":"Namerina vola","paid":"Noloa","partial":"Ampahany","cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Famindrana banky","no_sales":"Tsy hita fivarotana","search_sales":"Karohy fivarotana...","filter_by_status":"Sivana araka ny sata","filter_by_date":"Sivana araka ny daty","date_from":"Daty nanomboka","date_to":"Daty niafara"},"returns":{"title":"Fitantanana ny famerenana","create_return":"Mamorona famerenana","return_number":"Laharana famerenana","original_sale":"Fivarotana tany am-boalohany","return_items":"Zavatra famerenana","return_quantity":"Habe famerenana","max_returnable":"Averina indrindra","return_reason":"Antony famerenana","refund_amount":"Volan\'ny famerenana vola","refund_information":"Fampahalalana famerenana vola","original_sale_amount":"Volan\'ny fivarotana tany am-boalohany","amount_paid_by_customer":"Volany noloa n\'ny mpanjifa","remaining_amount":"Volany sisa","refund_note":"Tokony ho averina vola ny mpanjifa ny volany noloa marina.","process_return":"Mikarakara ny famerenana","return_processed":"Nohararaotina soa aman-tsara ny famerenana","stock_restored":"Nohaverina soa aman-tsara ny stock"},"errors":{"general_error":"Nisy hadisoana. Andramo indray azafady.","network_error":"Hadisoana tambajotra. Jereo ny fifandraisanao azafady.","validation_error":"Jereo ny fidiranao ary andramo indray azafady.","permission_error":"Tsy manana alalana hanao an\'io asa io ianao.","not_found":"Tsy hita ny loharano nangatahina.","server_error":"Hadisoana server. Mifandraisa amin\'ny fanampiana azafady.","timeout_error":"Lany ny fotoana nandrasana. Andramo indray azafady.","required_field":"Ilaina ity saha ity.","invalid_email":"Ampidiro adiresy mailaka mety azafady.","invalid_phone":"Ampidiro laharana finday mety azafady.","invalid_number":"Ampidiro isa mety azafady.","min_length":"Ny halavany kely indrindra dia {{min}} tarehin-tsoratra.","max_length":"Ny halavany lehibe indrindra dia {{max}} tarehin-tsoratra.","min_value":"Ny sanda kely indrindra dia {{min}}.","max_value":"Ny sanda lehibe indrindra dia {{max}}.","unique_value":"Efa misy io sandany io.","stock_insufficient":"Tsy ampy ny stock azo.","quantity_required":"Ilaina ny habe.","price_required":"Ilaina ny vidiny.","customer_required":"Ilaina ny fampahalalana mpanjifa ho an\'ny fandoavam-bola ampahany."},"success":{"saved":"Nohazonina soa aman-tsara","updated":"Nohavaozina soa aman-tsara","deleted":"Nofafana soa aman-tsara","created":"Noforona soa aman-tsara","sale_completed":"Vita soa aman-tsara ny fivarotana","sale_cancelled":"Nofoanana soa aman-tsara ny fivarotana","return_processed":"Nohararaotina soa aman-tsara ny famerenana","payment_made":"Natao soa aman-tsara ny fandoavam-bola","delivery_confirmed":"Nohamafisina soa aman-tsara ny fandefasana","order_sent":"Nalefa soa aman-tsara ny baiko","stock_updated":"Nohavaozina soa aman-tsara ny stock","user_created":"Noforona soa aman-tsara ny mpampiasa","user_updated":"Nohavaozina soa aman-tsara ny mpampiasa","user_deleted":"Nofafana soa aman-tsara ny mpampiasa","settings_saved":"Nohazonina soa aman-tsara ny fandaharana"},"language":{"select_language":"Fidio ny fiteny","english":"Anglisy","french":"Frantsay","malagasy":"Malagasy","language_changed":"Niova soa aman-tsara ny fiteny","current_language":"Fiteny ankehitriny"},"app":{"title":"ELIF Fivarotana","no_data_available":"Tsy misy angon-drakitra azo","unknown_user":"Mpampiasa tsy fantatra","unknown_product":"Entana tsy fantatra","loading":"Miandry...","toggle_menu":"Ampifanaraho ny sakafo"},"forms":{"search_by_customer_name":"Karohy araka ny anaran\'ny mpanjifa","customer_name":"Anaran\'ny mpanjifa","phone_number":"Laharana finday","email_address":"Adiresy mailaka","enter_amount_to_pay":"Ampidiro ny vola tokony aloa","leave_empty_to_delete_all":"Avelao banga raha te hamafa ny rehetra","enter_printer_name":"Ampidiro ny anaran\'ny mpanonta"},"buttons":{"add_to_return":"Ampio amin\'ny famerenana","added":"Nampidirina","creating":"Mamorona...","create_return":"Mamorona famerenana","complete_sale":"Vita ny fivarotana","insufficient_stock":"Tsy ampy ny stock","print_sales_report":"Printy ny tatitra fivarotana","print_receipt":"Printy ny rosia","print":"Printy","print_order":"Printy ny baiko","previous":"Teo aloha","next":"Manaraka","apply_filters":"Ampiharo ny sivana","clear_filters":"Fadio ny sivana"},"messages":{"sale_updated_successfully":"Nohavaozina soa aman-tsara ny fivarotana","payment_processed_successfully":"Nohararaotina soa aman-tsara ny fandoavam-bola","sale_cancelled_and_stock_restored":"Nofoanana sy naverina soa aman-tsara ny stock ny fivarotana","sale_cancelled_successfully":"Nofoanana soa aman-tsara ny fivarotana","failed_to_delete_sales":"Tsy nety ny famafana ny fivarotana","failed_to_update_sale":"Tsy nety ny fanavaozana ny fivarotana","failed_to_process_payment":"Tsy nety ny fanaraha-maso ny fandoavam-bola","failed_to_load_sale_details":"Tsy nety ny fampidirana ny antsipirihany ny fivarotana","failed_to_cancel_sale":"Tsy nety ny fanafoanana ny fivarotana","failed_to_update_payment_method":"Tsy nety ny fanavaozana ny fomba fandoavam-bola","item_already_added_to_return":"Efa nampidirina tamin\'ny famerenana ny zavatra","please_add_at_least_one_item":"Ampio farafahakeliny zavatra iray amin\'ny famerenana azafady","failed_to_create_return":"Tsy nety ny famoronana ny famerenana","pending_sale_created":"Noforona miandry ny fivarotana! Laharana fivarotana: {{saleNumber}}\\nAzonao atao ny hamita azy any aoriana ao amin\'ny Fitantanana ny fivarotana.","dont_have_account":"Tsy manana kaonty?","contact_administrator":"Mifandraisa amin\'ny mpitantana","terms_of_sales":"TERMS: Tsy misy fifanakalozana, famerenam-bola na famerenan\'entana.","failed_to_load_users":"Tsy nety ny fampidirana ny mpampiasa","failed_to_delete_user":"Tsy nety ny famafana ny mpampiasa"},"titles":{"sales_management":"Fitantanana ny fivarotana","pending_sales":"Fivarotana miandry","no_pending_sales":"Tsy misy fivarotana miandry","point_of_sale":"Toerana fivarotana","reports":"Tatitra","previous_reports":"Tatitra teo aloha","sale_receipt":"Rosia fivarotana","sales_management_report":"Tatitra ny fitantanana ny fivarotana","inventory_report_data":"Angon-drakitra ny tatitra inventaire","stock_movement_report_data":"Angon-drakitra ny tatitra fifindran\'ny stock","inventory_summary":"FAMINTINANA NY INVENTAIRE"},"table_headers":{"sale_number":"Laharana fivarotana","customer":"Mpanjifa","status":"Sata","payment":"Fandoavam-bola","items":"Zavatra","total_amount":"Volany manontolo","date":"Daty","sold_by":"Nivarotana n\'ny","payment_method":"Fomba fandoavam-bola","paid_amount":"Volany noloa","actions":"Asa","username":"Anaran\'ny mpampiasa","full_name":"Anarana feno","role":"Lanjana","phone":"Finday"},"status_labels":{"pending":"Miandry","partial":"Ampahany","paid":"Noloa","unpaid":"Tsy noloa","completed":"Vita","cancelled":"Nofoanana","refunded":"Namerina vola"},"payment_methods":{"cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Famindrana banky"},"payment_status":{"paid":"Noloa","partial_payment":"Fandoavam-bola ampahany","pending_payment":"Fandoavam-bola miandry","to_be_determined":"Tokony ho voafaritra","unknown":"Tsy fantatra"},"modals":{"view_sale":"Jereo ny fivarotana","edit_sale":"Ovay ny fivarotana","view_only":"Jereo ihany","close":"Akatona","cancel":"Ajanono","sale_details":"Antsipirihany ny fivarotana","loading_sale_details":"Miandry ny antsipirihany ny fivarotana...","sale_information":"Fampahalalana ny fivarotana","customer_information":"Fampahalalana mpanjifa","payment_summary":"Famintinana ny fandoavam-bola","tax_included":"Hetra tafiditra","discount":"Fihenam-bidy","refund_information":"Fampahalalana famerenana vola","original_sale_amount":"Volan\'ny fivarotana tany am-boalohany","amount_paid_by_customer":"Volany noloa n\'ny mpanjifa","remaining_amount":"Volany sisa","refund_note":"Tokony ho averina vola ny mpanjifa {{amount}} $ (ny volany noloa marina).","available_items":"Zavatra azo","max_returnable":"Averina indrindra","sale_price":"Vidiny fivarotana","return_price":"Vidiny famerenana","return_items":"Zavatra famerenana","no_items_added":"Tsy mbola nampidirina zavatra amin\'ny famerenana","return_quantity":"Habe famerenana","return_reason_placeholder":"Antony famerenana na fanamarihana fanampiny...","return_summary":"Famintinana ny famerenana","total_return_amount":"Volany manontolo ny famerenana","please_specify_quantities":"Ampidiro ny habe ho an\'ny zavatra farafahakeliny iray azafady","filter_sales":"Sivana ny fivarotana","recent_sales":"Fivarotana vao haingana","no_sales_found":"Tsy hita fivarotana"},"alerts":{"sale_will_be_completed":"Ho vita avy hatrany ny fivarotana ary ho esorina ny stock","sale_will_be_created_pending":"Ho foronina miandry ny fivarotana ary azonao atao ny hamita azy any aoriana","print_receipt_after_sale":"Printy ny rosia aorian\'ny fivarotana","click_to_edit_quantity":"Tsindrio raha te hiova ny habe","remove_item":"Esory ny zavatra"},"empty_messages":{"no_archived_purchase_orders":"Tsy hita baiko fividianana voatahiry","no_active_purchase_orders":"Tsy hita baiko fividianana mavitrika","no_pending_deliveries":"Tsy misy fandefasana miandry","no_delivery_history":"Tsy hita tantara fandefasana","no_printers_found":"Tsy hita mpanonta"},"pos":{"dont_print_receipt":"Aza printy ny rosia","search_products":"Karohy entana...","add_to_cart":"Ampio amin\'ny harona","out_of_stock":"Tsy misy stock","loading":"Miandry...","customer_name_required":"Anaran\'ny mpanjifa (Ilaina ho an\'ny fandoavam-bola ampahany)","customer_name_optional":"Anaran\'ny mpanjifa (Tsy voatery)","phone_optional":"Laharana finday (Tsy voatery)","email_optional":"Mailaka (Tsy voatery)","walk_in_customer":"Mpanjifa tonga","unknown_user":"Mpampiasa tsy fantatra","sale_receipt":"Rosia fivarotana","cart_empty":"Banga ny harona. Ampio zavatra amin\'ny harona alohan\'ny hamaranana ny fivarotana azafady.","customer_name_required_partial":"Ilaina ny anaran\'ny mpanjifa ho an\'ny fandoavam-bola ampahany","paid_amount_exceeds_total":"Tsy azo mihoatra ny volany manontolo ny vola noloa","paid_amount_negative":"Tsy azo ho ratsy ny vola noloa","sale_completed_success":"Vita soa aman-tsara ny fivarotana! Laharana fivarotana: {saleNumber}","sale_created_but_completion_failed":"Noforona ny fivarotana ({saleNumber}) nefa tsy nety ny famaranana: {error}","failed_to_create_sale":"Tsy nety ny famoronana ny fivarotana. Jereo ny console ho an\'ny antsipirihany azafady.","failed_to_update_category_status":"Tsy nety ny fanavaozana ny sata ny sokajy: {error}","enter_valid_quantity":"Ampidiro habe mety azafady","hide_categories":"Afeno","manage_categories":"Mikarakara ny sokajy","sellable":"Azo varotana","not_sellable":"Tsy azo varotana","complete_sale":"Vita ny fivarotana","create_pending_sale":"Mamorona fivarotana miandry","print_receipt":" & Printy ny rosia","wholesale_short":"GV","standard_short":"STD","unit_not_found":"Tsy hita ny vondrona {unitName} ao amin\'ny fampahalalana stock","no_stock_left":"Tsy misy stock {unitName} sisa","not_enough_available":"Tsy ampy ny {unitName} azo. {quantity} ihany no sisa.","unit_out_of_stock":"Tsy misy stock ny vondrona","not_enough_stock_max":"Tsy ampy ny stock azo. Indrindra: {max}","out_of_stock_label":" - TSY MISY STOCK","available_label":" - {quantity} azo","loading_stock_info":"Miandry ny fampahalalana stock... Andramo indray azafady."},"all_pages":{"title":"Pejy rehetra","subtitle":"Mankafy ny fampiharana hafa","access_app":"Mankafy ny fampiharana"},"placeholders":{"enter_sale_id":"Ampidiro ny ID fivarotana","enter_client_name":"Ampidiro ny anaran\'ny mpanjifa"},"labels":{"start_date":"Daty nanomboka","end_date":"Daty niafara"},"company":{"name":"______ANTATSIMO______"},"customer":{"walk_in":"Mpanjifa tonga"},"footer":{"generated_by":"Noforonin\'ny rafitra ______ANTATSIMO______"},"print":{"no_data":"Tsy misy angon-drakitra azo printy.","sale_information":"INFO DU VENTE","sale_status":"Status du vente","phone":"Contact","peyment_status":"Status de paiement","item_sold":"ARTICLES VENDUS","packagings":"EMBALLAGES","thankings":"Misaotra!","sale_no":"Varotra laharana"},"pagination":{"page":"Pejy","of":"amin\'ny"}}')}};li.use(Pi).use(Sa).init({resources:Ei,fallbackLng:"fr",debug:!1,detection:{order:["sessionStorage","localStorage","cookie","navigator","htmlTag"],caches:["sessionStorage","localStorage","cookie"],lookupSessionStorage:"i18nextLng",lookupLocalStorage:"i18nextLng",lookupCookie:"i18next",cookieMinutes:43200,cookieDomain:window.location.hostname},interpolation:{escapeValue:!1},load:"languageOnly",supportedLngs:["en","fr","mg"],lng:"fr",ns:["translation"],defaultNS:"translation",saveMissing:!1,react:{useSuspense:!1}});const Ti=e=>{let{children:t}=e;const{isAuthenticated:n,loading:a}=pa();return a?(0,ua.jsxs)("div",{className:"app-loading",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("span",{children:"Loading..."})]}):n?t:(0,ua.jsx)(fe,{to:"/login"})},Oi=e=>{let{children:t,allowedRoles:n=[],salesBlocked:a=!1}=e;const{isAuthenticated:r,loading:i,user:s,isSales:o}=pa();return i?(0,ua.jsxs)("div",{className:"app-loading",children:[(0,ua.jsx)("div",{className:"spinner"}),(0,ua.jsx)("span",{children:"Loading..."})]}):r?a&&o||n.length>0&&!n.includes(null===s||void 0===s?void 0:s.role)?(0,ua.jsx)(fe,{to:"/pos"}):t:(0,ua.jsx)(fe,{to:"/login"})},Ai=e=>{let{children:t}=e;return(0,ua.jsxs)("div",{className:"app",children:[(0,ua.jsx)(Da,{}),(0,ua.jsx)(Fa,{}),(0,ua.jsx)("main",{className:"app-main",children:t})]})},Ri=()=>{const{isAuthenticated:e}=pa();return(0,ua.jsx)(Ne,{children:(0,ua.jsxs)(ye,{children:[(0,ua.jsx)(ve,{path:"/login",element:e?(0,ua.jsx)(fe,{to:"/dashboard"}):(0,ua.jsx)(Ma,{})}),(0,ua.jsx)(ve,{path:"/dashboard",element:(0,ua.jsx)(Ti,{children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(Ja,{})})})}),(0,ua.jsx)(ve,{path:"/pos",element:(0,ua.jsx)(Ti,{children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(ur,{})})})}),(0,ua.jsx)(ve,{path:"/pending-sales",element:(0,ua.jsx)(Oi,{allowedRoles:["admin","manager","sales"],children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(pr,{})})})}),(0,ua.jsx)(ve,{path:"/sales-management",element:(0,ua.jsx)(Oi,{allowedRoles:["admin","manager","sales"],children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(fr,{})})})}),(0,ua.jsx)(ve,{path:"/packaging-management",element:(0,ua.jsx)(Oi,{allowedRoles:["admin","manager","sales"],children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(vr,{})})})}),(0,ua.jsx)(ve,{path:"/reports",element:(0,ua.jsx)(Oi,{allowedRoles:["admin","manager","sales"],children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(gr,{})})})}),(0,ua.jsx)(ve,{path:"/all-pages",element:(0,ua.jsx)(Ti,{children:(0,ua.jsx)(Ai,{children:(0,ua.jsx)(yr,{})})})}),(0,ua.jsx)(ve,{path:"/",element:(0,ua.jsx)(fe,{to:"/dashboard"})}),(0,ua.jsx)(ve,{path:"*",element:(0,ua.jsx)(fe,{to:"/dashboard"})})]})})};const Fi=function(){return(0,ua.jsx)(ma,{children:(0,ua.jsx)(Ri,{})})},Di=new s.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!0,retry:1,staleTime:3e5,cacheTime:6e5}}});i.createRoot(document.getElementById("root")).render((0,ua.jsx)(a.StrictMode,{children:(0,ua.jsx)(s.QueryClientProvider,{client:Di,children:(0,ua.jsx)(Fi,{})})}))})()})();
//# sourceMappingURL=main.6c54b769.js.map