/*! For license information please see main.3c93cf8c.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=_.prototype=new y;x.constructor=_,f(x,g.prototype),x.isPureReactComponent=!0;var b=Array.isArray,j=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:w.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,b(s)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(s,t,r,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",b(e))for(var c=0;c<e.length;c++){var d=i+E(o=e[c],c);l+=P(o,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,r,d=i+E(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=_,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=L,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<r&&0>i(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<r&&0>i(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function b(e){if(v=!1,x(e),!f)if(null!==a(c))f=!0,O(j);else{var t=a(d);null!==t&&F(b,t.startTime-e)}}function j(e,n){f=!1,v&&(v=!1,y(N),N=-1),h=!0;var i=m;try{for(x(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!P());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===a(c)&&r(c),x(n)}else r(c);p=a(c)}if(null!==p)var l=!0;else{var u=a(d);null!==u&&F(b,u.startTime-n),l=!1}return l}finally{p=null,m=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,N=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof _)w=function(){_(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){g(T,0)};function O(e){S=e,k||(k=!0,w())}function F(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===a(c)&&e===a(d)&&(v?(y(N),N=-1):v=!0,F(b,i-s))):(e.sortIndex=o,n(c,e),f||h||(f=!0,O(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,M=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var I=!1;function U(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==i[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,ke=null;function Se(e){if(e=_r(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=br(t),je(e.stateNode,e.type,t))}}function Ne(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==we||null!==ke)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var a=br(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Oe=!1}function Le(e,t,n,a,r,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Me=null,ze=!1,Ie=null,Ue={onError:function(e){De=!0,Me=e}};function qe(e,t,n,a,r,i,s,o,l){De=!1,Me=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return He(r),e;if(s===a)return He(r),t;s=s.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?a=ut(o):0!==(i&=s)&&(a=ut(i))}else 0!==(s=n&~r)?a=ut(s):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,jt,wt,kt,St,Nt=!1,Ct=[],Et=null,Pt=null,Tt=null,At=new Map,Rt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=yr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&jt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);xe=a,n.target.dispatchEvent(a),xe=null,t.shift()}return!0}function It(e,t,n){zt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Et&&zt(Et)&&(Et=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Tt&&zt(Tt)&&(Tt=null),At.forEach(It),Rt.forEach(It)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Pt&&qt(Pt,e),null!==Tt&&qt(Tt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Bt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,a){var r=_t,i=Bt.transition;Bt.transition=null;try{_t=1,Gt(e,t,n,a)}finally{_t=r,Bt.transition=i}}function $t(e,t,n,a){var r=_t,i=Bt.transition;Bt.transition=null;try{_t=4,Gt(e,t,n,a)}finally{_t=r,Bt.transition=i}}function Gt(e,t,n,a){if(Ht){var r=Qt(e,t,n,a);if(null===r)Ha(e,t,a,Kt,n),Lt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Et=Dt(Et,e,t,n,a,r),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,a,r),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return At.set(i,Dt(At.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Rt.set(i,Dt(Rt.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lt(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var i=_r(r);if(null!==i&&bt(i),null===(i=Qt(e,t,n,a))&&Ha(e,t,a,Kt,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else Ha(e,t,a,null,n)}}var Kt=null;function Qt(e,t,n,a){if(Kt=null,null!==(e=yr(e=be(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=M({},cn,{view:0,detail:0}),pn=rn(un),mn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(mn),fn=rn(M({},mn,{dataTransfer:0})),vn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=rn(yn),xn=rn(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Nn=M({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(Nn),En=rn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=rn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=rn(An),On=[9,13,27,32],Fn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Mn=d&&(!Fn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),In=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,a){Ne(a),0<(t=$a(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function Kn(e){za(e,0)}function Qn(e){if(G(xr(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){$n&&($n.detachEvent("onpropertychange",na),Gn=$n=null)}function na(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,be(e)),Ae(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Gn=n,($n=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ia(e,t){if("click"===e)return Qn(t)}function sa(e,t){if("input"===e||"change"===e)return Qn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=da(n,i);var s=da(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,va=null,ga=null,ya=null,_a=!1;function xa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_a||null==va||va!==K(a)||("selectionStart"in(a=va)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&la(ya,a)||(ya=a,0<(a=$a(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,n=ja[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Na=Sa("animationend"),Ca=Sa("animationiteration"),Ea=Sa("animationstart"),Pa=Sa("transitionend"),Ta=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,t){Ta.set(e,t),l(t,[e])}for(var Oa=0;Oa<Aa.length;Oa++){var Fa=Aa[Oa];Ra(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Ra(Na,"onAnimationEnd"),Ra(Ca,"onAnimationIteration"),Ra(Ea,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Pa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Ma(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,o,l,c){if(qe.apply(this,arguments),De){if(!De)throw Error(i(198));var d=Me;De=!1,Me=null,ze||(ze=!0,Ie=d)}}(a,t,void 0,e),e.currentTarget=null}function za(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Ma(r,o,c),i=l}else for(s=0;s<a.length;s++){if(l=(o=a[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Ma(r,o,c),i=l}}}if(ze)throw e=Ie,ze=!1,Ie=null,e}function Ia(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Ba(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),Ba(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[qa]){e[qa]=!0,s.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ua("selectionchange",!1,t))}}function Ba(e,t,n,a){switch(Jt(t)){case 1:var r=Wt;break;case 4:r=$t;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ha(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=yr(o)))return;if(5===(l=s.tag)||6===l){a=i=s;continue e}o=o.parentNode}}a=a.return}Ae(function(){var a=i,r=be(n),s=[];e:{var o=Ta.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Na:case Ca:case Ea:l=gn;break;case Pa:l=Tn;break;case"scroll":l=pn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,h=a;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Re(h,p))&&d.push(Wa(h,f,m)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[hr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?o:xr(l),m=null==c?o:xr(c),(o=new d(f,h+"leave",l,n,r)).target=u,o.relatedTarget=m,f=null,yr(r)===a&&((d=new d(p,h+"enter",c,n,r)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,h=0,m=d=l;m;m=Ga(m))h++;for(m=0,f=p;f;f=Ga(f))m++;for(;0<h-m;)d=Ga(d),h--;for(;0<m-h;)p=Ga(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ga(d),p=Ga(p)}d=null}else d=null;null!==l&&Ka(s,o,l,d,!1),null!==c&&null!==u&&Ka(s,u,c,d,!0)}if("select"===(l=(o=a?xr(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Jn;else if(Hn(o))if(Yn)v=sa;else{v=ra;var g=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ia);switch(v&&(v=v(e,a))?Wn(s,v,n,r):(g&&g(e,o,a),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=a?xr(a):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(va=g,ga=a,ya=null);break;case"focusout":ya=ga=va=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,xa(s,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":xa(s,n,r)}var y;if(Fn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Vn=!0)),0<(g=$a(a,_)).length&&(_=new xn(_,e,null,n,r),s.push({event:_,listeners:g}),y?_.data=y:null!==(y=qn(n))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(In=!0,zn);case"textInput":return(e=t.data)===zn&&In?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Fn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=$a(a,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=y))}za(s,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $a(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Re(e,n))&&a.unshift(Wa(e,i,r)),null!=(i=Re(e,t))&&a.push(Wa(e,i,r))),e=e.return}return a}function Ga(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Re(n,i))&&s.unshift(Wa(n,l,o)):r||null!=(l=Re(n,i))&&s.push(Wa(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qa=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace(Qa,"\n").replace(Ja,"")}function Xa(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(i(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,mr="__reactProps$"+ur,hr="__reactContainer$"+ur,fr="__reactEvents$"+ur,vr="__reactListeners$"+ur,gr="__reactHandles$"+ur;function yr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[pr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function br(e){return e[mr]||null}var jr=[],wr=-1;function kr(e){return{current:e}}function Sr(e){0>wr||(e.current=jr[wr],jr[wr]=null,wr--)}function Nr(e,t){wr++,jr[wr]=e.current,e.current=t}var Cr={},Er=kr(Cr),Pr=kr(!1),Tr=Cr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Sr(Pr),Sr(Er)}function Fr(e,t,n){if(Er.current!==Cr)throw Error(i(168));Nr(Er,t),Nr(Pr,n)}function Lr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,B(e)||"Unknown",r));return M({},n,a)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Tr=Er.current,Nr(Er,e),Nr(Pr,Pr.current),!0}function Mr(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Lr(e,t,Tr),a.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Er),Nr(Er,e)):Sr(Pr),Nr(Pr,n)}var zr=null,Ir=!1,Ur=!1;function qr(e){null===zr?zr=[e]:zr.push(e)}function Vr(){if(!Ur&&null!==zr){Ur=!0;var e=0,t=_t;try{var n=zr;for(_t=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}zr=null,Ir=!1}catch(r){throw null!==zr&&(zr=zr.slice(e+1)),Ge(Ze,Vr),r}finally{_t=t,Ur=!1}}return null}var Br=[],Hr=0,Wr=null,$r=0,Gr=[],Kr=0,Qr=null,Jr=1,Yr="";function Xr(e,t){Br[Hr++]=$r,Br[Hr++]=Wr,Wr=e,$r=t}function Zr(e,t,n){Gr[Kr++]=Jr,Gr[Kr++]=Yr,Gr[Kr++]=Qr,Qr=e;var a=Jr;e=Yr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var i=32-st(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Jr=1<<32-st(t)+r|n<<r|a,Yr=i+e}else Jr=1<<i|n<<r|a,Yr=e}function ei(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ti(e){for(;e===Wr;)Wr=Br[--Hr],Br[Hr]=null,$r=Br[--Hr],Br[Hr]=null;for(;e===Qr;)Qr=Gr[--Kr],Gr[Kr]=null,Yr=Gr[--Kr],Gr[Kr]=null,Jr=Gr[--Kr],Gr[Kr]=null}var ni=null,ai=null,ri=!1,ii=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:Jr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=ai;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var a=ni;t&&oi(e,t)?si(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ri)return di(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=cr(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cr(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ai;e;)e=cr(e.nextSibling)}function mi(){ai=ni=null,ri=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var fi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Mc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&yi(i)===t.type)?((a=r(t,n.props)).ref=vi(e,t,n),a.return=e,a):((a=Fc(n.type,n.key,n.props,null,e.mode,a)).ref=vi(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case R:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(e,t,n,a):null;case j:return n.key===r?d(e,t,n,a):null;case R:return m(e,t,(r=n._init)(n._payload),a)}if(te(n)||L(n))return null!==r?null:u(e,t,n,a,null);gi(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case b:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case j:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case R:return h(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||L(a))return u(t,e=e.get(n)||null,a,r,null);gi(t,a)}return null}function f(r,i,o,l){for(var c=null,d=null,u=i,f=i=0,v=null;null!==u&&f<o.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var g=m(r,u,o[f],l);if(null===g){null===u&&(u=v);break}e&&u&&null===g.alternate&&t(r,u),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g,u=v}if(f===o.length)return n(r,u),ri&&Xr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(r,o[f],l))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ri&&Xr(r,f),c}for(u=a(r,u);f<o.length;f++)null!==(v=h(u,r,f,o[f],l))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),i=s(v,i,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(r,e)}),ri&&Xr(r,f),c}function v(r,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=o,v=o=0,g=null,y=l.next();null!==f&&!y.done;v++,y=l.next()){f.index>v?(g=f,f=null):g=f.sibling;var _=m(r,f,y.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(r,f),o=s(_,o,v),null===u?d=_:u.sibling=_,u=_,f=g}if(y.done)return n(r,f),ri&&Xr(r,v),d;if(null===f){for(;!y.done;v++,y=l.next())null!==(y=p(r,y.value,c))&&(o=s(y,o,v),null===u?d=y:u.sibling=y,u=y);return ri&&Xr(r,v),d}for(f=a(r,f);!y.done;v++,y=l.next())null!==(y=h(f,r,v,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=s(y,o,v),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(r,e)}),ri&&Xr(r,v),d}return function e(a,i,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===w){if(7===d.tag){n(a,d.sibling),(i=r(d,s.props.children)).return=a,a=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&yi(c)===d.type){n(a,d.sibling),(i=r(d,s.props)).ref=vi(a,d,s),i.return=a,a=i;break e}n(a,d);break}t(a,d),d=d.sibling}s.type===w?((i=Lc(s.props.children,a.mode,l,s.key)).return=a,a=i):((l=Fc(s.type,s.key,s.props,null,a.mode,l)).ref=vi(a,i,s),l.return=a,a=l)}return o(a);case j:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(a,i.sibling),(i=r(i,s.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=zc(s,a.mode,l)).return=a,a=i}return o(a);case R:return e(a,i,(d=s._init)(s._payload),l)}if(te(s))return f(a,i,s,l);if(L(s))return v(a,i,s,l);gi(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,s)).return=a,a=i):(n(a,i),(i=Mc(s,a.mode,l)).return=a,a=i),o(a)):n(a,i)}}var xi=_i(!0),bi=_i(!1),ji=kr(null),wi=null,ki=null,Si=null;function Ni(){Si=ki=wi=null}function Ci(e){var t=ji.current;Sr(ji),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){wi=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===wi)throw Error(i(308));ki=e,wi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ai=null;function Ri(e){null===Ai?Ai=[e]:Ai.push(e)}function Oi(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ri(t)):(n.next=r.next,r.next=n),t.interleaved=n,Fi(e,a)}function Fi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&El)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Fi(e,n)}return null===(r=a.interleaved)?(t.next=t,Ri(a)):(t.next=r.next,r.next=t),a.interleaved=t,Fi(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qi(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,a){var r=e.updateQueue;Li=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=r.baseState;for(s=0,d=c=l=null,o=i;;){var p=o.lane,m=o.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=M({},u,p);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=u}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var Hi={},Wi=kr(Hi),$i=kr(Hi),Gi=kr(Hi);function Ki(e){if(e===Hi)throw Error(i(174));return e}function Qi(e,t){switch(Nr(Gi,t),Nr($i,e),Nr(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Wi),Nr(Wi,t)}function Ji(){Sr(Wi),Sr($i),Sr(Gi)}function Yi(e){Ki(Gi.current);var t=Ki(Wi.current),n=le(t,e.type);t!==n&&(Nr($i,e),Nr(Wi,n))}function Xi(e){$i.current===e&&(Sr(Wi),Sr($i))}var Zi=kr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var as=x.ReactCurrentDispatcher,rs=x.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,ps=0;function ms(){throw Error(i(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function fs(e,t,n,a,r,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Xs:Zs,e=n(a,r),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,as.current=eo,e=n(a,r)}while(ds)}if(as.current=Ys,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function vs(){var e=0!==us;return us=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function _s(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=os,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=a):c=c.next=p,ss.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(_o=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Dl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oa(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function js(){}function ws(e,t){var n=ss,a=ys(),r=t(),s=!oa(a.memoizedState,r);if(s&&(a.memoizedState=r,_o=!0),a=a.queue,Ls(Ns.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,Ss.bind(null,n,a,r,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&is)||ks(n,t,r)}return r}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,a){t.value=n,t.getSnapshot=a,Cs(t)&&Es(e)}function Ns(e,t,n){return n(function(){Cs(t)&&Es(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Es(e){var t=Fi(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=gs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function As(){return ys().memoizedState}function Rs(e,t,n,a){var r=gs();ss.flags|=e,r.memoizedState=Ts(1|t,n,void 0,void 0===a?null:a)}function Os(e,t,n,a){var r=ys();a=void 0===a?null:a;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==a&&hs(a,s.deps))return void(r.memoizedState=Ts(t,n,i,a))}ss.flags|=e,r.memoizedState=Ts(1|t,n,i,a)}function Fs(e,t){return Rs(8390656,8,e,t)}function Ls(e,t){return Os(2048,8,e,t)}function Ds(e,t){return Os(4,2,e,t)}function Ms(e,t){return Os(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Is(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,zs.bind(null,t,e),n)}function Us(){}function qs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Bs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ss.lanes|=n,Dl|=n,e.baseState=!0),t)}function Hs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var a=rs.transition;rs.transition={};try{e(!1),t()}finally{_t=n,rs.transition=a}}function Ws(){return ys().memoizedState}function $s(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Qs(t,n);else if(null!==(n=Oi(e,t,n,a))){nc(n,e,a,ec()),Js(n,t,a)}}function Gs(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Qs(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,s)){var l=t.interleaved;return null===l?(r.next=r,Ri(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Oi(e,t,r,a))&&(nc(n,e,a,r=ec()),Js(n,t,a))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Qs(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ys={readContext:Ti,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Xs={readContext:Ti,useCallback:function(e,t){return gs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$s.bind(null,ss,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:Ps,useDebugValue:Us,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Hs.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ss,r=gs();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&is)||ks(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Fs(Ns.bind(null,a,s,e),[e]),a.flags|=2048,Ts(9,Ss.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=gs(),t=Pl.identifierPrefix;if(ri){var n=Yr;t=":"+t+"R"+(n=(Jr&~(1<<32-st(Jr)-1)).toString(32)+n),0<(n=us++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Ti,useCallback:qs,useContext:Ti,useEffect:Ls,useImperativeHandle:Is,useInsertionEffect:Ds,useLayoutEffect:Ms,useMemo:Vs,useReducer:xs,useRef:As,useState:function(){return xs(_s)},useDebugValue:Us,useDeferredValue:function(e){return Bs(ys(),os.memoizedState,e)},useTransition:function(){return[xs(_s)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ws,useId:Ws,unstable_isNewReconciler:!1},eo={readContext:Ti,useCallback:qs,useContext:Ti,useEffect:Ls,useImperativeHandle:Is,useInsertionEffect:Ds,useLayoutEffect:Ms,useMemo:Vs,useReducer:bs,useRef:As,useState:function(){return bs(_s)},useDebugValue:Us,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Bs(t,os.memoizedState,e)},useTransition:function(){return[bs(_s)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ws,useId:Ws,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=zi(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,r))&&(nc(t,e,r,a),Ui(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=zi(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,r))&&(nc(t,e,r,a),Ui(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=zi(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ii(e,r,a))&&(nc(t,e,a,n),Ui(t,e,a))}};function ro(e,t,n,a,r,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,i))}function io(e,t,n){var a=!1,r=Cr,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(r=Rr(t)?Tr:Er.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ar(e,r):Cr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ti(i):(i=Rr(t)?Tr:Er.current,r.context=Ar(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ao.enqueueReplaceState(r,r.state,null),Vi(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=a),uo(0,t)},n}function ho(e,t,n){(n=zi(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new po;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Ii(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yo=x.ReactCurrentOwner,_o=!1;function xo(e,t,n,a){t.child=null===e?bi(t,null,n,a):xi(t,e.child,n,a)}function bo(e,t,n,a,r){n=n.render;var i=t.ref;return Pi(t,r),a=fs(e,t,n,a,i,r),n=vs(),null===e||_o?(ri&&n&&ei(t),t.flags|=1,xo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function jo(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,wo(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return Ho(e,t,r)}return t.flags|=1,(e=Oc(i,a)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(_o=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,Ho(e,t,r);0!==(131072&e.flags)&&(_o=!0)}}return No(e,t,n,a,r)}function ko(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Nr(Ol,Rl),Rl|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Nr(Ol,Rl),Rl|=a;return xo(e,t,r,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,a,r){var i=Rr(n)?Tr:Er.current;return i=Ar(t,i),Pi(t,r),n=fs(e,t,n,a,i,r),a=vs(),null===e||_o?(ri&&a&&ei(t),t.flags|=1,xo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function Co(e,t,n,a,r){if(Rr(n)){var i=!0;Dr(t)}else i=!1;if(Pi(t,r),null===t.stateNode)Bo(e,t),io(t,n,a),oo(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Ar(t,c=Rr(n)?Tr:Er.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==a||l!==c)&&so(t,s,a,c),Li=!1;var p=t.memoizedState;s.state=p,Vi(t,a,s,r),l=t.memoizedState,o!==a||p!==l||Pr.current||Li?("function"===typeof d&&(no(t,n,d,a),l=t.memoizedState),(o=Li||ro(t,n,o,a,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Ar(t,l=Rr(n)?Tr:Er.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||p!==l)&&so(t,s,a,l),Li=!1,p=t.memoizedState,s.state=p,Vi(t,a,s,r);var h=t.memoizedState;o!==u||p!==h||Pr.current||Li?("function"===typeof m&&(no(t,n,m,a),h=t.memoizedState),(c=Li||ro(t,n,c,a,p,h,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=l,a=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Eo(e,t,n,a,i,r)}function Eo(e,t,n,a,r,i){So(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Mr(t,n,!1),Ho(e,t,i);a=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):xo(e,t,o,i),t.memoizedState=a.state,r&&Mr(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),Qi(e,t.containerInfo)}function To(e,t,n,a,r){return mi(),hi(r),t.flags|=256,xo(e,t,n,a),t.child}var Ao,Ro,Oo,Fo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var a,r=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Nr(Zi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,r,0,null),e=Lc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):zo(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,Io(e,t,o,a=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Dc({mode:"visible",children:a.children},r,0,null),(s=Lc(s,r,o,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&xi(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,s);if(0===(1&t.mode))return Io(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Io(e,t,o,a=co(s=Error(i(419)),a,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(a=Pl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Fi(e,r),nc(a,e,r,-1))}return fc(),Io(e,t,o,a=co(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ai=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Gr[Kr++]=Jr,Gr[Kr++]=Yr,Gr[Kr++]=Qr,Jr=e.id,Yr=e.overflow,Qr=t),t=zo(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,s,n);if(o){o=r.fallback,l=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?o=Oc(a,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return e=(o=e.child).sibling,r=Oc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Io(e,t,n,a){return null!==a&&hi(a),xi(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ei(e.return,t,n)}function qo(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function Vo(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(xo(e,t,a.children,n),0!==(2&(a=Zi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Nr(Zi,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qo(t,!0,n,null,i);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Go(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Rr(t.type)&&Or(),$o(t),null;case 3:return a=t.stateNode,Ji(),Sr(Pr),Sr(Er),ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ro(e,t),$o(t),null;case 5:Xi(t);var r=Ki(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return $o(t),null}if(e=Ki(Wi.current),ui(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pr]=t,a[mr]=s,e=0!==(1&t.mode),n){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(r=0;r<La.length;r++)Ia(La[r],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":J(a,s),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Ia("invalid",a);break;case"textarea":re(a,s),Ia("invalid",a)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ia("scroll",a)}switch(n){case"input":$(a),Z(a,s,!0);break;case"textarea":$(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[pr]=t,e[mr]=a,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,a),n){case"dialog":Ia("cancel",e),Ia("close",e),r=a;break;case"iframe":case"object":case"embed":Ia("load",e),r=a;break;case"video":case"audio":for(r=0;r<La.length;r++)Ia(La[r],e);r=a;break;case"source":Ia("error",e),r=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),r=a;break;case"details":Ia("toggle",e),r=a;break;case"input":J(e,a),r=Q(e,a),Ia("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=M({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ia("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ve(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ia("scroll",e):null!=d&&_(e,s,d,l))}switch(n){case"input":$(e),Z(e,a,!1);break;case"textarea":$(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=Ki(Gi.current),Ki(Wi.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(s=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return $o(t),null;case 13:if(Sr(Zi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))pi(),mi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Fl&&(Fl=3):fc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Ji(),Ro(e,t),null===e&&Va(t.stateNode.containerInfo),$o(t),null;case 10:return Ci(t.type._context),$o(t),null;case 19:if(Sr(Zi),null===(s=t.memoizedState))return $o(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)Wo(s,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Wo(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nr(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Vl&&(t.flags|=128,a=!0,Wo(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=es(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ri)return $o(t),null}else 2*Ye()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=Zi.current,Nr(Zi,a?1&n|2:1&n),t):($o(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Rl)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Rr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Sr(Pr),Sr(Er),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Sr(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zi),null;case 4:return Ji(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Ki(Wi.current);var i,s=null;switch(n){case"input":r=Q(e,r),a=Q(e,a),s=[];break;case"select":r=M({},r,{value:void 0}),a=M({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ye(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ia("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Fo=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qo=!1,Jo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){kc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(t,n,i)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[mr],delete t[fr],delete t[vr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var a=dl,r=ul;dl=null,pl(e,t,n),ul=r,null!==(dl=a)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(dl,n.stateNode));break;case 4:a=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),dl=a,ul=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),r=r.next}while(r!==a)}pl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(a=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=a):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));ml(s,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(v){kc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){kc(e,e.return,v)}}break;case 1:fl(t,e),gl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),gl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(v){kc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(r,s),_e(l,o);var d=_e(l,s);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?ve(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):_(r,u,p,d)}switch(l){case"input":X(r,s);break;case"textarea":ie(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(r,!!s.multiple,h,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[mr]=s}catch(v){kc(e,e.return,v)}}break;case 6:if(fl(t,e),gl(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){kc(e,e.return,v)}}break;case 3:if(fl(t,e),gl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){kc(e,e.return,v)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(ql=Ye())),4&a&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(t,e),Jo=d):fl(t,e),gl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(h=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,n=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){kc(a,n,v)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){bl(p);continue}}null!==h?(h.return=m,Xo=h):bl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){kc(e,e.return,v)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){kc(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),gl(e),4&a&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,_l(e,t,n)}function _l(e,t,n){for(var a=0!==(1&e.mode);null!==Xo;){var r=Xo,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Qo;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var c=Jo;if(Qo=s,(Jo=l)&&!c)for(Xo=r;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?jl(r):null!==l?(l.return=s,Xo=l):jl(r);for(;null!==i;)Xo=i,_l(i,t,n),i=i.sibling;Xo=r,Qo=o,Jo=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xo=i):xl(e)}}function xl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Jo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bi(t,s,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&rl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){kc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){kc(t,r,l)}}var i=t.return;try{rl(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var wl,kl=Math.ceil,Sl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,El=0,Pl=null,Tl=null,Al=0,Rl=0,Ol=kr(0),Fl=0,Ll=null,Dl=0,Ml=0,zl=0,Il=null,Ul=null,ql=0,Vl=1/0,Bl=null,Hl=!1,Wl=null,$l=null,Gl=!1,Kl=null,Ql=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Al?Al&-Al:null!==fi.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,a){if(50<Jl)throw Jl=0,Yl=null,Error(i(185));gt(e,n,a),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Ml|=n),4===Fl&&oc(e,Al)),ac(e,a),1===n&&0===El&&0===(1&t.mode)&&(Vl=Ye()+500,Ir&&Vr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&a)||(r[s]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=pt(e,e===Pl?Al:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ir=!0,qr(e)}(lc.bind(null,e)):qr(lc.bind(null,e)),sr(function(){0===(6&El)&&Vr()}),n=null;else{switch(xt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var a=pt(e,e===Pl?Al:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=vc(e,a);else{t=a;var r=El;El|=2;var s=hc();for(Pl===e&&Al===t||(Bl=null,Vl=Ye()+500,pc(e,t));;)try{yc();break}catch(l){mc(e,l)}Ni(),Sl.current=s,El=r,null!==Tl?t=0:(Pl=null,Al=0,t=Fl)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(a=r,t=ic(e,r))),1===t)throw n=Ll,pc(e,0),oc(e,a),ac(e,Ye()),n;if(6===t)oc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!oa(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,a))&&(0!==(s=ht(e))&&(a=s,t=ic(e,s))),1===t))throw n=Ll,pc(e,0),oc(e,a),ac(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:bc(e,Ul,Bl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=ql+500-Ye())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(bc.bind(null,e,Ul,Bl),t);break}bc(e,Ul,Bl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-st(a);s=1<<o,(o=t[o])>r&&(r=o),a&=~s}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kl(a/1960))-a)){e.timeoutHandle=ar(bc.bind(null,e,Ul,Bl),a);break}bc(e,Ul,Bl);break;default:throw Error(i(329))}}}return ac(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Il;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&El))throw Error(i(327));jc();var t=pt(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Ll,pc(e,0),oc(e,t),ac(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ul,Bl),ac(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Vl=Ye()+500,Ir&&Vr())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var n=Cl.transition,a=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=a,Cl.transition=n,0===(6&(El=t))&&Vr()}}function uc(){Rl=Ol.current,Sr(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Or();break;case 3:Ji(),Sr(Pr),Sr(Er),ns();break;case 5:Xi(a);break;case 4:Ji();break;case 13:case 19:Sr(Zi);break;case 10:Ci(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Tl=e=Oc(e.current,null),Al=Rl=t,Fl=0,Ll=null,zl=Ml=Dl=0,Ul=Il=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(a=(n=Ai[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}Ai=null}return e}function mc(e,t){for(;;){var n=Tl;try{if(Ni(),as.current=Ys,cs){for(var a=ss.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}cs=!1}if(is=0,ls=os=ss=null,ds=!1,us=0,Nl.current=null,null===n||null===n.return){Fl=1,Ll=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vo(o);if(null!==h){h.flags&=-257,go(h,o,l,0,t),1&h.mode&&fo(s,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){fo(s,d,t),fc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),hi(lo(c,l));break e}}s=c=lo(c,l),4!==Fl&&(Fl=2),null===Il?Il=[s]:Il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qi(s,mo(0,c,t));break e;case 1:l=c;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$l||!$l.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,qi(s,ho(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Ys,null===e?Ys:e}function fc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Ml)||oc(Pl,Al)}function vc(e,t){var n=El;El|=2;var a=hc();for(Pl===e&&Al===t||(Bl=null,pc(e,t));;)try{gc();break}catch(r){mc(e,r)}if(Ni(),El=n,Sl.current=a,null!==Tl)throw Error(i(261));return Pl=null,Al=0,Fl}function gc(){for(;null!==Tl;)_c(Tl)}function yc(){for(;null!==Tl&&!Qe();)_c(Tl)}function _c(e){var t=wl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Rl)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Fl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Fl&&(Fl=5)}function bc(e,t,n){var a=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,a){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,s),e===Pl&&(Tl=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,function(){return jc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=_t;_t=1;var l=El;El|=4,Nl.current=null,function(e,t){if(er=Ht,ma(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(l=o+r),p!==s||0!==a&&3!==p.nodeType||(c=o+a),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===r&&(l=o),m===s&&++u===a&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,n),vl(n,e),ha(tr),Ht=!!er,tr=er=null,e.current=n,yl(n,e,r),Je(),El=l,_t=o,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Ql=r),s=e.pendingLanes,0===s&&($l=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vr()}(e,t,n,a)}finally{Cl.transition=r,_t=a}return null}function jc(){if(null!==Kl){var e=xt(Ql),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Kl)var a=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&El))throw Error(i(331));var r=El;for(El|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var m=(u=Xo).sibling,h=u.return;if(il(u),u===d){Xo=null;break}if(null!==m){m.return=h,Xo=m;break}Xo=h}}}var f=s.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xo=y;break e}Xo=s.return}}var _=e.current;for(Xo=_;null!==Xo;){var x=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Xo=x;else e:for(o=_;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Xo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xo=b;break e}Xo=l.return}}if(El=r,Vr(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(j){}a=!0}return a}finally{_t=n,Cl.transition=t}}return!1}function wc(e,t,n){e=Ii(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===$l||!$l.has(a))){t=Ii(t,e=ho(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Fl||3===Fl&&(130023424&Al)===Al&&500>Ye()-ql?pc(e,0):zl|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Fi(e,t))&&(gt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Nc(e,n)}function Pc(e,t){return Ge(e,t)}function Tc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,a){return new Tc(e,t,n,a)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,r,s){var o=2;if(a=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Lc(n.children,r,s,t);case k:o=8,r|=8;break;case S:return(e=Ac(12,n,t,2|r)).elementType=S,e.lanes=s,e;case P:return(e=Ac(13,n,t,r)).elementType=P,e.lanes=s,e;case T:return(e=Ac(19,n,t,r)).elementType=T,e.lanes=s,e;case O:return Dc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case C:o=9;break e;case E:o=11;break e;case A:o=14;break e;case R:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Lc(e,t,n,a){return(e=Ac(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Ac(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,r,i,s,o,l){return e=new Ic(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function qc(e){if(!e)return Cr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Lr(e,n,t)}return t}function Vc(e,t,n,a,r,i,s,o,l){return(e=Uc(n,a,!0,e,0,i,0,o,l)).context=qc(null),n=e.current,(i=zi(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ii(n,i,r),e.current.lanes=r,gt(e,r,a),ac(e,a),e}function Bc(e,t,n,a){var r=t.current,i=ec(),s=tc(r);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ii(r,t,s))&&(nc(e,r,s,i),Ui(e,r,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Po(t),mi();break;case 5:Yi(t);break;case 1:Rr(t.type)&&Dr(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Nr(ji,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Nr(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Nr(Zi,1&Zi.current),null!==(e=Ho(e,t,n))?e.sibling:null);Nr(Zi,1&Zi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nr(Zi,Zi.current),a)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,ri&&0!==(1048576&t.flags)&&Zr(t,$r,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bo(e,t),e=t.pendingProps;var r=Ar(t,Er.current);Pi(t,n),r=fs(null,t,a,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(a)?(s=!0,Dr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Di(t),r.updater=ao,t.stateNode=r,r._reactInternals=t,oo(t,a,e,n),t=Eo(null,t,a,!0,s,n)):(t.tag=0,ri&&s&&ei(t),xo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(a),e=to(a,e),r){case 0:t=No(null,t,a,e,n);break e;case 1:t=Co(null,t,a,e,n);break e;case 11:t=bo(null,t,a,e,n);break e;case 14:t=jo(null,t,a,to(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,No(e,t,a,r=t.elementType===a?r:to(a,r),n);case 1:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:to(a,r),n);case 3:e:{if(Po(t),null===e)throw Error(i(387));a=t.pendingProps,r=(s=t.memoizedState).element,Mi(e,t),Vi(t,a,null,n);var o=t.memoizedState;if(a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,a,n,r=lo(Error(i(423)),t));break e}if(a!==r){t=To(e,t,a,n,r=lo(Error(i(424)),t));break e}for(ai=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=bi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===r){t=Ho(e,t,n);break e}xo(e,t,a,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==s&&nr(a,s)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Mo(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=xi(t,null,a,n):xo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,bo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Nr(ji,a._currentValue),a._currentValue=o,null!==s)if(oa(s.value,o)){if(s.children===r.children&&!Pr.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Pi(t,n),a=a(r=Ti(r)),t.flags|=1,xo(e,t,a,n),t.child;case 14:return r=to(a=t.type,t.pendingProps),jo(e,t,a,r=to(a.type,r),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:to(a,r),Bo(e,t),t.tag=1,Rr(a)?(e=!0,Dr(t)):e=!1,Pi(t,n),io(t,a,r),oo(t,a,r,n),Eo(null,t,a,!0,e,n);case 19:return Vo(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}Bc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=Hc(s);i.call(e)}}var s=Vc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[hr]=s.current,Va(8===e.nodeType?e.parentNode:e),dc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[hr]=l.current,Va(8===e.nodeType?e.parentNode:e),dc(function(){Bc(t,l,n,a)}),l}(n,t,e,r,a);return Hc(s)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Bc(null,e,null,null)}),t[hr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Ye()),0===(6&El)&&(Vl=Ye()+500,Vr()))}break;case 13:dc(function(){var t=Fi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),$c(e,1)}},jt=function(e){if(13===e.tag){var t=Fi(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Fi(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},kt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=br(a);if(!r)throw Error(i(90));G(a),X(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[_r,xr,br,Ne,Ce,cc]},td={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),it=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,a="",r=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,r),e[hr]=t.current,Va(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,s,o),e[hr]=t.current,Va(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>a[e]);return s.default=()=>a,n.d(i,s),i}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>qt,hasStandardBrowserEnv:()=>Bt,hasStandardBrowserWebWorkerEnv:()=>Ht,navigator:()=>Vt,origin:()=>Wt});var t,a=n(43),r=n.t(a,2),i=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,a){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function h(e,n,a,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:c=!1}=r,m=i.history,h=t.Pop,f=null,v=g();function g(){return(m.state||{idx:null}).idx}function y(){h=t.Pop;let e=g(),n=null==e?null:e-v;v=e,f&&f({action:h,location:x.location,delta:n})}function _(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,m.replaceState(s({},m.state,{idx:v}),""));let x={get action(){return h},get location(){return e(i,m)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,y),f=e,()=>{i.removeEventListener(o,y),f=null}},createHref:e=>n(i,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let r=u(x.location,e,n);a&&a(r,e),v=g()+1;let s=d(r,v),o=x.createHref(r);try{m.pushState(s,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;i.location.assign(o)}c&&f&&f({action:h,location:x.location,delta:1})},replace:function(e,n){h=t.Replace;let r=u(x.location,e,n);a&&a(r,e),v=g();let i=d(r,v),s=x.createHref(r);m.replaceState(i,"",s),c&&f&&f({action:h,location:x.location,delta:0})},go:e=>m.go(e)};return x}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,a){let r=A(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=T(r);s=E(i[o],e,a)}return s}function y(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let o=D([a,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of _(e.path))r(e,t,a);else r(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return r?[i,""]:[i];let s=_(a.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,b=3,j=2,w=1,k=10,S=-2,N=e=>"*"===e;function C(e,t){let n=e.split("/"),a=n.length;return n.some(N)&&(a+=S),t&&(a+=j),n.filter(e=>!N(e)).reduce((e,t)=>e+(x.test(t)?b:""===t?w:k),a)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},i="/",s=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===i?t:t.slice(i.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:D([i,d.pathname]),pathnameBase:M(D([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=D([i,d.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,t?void 0:"i");return[i,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function R(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=m(e):(r=s({},e),l(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let i,o=""===e||""===r.pathname,c=o?"/":r.pathname;if(null==c)i=n;else{let e=t.length-1;if(!a&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(a),hash:I(r)}}(r,i),u=c&&"/"!==c&&c.endsWith("/"),p=(o||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",I=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],V=(new Set(q),["get",...q]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B.apply(this,arguments)}const H=a.createContext(null);const W=a.createContext(null);const $=a.createContext(null);const G=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function J(){return null!=a.useContext(G)}function Y(){return J()||l(!1),a.useContext(G).location}function X(e){a.useContext($).static||a.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=ce(oe.UseNavigateStable),t=ue(le.UseNavigateStable),n=a.useRef(!1);return X(()=>{n.current=!0}),a.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,B({fromRouteId:t},r)))},[e,t])}():function(){J()||l(!1);let e=a.useContext(H),{basename:t,future:n,navigator:r}=a.useContext($),{matches:i}=a.useContext(K),{pathname:s}=Y(),o=JSON.stringify(F(i,n.v7_relativeSplatPath)),c=a.useRef(!1);X(()=>{c.current=!0});let d=a.useCallback(function(n,a){if(void 0===a&&(a={}),!c.current)return;if("number"===typeof n)return void r.go(n);let i=L(n,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:D([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[t,r,o,s,e]);return d}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext($),{matches:i}=a.useContext(K),{pathname:s}=Y(),o=JSON.stringify(F(i,r.v7_relativeSplatPath));return a.useMemo(()=>L(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function te(e,n,r,i){J()||l(!1);let{navigator:s}=a.useContext($),{matches:o}=a.useContext(K),c=o[o.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,h=Y();if(n){var f;let e="string"===typeof n?m(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),p=e}else p=h;let g=p.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=v(e,{pathname:y});let x=se(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,i);return n&&x?a.createElement(G.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},x):x}function ne(){let e=function(){var e;let t=a.useContext(Q),n=de(le.UseRouteError),r=ue(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const ae=a.createElement(ne,null);class re extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(K.Provider,{value:t},r)}function se(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(i=n)?void 0:i.errors;if(null!=c){let e=o.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let s,l=!1,p=null,m=null;var h;n&&(s=c&&r.route.id?c[r.route.id]:void 0,p=r.route.errorElement||ae,d&&(u<0&&0===i?(h="route-fallback",!1||pe[h]||(pe[h]=!0),l=!0,m=null):u===i&&(l=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,i+1)),v=()=>{let t;return t=s?p:l?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ie,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(re,{location:n.location,revalidation:n.revalidation,component:p,error:s,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=a.useContext(H);return t||l(!1),t}function de(e){let t=a.useContext(W);return t||l(!1),t}function ue(e){let t=function(){let e=a.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function he(e){let{to:t,replace:n,state:r,relative:i}=e;J()||l(!1);let{future:s,static:o}=a.useContext($),{matches:c}=a.useContext(K),{pathname:d}=Y(),u=Z(),p=L(t,F(c,s.v7_relativeSplatPath),d,"path"===i),m=JSON.stringify(p);return a.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function fe(e){l(!1)}function ve(e){let{basename:n="/",children:r=null,location:i,navigationType:s=t.Pop,navigator:o,static:c=!1,future:d}=e;J()&&l(!1);let u=n.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:u,navigator:o,static:c,future:B({v7_relativeSplatPath:!1},d)}),[u,d,o,c]);"string"===typeof i&&(i=m(i));let{pathname:h="/",search:f="",hash:v="",state:g=null,key:y="default"}=i,_=a.useMemo(()=>{let e=A(h,u);return null==e?null:{location:{pathname:e,search:f,hash:v,state:g,key:y},navigationType:s}},[u,h,f,v,g,y,s]);return null==_?null:a.createElement($.Provider,{value:p},a.createElement(G.Provider,{children:r,value:_}))}function ge(e){let{children:t,location:n}=e;return te(ye(t),n)}new Promise(()=>{});a.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,i)),n.push(s)}),n}var _e=n(950),xe=n.t(_e,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},be.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(vi){}new Map;const ke=r.startTransition;xe.flushSync,r.useId;function Se(e){let{basename:t,children:n,future:r,window:i}=e,s=a.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),h(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return u("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=s.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},f=a.useCallback(e=>{m&&ke?ke(()=>d(e)):d(e)},[d,m]);return a.useLayoutEffect(()=>l.listen(f),[l,f]),a.useEffect(()=>me(r),[r]),a.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=a.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:c,target:d,to:u,preventScrollReset:m,viewTransition:h}=e,f=je(e,we),{basename:v}=a.useContext($),g=!1;if("string"===typeof u&&Ce.test(u)&&(n=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=A(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(vi){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||l(!1);let{basename:r,navigator:i}=a.useContext($),{hash:s,pathname:o,search:c}=ee(e,{relative:n}),d=o;return"/"!==r&&(d="/"===o?r:D([r,o])),i.createHref({pathname:d,search:c,hash:s})}(u,{relative:i}),_=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=Z(),d=Y(),u=ee(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(d)===p(u);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,r,i,n,e,s,o,l])}(u,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:h});return a.createElement("a",be({},f,{href:n||y,onClick:g||s?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:d}))});var Pe,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function Ae(e,t){return function(){return e.apply(t,arguments)}}const{toString:Re}=Object.prototype,{getPrototypeOf:Oe}=Object,{iterator:Fe,toStringTag:Le}=Symbol,De=(Me=Object.create(null),e=>{const t=Re.call(e);return Me[t]||(Me[t]=t.slice(8,-1).toLowerCase())});var Me;const ze=e=>(e=e.toLowerCase(),t=>De(t)===e),Ie=e=>t=>typeof t===e,{isArray:Ue}=Array,qe=Ie("undefined");function Ve(e){return null!==e&&!qe(e)&&null!==e.constructor&&!qe(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Be=ze("ArrayBuffer");const He=Ie("string"),We=Ie("function"),$e=Ie("number"),Ge=e=>null!==e&&"object"===typeof e,Ke=e=>{if("object"!==De(e))return!1;const t=Oe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Le in e)&&!(Fe in e)},Qe=ze("Date"),Je=ze("File"),Ye=ze("Blob"),Xe=ze("FileList"),Ze=ze("URLSearchParams"),[et,tt,nt,at]=["ReadableStream","Request","Response","Headers"].map(ze);function rt(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ue(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ve(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(n=0;n<i;n++)s=a[n],t.call(null,e[s],s,e)}}function it(e,t){if(Ve(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const st="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ot=e=>!qe(e)&&e!==st;const lt=(ct="undefined"!==typeof Uint8Array&&Oe(Uint8Array),e=>ct&&e instanceof ct);var ct;const dt=ze("HTMLFormElement"),ut=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pt=ze("RegExp"),mt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};rt(n,(n,r)=>{let i;!1!==(i=t(n,r,e))&&(a[r]=i||n)}),Object.defineProperties(e,a)};const ht=ze("AsyncFunction"),ft=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],st.addEventListener("message",e=>{let{source:t,data:r}=e;t===st&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),st.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,We(st.postMessage)),vt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(st):"undefined"!==typeof process&&process.nextTick||ft,gt={isArray:Ue,isArrayBuffer:Be,isBuffer:Ve,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||We(e.append)&&("formdata"===(t=De(e))||"object"===t&&We(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Be(e.buffer),t},isString:He,isNumber:$e,isBoolean:e=>!0===e||!1===e,isObject:Ge,isPlainObject:Ke,isEmptyObject:e=>{if(!Ge(e)||Ve(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(vi){return!1}},isReadableStream:et,isRequest:tt,isResponse:nt,isHeaders:at,isUndefined:qe,isDate:Qe,isFile:Je,isBlob:Ye,isRegExp:pt,isFunction:We,isStream:e=>Ge(e)&&We(e.pipe),isURLSearchParams:Ze,isTypedArray:lt,isFileList:Xe,forEach:rt,merge:function e(){const{caseless:t,skipUndefined:n}=ot(this)&&this||{},a={},r=(r,i)=>{const s=t&&it(a,i)||i;Ke(a[s])&&Ke(r)?a[s]=e(a[s],r):Ke(r)?a[s]=e({},r):Ue(r)?a[s]=r.slice():n&&qe(r)||(a[s]=r)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&rt(arguments[i],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rt(t,(t,a)=>{n&&We(t)?e[a]=Ae(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,i,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],a&&!a(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Oe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:De,kindOfTest:ze,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Ue(e))return e;let t=e.length;if(!$e(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Fe]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:dt,hasOwnProperty:ut,hasOwnProp:ut,reduceDescriptors:mt,freezeMethods:e=>{mt(e,(t,n)=>{if(We(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];We(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Ue(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:it,global:st,isContextDefined:ot,isSpecCompliantForm:function(e){return!!(e&&We(e.append)&&"FormData"===e[Le]&&e[Fe])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Ge(e)){if(t.indexOf(e)>=0)return;if(Ve(e))return e;if(!("toJSON"in e)){t[a]=e;const r=Ue(e)?[]:{};return rt(e,(e,t)=>{const i=n(e,a+1);!qe(i)&&(r[t]=i)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:ht,isThenable:e=>e&&(Ge(e)||We(e))&&We(e.then)&&We(e.catch),setImmediate:ft,asap:vt,isIterable:e=>null!=e&&We(e[Fe])};function yt(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}gt.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=yt.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}}),Object.defineProperties(yt,xt),Object.defineProperty(_t,"isAxiosError",{value:!0}),yt.from=(e,t,n,a,r,i)=>{const s=Object.create(_t);gt.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return yt.call(s,o,l,n,a,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const bt=yt;function jt(e){return gt.isPlainObject(e)||gt.isArray(e)}function wt(e){return gt.endsWith(e,"[]")?e.slice(0,-2):e}function kt(e,t,n){return e?e.concat(t).map(function(e,t){return e=wt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const St=gt.toFlatObject(gt,{},null,function(e){return/^is[A-Z]/.test(e)});const Nt=function(e,t,n){if(!gt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!gt.isUndefined(t[e])})).metaTokens,r=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&gt.isSpecCompliantForm(t);if(!gt.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(gt.isDate(e))return e.toISOString();if(gt.isBoolean(e))return e.toString();if(!o&&gt.isBlob(e))throw new bt("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(e)||gt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(gt.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(gt.isArray(e)&&function(e){return gt.isArray(e)&&!e.some(jt)}(e)||(gt.isFileList(e)||gt.endsWith(n,"[]"))&&(o=gt.toArray(e)))return n=wt(n),o.forEach(function(e,a){!gt.isUndefined(e)&&null!==e&&t.append(!0===s?kt([n],a,i):null===s?n:n+"[]",l(e))}),!1;return!!jt(e)||(t.append(kt(r,n,i),l(e)),!1)}const d=[],u=Object.assign(St,{defaultVisitor:c,convertValue:l,isVisitable:jt});if(!gt.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!gt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),gt.forEach(n,function(n,i){!0===(!(gt.isUndefined(n)||null===n)&&r.call(t,n,gt.isString(i)?i.trim():i,a,u))&&e(n,a?a.concat(i):[i])}),d.pop()}}(e),t};function Ct(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Et(e,t){this._pairs=[],e&&Nt(e,this,t)}const Pt=Et.prototype;Pt.append=function(e,t){this._pairs.push([e,t])},Pt.toString=function(e){const t=e?function(t){return e.call(this,t,Ct)}:Ct;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Tt=Et;function At(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rt(e,t,n){if(!t)return e;const a=n&&n.encode||At;gt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(i=r?r(t,n):gt.isURLSearchParams(t)?t.toString():new Tt(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ot=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ft={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Dt(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Lt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}function Mt(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach(function(t){Mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ut={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Tt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qt="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Bt=qt&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Wt=qt&&window.location.href||"http://localhost",$t=It(It({},e),Ut);const Gt=function(e){function t(e,n,a,r){let i=e[r++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=r>=e.length;if(i=!i&&gt.isArray(a)?a.length:i,o)return gt.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!s;a[i]&&gt.isObject(a[i])||(a[i]=[]);return t(e,n,a[i],r)&&gt.isArray(a[i])&&(a[i]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}(a[i])),!s}if(gt.isFormData(e)&&gt.isFunction(e.entries)){const n={};return gt.forEachEntry(e,(e,a)=>{t(function(e){return gt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Kt={transitional:Ft,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=gt.isObject(e);r&&gt.isHTMLForm(e)&&(e=new FormData(e));if(gt.isFormData(e))return a?JSON.stringify(Gt(e)):e;if(gt.isArrayBuffer(e)||gt.isBuffer(e)||gt.isStream(e)||gt.isFile(e)||gt.isBlob(e)||gt.isReadableStream(e))return e;if(gt.isArrayBufferView(e))return e.buffer;if(gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Nt(e,new $t.classes.URLSearchParams,It({visitor:function(e,t,n,a){return $t.isNode&&gt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=gt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Nt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(gt.isString(e))try{return(t||JSON.parse)(e),gt.trim(e)}catch(vi){if("SyntaxError"!==vi.name)throw vi}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Kt.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(gt.isResponse(e)||gt.isReadableStream(e))return e;if(e&&gt.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(vi){if(n){if("SyntaxError"===vi.name)throw bt.from(vi,bt.ERR_BAD_RESPONSE,this,null,this.response);throw vi}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],e=>{Kt.headers[e]={}});const Qt=Kt,Jt=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yt=Symbol("internals");function Xt(e){return e&&String(e).trim().toLowerCase()}function Zt(e){return!1===e||null==e?e:gt.isArray(e)?e.map(Zt):String(e)}function en(e,t,n,a,r){return gt.isFunction(a)?a.call(this,t,n):(r&&(t=n),gt.isString(t)?gt.isString(a)?-1!==t.indexOf(a):gt.isRegExp(a)?a.test(t):void 0:void 0)}class tn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Xt(t);if(!r)throw new Error("header name must be a non-empty string");const i=gt.findKey(a,r);(!i||void 0===a[i]||!0===n||void 0===n&&!1!==a[i])&&(a[i||t]=Zt(e))}const i=(e,t)=>gt.forEach(e,(e,n)=>r(e,n,t));if(gt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(gt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Jt[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(gt.isObject(e)&&gt.isIterable(e)){let n,a,r={};for(const t of e){if(!gt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?gt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Xt(e)){const n=gt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(gt.isFunction(t))return t.call(this,e,n);if(gt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xt(e)){const n=gt.findKey(this,e);return!(!n||void 0===this[n]||t&&!en(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Xt(e)){const r=gt.findKey(n,e);!r||t&&!en(0,n[r],r,t)||(delete n[r],a=!0)}}return gt.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!en(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return gt.forEach(this,(a,r)=>{const i=gt.findKey(n,r);if(i)return t[i]=Zt(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=Zt(a),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return gt.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&gt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Yt]=this[Yt]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Xt(e);t[a]||(!function(e,t){const n=gt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return gt.isArray(e)?e.forEach(a):a(e),this}}tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),gt.reduceDescriptors(tn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),gt.freezeMethods(tn);const nn=tn;function an(e,t){const n=this||Qt,a=t||n,r=nn.from(a.headers);let i=a.data;return gt.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function rn(e){return!(!e||!e.__CANCEL__)}function sn(e,t,n){bt.call(this,null==e?"canceled":e,bt.ERR_CANCELED,t,n),this.name="CanceledError"}gt.inherits(sn,bt,{__CANCEL__:!0});const on=sn;function ln(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new bt("Request failed with status code "+n.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const cn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[s];r||(r=l),n[i]=o,a[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const dn=function(e,t){let n,a,r=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=i,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,a||(a=setTimeout(()=>{a=null,s(n)},i-t)))},()=>n&&s(n)]},un=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=cn(50,250);return dn(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-a,l=r(o);a=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},pn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},mn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gt.asap(()=>e(...n))},hn=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,fn=$t.hasStandardBrowserEnv?{write(e,t,n,a,r,i){const s=[e+"="+encodeURIComponent(t)];gt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),gt.isString(a)&&s.push("path="+a),gt.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gn=e=>e instanceof nn?It({},e):e;function yn(e,t){t=t||{};const n={};function a(e,t,n,a){return gt.isPlainObject(e)&&gt.isPlainObject(t)?gt.merge.call({caseless:a},e,t):gt.isPlainObject(t)?gt.merge({},t):gt.isArray(t)?t.slice():t}function r(e,t,n,r){return gt.isUndefined(t)?gt.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function i(e,t){if(!gt.isUndefined(t))return a(void 0,t)}function s(e,t){return gt.isUndefined(t)?gt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,i){return i in t?a(n,r):i in e?a(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(gn(e),gn(t),0,!0)};return gt.forEach(Object.keys(It(It({},e),t)),function(a){const i=l[a]||r,s=i(e[a],t[a],a);gt.isUndefined(s)&&i!==o||(n[a]=s)}),n}const _n=e=>{const t=yn({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=nn.from(s),t.url=Rt(vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),gt.isFormData(n))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(gt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&s.set(n,a)})}if($t.hasStandardBrowserEnv&&(a&&gt.isFunction(a)&&(a=a(t)),a||!1!==a&&hn(t.url))){const e=r&&i&&fn.read(i);e&&s.set(r,e)}return t},xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=_n(e);let r=a.data;const i=nn.from(a.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=nn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ln(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new bt("Request aborted",bt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new bt(a,bt.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Ft;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new bt(t,r.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,e,f)),f=null},void 0===r&&i.setContentType(null),"setRequestHeader"in f&&gt.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),gt.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([l,d]=un(m,!0),f.addEventListener("progress",l)),p&&f.upload&&([o,c]=un(p),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(s=t=>{f&&(n(!t||t.type?new on(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===$t.protocols.indexOf(g)?n(new bt("Unsupported protocol "+g+":",bt.ERR_BAD_REQUEST,e)):f.send(r||null)})},bn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof bt?t:new on(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,r(new bt("timeout ".concat(t," of ms exceeded"),bt.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>gt.asap(s),o}};function jn(e,t){this.v=e,this.k=t}function wn(e){return function(){return new kn(e.apply(this,arguments))}}function kn(e){var t,n;function a(t,n){try{var i=e[t](n),s=i.value,o=s instanceof jn;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return a(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,s){var o={key:e,arg:r,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Sn(e){return new jn(e,0)}function Nn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new jn(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Cn(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new En(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function En(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return En=function(e){this.s=e,this.n=e.next},En.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new En(e)}kn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},kn.prototype.next=function(e){return this._invoke("next",e)},kn.prototype.throw=function(e){return this._invoke("throw",e)},kn.prototype.return=function(e){return this._invoke("return",e)};const Pn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Tn=function(){var e=wn(function*(e,t){var n,a=!1,r=!1;try{for(var i,s=Cn(An(e));a=!(i=yield Sn(s.next())).done;a=!1){const e=i.value;yield*Nn(Cn(Pn(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=s.return&&(yield Sn(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),An=function(){var e=wn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Nn(Cn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Sn(t.read());if(e)break;yield n}}finally{yield Sn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Rn=(e,t,n,a)=>{const r=Tn(e,t);let i,s=0,o=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let i=a.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:On}=gt,Fn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(gt.global),{ReadableStream:Ln,TextEncoder:Dn}=gt.global,Mn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(vi){return!1}},zn=e=>{e=gt.merge.call({skipUndefined:!0},Fn,e);const{fetch:t,Request:n,Response:a}=e,r=t?On(t):"function"===typeof fetch,i=On(n),s=On(a);if(!r)return!1;const o=r&&On(Ln),l=r&&("function"===typeof Dn?(c=new Dn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=i&&o&&Mn(()=>{let e=!1;const t=new n($t.origin,{body:new Ln,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&Mn(()=>gt.isReadableStream(new a("").body)),p={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new bt("Response type '".concat(e,"' is not supported"),bt.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const a=gt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(gt.isBlob(e))return e.size;if(gt.isSpecCompliantForm(e)){const t=new n($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return gt.isArrayBufferView(e)||gt.isArrayBuffer(e)?e.byteLength:(gt.isURLSearchParams(e)&&(e+=""),gt.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:c,timeout:h,onDownloadProgress:f,onUploadProgress:v,responseType:g,headers:y,withCredentials:_="same-origin",fetchOptions:x}=_n(e),b=t||fetch;g=g?(g+"").toLowerCase():"text";let j=bn([l,c&&c.toAbortSignal()],h),w=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(v&&d&&"get"!==s&&"head"!==s&&0!==(S=await m(y,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(gt.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=pn(S,un(mn(v)));o=Rn(t.body,65536,e,n)}}gt.isString(_)||(_=_?"include":"omit");const t=i&&"credentials"in n.prototype,l=It(It({},x),{},{signal:j,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?_:void 0});w=i&&new n(r,l);let c=await(i?b(w,x):b(r,l));const h=u&&("stream"===g||"response"===g);if(u&&(f||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=gt.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&pn(t,un(mn(f),!0))||[];c=new a(Rn(c.body,65536,n,()=>{r&&r(),k&&k()}),e)}g=g||"text";let N=await p[gt.findKey(p,g)||"text"](c,e);return!h&&k&&k(),await new Promise((t,n)=>{ln(t,n,{data:N,headers:nn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(N){if(k&&k(),N&&"TypeError"===N.name&&/Load failed|fetch/i.test(N.message))throw Object.assign(new bt("Network Error",bt.ERR_NETWORK,e,w),{cause:N.cause||N});throw bt.from(N,N&&N.code,e,w)}}},In=new Map,Un=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let s,o,l=i.length,c=In;for(;l--;)s=i[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:zn(t)),c=o;return o},qn=(Un(),{http:null,xhr:xn,fetch:{get:Un}});gt.forEach(qn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(vi){}Object.defineProperty(e,"adapterName",{value:t})}});const Vn=e=>"- ".concat(e),Bn=e=>gt.isFunction(e)||null===e||!1===e,Hn=(e,t)=>{e=gt.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let s=0;s<n;s++){let n;if(a=e[s],r=a,!Bn(a)&&(r=qn[(n=String(a)).toLowerCase()],void 0===r))throw new bt("Unknown adapter '".concat(n,"'"));if(r&&(gt.isFunction(r)||(r=r.get(t))))break;i[n||"#"+s]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Vn).join("\n"):" "+Vn(e[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Wn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function $n(e){Wn(e),e.headers=nn.from(e.headers),e.data=an.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Hn(e.adapter||Qt.adapter,e)(e).then(function(t){return Wn(e),t.data=an.call(e,e.transformResponse,t),t.headers=nn.from(t.headers),t},function(t){return rn(t)||(Wn(e),t&&t.response&&(t.response.data=an.call(e,e.transformResponse,t.response),t.response.headers=nn.from(t.response.headers))),Promise.reject(t)})}const Gn="1.12.2",Kn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Qn={};Kn.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Gn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,i)=>{if(!1===e)throw new bt(a(r," has been removed"+(t?" in "+t:"")),bt.ERR_DEPRECATED);return t&&!Qn[r]&&(Qn[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},Kn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Jn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new bt("option "+i+" must be "+n,bt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new bt("Unknown option "+i,bt.ERR_BAD_OPTION)}},validators:Kn},Yn=Jn.validators;class Xn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(vi){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=yn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Jn.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),null!=a&&(gt.isFunction(a)?t.paramsSerializer={serialize:a}:Jn.assertOptions(a,{encode:Yn.function,serialize:Yn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jn.assertOptions(t,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&gt.merge(r.common,r[t.method]);r&&gt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=nn.concat(i,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[$n.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=$n.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Rt(vn((e=yn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}gt.forEach(["delete","get","head","options"],function(e){Xn.prototype[e]=function(t,n){return this.request(yn(n||{},{method:e,url:t,data:(n||{}).data}))}}),gt.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(yn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Xn.prototype[e]=t(),Xn.prototype[e+"Form"]=t(!0)});const Zn=Xn;class ea{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new on(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ea(function(t){e=t});return{token:t,cancel:e}}}const ta=ea;const na={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(na).forEach(e=>{let[t,n]=e;na[n]=t});const aa=na;const ra=function e(t){const n=new Zn(t),a=Ae(Zn.prototype.request,n);return gt.extend(a,Zn.prototype,n,{allOwnKeys:!0}),gt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(yn(t,n))},a}(Qt);ra.Axios=Zn,ra.CanceledError=on,ra.CancelToken=ta,ra.isCancel=rn,ra.VERSION=Gn,ra.toFormData=Nt,ra.AxiosError=bt,ra.Cancel=ra.CanceledError,ra.all=function(e){return Promise.all(e)},ra.spread=function(e){return function(t){return e.apply(null,t)}},ra.isAxiosError=function(e){return gt.isObject(e)&&!0===e.isAxiosError},ra.mergeConfig=yn,ra.AxiosHeaders=nn,ra.formToJSON=e=>Gt(gt.isHTMLForm(e)?new FormData(e):e),ra.getAdapter=Hn,ra.HttpStatusCode=aa,ra.default=ra;const ia=ra,sa=(()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;if(e)return e;const t=window.location.hostname;return t.includes("elif")?"http://api.elif":"localhost"===t||"127.0.0.1"===t?"http://localhost:8000":"http://".concat(t,":8000")})(),oa=ia.create({baseURL:sa});oa.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),oa.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refreshToken"),n=await ia.post("".concat(sa,"/api/token/refresh/"),{refresh:e}),{access:a}=n.data;return localStorage.setItem("accessToken",a),t.headers.Authorization="Bearer ".concat(a),oa(t)}catch(n){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});const la=oa;var ca=n(579);const da=(0,a.createContext)(),ua=()=>{const e=(0,a.useContext)(da);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pa=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(localStorage.getItem("accessToken"));(0,a.useEffect)(()=>{(async()=>{const e=localStorage.getItem("accessToken");if(e)try{const t=await la.get("/api/core/profile/");r(t.data),l(e)}catch(t){console.error("Auth initialization failed:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}s(!1)})()},[]);const c={user:n,token:o,loading:i,login:async e=>{try{const t=await la.post("/api/core/login/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(o){var t,n,a,i,s;return console.error("Login failed:",o),"ECONNREFUSED"===o.code||o.message.includes("Network Error")||o.message.includes("ERR_CONNECTION_REFUSED")?{success:!1,error:"Cannot connect to server. Please check if the backend server is running."}:{success:!1,error:(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.non_field_errors)||void 0===s?void 0:s[0])||"Login failed"}}},register:async e=>{try{const t=await la.post("/api/core/register/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(n){var t;return console.error("Registration failed:",n),{success:!1,error:(null===(t=n.response)||void 0===t?void 0:t.data)||"Registration failed"}}},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(null),l(null)},updateUser:e=>{r(e)},isAuthenticated:!!n,isAdmin:"admin"===(null===n||void 0===n?void 0:n.role),isManager:"manager"===(null===n||void 0===n?void 0:n.role),isSales:"sales"===(null===n||void 0===n?void 0:n.role)};return(0,ca.jsx)(da.Provider,{value:c,children:t})};n(844);Object.create(null);const ma={},ha=(e,t,n,a)=>{ya(n)&&ma[n]||(ya(n)&&(ma[n]=new Date),((e,t,n,a)=>{var r,i,s;const o=[n,It({code:t},a||{})];if(null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);ya(o[0])&&(o[0]="react-i18next:: ".concat(o[0])),null!==e&&void 0!==e&&null!==(i=e.services)&&void 0!==i&&null!==(i=i.logger)&&void 0!==i&&i.warn?e.services.logger.warn(...o):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...o)})(e,t,n,a))},fa=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},va=(e,t,n)=>{e.loadNamespaces(t,fa(e,n))},ga=(e,t,n,a)=>{if(ya(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return va(e,n,a);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,fa(e,a))},ya=e=>"string"===typeof e,_a=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xa={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},ba=e=>xa[e];let ja={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(_a,ba)};let wa;const ka={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ja=It(It({},ja),e)}(e.options.react),(e=>{wa=e})(e)}},Sa=(0,a.createContext)();class Na{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ca=(e,t,n,a)=>e.getFixedT(t,n,a),Ea=function(e){var t,n,r,i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:o}=s,{i18n:l,defaultNS:c}=(0,a.useContext)(Sa)||{},d=o||l||wa;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Na),!d){ha(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return ya(t)?t:"object"===typeof(n=t)&&null!==n&&ya(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(t=d.options.react)&&void 0!==t&&t.wait&&ha(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u=It(It(It({},ja),d.options.react),s),{useSuspense:p,keyPrefix:m}=u;let h=e||c||(null===(n=d.options)||void 0===n?void 0:n.defaultNS);h=ya(h)?[h]:h||["translation"],null===(r=(i=d.reportNamespaces).addUsedNamespaces)||void 0===r||r.call(i,h);const f=(d.isInitialized||d.initializedStoreOnce)&&h.every(e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):(ha(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,d,u)),v=((e,t,n,r)=>(0,a.useCallback)(Ca(e,t,n,r),[e,t,n,r]))(d,s.lng||null,"fallback"===u.nsMode?h:h[0],m),g=()=>v,y=()=>Ca(d,s.lng||null,"fallback"===u.nsMode?h:h[0],m),[_,x]=(0,a.useState)(g);let b=h.join();s.lng&&(b="".concat(s.lng).concat(b));const j=((e,t)=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current})(b),w=(0,a.useRef)(!0);(0,a.useEffect)(()=>{const{bindI18n:e,bindI18nStore:t}=u;w.current=!0,f||p||(s.lng?ga(d,s.lng,h,()=>{w.current&&x(y)}):va(d,h,()=>{w.current&&x(y)})),f&&j&&j!==b&&w.current&&x(y);const n=()=>{w.current&&x(y)};return e&&(null===d||void 0===d||d.on(e,n)),t&&(null===d||void 0===d||d.store.on(t,n)),()=>{w.current=!1,d&&e&&(null===e||void 0===e||e.split(" ").forEach(e=>d.off(e,n))),t&&d&&t.split(" ").forEach(e=>d.store.off(e,n))}},[d,b]),(0,a.useEffect)(()=>{w.current&&f&&x(g)},[d,m,f]);const k=[_,d,f];if(k.t=_,k.i18n=d,k.ready=f,f)return k;if(!f&&!p)return k;throw new Promise(e=>{s.lng?ga(d,s.lng,h,()=>e()):va(d,h,()=>e())})};function Pa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Ta=["children","variant","size","disabled","loading","onClick","type","className"],Aa=e=>{let{children:t,variant:n="primary",size:a="medium",disabled:r=!1,loading:i=!1,onClick:s,type:o="button",className:l=""}=e,c=Pa(e,Ta);const d=["btn",{primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",outline:"btn-outline"}[n],{small:"btn-sm",medium:"btn-md",large:"btn-lg"}[a],i?"btn-loading":"",l].filter(Boolean).join(" ");return(0,ca.jsxs)("button",It(It({type:o,className:d,disabled:r||i,onClick:s},c),{},{children:[i&&(0,ca.jsx)("span",{className:"btn-spinner"}),t]}))},Ra=()=>{const{i18n:e,t:t}=Ea(),[n,r]=(0,a.useState)(!1),i=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"fr",name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"mg",name:"Malagasy",flag:"\ud83c\uddf2\ud83c\uddec"}],s=i.find(t=>t.code===e.language)||i[0];(0,a.useEffect)(()=>{const t=sessionStorage.getItem("i18nextLng")||localStorage.getItem("i18nextLng")||(e=>{const t=e+"=",n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null})("i18next")||"en";t!==e.language&&e.changeLanguage(t)},[e]);const o=n=>{e.changeLanguage(n),r(!1),sessionStorage.setItem("i18nextLng",n),localStorage.setItem("i18nextLng",n),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);const r=window.location.hostname;document.cookie="".concat(e,"=").concat(t,"; expires=").concat(a.toUTCString(),"; path=/; domain=").concat(r)}("i18next",n,30);t("language.language_changed")};return(0,ca.jsxs)("div",{className:"language-selector",children:[(0,ca.jsxs)("button",{className:"language-selector-button",onClick:()=>{r(!n)},"aria-label":t("language.select_language"),children:[(0,ca.jsx)("span",{className:"language-flag",children:s.flag}),(0,ca.jsx)("span",{className:"language-name",children:s.name}),(0,ca.jsx)("span",{className:"dropdown-arrow ".concat(n?"open":""),children:"\u25bc"})]}),n&&(0,ca.jsx)("div",{className:"language-dropdown",children:i.map(t=>(0,ca.jsxs)("button",{className:"language-option ".concat(e.language===t.code?"active":""),onClick:()=>o(t.code),children:[(0,ca.jsx)("span",{className:"language-flag",children:t.flag}),(0,ca.jsx)("span",{className:"language-name",children:t.name}),e.language===t.code&&(0,ca.jsx)("span",{className:"checkmark",children:"\u2713"})]},t.code))})]})},Oa=()=>{const{user:e,logout:t,isAuthenticated:n,isSales:r}=ua(),{t:i}=Ea(),s=Z(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),m=(0,a.useRef)(null),h=()=>{t(),s("/login")};(0,a.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&p(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const f=[{name:i("navigation.dashboard"),path:"/dashboard",icon:"\ud83d\udcc8"},{name:i("navigation.pos"),path:"/pos",icon:"\ud83d\uded2"},{name:i("navigation.pending_sales"),path:"/pending-sales",icon:"\u23f3"},{name:i("navigation.sales_management"),path:"/sales-management",icon:"\ud83d\udcca"},{name:i("navigation.packaging_management"),path:"/packaging-management",icon:"\ud83d\udce6"},{name:i("navigation.reports"),path:"/reports",icon:"\ud83d\udccb"}];return(0,ca.jsx)("nav",{className:"navbar ".concat(c?"collapsed":""),ref:m,children:(0,ca.jsx)("div",{className:"navbar-container",children:n?(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"navbar-header",children:[(0,ca.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ca.jsx)(Ee,{to:"/",className:"navbar-brand",children:!c&&(0,ca.jsx)("h1",{children:i("app.title")})}),(0,ca.jsx)("button",{className:"navbar-toggle",onClick:()=>{d(!c)},"aria-label":"Toggle navigation",title:c?"Expand navigation":"Collapse navigation",children:c?"\u2192":"\u2190"})]}),!c&&(0,ca.jsx)(Ra,{})]}),(0,ca.jsx)("div",{className:"navbar-content",children:(0,ca.jsx)("div",{className:"navbar-menu ".concat(o?"active":""),children:f.map((e,t)=>(0,ca.jsxs)(Ee,{to:e.path,className:"navbar-link",onClick:()=>l(!1),title:c?e.name:"",children:[(0,ca.jsx)("span",{className:"nav-icon",children:e.icon}),!c&&e.name]},t))})}),(0,ca.jsxs)("div",{className:"navbar-footer",children:[!c&&(0,ca.jsxs)("div",{className:"navbar-user",children:[(0,ca.jsxs)("div",{className:"user-info",children:[(0,ca.jsx)("span",{className:"user-name",children:null===e||void 0===e?void 0:e.username}),(0,ca.jsx)("span",{className:"user-role",children:null===e||void 0===e?void 0:e.role})]}),(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:h,children:i("navigation.logout")})]}),c&&(0,ca.jsx)("button",{className:"logout-icon",onClick:h,title:"Logout",children:"\ud83d\udeaa"})]})]}):(0,ca.jsx)(Ee,{to:"/",className:"navbar-brand",children:(0,ca.jsx)("h1",{children:i("app.title")})})})})},Fa=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!0),i=async()=>{try{r(!0),await la.get("/api/core/health/",{timeout:5e3}),t(!0)}catch(e){"ECONNREFUSED"===e.code||e.message.includes("Network Error")||e.message.includes("ERR_CONNECTION_REFUSED")||e.message.includes("Failed to fetch")||e.message.includes("Connection refused")?t(!1):e.response&&e.response.status?t(!0):t(!1)}finally{r(!1)}};return(0,a.useEffect)(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[]),(0,ca.jsxs)("div",{className:"connection-status",children:[(0,ca.jsx)("div",{className:"status-dot ".concat(e?"connected":"disconnected"," ").concat(n?"checking":""),title:n?"Checking connection...":e?"Server connected":"Server disconnected"}),(0,ca.jsx)("span",{className:"status-text",children:n?"Checking...":e?"Connected":"Disconnected"})]})},La=()=>{const[e,t]=(0,a.useState)({username:"",password:""}),[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(""),{login:o,isAuthenticated:l}=ua(),{t:c}=Ea(),d=Z();(0,a.useEffect)(()=>{l&&d("/dashboard")},[l,d]);const u=n=>{t(It(It({},e),{},{[n.target.name]:n.target.value})),s("")};return(0,ca.jsxs)("div",{className:"login-container",children:[(0,ca.jsx)("div",{className:"login-language-selector",children:(0,ca.jsx)(Ra,{})}),(0,ca.jsxs)("div",{className:"login-card",children:[(0,ca.jsxs)("div",{className:"login-header",children:[(0,ca.jsx)("h1",{children:c("app.title")}),(0,ca.jsx)("p",{children:c("auth.login")})]}),(0,ca.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0),s("");const n=await o(e);n.success?d("/dashboard"):s(n.error),r(!1)},className:"login-form",children:[i&&(0,ca.jsx)("div",{className:"error-message",children:i}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"username",children:c("auth.username")}),(0,ca.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,required:!0,disabled:n})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"password",children:c("auth.password")}),(0,ca.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,required:!0,disabled:n})]}),(0,ca.jsx)(Aa,{type:"submit",loading:n,className:"login-button",children:c("auth.login")})]}),(0,ca.jsx)("div",{className:"login-footer",children:(0,ca.jsxs)("p",{children:[c("messages.dont_have_account")," ",(0,ca.jsx)(Ee,{to:"/register",className:"register-link",children:c("messages.contact_administrator")})]})})]})]})},Da=()=>{if("undefined"===typeof window)return!1;const e=window.navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)||window.innerWidth<=768||"ontouchstart"in window||navigator.maxTouchPoints>0},Ma=(e,t)=>{try{if(!e||!t)return console.error("Invalid data or title provided to downloadReceiptFile"),!1;const n=((e,t)=>{Da();const n="80mm";return"\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,'</title>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <style>\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: \'Courier New\', Courier, monospace;\n          font-size: ').concat("12px",";\n          line-height: 1.2;\n          color: #000;\n          width: ").concat(n,";\n          max-width: ").concat(n,";\n          margin: 0 auto;\n          padding: 2mm;\n          background: white;\n        }\n        \n        .receipt-header {\n          text-align: center;\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dashed #000;\n        }\n        \n        .company-name {\n          font-weight: bold;\n          font-size: 14px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .document-title {\n          font-weight: bold;\n          font-size: 13px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .receipt-date {\n          font-size: 11px;\n          color: #555;\n        }\n        \n        .receipt-section {\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dotted #ccc;\n        }\n        \n        .section-title {\n          font-weight: bold;\n          font-size: 11px;\n          margin-bottom: 3px;\n          text-transform: uppercase;\n          background: #f0f0f0;\n          padding: 1px 3px;\n        }\n        \n        .receipt-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-size: 11px;\n        }\n        \n        .item-name {\n          font-weight: bold;\n          margin-bottom: 1px;\n          word-wrap: break-word;\n          max-width: 22ch;\n        }\n        \n        .item-details {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: #555;\n        }\n        \n        .receipt-totals {\n          margin: 6px 0;\n          padding-top: 4px;\n          border-top: 2px solid #000;\n        }\n        \n        .total-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-weight: bold;\n          font-size: 11px;\n        }\n        \n        .receipt-footer {\n          text-align: center;\n          margin-top: 8px;\n          padding-top: 4px;\n          border-top: 1px dashed #000;\n          font-size: 10px;\n          color: #666;\n        }\n        \n        @media print {\n          body {\n            margin: 0;\n            padding: 1mm;\n            width: ").concat(n,";\n          }\n          \n          @page {\n            size: ").concat(n,' auto;\n            margin: 0;\n          }\n        }\n        \n        @media screen {\n          body {\n            border: 1px solid #ccc;\n            box-shadow: 0 0 10px rgba(0,0,0,0.1);\n          }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="receipt-header">\n        <div class="company-name">______ANTATSIMO______</div>\n        <div class="document-title">').concat(t.toUpperCase(),'</div>\n        <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n      </div>\n      \n      <div class="receipt-section">\n        <div class="section-title">SALE INFO</div>\n        <div class="receipt-row">\n          <span>Sale No:</span>\n          <span>').concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Status:</span>\n          <span>').concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Customer:</span>\n          <span>').concat((e.customer_name||"Walk-in Customer").substring(0,22),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>Phone:</span>\n            <span>'.concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Peyment Status:</span>\n          <span>').concat(e.payment_status,'</span>\n        </div>\n      </div>\n      \n      <div class="receipt-section">\n        <div class="section-title">ITEMS</div>\n        ').concat(e.items&&Array.isArray(e.items)?e.items.map(e=>'\n          <div class="item-name">'.concat((e.product_name||"N/A").substring(0,22),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_display||e.quantity||0," x ").concat(parseFloat(e.unit_price||0).toFixed(2),"</span>\n            <span>").concat(parseFloat(e.total_price||0).toFixed(2)," MGA</span>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n      </div>\n      \n      <div class="receipt-totals">\n        <div class="total-row">\n          <span>Total:</span>\n          <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="total-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="total-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n      </div>\n      \n      <div class="receipt-footer">\n        <div>Thank you for your business!</div>\n        <div>Print ID: ').concat(e.print_id||"N/A","</div>\n        <div>Created by: ").concat(e.created_by_name||e.sold_by_name||"N/A","</div>\n      </div>\n    </body>\n    </html>\n  ")})(e,t);if(!n)return console.error("Failed to create PDF content"),!1;const a=new Blob([n],{type:"text/html"}),r=URL.createObjectURL(a),i=document.createElement("a");return i.href=r,i.download="receipt_".concat(e.sale_number||Date.now(),".html"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),!0}catch(n){return console.error("Failed to download receipt file:",n),!1}},za=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";return new Promise(n=>{try{const a=Da()?"width=400,height=600,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=no":"width=900,height=700,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=no",r=window.open("","_blank",a);if(!r)throw new Error("Popup blocked or window.open failed");r.document.title=t,r.document.write(e),r.document.close(),r.focus();const i=()=>{try{r.focus(),setTimeout(()=>{try{r.print(),setTimeout(()=>{r.closed||window.confirm("Close the print preview window?")&&r.close()},5e3),n(!0)}catch(e){console.error("Print failed:",e),n(!1)}},500)}catch(e){console.error("Error in showAndPrint:",e),n(!1)}};"complete"===r.document.readyState?i():r.onload=i,setTimeout(()=>{r.closed||console.log("Print window timeout - window remains open for user interaction")},3e4)}catch(a){console.error("Failed to open print window:",a),n(!1)}})},Ia=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";try{const n=Da()?"width=500,height=700,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=yes":"width=1000,height=800,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes,location=no,status=yes",a=window.open("","_blank",n);if(!a)throw new Error("Popup blocked or window.open failed");a.document.title="".concat(t," - Print Preview");const r="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>".concat(t,' - Print Preview</title>\n        <meta charset="UTF-8">\n        <style>\n          body {\n            margin: 0;\n            padding: 20px;\n            font-family: Arial, sans-serif;\n            background: #f5f5f5;\n          }\n          .print-controls {\n            position: fixed;\n            top: 10px;\n            right: 10px;\n            background: white;\n            padding: 10px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            z-index: 1000;\n          }\n          .print-controls button {\n            margin: 5px;\n            padding: 8px 16px;\n            border: none;\n            border-radius: 3px;\n            cursor: pointer;\n            font-size: 14px;\n          }\n          .print-btn {\n            background: #007bff;\n            color: white;\n          }\n          .close-btn {\n            background: #6c757d;\n            color: white;\n          }\n          .print-content {\n            background: white;\n            padding: 20px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            max-width: 800px;\n            margin: 0 auto;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="print-controls">\n          <button class="print-btn" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n          <button class="close-btn" onclick="window.close()">\u274c Close</button>\n        </div>\n        <div class="print-content">\n          ').concat(e.replace("<!DOCTYPE html>","").replace("<html>","").replace("<head>","").replace("</head>","").replace("<body>","").replace("</body>","").replace("</html>",""),"\n        </div>\n      </body>\n      </html>\n    ");return a.document.write(r),a.document.close(),a.focus(),!0}catch(n){return console.error("Failed to open print preview:",n),!1}},Ua=(e,t,n,a)=>"\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,'</title>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <style>\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: \'Courier New\', Courier, monospace;\n          font-size: 12px;\n          line-height: 1.2;\n          color: #000;\n          width: 80mm;\n          max-width: 80mm;\n          margin: 0 auto;\n          padding: 2mm;\n          background: white;\n        }\n        \n        .receipt-header {\n          text-align: center;\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dashed #000;\n        }\n        \n        .company-name {\n          font-weight: bold;\n          font-size: 14px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .document-title {\n          font-weight: bold;\n          font-size: 13px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .receipt-date {\n          font-size: 11px;\n          color: #555;\n        }\n        \n        .receipt-section {\n          margin-bottom: 6px;\n          padding-bottom: 4px;\n          border-bottom: 1px dotted #ccc;\n        }\n        \n        .section-title {\n          font-weight: bold;\n          font-size: 11px;\n          margin-bottom: 3px;\n          text-transform: uppercase;\n          background: #f0f0f0;\n          padding: 1px 3px;\n        }\n        \n        .receipt-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-size: 11px;\n        }\n        \n        .item-name {\n          font-weight: bold;\n          margin-bottom: 1px;\n          word-wrap: break-word;\n          max-width: 22ch; /* 80mm = ~32 chars, leave space for price */\n        }\n        \n        .item-details {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: #555;\n        }\n        \n        .receipt-totals {\n          margin: 6px 0;\n          padding-top: 4px;\n          border-top: 2px solid #000;\n        }\n        \n        .total-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 2px;\n          font-weight: bold;\n          font-size: 11px;\n        }\n        \n        .receipt-footer {\n          text-align: center;\n          margin-top: 8px;\n          padding-top: 4px;\n          border-top: 1px dashed #000;\n          font-size: 10px;\n          color: #666;\n        }\n        \n        @media print {\n          body {\n            margin: 0;\n            padding: 1mm;\n            width: 80mm;\n          }\n          \n          @page {\n            size: 80mm auto;\n            margin: 0;\n          }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="receipt-header">\n        <div class="company-name" style="text-align: center;">________ANTATSIMO_______</div>\n        <div class="company-name" style="text-align: center;">',"\xa0",'</div>\n        <div class="document-title" style="text-align: center;">SALE RECEIPT</div>\n        <div class="receipt-date" style="text-align: center;">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n      </div>\n      <div class="receipt-section">\n        <div class="no-data">',"\xa0",'</div>\n        <div class="section-title">SALE INFO</div>\n        <div class="receipt-row">\n          <span>Sale No:</span>\n          <span>').concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Sale Status:</span>\n          <span>').concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Customer:</span>\n          <span>').concat((e.customer_name||"Walk-in Customer").substring(0,25),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>Phone:</span>\n            <span>'.concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Peyment Status:</span>\n          <span>').concat(e.payment_status,'</span>\n        </div>\n\n        <div class="no-data">',"\xa0",'</div>\n        <div class="no-data">==================================================</div>\n\n      </div>\n      <div class="receipt-section">\n        <div class="section-title">ITEMS SOLD</div>             \n        <div class="no-data">__________________________________________________</div>\n        <div class="item-details">\n          <span>Info</span>\n          <span>\n            Qte').concat("\xa0".repeat(16),"Total").concat("\xa0".repeat(2),'\n          </span>\n        </div>\n        <div class="no-data">\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf</div>         \n          ').concat(e.items&&Array.isArray(e.items)?e.items.map(e=>'\n          <div class="sale-item">\n            <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),' </div>\n            <div class="item-details">\n              <span>\n                ').concat("(".concat(e.unit_name,")").concat(parseFloat(e.unit_price||0).toFixed(2)).padEnd(22,"\xa0"),"\n                ").concat((e.quantity_display||e.quantity||0).toString().padEnd(5,"\xa0"),"\n                ").concat(parseFloat(e.total_price||0).toFixed(2).padStart(14,"\xa0")," MGA\n              </span>\n            </div>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n\n      </div>        \n      <div class="receipt-totals">\n        <div class="receipt-row">\n          <span>Subtotal:</span>\n          <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="receipt-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="receipt-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n        <div class="no-data">',"\xa0",'</div>\n      </div>\n      <div class="receipt-footer">\n        <div class="thank-you">Thank you!</div>\n        <div class="footer-text" style="text-align: center;">').concat(e.sale_number||"",'</div>\n        <div class="footer-text" style="text-align: center;">Created by: ').concat(e.created_by_name||e.sold_by_name||"N/A",'</div>\n        <div class="footer-text" style="text-align: center;">Print id : ').concat(e.print_id||"N/A","</div>\n      </div>\n    </body>\n    </html>\n  "),qa=(e,t,n,a)=>{(new Date).toLocaleDateString(),(new Date).toLocaleTimeString();let r="\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,"</title>\n      <meta charset=\"UTF-8\">\n      <style>\n        /* 80mm Thermal Printer Receipt Styles */\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: 'Courier New', Courier, monospace;\n          font-size: 12px;\n          line-height: 1.2;\n          color: #000;\n          width: 80mm;\n          max-width: 80mm;\n          margin: 0 auto;\n          padding: 3mm;\n          background: white;\n        }\n        \n        .receipt-header {\n          text-align: center;\n          margin-bottom: 8px;\n          padding-bottom: 6px;\n          border-bottom: 1px dashed #000;\n        }\n        \n        .company-name {\n          font-weight: bold;\n          font-size: 14px;\n          margin-bottom: 2px;\n          text-transform: uppercase;\n        }\n        \n        .document-title {\n          font-weight: bold;\n          font-size: 13px;\n          margin-bottom: 3px;\n          text-transform: uppercase;\n        }\n        \n        .receipt-date {\n          font-size: 11px;\n          color: #555;\n        }\n        \n        .receipt-section {\n          margin-bottom: 8px;\n          padding-bottom: 6px;\n          border-bottom: 1px dotted #ccc;\n        }\n        \n        .section-title {\n          font-weight: bold;\n          font-size: 11px;\n          margin-bottom: 4px;\n          text-transform: uppercase;\n          background: #f0f0f0;\n          padding: 2px 4px;\n        }\n        \n        .receipt-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 3px;\n          font-size: 11px;\n        }\n        \n        .product-item,\n        .order-item,\n        .delivery-item,\n        .sale-item,\n        .packaging-item,\n        .sale-summary {\n          margin-bottom: 4px;\n          padding: 2px 0;\n        }\n        \n        .product-name,\n        .item-name {\n          font-weight: bold;\n          margin-bottom: 1px;\n          word-wrap: break-word;\n        }\n        \n        .product-details,\n        .item-details,\n        .sale-info {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: #555;\n        }\n        \n        .receipt-totals,\n        .receipt-total {\n          margin: 8px 0;\n          padding-top: 6px;\n          border-top: 2px solid #000;\n        }\n        \n        .total-row {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 3px;\n          font-weight: bold;\n        }\n        \n        .due-amount {\n          color: #d00;\n        }\n        \n        .no-data {\n          text-align: center;\n          color: #888;\n          font-style: italic;\n          padding: 8px 0;\n        }\n        \n        .truncated-warning {\n          text-align: center;\n          color: #888;\n          font-size: 10px;\n          font-style: italic;\n          margin-top: 4px;\n        }\n        \n        .thank-you {\n          text-align: center;\n          font-weight: bold;\n          margin: 6px 0;\n        }\n        \n        .receipt-footer {\n          text-align: center;\n          margin-top: 10px;\n          padding-top: 6px;\n          border-top: 1px dashed #000;\n          font-size: 10px;\n          color: #666;\n        }\n        \n        .footer-text {\n          margin-bottom: 2px;\n        }\n        \n        .status-consignation { color: #090; }\n        .status-exchange { color: #009; }\n        .status-due { color: #d00; font-weight: bold; }\n        \n        /* Print-specific styles */\n        @media print {\n          body {\n            margin: 0;\n            padding: 2mm;\n            width: 80mm;\n          }\n          \n          .no-print {\n            display: none;\n          }\n          \n          /* Ensure proper sizing for thermal paper */\n          @page {\n            size: 80mm auto;\n            margin: 0;\n          }\n        }\n        \n        /* Force monospace and proper breaking */\n        * {\n          font-family: 'Courier New', Courier, monospace !important;\n        }\n        \n        .default-content {\n          text-align: center;\n          padding: 10px 0;\n          color: #666;\n        }\n      </style>\n    </head>\n    <body>\n  ");switch(n){case"inventory":r+=((e,t)=>{let n=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))n=e.results;else if(e.data&&Array.isArray(e.data))n=e.data;else if(e.items&&Array.isArray(e.items))n=e.items;else{const t=Object.keys(e).filter(e=>/^\d+$/.test(e));n=t.length>0?t.map(t=>e[t]).filter(e=>e&&"object"===typeof e):[]}return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">').concat(t("titles.inventory_summary","INVENTORY SUMMARY"),'</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Products:</span>\n        <span>').concat(Array.isArray(n)?n.length:0,'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">PRODUCTS</div>\n      ').concat(Array.isArray(n)?n.slice(0,20).map(e=>'\n        <div class="product-item">\n          <div class="product-name">'.concat((e.name||"N/A").substring(0,20),'</div>\n          <div class="product-details">\n            <span>SKU: ').concat((e.sku||"N/A").substring(0,8),"</span>\n            <span>Qty: ").concat(e.stock_quantity||0,"</span>\n            <span>").concat(parseFloat(e.price||0).toFixed(2)," MGA</span>\n          </div>\n        </div>\n      ")).join(""):'<div class="no-data">No products found</div>',"\n      ").concat(Array.isArray(n)&&n.length>20?'\n        <div class="truncated-warning">... and '.concat(n.length-20," more products</div>\n      "):"",'\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">').concat(t("footer.generated_by","Generated by ______ANTATSIMO______ System"),"</div>\n    </div>\n  ")})(e,a);break;case"purchase_order":r+=((e,t)=>{var n;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">PURCHASE ORDER</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ORDER INFO</div>\n      <div class="receipt-row">\n        <span>Order No:</span>\n        <span>').concat(e.order_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Supplier:</span>\n        <span>').concat(((null===(n=e.supplier)||void 0===n?void 0:n.name)||"N/A").substring(0,25),'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Date:</span>\n        <span>').concat(e.order_date?new Date(e.order_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ITEMS</div>\n      ').concat(e.items?e.items.map(e=>{var t;return'\n        <div class="order-item">\n          <div class="item-name">'.concat(((null===(t=e.product)||void 0===t?void 0:t.name)||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_ordered||0," x ").concat(parseFloat(e.unit_cost||0).toFixed(2),"</span>\n            <span>").concat(parseFloat((e.quantity_ordered||0)*(e.unit_cost||0)).toFixed(2)," MGA</span>\n          </div>\n        </div>\n      ")}).join(""):'<div class="no-data">No items found</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>TOTAL AMOUNT:</span>\n        <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">End of Purchase Order</div>\n    </div>\n  ')})(e,a);break;case"delivery":r+=((e,t)=>{var n;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">DELIVERY RECEIPT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">DELIVERY INFO</div>\n      <div class="receipt-row">\n        <span>Delivery No:</span>\n        <span>').concat(e.delivery_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>PO Number:</span>\n        <span>').concat((null===(n=e.purchase_order)||void 0===n?void 0:n.order_number)||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Date:</span>\n        <span>').concat(e.delivery_date?new Date(e.delivery_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">ITEMS RECEIVED</div>\n      ').concat(e.items?e.items.map(e=>{var t;return'\n        <div class="delivery-item">\n          <div class="item-name">'.concat((e.product_name||(null===(t=e.product)||void 0===t?void 0:t.name)||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity_received||e.delivered_quantity||0," x ").concat(parseFloat(e.unit_cost||0).toFixed(2),"</span>\n            <span>").concat(parseFloat((e.quantity_received||e.delivered_quantity||0)*(e.unit_cost||0)).toFixed(2)," MGA</span>\n          </div>\n        </div>\n      ")}).join(""):'<div class="no-data">No items found</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>TOTAL AMOUNT:</span>\n        <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Delivery completed</div>\n    </div>\n  ')})(e,a);break;case"sale":r+=(e=>{let t=e.items;if(!t){const n=Object.keys(e).filter(e=>/^\d+$/.test(e));n.length>0&&(t=n.map(t=>e[t]).filter(e=>e&&"object"===typeof e))}const n="paid"===e.payment_status?"PAID":"partial"===e.payment_status?"PARTIAL":"pending"===e.payment_status?"PENDING":"UNKNOWN";return'\n    <div class="receipt-header">\n        <div class="company-name" style="text-align: center;">________ANTATSIMO_______</div>\n        <div class="company-name" style="text-align: center;">'.concat("\xa0",'</div>\n        <div class="document-title" style="text-align: center;">SALE RECEIPT</div>\n        <div class="receipt-date" style="text-align: center;">',(new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n      </div>\n      <div class="receipt-section">\n        <div class="no-data">',"\xa0",'</div>\n        <div class="section-title">SALE INFO</div>\n        <div class="receipt-row">\n          <span>Sale No:</span>\n          <span>').concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Sale Status:</span>\n          <span>').concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Customer:</span>\n          <span>').concat((e.customer_name||"Walk-in Customer").substring(0,25),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>Phone:</span>\n            <span>'.concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Peyment Status:</span>\n          <span>').concat(n,'</span>\n        </div>\n\n        <div class="no-data">',"\xa0",'</div>\n        <div class="no-data">==================================================</div>\n\n      </div>\n      <div class="receipt-section">\n        <div class="section-title">ITEMS SOLD</div>             \n        <div class="no-data">__________________________________________________</div>\n        <div class="item-details">\n          <span>Info</span>\n          <span>\n            Qte').concat("\xa0".repeat(16),"Total").concat("\xa0".repeat(2),'\n          </span>\n        </div>\n        <div class="no-data">\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf</div>          \n        ').concat(t&&Array.isArray(t)?t.slice(0,20).map(e=>'\n          <div class="sale-item">\n            <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),' </div>\n            <div class="item-details">\n              <span>\n                ').concat("(".concat(e.unit_name,")").concat(parseFloat(e.unit_price||0).toFixed(2)).padEnd(22,"\xa0"),"\n                ").concat((e.quantity_display||e.quantity||0).toString().padEnd(5,"\xa0"),"\n                ").concat(parseFloat(e.total_price||0).toFixed(2).padStart(14,"\xa0")," MGA\n              </span>\n            </div>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n\n      </div>        \n      <div class="receipt-totals">\n        <div class="receipt-row">\n          <span>Subtotal:</span>\n          <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="receipt-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="receipt-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n        <div class="no-data">',"\xa0",'</div>\n      </div>\n      <div class="receipt-footer">\n        <div class="thank-you">Thank you!</div>\n        <div class="footer-text" style="text-align: center;">').concat(e.sale_number||"",'</div>\n        <div class="footer-text" style="text-align: center;">Created by : \'N/A\'}</div>\n        <div class="footer-text" style="text-align: center;">Print id : ').concat(e.print_id||"N/A","</div>\n      </div>\n  ")})(e);break;case"sales_history":r+=((e,t)=>{let n=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))n=e.results;else if(e.data&&Array.isArray(e.data))n=e.data;else if(e.items&&Array.isArray(e.items))n=e.items;else{const t=Object.keys(e).filter(e=>/^\d+$/.test(e));n=t.length>0?t.map(t=>e[t]).filter(e=>e&&"object"===typeof e):[]}const a=Array.isArray(n)?n.reduce((e,t)=>e+parseFloat(t.total_amount||0),0):0;return'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">SALES REPORT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">SUMMARY</div>\n      <div class="receipt-row">\n        <span>Total Sales:</span>\n        <span>').concat(Array.isArray(n)?n.length:0,'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Total Revenue:</span>\n        <span>').concat(a.toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">RECENT SALES</div>\n      ').concat(Array.isArray(n)?n.slice(0,10).map(e=>'\n        <div class="sale-summary">\n          <div class="sale-info">\n            <span>'.concat(e.sale_number||"N/A","</span>\n            <span>").concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n          </div>\n          <div class="sale-details">\n            <span>').concat((e.customer_name||t("customer.walk_in","Walk-in")).substring(0,15),"</span>\n            <span>").concat(e.created_at?new Date(e.created_at).toLocaleDateString():"N/A","</span>\n          </div>\n        </div>\n      ")).join(""):'<div class="no-data">No sales data</div>',"\n      ").concat(Array.isArray(n)&&n.length>10?'\n        <div class="truncated-warning">... and '.concat(n.length-10," more sales</div>\n      "):"",'\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Sales report generated</div>\n    </div>\n  ')})(e,a);break;case"packaging_validation":r+=((e,t)=>'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">PACKAGING VALIDATION</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">VALIDATION INFO</div>\n      <div class="receipt-row">\n        <span>Sale No:</span>\n        <span>').concat(e.sale_number||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Status:</span>\n        <span>').concat(e.status||"N/A",'</span>\n      </div>\n      <div class="receipt-row">\n        <span>Customer:</span>\n        <span>').concat((e.customer_name||t("customer.walk_in","Walk-in Customer")).substring(0,25),"</span>\n      </div>\n      ").concat(e.customer_phone?'\n        <div class="receipt-row">\n          <span>Phone:</span>\n          <span>'.concat(e.customer_phone,"</span>\n        </div>\n      "):"",'\n      <div class="receipt-row">\n        <span>Total Items:</span>\n        <span>').concat(e.packaging_items?e.packaging_items.length:0,'</span>\n      </div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">PACKAGING ITEMS</div>\n      ').concat(e.packaging_items&&Array.isArray(e.packaging_items)?e.packaging_items.slice(0,15).map(e=>'\n        <div class="packaging-item">\n          <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),'</div>\n          <div class="item-details">\n            <span>').concat(e.quantity||0," x ").concat(parseFloat(e.unit_price||0).toFixed(2),"</span>\n            <span>").concat(parseFloat(e.total_price||0).toFixed(2),' MGA</span>\n            <span class="status-').concat(e.status,'">').concat("consignation"===e.status?"PAID":"exchange"===e.status?"EXCH":"due"===e.status?"DUE":e.status,"</span>\n          </div>\n        </div>\n      ")).join(""):'<div class="no-data">No packaging items</div>','\n    </div>\n    \n    <div class="receipt-total">\n      <div class="total-row">\n        <span>PACKAGING TOTAL:</span>\n        <span>').concat(parseFloat(e.packaging_total||0).toFixed(2),' MGA</span>\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Packaging validation completed</div>\n    </div>\n  '))(e,a);break;default:r+=((e,t)=>'\n    <div class="receipt-header">\n      <div class="company-name">'.concat(t("company.name","______ANTATSIMO______"),'</div>\n      <div class="document-title">DOCUMENT</div>\n      <div class="receipt-date">').concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n    </div>\n    \n    <div class="receipt-section">\n      <div class="section-title">CONTENT</div>\n      <div class="default-content">\n        Document generated successfully\n      </div>\n    </div>\n    \n    <div class="receipt-footer">\n      <div class="footer-text">Document printed</div>\n    </div>\n  '))(0,a)}return r+="\n    </body>\n    </html>\n  ",r},Va=e=>{let{data:t,title:n,type:r="default",onValidate:i=null,validateText:s="Validate & Print",printText:o="Print",className:l="",disabled:c=!1,showValidateOption:d=!1}=e;const{t:u}=Ea(),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),v=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return console.error("No data provided to PrintButton"),void window.alert(u("print.no_data","No data available to print."));if(e&&i)try{await i()}catch(l){return void console.error("Validation failed:",l)}m(!0);try{let e;const i=Da();if(s){console.log("Attempting to download receipt file...",{data:t,title:n});const e=Ma(t,n);if(console.log("Download result:",e),e)return void window.alert(u("print.pdf_downloaded","Receipt PDF downloaded! You can now open it with any PDF viewer or receipt printer app to print directly to your Xprinter."));throw new Error("Failed to download receipt file.")}if(e=a||i?Ua(t,n,r,u):qa(t,n,r,u),o){if(Ia(e,n))return;throw new Error("Failed to open print preview window.")}if(i){const a=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Document";try{if(navigator.share&&Da())try{const n=new Blob([e],{type:"text/html"}),a=new File([n],"".concat(t,".html"),{type:"text/html"});return await navigator.share({title:t,text:"Print this receipt",files:[a]}),!0}catch(n){console.log("Web Share API with file failed, trying other methods:",n)}if(window.print&&!Da()){const t=document.createElement("div");t.innerHTML=e,t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t);const n=document.body.innerHTML;return document.body.innerHTML=e,window.print(),document.body.innerHTML=n,document.body.removeChild(t),!0}return await za(e,t)}catch(l){return console.error("All print methods failed:",l),!1}}(e,n);if(!a){if(window.confirm(u("print.mobile_failed_offer_app","Mobile printing failed. Would you like to download a file for receipt printer apps instead?"))){if(Ma(t,n))return void window.alert(u("print.pdf_downloaded","Receipt PDF downloaded! You can now open it with any PDF viewer or receipt printer app to print directly to your Xprinter."))}throw new Error("Mobile printing failed. Please try again or check your printer connection.")}}else{if(Ia(e,n))return;if(!await za(e,n))throw new Error("Failed to open print window. Please check popup blockers and try again.")}}catch(l){console.error("Print error:",l);let e=u("print.failed","Failed to print. Please try again.");l.message.includes("popup")?e=u("print.popup_blocked","Popup blocked. Please allow popups for this site and try again."):l.message.includes("Mobile printing failed")?e=u("print.mobile_failed","Mobile printing failed. Please check your printer connection and try again."):l.message.includes("window.open")?e=u("print.window_failed","Could not open print window. Please check your browser settings."):l.message.includes("Failed to download")&&(e=u("print.download_failed","Failed to download receipt file. Please try again.")),window.alert(e)}finally{m(!1),f(!1)}};if(d&&i)return(0,ca.jsxs)("div",{className:"print-button-container ".concat(l),children:[(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>f(!h),disabled:c,children:h?u("button.hide_options","Hide Options"):u("button.show_options","Show Options")}),h&&(0,ca.jsxs)("div",{className:"print-options",children:[(0,ca.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>v(!0),disabled:c||p,children:p?u("button.processing","Processing..."):s}),(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1),disabled:c||p,children:p?u("button.preparing","Preparing..."):o}),(0,ca.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?u("button.preparing","Preparing..."):u("button.print_thermal","Print (Thermal)")})]})]});return Da()?(0,ca.jsx)("div",{className:"print-button-container ".concat(l),children:(0,ca.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,ca.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?u("button.printing","Printing..."):u("button.print_receipt","Print Receipt")}),(0,ca.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!1,!0),disabled:c||p,children:p?u("button.downloading","Downloading..."):u("button.download_pdf","Download PDF")}),(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!1,!1,!0),disabled:c||p,children:p?u("button.loading","Loading..."):u("button.preview","Print Preview")}),d&&i&&(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!0,!0),disabled:c||p,children:p?u("button.processing","Processing..."):s})]})}):(0,ca.jsx)("div",{className:"print-button-container ".concat(l),children:(0,ca.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!0),disabled:c||p,children:p?u("button.printing","Printing..."):o}),(0,ca.jsx)(Aa,{variant:"secondary",size:"small",onClick:()=>v(!1,!1,!0),disabled:c||p,children:p?u("button.downloading","Downloading..."):u("button.download_pdf","Download PDF")}),(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>v(!1,!1,!1,!0),disabled:c||p,children:p?u("button.loading","Loading..."):u("button.preview","Print Preview")})]})})},Ba=e=>{var t;let{sale:n,onClose:a,loading:r=!1}=e;const{t:i}=Ea();if(!n&&!r)return null;if(n&&!n.sale_number)return(0,ca.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:i("modals.sale_details")}),(0,ca.jsx)("button",{className:"modal-close",onClick:a,children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsx)("div",{className:"modal-body",children:(0,ca.jsx)("div",{className:"error-state",children:(0,ca.jsx)("p",{children:"Unable to load sale details. The sale data appears to be incomplete."})})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)("button",{className:"btn-secondary",onClick:a,children:i("modals.close")})})]})});const s=e=>"".concat(parseFloat(e).toFixed(2)," MGA");return(0,ca.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:i("modals.sale_details")}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Va,{data:n,title:i("titles.sale_receipt"),type:"sale",printText:i("buttons.print_receipt"),className:"print-sale-receipt-btn"}),(0,ca.jsx)("button",{className:"modal-close",onClick:a,children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]}),(0,ca.jsx)("div",{className:"modal-body",children:r?(0,ca.jsxs)("div",{className:"loading-state",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("p",{children:i("modals.loading_sale_details")})]}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"sale-info-section",children:[(0,ca.jsx)("h3",{children:i("modals.sale_information")}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("table_headers.sale_number"),":"]}),(0,ca.jsx)("span",{className:"sale-number",children:n.sale_number})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("common.status"),":"]}),(0,ca.jsx)("span",{className:"status status-".concat(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("common.date"),":"]}),(0,ca.jsx)("span",{children:(o=n.created_at,new Date(o).toLocaleString())})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("table_headers.sold_by"),":"]}),(0,ca.jsx)("span",{children:n.sold_by_name||i("app.unknown_user")})]})]})]}),(0,ca.jsxs)("div",{className:"customer-info-section",children:[(0,ca.jsx)("h3",{children:i("modals.customer_information")}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("common.name"),":"]}),(0,ca.jsx)("span",{children:n.customer_name||i("dashboard.walk_in_customer")})]}),n.customer_phone&&(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("common.phone"),":"]}),(0,ca.jsx)("span",{children:n.customer_phone})]}),n.customer_email&&(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[i("common.email"),":"]}),(0,ca.jsx)("span",{children:n.customer_email})]})]})]}),(0,ca.jsxs)("div",{className:"items-section",children:[(0,ca.jsxs)("h3",{children:[i("table_headers.items")," (",(null===(t=n.items)||void 0===t?void 0:t.length)||0,")"]}),n.items&&n.items.length>0?(0,ca.jsxs)("div",{className:"items-table",children:[(0,ca.jsxs)("div",{className:"table-header",children:[(0,ca.jsx)("div",{className:"col-product",children:i("common.name")}),(0,ca.jsx)("div",{className:"col-sku",children:"SKU"}),(0,ca.jsx)("div",{className:"col-quantity",children:i("common.quantity")}),(0,ca.jsx)("div",{className:"col-unit",children:i("common.unit")}),(0,ca.jsx)("div",{className:"col-price",children:i("common.price")}),(0,ca.jsx)("div",{className:"col-mode",children:i("common.type")}),(0,ca.jsx)("div",{className:"col-total",children:i("common.total")})]}),n.items.map((e,t)=>(0,ca.jsxs)("div",{className:"table-row",children:[(0,ca.jsx)("div",{className:"col-product",children:(0,ca.jsx)("div",{className:"product-name",children:e.product_name})}),(0,ca.jsx)("div",{className:"col-sku",children:e.product_sku}),(0,ca.jsx)("div",{className:"col-quantity",children:e.quantity_display||e.quantity}),(0,ca.jsx)("div",{className:"col-unit",children:e.unit_name?"".concat(e.unit_name," (").concat(e.unit_symbol||"",")"):"N/A"}),(0,ca.jsx)("div",{className:"col-price",children:s(e.unit_price)}),(0,ca.jsx)("div",{className:"col-mode",children:(0,ca.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?i("common.wholesale"):i("common.retail")})}),(0,ca.jsx)("div",{className:"col-total",children:s(e.total_price)})]},t))]}):(0,ca.jsx)("p",{className:"no-items",children:"No items found"})]}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsx)("h3",{children:i("modals.payment_summary")}),(0,ca.jsxs)("div",{className:"payment-summary",children:[(0,ca.jsxs)("div",{className:"payment-row",children:[(0,ca.jsxs)("label",{children:[i("table_headers.total_amount"),":"]}),(0,ca.jsx)("span",{children:s(n.subtotal)})]}),n.cost_amount&&n.cost_amount>0&&(0,ca.jsxs)("div",{className:"payment-row cost-breakdown",children:[(0,ca.jsx)("label",{children:"Cost (excl. tax):"}),(0,ca.jsx)("span",{children:s(n.cost_amount)})]}),n.tax_amount>0&&(0,ca.jsxs)("div",{className:"payment-row tax-breakdown",children:[(0,ca.jsxs)("label",{children:[i("modals.tax_included"),":"]}),(0,ca.jsx)("span",{children:s(n.tax_amount)})]}),n.discount_amount>0&&(0,ca.jsxs)("div",{className:"payment-row discount",children:[(0,ca.jsxs)("label",{children:[i("modals.discount"),":"]}),(0,ca.jsxs)("span",{children:["-",s(n.discount_amount)]})]}),(0,ca.jsxs)("div",{className:"payment-row total",children:[(0,ca.jsxs)("label",{children:[i("common.total"),":"]}),(0,ca.jsx)("span",{children:s(n.total_amount)})]}),(0,ca.jsxs)("div",{className:"payment-row",children:[(0,ca.jsxs)("label",{children:[i("table_headers.payment_method"),":"]}),(0,ca.jsx)("span",{className:"payment-method",children:n.payment_method.charAt(0).toUpperCase()+n.payment_method.slice(1)})]})]})]}),n.notes&&(0,ca.jsxs)("div",{className:"notes-section",children:[(0,ca.jsx)("h3",{children:i("common.notes")}),(0,ca.jsx)("div",{className:"notes-content",children:n.notes})]})]})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)("button",{className:"btn-secondary",onClick:a,children:i("modals.close")})})]})});var o},Ha=()=>{var e,t,n,r,i,s,o,l,c,d,u,p,m,h,f,v,g,y,_,x,b;const{t:j}=Ea(),{user:w}=ua(),[k,S]=(0,a.useState)(null),[N,C]=(0,a.useState)(!0),[E,P]=(0,a.useState)(""),[T,A]=(0,a.useState)("month"),[R,O]=(0,a.useState)(null),[F,L]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),z="sales"===(null===w||void 0===w?void 0:w.role);(0,a.useEffect)(()=>{I()},[T,z]);const I=async()=>{try{C(!0);const e=z?"/api/reports/dashboard/":"/api/reports/dashboard/?period=".concat(T),t=await la.get(e);S(t.data)}catch(e){P(j("dashboard.failed_to_load")),console.error("Dashboard error:",e)}finally{C(!1)}};return N?(0,ca.jsx)("div",{className:"dashboard",children:(0,ca.jsxs)("div",{className:"dashboard-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:j("dashboard.loading")})]})}):E?(0,ca.jsx)("div",{className:"dashboard",children:(0,ca.jsxs)("div",{className:"dashboard-error",children:[(0,ca.jsx)("h2",{children:j("dashboard.error")}),(0,ca.jsx)("p",{children:E}),(0,ca.jsx)("button",{onClick:I,children:j("common.retry")})]})}):(0,ca.jsxs)("div",{className:"dashboard",children:[(0,ca.jsx)("div",{className:"dashboard-header",children:(0,ca.jsxs)("div",{className:"header-content",children:[(0,ca.jsxs)("div",{className:"header-text",children:[(0,ca.jsx)("h1",{children:j("dashboard.title")}),(0,ca.jsx)("p",{children:j("dashboard.welcome",{username:null===w||void 0===w?void 0:w.username})}),z&&(0,ca.jsx)("p",{className:"role-indicator",children:j("dashboard.sales_team_view")})]}),!z&&(0,ca.jsxs)("div",{className:"period-selector",children:[(0,ca.jsx)("label",{children:j("dashboard.time_period")}),(0,ca.jsxs)("select",{value:T,onChange:e=>{return t=e.target.value,void(z||A(t));var t},className:"period-select",children:[(0,ca.jsx)("option",{value:"daily",children:j("dashboard.daily")}),(0,ca.jsx)("option",{value:"weekly",children:j("dashboard.weekly")}),(0,ca.jsx)("option",{value:"month",children:j("dashboard.monthly")})]})]})]})}),(0,ca.jsxs)("div",{className:"dashboard-grid",children:[(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon sales",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.total_revenue")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===k||void 0===k||null===(e=k.sales)||void 0===e||null===(t=e.total_sales)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===k||void 0===k||null===(n=k.sales)||void 0===n?void 0:n.total_count)||0," ",j("dashboard.transactions")]})]})]}),!z&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon cost",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.total_cost")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===k||void 0===k||null===(r=k.sales)||void 0===r||null===(i=r.total_cost)||void 0===i?void 0:i.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("p",{className:"metric-label",children:j("dashboard.cost_of_goods_sold")})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon profit",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.profit")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===k||void 0===k||null===(s=k.sales)||void 0===s||null===(o=s.profit)||void 0===o?void 0:o.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===k||void 0===k||null===(l=k.sales)||void 0===l||null===(c=l.profit_margin)||void 0===c?void 0:c.toFixed(1))||"0.0","% ",j("dashboard.margin")]})]})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon inventory",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j(z?"dashboard.total_products":"dashboard.inventory_value")}),(0,ca.jsx)("p",{className:"metric-value",children:z?(null===k||void 0===k||null===(d=k.inventory)||void 0===d?void 0:d.total_products)||0:"".concat((null===k||void 0===k||null===(u=k.inventory)||void 0===u||null===(p=u.total_inventory_value)||void 0===p?void 0:p.toFixed(2))||"0.00"," MGA")}),(0,ca.jsx)("p",{className:"metric-label",children:z?j("dashboard.available_products"):"".concat((null===k||void 0===k||null===(m=k.inventory)||void 0===m?void 0:m.total_products)||0," ").concat(j("dashboard.products"))})]})]}),!z&&(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon retail",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M7 4V2c0-.55-.45-1-1-1s-1 .45-1 1v2H3c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H7zM21 4h-2V2c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:"Retail Value"}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===k||void 0===k||null===(h=k.inventory)||void 0===h||null===(f=h.total_retail_value)||void 0===f?void 0:f.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===k||void 0===k||null===(v=k.inventory)||void 0===v?void 0:v.low_stock_count)||0," low stock"]})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon alert",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:"Out of Stock"}),(0,ca.jsx)("p",{className:"metric-value",children:(null===k||void 0===k||null===(g=k.inventory)||void 0===g?void 0:g.out_of_stock_count)||0}),(0,ca.jsx)("p",{className:"metric-label",children:"products need restocking"})]})]})]}),!z&&(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsx)("h2",{children:j("dashboard.sales_trend")}),(0,ca.jsx)("div",{className:"sales-chart",children:(null===k||void 0===k||null===(y=k.chart_data)||void 0===y?void 0:y.length)>0?(0,ca.jsxs)("div",{className:"chart-container",children:[(0,ca.jsx)("div",{className:"chart-bars",children:k.chart_data.map((e,t)=>(0,ca.jsxs)("div",{className:"chart-bar",children:[(0,ca.jsxs)("div",{className:"bar-group",children:[(0,ca.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,e.sales/Math.max(...k.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(j("dashboard.sales"),": ").concat(e.sales.toFixed(2)," MGA")}),(0,ca.jsx)("div",{className:"bar cost-bar",style:{height:"".concat(Math.max(5,e.cost/Math.max(...k.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(j("dashboard.cost"),": ").concat(e.cost.toFixed(2)," MGA")})]}),(0,ca.jsx)("div",{className:"bar-label",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,ca.jsxs)("div",{className:"bar-values",children:[(0,ca.jsxs)("div",{className:"value sales",children:[e.sales.toFixed(0)," MGA"]}),(0,ca.jsxs)("div",{className:"value cost",children:[e.cost.toFixed(0)," MGA"]})]})]},t))}),(0,ca.jsxs)("div",{className:"chart-legend",children:[(0,ca.jsxs)("div",{className:"legend-item",children:[(0,ca.jsx)("div",{className:"legend-color sales"}),(0,ca.jsx)("span",{children:j("dashboard.sales")})]}),(0,ca.jsxs)("div",{className:"legend-item",children:[(0,ca.jsx)("div",{className:"legend-color cost"}),(0,ca.jsx)("span",{children:j("dashboard.cost")})]})]})]}):(0,ca.jsx)("p",{className:"no-data",children:j("dashboard.no_sales_data")})})]}),(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h2",{children:j("dashboard.recent_sales")}),(null===k||void 0===k||null===(_=k.recent_sales)||void 0===_?void 0:_.length)>0&&(0,ca.jsx)(Va,{data:It(It({},k.recent_sales),{},{user_name:(null===w||void 0===w?void 0:w.username)||j("app.unknown_user"),user_id:(null===w||void 0===w?void 0:w.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:j("titles.sales_management_report"),type:"sales_history",printText:j("buttons.print_sales_report"),className:"print-recent-sales-btn"})]}),(0,ca.jsx)("div",{className:"recent-sales",children:(null===k||void 0===k||null===(x=k.recent_sales)||void 0===x?void 0:x.length)>0?(0,ca.jsx)("div",{className:"sales-list",children:k.recent_sales.map((e,t)=>(0,ca.jsxs)("div",{className:"sale-item clickable",onClick:()=>(async e=>{try{M(!0),L(!0);const t=e.id||e.sale_id;if(!t)throw new Error(j("errors.not_found"));const n=await la.get("/api/sales/".concat(t,"/"));O(n.data)}catch(t){console.error("Failed to fetch sale details:",t),P("Failed to load sale details: ".concat(t.message)),L(!1)}finally{M(!1)}})(e),title:j("dashboard.click_to_view_details"),children:[(0,ca.jsxs)("div",{className:"sale-info",children:[(0,ca.jsx)("h4",{children:e.sale_number}),(0,ca.jsx)("p",{children:e.customer_name||j("dashboard.walk_in_customer")})]}),(0,ca.jsxs)("div",{className:"sale-amount",children:[(0,ca.jsxs)("span",{children:[e.total_amount.toFixed(2)," MGA"]}),(0,ca.jsx)("small",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,ca.jsx)("div",{className:"sale-arrow",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})})]},t))}):(0,ca.jsx)("p",{className:"no-data",children:"No recent sales"})})]}),(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsx)("h2",{children:j("dashboard.top_selling_products")}),(0,ca.jsx)("div",{className:"top-products",children:(null===k||void 0===k||null===(b=k.top_products)||void 0===b?void 0:b.length)>0?(0,ca.jsx)("div",{className:"products-list",children:k.top_products.map((e,t)=>{var n,a,r;return(0,ca.jsxs)("div",{className:"product-item",children:[(0,ca.jsxs)("div",{className:"product-info",children:[(0,ca.jsx)("h4",{children:e.product__name}),(0,ca.jsx)("p",{children:e.product__sku})]}),(0,ca.jsxs)("div",{className:"product-stats",children:[(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.sold"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[e.total_sold," ",e.unit_symbol||"piece"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.revenue"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[e.total_revenue.toFixed(2)," MGA"]})]}),!z&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.cost"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[(null===(n=e.total_cost)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.profit"),":"]}),(0,ca.jsxs)("span",{className:"stat-value profit",children:[(null===(a=e.profit)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.margin"),":"]}),(0,ca.jsxs)("span",{className:"stat-value margin",children:[(null===(r=e.profit_margin)||void 0===r?void 0:r.toFixed(1))||"0.0","%"]})]})]})]})]},t)})}):(0,ca.jsx)("p",{className:"no-data",children:"No sales data available"})})]}),F&&(0,ca.jsx)(Ba,{sale:R,onClose:()=>{L(!1),O(null)},loading:D})]})},Wa=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({name:"",phone:"",email:""}),[u,p]=(0,a.useState)("cash"),[m,h]=(0,a.useState)("full"),[f,v]=(0,a.useState)(0),[g,y]=(0,a.useState)(!0),[_,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[S,N]=(0,a.useState)({}),[C,E]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[A,R]=(0,a.useState)({category:"",search:""}),[O,F]=(0,a.useState)(""),[L,D]=(0,a.useState)(null),[M,z]=(0,a.useState)(""),[I,U]=(0,a.useState)({}),q=(0,a.useRef)(null),V=(0,a.useRef)(A),B=(0,a.useRef)(null),H=(0,a.useRef)(i),W=(0,a.useRef)(C);(0,a.useEffect)(()=>{V.current=A},[A]),(0,a.useEffect)(()=>{H.current=i},[i]),(0,a.useEffect)(()=>{W.current=C},[C]);const $=(0,a.useCallback)(()=>{const e={};i.forEach(t=>{e[t.id]=t.is_sellable}),sessionStorage.setItem("sellableCategories",JSON.stringify(e))},[i]);(0,a.useEffect)(()=>{i.length>0&&$()},[i,$]),(0,a.useEffect)(()=>{W.current&&H.current.length>0&&""===V.current.category&&""===V.current.search&&ge(V.current)},[C,i.length,A]);const[G,K]=(0,a.useState)(!1),[Q,J]=(0,a.useState)("standard"),[Y,X]=(0,a.useState)("complete"),[Z,ee]=(0,a.useState)(!0),[te,ne]=(0,a.useState)(1),ae=24,[re,ie]=(0,a.useState)([]),[se,oe]=(0,a.useState)(!1),le=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Sale Receipt",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!e)return console.error("No data provided for printing"),window.alert("No data available to print."),!1;const a=Da(),r=ce(e,t,"sale");if(n){if(Ia(r,t))return!0;throw new Error("Failed to open print preview window.")}if(a){if(!await za(r,t)){if(window.confirm("Mobile printing failed. Would you like to download a file for receipt printer apps instead?")){if(Ma(e,t))return window.alert("Receipt file downloaded! You can now open it with any receipt printer app to print directly to your Xprinter."),!0}throw new Error("Mobile printing failed. Please try again or check your printer connection.")}return!0}if(!await de(r,t)){if(!Ia(r,t))throw new Error("Failed to print receipt. Please try print preview instead.")}return!0}catch(b){return console.error("Print error:",b),window.alert("Failed to print receipt. Please try print preview or check your printer settings."),!1}},ce=(e,n,a)=>{const r=(e=>{let n=e.items;if(!n){const t=Object.keys(e).filter(e=>/^\d+$/.test(e));t.length>0&&(n=t.map(t=>e[t]).filter(e=>e&&"object"===typeof e))}const a="paid"===e.payment_status?"PAID":"partial"===e.payment_status?"PARTIAL":"pending"===e.payment_status?"PENDING":"UNKNOWN";return'\n      <div class="receipt-header">\n        <div class="company-name" style="text-align: center;">________ANTATSIMO_______</div>\n        <div class="company-name" style="text-align: center;">'.concat("\xa0",'</div>\n        <div class="document-title" style="text-align: center;">SALE RECEIPT</div>\n        <div class="receipt-date" style="text-align: center;">',(new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString(),'</div>\n      </div>\n      <div class="receipt-section">\n        <div class="no-data">',"\xa0",'</div>\n        <div class="section-title">SALE INFO</div>\n        <div class="receipt-row">\n          <span>Sale No:</span>\n          <span>').concat(e.sale_number||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Sale Status:</span>\n          <span>').concat(e.status||"N/A",'</span>\n        </div>\n        <div class="receipt-row">\n          <span>Customer:</span>\n          <span>').concat((e.customer_name||"Walk-in Customer").substring(0,25),"</span>\n        </div>\n        ").concat(e.customer_phone?'\n          <div class="receipt-row">\n            <span>Phone:</span>\n            <span>'.concat(e.customer_phone,"</span>\n          </div>\n        "):"",'\n        <div class="receipt-row">\n          <span>Peyment Status:</span>\n          <span>').concat(a,'</span>\n        </div>\n\n        <div class="no-data">',"\xa0",'</div>\n\n      </div>\n      <div class="receipt-section">\n        <div class="section-title">ITEMS SOLD</div>    \n        <div class="no-data">__________________________________________________</div>\n        <div class="item-details">\n          <span>Info</span>\n          <span>\n            Qte').concat("\xa0".repeat(16),"Total").concat("\xa0".repeat(2),'\n          </span>\n        </div>\n        <div class="no-data">\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf\xaf</div>         \n      \n        ').concat(n&&Array.isArray(n)?n.slice(0,20).map(e=>'\n          <div class="sale-item">\n            <div class="item-name">'.concat((e.product_name||"N/A").substring(0,25),' </div>\n            <div class="item-details">\n              <span>\n                ').concat("(".concat(e.unit_name,")").concat(parseFloat(e.unit_price||0).toFixed(2)).padEnd(22,"\xa0"),"\n                ").concat((e.quantity_display||e.quantity||0).toString().padEnd(5,"\xa0"),"\n                ").concat(parseFloat(e.total_price||0).toFixed(2).padStart(14,"\xa0")," MGA\n              </span>\n            </div>\n          </div>\n        ")).join(""):'<div class="no-data">No items found</div>','\n\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n\n      </div>        \n      <div class="receipt-totals">\n        <div class="receipt-row">\n          <span>Subtotal:</span>\n          <span>').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="receipt-row">\n          <span>Paid:</span>\n          <span>').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n        </div>\n        ").concat("partial"===e.payment_status?'\n          <div class="receipt-row">\n            <span>Due:</span>\n            <span>'.concat(parseFloat(e.remaining_amount||0).toFixed(2)," MGA</span>\n          </div>\n        "):"",'\n        <div class="no-data">__________________________________________________</div>\n        <div class="no-data">==================================================</</div>\n        <div class="no-data">',"\xa0",'</div>\n      </div>\n      <div class="receipt-footer">\n        <div class="thank-you">Thank you!</div>\n        <div class="footer-text" style="text-align: center;">').concat(e.sale_number||"",'</div>\n        <div class="footer-text" style="text-align: center;">Created by : ').concat((null===t||void 0===t?void 0:t.username)||"N/A",'</div>\n        <div class="footer-text" style="text-align: center;">Print id : ').concat(e.print_id||"N/A","</div>\n      </div>\n    ")})(e);return"\n  <!DOCTYPE html>\n  <html>\n  <head>\n    <title>".concat(n,"</title>\n    <meta charset=\"UTF-8\">\n    <style>\n      /* 80mm Thermal Printer Receipt Styles */\n      * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n      }\n      \n      body {\n        font-family: 'Courier New', Courier, monospace;\n        font-size: 12px;\n        line-height: 1.2;\n        color: #000;\n        width: 80mm;\n        max-width: 80mm;\n        margin: 0 auto;\n        padding: 3mm;\n        background: white;\n      }\n      \n      .receipt-header {\n        text-align: center;\n        margin-bottom: 8px;\n        padding-bottom: 6px;\n        border-bottom: 1px dashed #000;\n      }\n      \n      .company-name {\n        font-weight: bold;\n        font-size: 14px;\n        margin-bottom: 2px;\n        text-transform: uppercase;\n      }\n      \n      .document-title {\n        font-weight: bold;\n        font-size: 13px;\n        margin-bottom: 3px;\n        text-transform: uppercase;\n      }\n      \n      .receipt-date {\n        font-size: 11px;\n        color: #555;\n      }\n      \n      .receipt-section {\n        margin-bottom: 8px;\n        padding-bottom: 6px;\n        border-bottom: 1px dotted #ccc;\n      }\n      \n      .section-title {\n        font-weight: bold;\n        font-size: 11px;\n        margin-bottom: 4px;\n        text-transform: uppercase;\n        background: #f0f0f0;\n        padding: 2px 4px;\n      }\n      \n      .receipt-row {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 3px;\n        font-size: 11px;\n      }\n      \n      .product-item,\n      .order-item,\n      .delivery-item,\n      .sale-item,\n      .packaging-item,\n      .sale-summary {\n        margin-bottom: 4px;\n        padding: 2px 0;\n      }\n      \n      .product-name,\n      .item-name {\n        font-weight: bold;\n        margin-bottom: 1px;\n        word-wrap: break-word;\n      }\n      \n      .product-details,\n      .item-details,\n      .sale-info {\n        display: flex;\n        justify-content: space-between;\n        font-size: 10px;\n        color: #555;\n      }\n      \n      .receipt-totals,\n      .receipt-total {\n        margin: 8px 0;\n        padding-top: 6px;\n        border-top: 2px solid #000;\n      }\n      \n      .total-row {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 3px;\n        font-weight: bold;\n      }\n      \n      .due-amount {\n        color: #d00;\n      }\n      \n      .no-data {\n        text-align: center;\n        color: #888;\n        font-style: italic;\n        padding: 8px 0;\n      }\n      \n      .truncated-warning {\n        text-align: center;\n        color: #888;\n        font-size: 10px;\n        font-style: italic;\n        margin-top: 4px;\n      }\n      \n      .thank-you {\n        text-align: center;\n        font-weight: bold;\n        margin: 6px 0;\n      }\n      \n      .receipt-footer {\n        text-align: center;\n        margin-top: 10px;\n        padding-top: 6px;\n        border-top: 1px dashed #000;\n        font-size: 10px;\n        color: #666;\n      }\n      \n      .footer-text {\n        margin-bottom: 2px;\n      }\n      \n      .status-consignation { color: #090; }\n      .status-exchange { color: #009; }\n      .status-due { color: #d00; font-weight: bold; }\n      \n      /* Print-specific styles */\n      @media print {\n        body {\n          margin: 0;\n          padding: 2mm;\n          width: 80mm;\n        }\n        \n        .no-print {\n          display: none;\n        }\n        \n        /* Ensure proper sizing for thermal paper */\n        @page {\n          size: 80mm auto;\n          margin: 0;\n        }\n      }\n      \n      /* Force monospace and proper breaking */\n      * {\n        font-family: 'Courier New', Courier, monospace !important;\n      }\n      \n      .default-content {\n        text-align: center;\n        padding: 10px 0;\n        color: #666;\n      }\n    </style>\n  </head>\n  <body>\n    ").concat(r,"\n  </body>\n  </html>")},de=(e,t)=>new Promise(t=>{try{const n=document.createElement("iframe");n.style.position="fixed",n.style.right="0",n.style.bottom="0",n.style.width="0",n.style.height="0",n.style.border="none",n.style.visibility="hidden",document.body.appendChild(n);let a=n.contentWindow||n.contentDocument;a.document&&(a=a.document),a.open(),a.write(e),a.close();const r=setTimeout(()=>{try{n.contentWindow.focus(),setTimeout(()=>{n.contentWindow.print(),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n),t(!0)},1e3)},500)}catch(e){console.error("Print error:",e),document.body.contains(n)&&document.body.removeChild(n),t(!1)}},1e3);n.onload=function(){clearTimeout(r);try{n.contentWindow.focus(),setTimeout(()=>{n.contentWindow.print(),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n),t(!0)},1e3)},500)}catch(b){console.error("Print error:",b),document.body.contains(n)&&document.body.removeChild(n),t(!1)}}}catch(b){console.error("Print setup error:",b),t(!1)}}),ue=e=>"wholesale"===Q&&e.wholesale_price?parseFloat(e.wholesale_price):parseFloat(e.price),pe=()=>o.reduce((e,t)=>e+(t.unit_price||0)*t.quantity,0);(0,a.useEffect)(()=>{const e=pe();"full"===m?v(e):"partial"===m&&f===e&&v(0)},[m,o,re]);const me=(e,t)=>{if(null===t||void 0===t||!t.price)return 0;if("standard"===Q)return t.price;if("wholesale"===Q&&e.wholesale_price){const n=parseFloat(e.price),a=parseFloat(e.wholesale_price);if(!n||n<=0)return t.price;const r=a/n;let i;if(t.is_base_unit)i=n*r;else{i=a*(t.price/n)}const s=Math.round(100*i)/100;return isNaN(s)||s<0?t.price:s}return t.price};(0,a.useEffect)(()=>{(async()=>{await ye()})()},[]),(0,a.useEffect)(()=>{C&&i.length>0&&ge(A)},[C]),(0,a.useEffect)(()=>{if(B.current&&clearTimeout(B.current),""!==O)B.current=setTimeout(()=>{const e=It(It({},V.current),{},{search:O});R(e),ge(e)},500);else if(""!==V.current.search){const e=It(It({},V.current),{},{search:""});R(e),ge(e)}return()=>{B.current&&clearTimeout(B.current)}},[O]),(0,a.useEffect)(()=>{n.length>0&&he();const e={};n.forEach(t=>{if(t.compatible_units&&t.compatible_units.length>1){let a=t.compatible_units.find(e=>e.is_default);var n;if(a||(a=t.compatible_units.find(e=>e.unit.is_base_unit)),a||(a=t.compatible_units[0]),a)e[t.id]=(null===(n=a.unit)||void 0===n?void 0:n.id)||a.unit}}),U(e)},[n]);const he=async()=>{try{const e=n.map(e=>e.id),t=await la.post("/api/products/bulk-stock-availability/",{product_ids:e}),a={};Object.values(t.data).forEach(e=>{a[e.product_id]=e.available_units}),N(a)}catch(e){n.forEach(e=>{be(e.id)})}},fe=()=>{n.length>0&&he()},ve=e=>{const t=S[e];if(!t)return null;const n=o.filter(t=>t.id===e).reduce((e,n)=>{const a=t.find(e=>e.id===n.unit_id);return a&&a.conversion_factor?e+n.quantity*a.conversion_factor:a&&a.is_base_unit?e+n.quantity:e},0),a=t.find(e=>e.is_base_unit),r=a?a.available_quantity:0,i=Math.max(0,r-n);return t.map(e=>{let t=0,n=!1;return e.is_base_unit?(t=i,n=i>0):e.conversion_factor&&(t=Math.floor(i/e.conversion_factor),n=t>0),It(It({},e),{},{available_quantity:t,is_available:n})})},ge=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{y(!0);const t=new URLSearchParams;t.append("is_active","true"),e.category&&t.append("category",e.category),e.search&&t.append("search",e.search);const n="/api/products/".concat(t.toString()?"?"+t.toString():"");let a=await la.get(n),i=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[],s=a.data.next;for(;s;){a=await la.get(s);const e=Array.isArray(a.data.results)?a.data.results:Array.isArray(a.data)?a.data:[];i=i.concat(e),s=a.data.next}const o=i;if(0===H.current.length||!W.current)return void r(o);const l=o.filter(e=>{let t=!1;if(e.category_name){const n=H.current.find(t=>t.name===e.category_name);t=!!n&&n.is_sellable}else if(e.category&&"number"===typeof e.category){const n=H.current.find(t=>t.id===e.category);t=!!n&&n.is_sellable}else if(e.category&&e.category.id){const n=H.current.find(t=>t.id===e.category.id);t=!!n&&n.is_sellable}else t=!1;return t});if(e.category){const t=H.current.find(t=>t.id===parseInt(e.category));if(t&&!t.is_sellable)return void r([])}r(l),ne(1)}catch(t){j("Failed to load products")}finally{y(!1)}},[]),ye=(0,a.useCallback)(async()=>{try{const e=await la.get("/api/products/categories/");let t=e.data.results||e.data;const n=JSON.parse(sessionStorage.getItem("sellableCategories")||"{}");t=t.map(e=>{const t=n.hasOwnProperty(e.id)?n[e.id]:e.is_sellable;return It(It({},e),{},{is_sellable:t})}),s(t),E(!0)}catch(e){console.error("Error fetching categories:",e)}},[]),_e=(0,a.useCallback)(async(e,t)=>{try{T(!0);const n=!t,a=JSON.parse(sessionStorage.getItem("sellableCategories")||"{}");a[e]=n,sessionStorage.setItem("sellableCategories",JSON.stringify(a)),s(t=>t.map(t=>t.id===e?It(It({},t),{},{is_sellable:n}):t)),ge(A),setTimeout(()=>T(!1),500)}catch(n){j("Failed to update category status"),console.error("Category toggle error:",n),T(!1)}},[i]),xe=(0,a.useCallback)(async()=>{try{T(!0);const e={};H.current.forEach(t=>{e[t.id]=!0}),sessionStorage.setItem("sellableCategories",JSON.stringify(e)),s(e=>e.map(e=>It(It({},e),{},{is_sellable:!0}))),ge(A),k("All categories have been set to sellable"),setTimeout(()=>T(!1),500)}catch(e){j("Failed to reset categories"),console.error("Category reset error:",e),T(!1)}},[i]),be=async e=>{try{const t=await la.get("/api/products/".concat(e,"/stock-availability/"));N(n=>It(It({},n),{},{[e]:t.data.available_units}))}catch(t){}},je=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t&&e.compatible_units&&e.compatible_units[0]){var n,a,r;const i=e.compatible_units[0];t={id:(null===(n=i.unit)||void 0===n?void 0:n.id)||i.unit,name:i.unit_name||(null===(a=i.unit)||void 0===a?void 0:a.name)||"Piece",symbol:i.unit_symbol||(null===(r=i.unit)||void 0===r?void 0:r.symbol)||"piece"}}var i;t||(t={id:(null===(i=e.base_unit)||void 0===i?void 0:i.id)||e.base_unit,name:"Piece",symbol:"piece"});if("complete"===Y){if(!S[e.id])return void j("Loading stock information... Please try again.");const n=ve(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(!a)return void j("Unit ".concat(t.name," not found in stock information"));if(!a.is_available)return void j("".concat(t.name," is out of stock"));if(a.available_quantity<=0)return void j("No ".concat(t.name," stock left"))}const s=o.find(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===Q);if(s){if("complete"===Y){const n=ve(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(a&&s.quantity+1>a.available_quantity)return void j("Not enough ".concat(t.name," available. Only ").concat(a.available_quantity," left."))}l(n=>n.map(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===Q?It(It({},n),{},{quantity:n.quantity+1}):n))}else{if("complete"===Y){const n=ve(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(a&&1>a.available_quantity)return void j("Not enough ".concat(t.name," available. Only ").concat(a.available_quantity," left."))}const n=ve(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id),r=It(It({},e),{},{quantity:1,unit_id:t.id,unit_name:t.name,unit_symbol:t.symbol,unit_price:me(e,a)||ue(e),price_mode:Q});l(e=>[...e,r])}e.has_packaging&&e.packaging_price&&setTimeout(()=>{Se(e,t)},0),j("")},we=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a<=0)l(o.filter(n=>!(n.id===e&&n.unit_id===t&&n.price_mode===r))),ie(re.filter(t=>t.id!==e));else{if("complete"===Y){const n=ve(e),i=null===n||void 0===n?void 0:n.find(e=>e.id===t);if(!i||!i.is_available)return void j("Unit is out of stock");const s=o.filter(n=>n.id===e&&n.unit_id===t&&n.price_mode===r).reduce((e,t)=>e+t.quantity,0),l=i.available_quantity+s;if(a>l)return void j("Not enough stock available. Max: ".concat(l))}l(o.map(n=>n.id===e&&n.unit_id===t&&n.price_mode===r?It(It({},n),{},{quantity:a}):n));const i=n.find(t=>t.id===e);if(i&&i.has_packaging&&i.packaging_price){Ne(i,{id:t},a)}j("")}},ke=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(o.filter(a=>!(a.id===e&&a.unit_id===t&&a.price_mode===n)))},Se=(e,t)=>{e.has_packaging&&e.packaging_price&&l(n=>{const a=n.find(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===Q);if(!a)return n;const r=ve(e.id),i=null===r||void 0===r?void 0:r.find(e=>e.id===t.id);let s=a.quantity;return i&&!i.is_base_unit&&i.conversion_factor&&(s=a.quantity*i.conversion_factor),ie(n=>{if(n.find(t=>t.id===e.id))return n.map(t=>t.id===e.id?It(It({},t),{},{quantity:s,total_price:parseFloat(e.packaging_price)*s}):t);{const a=It(It({},e),{},{quantity:s,unit_price:parseFloat(e.packaging_price),total_price:parseFloat(e.packaging_price)*s,status:"consignation",customer_name:c.name,customer_phone:c.phone,sales_unit_id:t.id,sales_unit_name:t.name,sales_unit_symbol:t.symbol});return[...n,a]}}),n})},Ne=(e,t,n)=>{if(!e.has_packaging||!e.packaging_price)return;const a=ve(e.id),r=null===a||void 0===a?void 0:a.find(e=>e.id===t.id);let i=n;r&&!r.is_base_unit&&r.conversion_factor&&(i=n*r.conversion_factor),ie(n=>{if(n.find(t=>t.id===e.id))return n.map(t=>t.id===e.id?It(It({},t),{},{quantity:i,total_price:parseFloat(e.packaging_price)*i}):t);{const a=It(It({},e),{},{quantity:i,unit_price:parseFloat(e.packaging_price),total_price:parseFloat(e.packaging_price)*i,status:"consignation",customer_name:c.name,customer_phone:c.phone,sales_unit_id:t.id,sales_unit_name:t.name,sales_unit_symbol:t.symbol});return[...n,a]}})},Ce=()=>re.reduce((e,t)=>"consignation"===t.status?e+(t.total_price||0):e,0),Ee=()=>o.reduce((e,t)=>e+t.quantity*t.unit_price,0),Pe=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"completed";const a=Ee(),r=a-f;return{sale_number:e,customer_name:c.name||"Walk-in Customer",customer_phone:c.phone||"",customer_email:c.email||"",user_name:(null===t||void 0===t?void 0:t.username)||"Unknown User",user_id:(null===t||void 0===t?void 0:t.id)||"unknown",created_at:(new Date).toISOString(),print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:n,total_amount:a,paid_amount:f,remaining_amount:r,payment_status:r>0?"partial":"paid",due_date:r>0?new Date(Date.now()+2592e6).toLocaleDateString():null,items:o.map(e=>{var t;return{product_name:e.name,product_sku:e.sku,quantity:e.quantity,unit_name:e.unit_name||(null===(t=e.unit)||void 0===t?void 0:t.name)||"piece",unit_price:e.unit_price,total_price:e.unit_price*e.quantity}})}},Te=(0,a.useCallback)((e,t)=>{if("search"===e)F(t);else{const n=It(It({},V.current),{},{[e]:t});R(n),ge(n)}},[]),Ae=(0,a.useCallback)(()=>{const e={category:"",search:""};R(e),F(""),W.current&&H.current.length>0&&ge(e)},[C,i.length]),Re=e=>{const t=e.target.value;(""===t||/^\d+$/.test(t))&&z(t)},Oe=e=>{const t=parseFloat(M);if(""===M||isNaN(t)||t<0)return j("Please enter a valid quantity"),void D(null);if("complete"===Y){const n=ve(e.id),a=null===n||void 0===n?void 0:n.find(t=>t.id===e.unit_id);if(!a||!a.is_available)return j("Unit is out of stock"),void D(null);const r=o.filter(t=>t.id===e.id&&t.unit_id===e.unit_id&&t.price_mode===e.price_mode).reduce((e,t)=>e+t.quantity,0),i=a.available_quantity+r;if(t>i)return j("Not enough stock available. Max: ".concat(i)),void D(null)}0===t?ke(e.id,e.unit_id,e.price_mode):we(e.id,e.unit_id,t,e.price_mode),D(null),z(""),j("")},Fe=(e,t)=>{"Enter"===e.key?Oe(t):"Escape"===e.key&&(D(null),z(""))};return g?(0,ca.jsx)("div",{className:"pos",children:(0,ca.jsxs)("div",{className:"pos-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading products..."})]})}):(0,ca.jsxs)("div",{className:"pos",children:[(0,ca.jsxs)("div",{className:"pos-header",children:[(0,ca.jsx)("h1",{children:e("titles.point_of_sale")}),(0,ca.jsx)("div",{className:"pos-user",children:(0,ca.jsxs)("span",{children:["Cashier: ",null===t||void 0===t?void 0:t.username]})})]}),(0,ca.jsxs)("div",{className:"pos-content",children:[(0,ca.jsxs)("div",{className:"pos-products",children:[(0,ca.jsx)("h2",{children:"Products"}),(0,ca.jsxs)("form",{className:"pos-filters",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Category:"}),(0,ca.jsxs)("select",{value:A.category,onChange:e=>Te("category",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Categories"}),i.filter(e=>e.is_sellable).map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ca.jsxs)(Aa,{variant:"outline",size:"small",onClick:()=>K(!G),style:{marginTop:"0.5rem"},children:[G?"Hide":"Manage"," Categories"]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Price Mode:"}),(0,ca.jsxs)("div",{className:"price-mode-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"price-mode-btn ".concat("standard"===Q?"active":""),onClick:()=>J("standard"),children:"Standard"}),(0,ca.jsx)("button",{type:"button",className:"price-mode-btn ".concat("wholesale"===Q?"active":""),onClick:()=>J("wholesale"),children:"Wholesale"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Sale Mode:"}),(0,ca.jsxs)("div",{className:"sale-mode-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("complete"===Y?"active":""),onClick:()=>X("complete"),title:e("alerts.sale_will_be_completed"),children:"Complete"}),(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("pending"===Y?"active":""),onClick:()=>X("pending"),title:e("alerts.sale_will_be_created_pending"),children:"Pending"})]})]}),(0,ca.jsxs)("div",{className:"filter-group print-receipt-group",children:[(0,ca.jsx)("label",{children:"Print Receipt:"}),(0,ca.jsxs)("div",{className:"sale-mode-toggle print-receipt-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(Z?"active":""),onClick:()=>ee(!0),title:e("alerts.print_receipt_after_sale"),children:"Yes"}),(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(Z?"":"active"),onClick:()=>ee(!1),title:e("pos.dont_print_receipt"),children:"No"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Search:"}),(0,ca.jsx)("input",{ref:q,type:"text",placeholder:e("pos.search_products"),value:O,onChange:e=>Te("search",e.target.value)},"search-input")]}),(0,ca.jsx)("div",{className:"filter-group",children:(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:Ae,children:"Clear"})})]}),G&&(0,ca.jsxs)("div",{className:"category-management",style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[(0,ca.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,ca.jsxs)("h3",{style:{margin:"0",fontSize:"1rem",fontWeight:"600"},children:["Manage Sellable Categories",P&&(0,ca.jsx)("span",{style:{marginLeft:"0.5rem",color:"#3b82f6"},children:"\u27f3"})]}),(0,ca.jsx)("button",{onClick:xe,disabled:P,style:{padding:"0.5rem 1rem",fontSize:"0.875rem",borderRadius:"0.375rem",border:"1px solid #3b82f6",cursor:P?"not-allowed":"pointer",backgroundColor:P?"#9ca3af":"#3b82f6",color:"white",fontWeight:"500",opacity:P?.6:1},children:"Reset All to Sellable"})]}),(0,ca.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:i.map(e=>(0,ca.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",backgroundColor:"white",borderRadius:"0.375rem",border:"1px solid #e5e7eb"},children:[(0,ca.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e.name}),(0,ca.jsx)("button",{onClick:()=>_e(e.id,e.is_sellable),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",borderRadius:"0.25rem",border:"1px solid",cursor:"pointer",backgroundColor:e.is_sellable?"#dcfce7":"#fee2e2",borderColor:e.is_sellable?"#16a34a":"#dc2626",color:e.is_sellable?"#15803d":"#dc2626"},children:e.is_sellable?"Sellable":"Not Sellable"})]},e.id))})]}),(0,ca.jsx)("div",{className:"products-info",children:(0,ca.jsxs)("p",{className:"products-count",children:[n.length," product",1!==n.length?"s":""," found"]})}),(0,ca.jsx)("div",{className:"products-grid",children:n.slice((te-1)*ae,te*ae).map(e=>{var t;return(0,ca.jsx)("div",{className:"product-card ".concat(e.stock_quantity<=0&&"complete"===Y?"out-of-stock":""," clickable"),onClick:()=>(e=>{if(!("complete"===Y&&e.stock_quantity<=0))if(e.compatible_units&&e.compatible_units.length>1){const n=I[e.id];if(n){const a=e.compatible_units.find(e=>{var t;return((null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit)===n});if(a){var t;const n=ve(e.id),r=null===n||void 0===n?void 0:n.find(e=>{var t;return e.id===((null===(t=a.unit)||void 0===t?void 0:t.id)||a.unit)}),i=me(e,r)||ue(e),s={id:(null===(t=a.unit)||void 0===t?void 0:t.id)||a.unit,name:a.unit_name,symbol:a.unit_symbol,price:i};je(e,s)}}}else je(e)})(e),children:(0,ca.jsxs)("div",{className:"product-info",children:[(0,ca.jsx)("h3",{children:e.name}),(0,ca.jsx)("p",{className:"product-sku",children:e.sku}),(0,ca.jsxs)("p",{className:"product-price",children:[(t=>{const n=null===(t=e.compatible_units)||void 0===t?void 0:t.find(e=>e.unit.is_base_unit);if(n&&S[e.id]){const t=ve(e.id),a=null===t||void 0===t?void 0:t.find(e=>{var t;return e.id===((null===(t=n.unit)||void 0===t?void 0:t.id)||n.unit)});if(a)return me(e,a).toFixed(2)}return ue(e).toFixed(2)})()," MGA",e.compatible_units&&e.compatible_units.length>1&&" (base unit: ".concat((null===(t=e.compatible_units.find(e=>e.unit.is_base_unit))||void 0===t?void 0:t.unit.symbol)||"piece",")")]}),(0,ca.jsxs)("p",{className:"product-stock",children:["Stock: ",e.stock_quantity," ",e.unit,S[e.id]&&e.compatible_units&&e.compatible_units.length>1&&(0,ca.jsx)("span",{className:"stock-details",children:(()=>{const t=ve(e.id);return e.compatible_units.map(n=>{var a,r;const i=null===t||void 0===t?void 0:t.find(e=>{var t;return e.id===((null===(t=n.unit)||void 0===t?void 0:t.id)||n.unit)});if(!i)return null;const s=(null===i||void 0===i?void 0:i.name)||(null===(a=n.unit)||void 0===a?void 0:a.name)||n.unit_name;return(0,ca.jsxs)("span",{className:"unit-stock ".concat(i.is_available?"available":"unavailable"),children:[s,": ",me(e,i).toFixed(2)," MGA (",i.available_quantity," available)"]},(null===(r=n.unit)||void 0===r?void 0:r.id)||n.unit)}).filter(Boolean)})()})]}),e.compatible_units&&e.compatible_units.length>1&&(0,ca.jsxs)("div",{className:"unit-selection",children:[(0,ca.jsx)("label",{children:"Unit:"}),(0,ca.jsxs)("select",{className:"unit-select",value:I[e.id]||"",onChange:t=>{const n=parseInt(t.target.value);((e,t)=>{U(n=>It(It({},n),{},{[e]:t}))})(e.id,n)},onClick:e=>e.stopPropagation(),children:[(0,ca.jsx)("option",{value:"",children:"Select Unit"}),e.compatible_units.map((t,n)=>{var a,r,i,s;const o=ve(e.id),l=null===o||void 0===o?void 0:o.find(e=>{var n;return e.id===((null===(n=t.unit)||void 0===n?void 0:n.id)||t.unit)}),c=!!l&&l.is_available,d=(l&&l.available_quantity,(null===l||void 0===l?void 0:l.name)||(null===(a=t.unit)||void 0===a?void 0:a.name)||t.unit_name),u=(null===l||void 0===l?void 0:l.symbol)||(null===(r=t.unit)||void 0===r?void 0:r.symbol)||t.unit_symbol;return(0,ca.jsxs)("option",{value:(null===(s=t.unit)||void 0===s?void 0:s.id)||t.unit,disabled:"complete"===Y&&!c,children:[d," (",u,") - ",me(e,l).toFixed(2)," MGA",c||"complete"!==Y?"":" - OUT OF STOCK"]},(null===(i=t.unit)||void 0===i?void 0:i.id)||t.unit)})]})]}),(!e.compatible_units||e.compatible_units.length<=1)&&(0,ca.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>je(e),disabled:"pending"!==Y&&(!S[e.id]||e.stock_quantity<=0),className:"add-to-cart-btn",children:S[e.id]?"pending"===Y?"Add to Cart":e.stock_quantity<=0?"Out of Stock":"Add to Cart":"Loading..."}),e.has_packaging&&e.packaging_price&&(0,ca.jsx)("div",{className:"packaging-info",children:(0,ca.jsxs)("small",{className:"packaging-price",children:["Packaging: ",e.packaging_price," MGA (Auto-added)"]})}),e.available_units&&e.available_units.length>1&&(0,ca.jsx)("div",{className:"unit-instruction",children:(0,ca.jsx)("p",{children:"Click card or select unit to add to cart"})})]})},e.id)})}),n.length>ae&&(0,ca.jsxs)("div",{className:"products-pagination",style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"12px"},children:[(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>ne(e=>Math.max(1,e-1)),disabled:1===te,children:"Prev"}),(0,ca.jsxs)("span",{style:{alignSelf:"center"},children:["Page ",te," of ",Math.ceil(n.length/ae)]}),(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>ne(e=>Math.min(Math.ceil(n.length/ae),e+1)),disabled:te>=Math.ceil(n.length/ae),children:"Next"})]})]}),(0,ca.jsxs)("div",{className:"pos-cart",children:[(0,ca.jsxs)("div",{className:"cart-header",children:[(0,ca.jsx)("h2",{children:"Shopping Cart"}),o.length>0&&(0,ca.jsx)(Aa,{variant:"outline",size:"small",onClick:()=>{l([]),ie([]),j("")},children:"Clear Cart"})]}),b&&(0,ca.jsx)("div",{className:"error-message",children:b}),(0,ca.jsx)("div",{className:"cart-items",children:0===o.length?(0,ca.jsxs)("div",{className:"empty-cart",children:[(0,ca.jsx)("p",{children:"Cart is empty"}),(0,ca.jsx)("p",{className:"empty-cart-hint",children:"Add items from the product list to start a sale"})]}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"cart-table-header",children:[(0,ca.jsx)("div",{className:"header-product",children:"Product"}),(0,ca.jsx)("div",{className:"header-unit",children:"Unit"}),(0,ca.jsx)("div",{className:"header-price",children:"Price"}),(0,ca.jsx)("div",{className:"header-quantity",children:"Qty"}),(0,ca.jsx)("div",{className:"header-status",children:"Status"}),(0,ca.jsx)("div",{className:"header-total",children:"Total"}),(0,ca.jsx)("div",{className:"header-actions",children:"Actions"})]}),o.map(t=>(0,ca.jsxs)("div",{className:"cart-item",children:[(0,ca.jsxs)("div",{className:"item-product",children:[(0,ca.jsx)("h4",{children:t.name}),(0,ca.jsxs)("p",{className:"item-sku",children:["SKU: ",t.sku]}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat(t.price_mode),children:"wholesale"===t.price_mode?"WS":"STD"})]}),(0,ca.jsx)("div",{className:"item-unit",children:t.unit_symbol||"piece"}),(0,ca.jsxs)("div",{className:"item-price",children:[parseFloat(t.unit_price).toFixed(2)," MGA"]}),(0,ca.jsx)("div",{className:"item-quantity",children:(0,ca.jsxs)("div",{className:"quantity-controls",children:[(0,ca.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>we(t.id,t.unit_id,t.quantity-1,t.price_mode),children:"-"}),L==="".concat(t.id,"-").concat(t.unit_id)?(0,ca.jsx)("div",{className:"quantity-edit",children:(0,ca.jsx)("input",{type:"number",value:M,onChange:Re,onKeyPress:e=>Fe(e,t),onBlur:()=>Oe(t),className:"quantity-input",min:"0",max:t.stock_quantity,autoFocus:!0})}):(0,ca.jsx)("span",{className:"quantity clickable",onClick:()=>(e=>{D("".concat(e.id,"-").concat(e.unit_id)),z(e.quantity.toString())})(t),title:e("alerts.click_to_edit_quantity"),children:t.quantity}),(0,ca.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>we(t.id,t.unit_id,t.quantity+1,t.price_mode),disabled:(()=>{if("pending"===Y)return!1;const e=ve(t.id),n=null===e||void 0===e?void 0:e.find(e=>e.id===t.unit_id),a=o.filter(e=>e.id===t.id&&e.unit_id===t.unit_id&&e.price_mode===t.price_mode).reduce((e,t)=>e+t.quantity,0),r=((null===n||void 0===n?void 0:n.available_quantity)||0)+a;return t.quantity>=r})(),children:"+"})]})}),(0,ca.jsx)("div",{className:"item-status",children:(0,ca.jsx)("span",{className:"sales-item-status",children:"-"})}),(0,ca.jsxs)("div",{className:"item-total",children:[(t.quantity*t.unit_price).toFixed(2)," MGA"]}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>ke(t.id,t.unit_id,t.price_mode),title:e("alerts.remove_item"),children:"\xd7"})})]},"".concat(t.id,"-").concat(t.unit_id,"-").concat(t.price_mode))),re.length>0&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("div",{className:"packaging-section-header",children:(0,ca.jsx)("h4",{children:"Packaging Items (Auto-calculated)"})}),re.map(e=>(0,ca.jsxs)("div",{className:"cart-item packaging-item",children:[(0,ca.jsxs)("div",{className:"item-product",children:[(0,ca.jsxs)("h4",{children:[e.name," (Packaging)"]}),(0,ca.jsxs)("p",{className:"item-sku",children:["SKU: ",e.sku]}),e.sales_unit_name&&(0,ca.jsxs)("p",{className:"packaging-source",children:["From: ",e.quantity," ",e.sales_unit_symbol||"piece"]})]}),(0,ca.jsx)("div",{className:"item-unit",children:"piece"}),(0,ca.jsxs)("div",{className:"item-price",children:[parseFloat(e.unit_price).toFixed(2)," MGA"]}),(0,ca.jsxs)("div",{className:"item-quantity",children:[(0,ca.jsx)("span",{className:"quantity auto-calculated",children:e.quantity}),(0,ca.jsx)("small",{className:"auto-label",children:"Auto"})]}),(0,ca.jsx)("div",{className:"item-status",children:(0,ca.jsxs)("select",{value:e.status,onChange:t=>{return n=e.id,a=t.target.value,void ie(re.map(e=>e.id===n?It(It({},e),{},{status:a}):e));var n,a},className:"packaging-status-select",children:[(0,ca.jsx)("option",{value:"consignation",children:"Consigned (Paid)"}),(0,ca.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ca.jsx)("option",{value:"due",children:"Due (Return Required)"})]})}),(0,ca.jsxs)("div",{className:"item-total",children:[(e.quantity*e.unit_price).toFixed(2)," MGA"]}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>{return t=e.id,void ie(re.filter(e=>e.id!==t));var t},title:"Remove packaging item",children:"\xd7"})})]},"packaging-".concat(e.id)))]})]})}),o.length>0&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"cart-summary",children:[(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Items Total:"}),(0,ca.jsxs)("span",{children:[Ee().toFixed(2)," MGA"]})]}),re.length>0&&(0,ca.jsxs)("div",{className:"summary-row packaging-breakdown",children:[(0,ca.jsx)("span",{children:"Packaging Total:"}),(0,ca.jsxs)("span",{children:[Ce().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row cost-breakdown",children:[(0,ca.jsx)("span",{children:"Cost (excl. tax):"}),(0,ca.jsxs)("span",{children:[(()=>{let e=0;return o.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*100/(100+t.tax_rate);e+=n}else e+=t.quantity*t.unit_price}),e})().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row tax-breakdown",children:[(0,ca.jsx)("span",{children:"Tax included:"}),(0,ca.jsxs)("span",{children:[(()=>{let e=0;return o.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*t.tax_rate/(100+t.tax_rate);e+=n}}),e})().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Products Total:"}),(0,ca.jsxs)("span",{children:[pe().toFixed(2)," MGA"]})]}),re.length>0&&(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Packaging Total:"}),(0,ca.jsxs)("span",{children:[Ce().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row total",children:[(0,ca.jsx)("span",{children:"Total (Products Only):"}),(0,ca.jsxs)("span",{children:[pe().toFixed(2)," MGA"]})]})]}),(0,ca.jsxs)("form",{className:"checkout-form",children:[(0,ca.jsxs)("div",{className:"customer-info",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"text",placeholder:"complete"!==Y||"partial"===m?"Customer Name (Required for Partial Payment)":"Customer Name (Optional)",value:c.name,onChange:e=>d(It(It({},c),{},{name:e.target.value})),className:"complete"===Y&&"partial"!==m||c.name?"":"required-field"})}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"tel",placeholder:"Phone Number (Optional)",value:c.phone,onChange:e=>d(It(It({},c),{},{phone:e.target.value}))})}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"email",placeholder:"Email (Optional)",value:c.email,onChange:e=>d(It(It({},c),{},{email:e.target.value}))})})]}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsx)("h3",{children:"Payment Method"}),(0,ca.jsx)("div",{className:"payment-methods",children:["cash","card","mobile_money","bank_transfer"].map(e=>(0,ca.jsxs)("label",{className:"payment-method",children:[(0,ca.jsx)("input",{type:"radio",name:"payment",value:e,checked:u===e,onChange:e=>p(e.target.value)}),(0,ca.jsx)("span",{children:e.replace("_"," ").toUpperCase()})]},e))}),(0,ca.jsx)("h3",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===m,onChange:e=>h(e.target.value)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===m,onChange:e=>h(e.target.value)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===m&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:pe(),value:f||0,onChange:e=>{const t=parseFloat(e.target.value)||0;v(t)},placeholder:e("forms.enter_amount_to_pay")}),(0,ca.jsxs)("small",{children:["Products Total: $",pe().toFixed(2)," | Remaining: $",(pe()-(f||0)).toFixed(2)]})]})]})]}),(0,ca.jsxs)("div",{className:"checkout-actions",children:[(0,ca.jsx)(Aa,{variant:"outline",size:"large",onClick:async()=>{const t=Pe("PREVIEW-".concat(Date.now()),"pending"===Y?"pending":"completed");await le(t,e("titles.sale_receipt"),!0)},className:"print-preview-btn",children:"\ud83d\udda8\ufe0f Print Preview"}),(0,ca.jsxs)(Aa,{onClick:async()=>{if(0===o.length)return void j(e("pos.cart_empty"));if(x(!0),j(""),("complete"!==Y||"partial"===m)&&(!c.name||!c.name.trim()))return j("Customer name is required for partial/uncompleted payments"),void x(!1);const t=pe();if(f>t)return j("Paid amount cannot exceed the total amount"),void x(!1);if(f<0)return j("Paid amount cannot be negative"),void x(!1);try{const t={sale_type:"sale",customer_name:c.name,customer_phone:c.phone,customer_email:c.email,payment_method:u,paid_amount:f,items:o.map(e=>{let t=e.unit_id;return"object"===typeof t&&null!==t&&(t=t.id||t),{product:e.id,quantity:parseFloat(e.quantity),unit:parseInt(t),unit_price:parseFloat(e.unit_price),price_mode:e.price_mode||"standard"}}),packaging_items:re.map(e=>({product:e.id,quantity:parseFloat(e.quantity),unit:7,unit_price:parseFloat(e.unit_price),status:e.status||"consignation",customer_name:e.customer_name||c.name,customer_phone:e.customer_phone||c.phone,notes:e.notes||""}))},r=await la.post("/api/sales/",t),i=r.data.id,s=r.data.sale_number;if("complete"===Y)try{const t=await la.post("/api/sales/".concat(i,"/complete/"));if(Z){const t=Pe(s,"completed");await le(t,e("titles.sale_receipt"))}l([]),ie([]),d({name:"",phone:"",email:""}),v(0),J("standard"),await new Promise(e=>setTimeout(e,1e3)),await ge(),await new Promise(e=>setTimeout(e,500)),fe();let n="Sale completed successfully! Sale Number: ".concat(s);if(t.data.packaging_transaction){const e=t.data.packaging_transaction;n+="\n\nPackaging transaction automatically created:\nTransaction: ".concat(e.transaction_number,"\nAmount: ").concat(e.total_amount," MGA")}alert(n)}catch(b){var n,a;j("Sale created (".concat(s,") but completion failed: ").concat((null===(n=b.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||b.message)),l([]),ie([]),d({name:"",phone:"",email:""}),v(0),await new Promise(e=>setTimeout(e,1e3)),await ge(),await new Promise(e=>setTimeout(e,500)),fe()}else{if(Z){const t=Pe(s,"pending");await le(t,e("titles.sale_receipt"))}l([]),ie([]),d({name:"",phone:"",email:""}),v(0),J("standard"),alert("Pending sale created successfully! Sale Number: ".concat(s))}}catch(w){var r,i,s,p,h,g,y,_;null!==(r=w.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.error?j(w.response.data.error):null!==(s=w.response)&&void 0!==s&&null!==(p=s.data)&&void 0!==p&&p.detail?j(w.response.data.detail):null!==(h=w.response)&&void 0!==h&&null!==(g=h.data)&&void 0!==g&&g.customer_name?j(w.response.data.customer_name[0]):null!==(y=w.response)&&void 0!==y&&null!==(_=y.data)&&void 0!==_&&_.paid_amount?j(w.response.data.paid_amount[0]):j("Failed to create sale. Please check the console for details.")}finally{x(!1)}},loading:_,className:"validate-button",size:"large",variant:"primary",disabled:0===o.length,children:[e("complete"===Y?"pos.complete_sale":"pos.create_pending_sale"),Z&&e("pos.print_receipt")]})]})]})]})]})]})},$a=e=>null===e||void 0===e?"0.00":"".concat(parseFloat(e).toFixed(2)," MGA"),Ga=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}},Ka=e=>{let{saleId:t,onComplete:n,onCancel:r}=e;const{t:i}=Ea(),{user:s}=ua(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[f,v]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[_,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)({product:"",quantity:1,unit:1,unit_price:0,status:"consignation",customer_name:"",customer_phone:"",notes:""});(0,a.useEffect)(()=>{t&&w()},[t]);const w=async()=>{try{h(!0);const e=await la.get("/api/sales/".concat(t,"/packaging-validation/"));l(e.data.sale),d(e.data.packaging_items||[]),p(e.data.available_products||[])}catch(e){v("Failed to load packaging data"),console.error("Error fetching packaging data:",e)}finally{h(!1)}},k=async()=>{try{v(""),y("");for(const e of c)"consignation"!==e.status&&await la.patch("/api/sales/packaging/".concat(e.id,"/"),{status:e.status});y("Packaging validation completed successfully"),n&&n()}catch(a){var e,t;v((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to complete packaging validation"),console.error("Error completing packaging validation:",a)}},S=()=>c.reduce((e,t)=>e+(parseFloat(t.total_price)||0),0);return m?(0,ca.jsx)("div",{className:"packaging-validation",children:(0,ca.jsx)("div",{className:"loading",children:"Loading packaging data..."})}):(0,ca.jsxs)("div",{className:"packaging-validation",children:[(0,ca.jsxs)("div",{className:"validation-header",children:[(0,ca.jsx)("h2",{children:"Packaging Validation"}),(0,ca.jsxs)("div",{className:"sale-info",children:[(0,ca.jsxs)("h3",{children:["Sale: ",null===o||void 0===o?void 0:o.sale_number]}),(0,ca.jsxs)("p",{children:["Customer: ",(null===o||void 0===o?void 0:o.customer_name)||"Walk-in Customer"]}),(null===o||void 0===o?void 0:o.customer_phone)&&(0,ca.jsxs)("p",{children:["Phone: ",o.customer_phone]})]})]}),f&&(0,ca.jsx)("div",{className:"error-message",children:f}),g&&(0,ca.jsx)("div",{className:"success-message",children:g}),(0,ca.jsxs)("div",{className:"packaging-summary",children:[(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Packaging Items:"}),(0,ca.jsx)("span",{children:c.length})]}),(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Packaging Total:"}),(0,ca.jsxs)("span",{children:[S().toFixed(2)," MGA"]})]})]}),(0,ca.jsx)("div",{className:"packaging-actions",children:(0,ca.jsx)(Aa,{onClick:()=>x(!_),variant:"primary",size:"small",children:_?"Cancel":"Add Packaging"})}),_&&(0,ca.jsxs)("div",{className:"add-packaging-form",children:[(0,ca.jsx)("h4",{children:"Add New Packaging Item"}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Product *"}),(0,ca.jsxs)("select",{value:b.product,onChange:e=>(e=>{const t=u.find(t=>t.id===parseInt(e));t&&j(n=>It(It({},n),{},{product:e,unit_price:t.packaging_price||0}))})(e.target.value),required:!0,children:[(0,ca.jsx)("option",{value:"",children:"Select Product"}),u.map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," - ",e.packaging_price," MGA"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Quantity *"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0.01",value:b.quantity,onChange:e=>j(t=>It(It({},t),{},{quantity:e.target.value})),required:!0})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Unit Price"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",value:b.unit_price,onChange:e=>j(t=>It(It({},t),{},{unit_price:e.target.value}))})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{value:b.status,onChange:e=>j(t=>It(It({},t),{},{status:e.target.value})),children:[(0,ca.jsx)("option",{value:"consignation",children:"Consignation (Paid)"}),(0,ca.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ca.jsx)("option",{value:"due",children:"Due (To be returned)"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",value:b.customer_name,onChange:e=>j(t=>It(It({},t),{},{customer_name:e.target.value}))})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Phone"}),(0,ca.jsx)("input",{type:"text",value:b.customer_phone,onChange:e=>j(t=>It(It({},t),{},{customer_phone:e.target.value}))})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Notes"}),(0,ca.jsx)("textarea",{value:b.notes,onChange:e=>j(t=>It(It({},t),{},{notes:e.target.value})),rows:"3"})]}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Aa,{onClick:async()=>{try{if(v(""),y(""),!b.product||!b.quantity)return void v("Please fill in all required fields");const e={packaging_items:[{product:parseInt(b.product),quantity:parseFloat(b.quantity),unit:parseInt(b.unit),unit_price:parseFloat(b.unit_price),status:b.status,customer_name:b.customer_name||o.customer_name,customer_phone:b.customer_phone||o.customer_phone,notes:b.notes}]};await la.post("/api/sales/".concat(t,"/add-packaging/"),e),y("Packaging item added successfully"),j({product:"",quantity:1,unit:1,unit_price:0,status:"consignation",customer_name:"",customer_phone:"",notes:""}),x(!1),w()}catch(a){var e,n;v((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Failed to add packaging item"),console.error("Error adding packaging:",a)}},variant:"primary",children:"Add Packaging"}),(0,ca.jsx)(Aa,{onClick:()=>x(!1),variant:"secondary",children:"Cancel"})]})]}),(0,ca.jsxs)("div",{className:"packaging-items",children:[(0,ca.jsx)("h4",{children:"Current Packaging Items"}),0===c.length?(0,ca.jsx)("div",{className:"no-items",children:"No packaging items for this sale"}):(0,ca.jsx)("div",{className:"packaging-list",children:c.map(e=>(0,ca.jsx)("div",{className:"packaging-item",children:(0,ca.jsxs)("div",{className:"item-info",children:[(0,ca.jsx)("div",{className:"item-name",children:e.product_name}),(0,ca.jsxs)("div",{className:"item-details",children:[e.quantity," ",e.unit_name," \xd7 ",e.unit_price," MGA = ",e.total_price," MGA"]}),(0,ca.jsxs)("div",{className:"item-status",children:["Status:",(0,ca.jsxs)("select",{value:e.status,onChange:t=>{return n=e.id,a=t.target.value,void d(e=>e.map(e=>e.id===n?It(It({},e),{},{status:a}):e));var n,a},children:[(0,ca.jsx)("option",{value:"consignation",children:"Consignation (Paid)"}),(0,ca.jsx)("option",{value:"exchange",children:"Exchange"}),(0,ca.jsx)("option",{value:"due",children:"Due (To be returned)"})]})]}),e.customer_name&&(0,ca.jsxs)("div",{className:"customer-info",children:["Customer: ",e.customer_name," ",e.customer_phone&&"(".concat(e.customer_phone,")")]}),e.notes&&(0,ca.jsxs)("div",{className:"item-notes",children:["Notes: ",e.notes]})]})},e.id))})]}),(0,ca.jsxs)("div",{className:"validation-actions",children:[(0,ca.jsx)(Va,{data:{sale_number:(null===o||void 0===o?void 0:o.sale_number)||"N/A",customer_name:(null===o||void 0===o?void 0:o.customer_name)||"Walk-in Customer",customer_phone:(null===o||void 0===o?void 0:o.customer_phone)||"",customer_email:(null===o||void 0===o?void 0:o.customer_email)||"",user_name:(null===s||void 0===s?void 0:s.username)||i("app.unknown_user"),user_id:(null===s||void 0===s?void 0:s.id)||"unknown",created_at:(null===o||void 0===o?void 0:o.created_at)||(new Date).toISOString(),print_timestamp:(new Date).toISOString(),print_id:"PACKAGING-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),packaging_items:c.map(e=>({product_name:e.product_name,quantity:e.quantity,unit_name:e.unit_name,unit_price:e.unit_price,total_price:e.total_price,status:e.status})),packaging_total:S()},title:"Packaging Validation Report",type:"packaging_validation",printText:"Print Report",className:"print-packaging-btn",showValidateOption:!0,onValidate:k,validateText:"Validate & Print"}),(0,ca.jsx)(Aa,{onClick:k,variant:"primary",size:"large",children:"Complete Validation"}),(0,ca.jsx)(Aa,{onClick:r,variant:"secondary",size:"large",children:"Cancel"})]})]})},Qa=()=>{var e,t,n,r,i,s,o,l,c;const{t:d}=Ea(),{user:u,loading:p}=ua(),[m,h]=(0,a.useState)([]),[f,v]=(0,a.useState)(!0),[g,y]=(0,a.useState)(!1),[_,x]=(0,a.useState)(null),[b,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),[S,N]=(0,a.useState)({}),[C,E]=(0,a.useState)({subtotal:0,total_amount:0}),[P,T]=(0,a.useState)(null),[A,R]=(0,a.useState)({}),[O,F]=(0,a.useState)("full"),[L,D]=(0,a.useState)(0),[M,z]=(0,a.useState)(!1),[I,U]=(0,a.useState)(null);(0,a.useEffect)(()=>{!p&&u&&q()},[p,u]),(0,a.useEffect)(()=>{m.length>0&&V()},[m]);const q=async()=>{try{v(!0);localStorage.getItem("accessToken");const e=await la.get("/api/sales/pending/");h(e.data)}catch(s){var e,t,n,a,r,i;if(console.error("Error fetching pending sales:",s),console.error("Error details:",{message:s.message,response:null===(e=s.response)||void 0===e?void 0:e.data,status:null===(t=s.response)||void 0===t?void 0:t.status,statusText:null===(n=s.response)||void 0===n?void 0:n.statusText}),401===(null===(a=s.response)||void 0===a?void 0:a.status))alert("Authentication required. Please log in again."),window.location.href="/login";else alert("Error fetching pending sales: "+((null===(r=s.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.detail)||s.message))}finally{v(!1)}},V=async()=>{const e={};for(const n of m){let a=!1;for(const e of n.items||[])try{const t=(await la.get("/api/products/".concat(e.product,"/stock-availability/"))).data;if(t.available_units){const n=t.available_units.find(t=>t.id===e.unit);if(n&&n.available_quantity<e.quantity_display){a=!0;break}}}catch(t){console.error("Error checking stock for product ".concat(e.product,":"),t)}e[n.id]={hasInsufficientStock:a}}R(e)},B=async e=>{try{var t;T(e);const n=m.find(t=>t.id===e);if(null===(t=n.items)||void 0===t?void 0:t.some(e=>e.product_has_packaging))return U(e),z(!0),void T(null);await H(e)}catch(r){var n,a;console.error("Error completing sale:",r),alert("Error completing sale: "+((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||r.message)),T(null)}},H=async e=>{try{const t=m.find(t=>t.id===e),n=[];for(const e of t.items||[])try{const t=(await la.get("/api/products/".concat(e.product,"/stock-availability/"))).data;if(t.available_units){const a=t.available_units.find(t=>t.id===e.unit);a&&a.available_quantity<e.quantity_display&&n.push("".concat(e.product_name,": Required ").concat(e.quantity_display," ").concat(e.unit_name,", but only ").concat(a.available_quantity," available"))}}catch(a){console.error("Error checking stock for product ".concat(e.product,":"),a),n.push("".concat(e.product_name,": Unable to check stock availability"))}if(n.length>0)return void alert("Cannot complete sale due to insufficient stock:\n"+n.join("\n"));await la.post("/api/sales/".concat(e,"/complete/"));It(It({},t),{},{status:"completed"});h(t=>t.filter(t=>t.id!==e)),y(!1),x(null),alert("Sale completed successfully!")}catch(a){var t,n;console.error("Error completing sale:",a),alert("Error completing sale: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}finally{T(null)}},W=e=>{var t;return{sale_number:e.sale_number,customer_name:e.customer_name||"Walk-in Customer",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",user_name:(null===u||void 0===u?void 0:u.username)||d("app.unknown_user"),user_id:(null===u||void 0===u?void 0:u.id)||"unknown",created_at:e.created_at,print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:"completed"===e.status?"completed":"pending",payment_status:e.payment_status||"pending",payment_method:e.payment_method||"cash",total_amount:e.total_amount||e.subtotal,paid_amount:e.paid_amount||0,remaining_amount:e.remaining_amount||parseFloat(e.total_amount||e.subtotal)-parseFloat(e.paid_amount||0),due_date:e.due_date||null,subtotal:e.subtotal,discount_amount:e.discount_amount||0,tax_amount:e.tax_amount||0,items:(null===(t=e.items)||void 0===t?void 0:t.map(e=>({product_name:e.product_name,product_sku:e.product_sku,quantity:e.quantity,quantity_display:e.quantity_display,unit_name:e.unit_name,unit_price:e.unit_price,total_price:e.total_price})))||[]}},$=e=>{var t;k(e);const n=(null===(t=e.items)||void 0===t?void 0:t.map(e=>{const t=parseFloat(e.quantity_display||e.quantity)||0,n=parseFloat(e.unit_price)||0,a=t*n;return It(It({},e),{},{quantity:t,unit_price:n,total_price:a})}))||[],a=n.reduce((e,t)=>e+t.total_price,0),r=a,i=a+(parseFloat(e.tax_amount||0)||0)-(parseFloat(e.discount_amount||0)||0),s={customer_name:e.customer_name||"",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",payment_method:e.payment_method||"cash",items:n,subtotal:r,total_amount:i,tax_amount:e.tax_amount||0,discount_amount:e.discount_amount||0};N(s),E({subtotal:r,total_amount:i});const o=parseFloat(e.paid_amount)||0,l=i;o>=l?(F("full"),D(l)):o>0?(F("partial"),D(o)):(F("full"),D(l)),j(!0),y(!1)};(0,a.useEffect)(()=>{"full"===O&&D(C.subtotal||0)},[O,C.subtotal]);return p||f?(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsx)("div",{className:"page-header",children:(0,ca.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ca.jsx)("div",{className:"loading-message",children:"Loading pending sales..."})]}):u?(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:d("titles.pending_sales")}),(0,ca.jsx)("p",{children:"Manage and validate pending sales before completion"})]}),0===m.length?(0,ca.jsxs)("div",{className:"no-pending-sales",children:[(0,ca.jsx)("div",{className:"no-sales-icon",children:"\ud83d\udccb"}),(0,ca.jsx)("h3",{children:d("titles.no_pending_sales")}),(0,ca.jsx)("p",{children:"All sales have been completed or there are no pending sales at the moment."})]}):(0,ca.jsx)("div",{className:"pending-sales-grid",children:m.map(e=>{var t,n,a,r,i,s;return(0,ca.jsxs)("div",{className:"pending-sale-card",children:[(0,ca.jsxs)("div",{className:"sale-header",children:[(0,ca.jsx)("div",{className:"sale-number",children:e.sale_number}),(0,ca.jsx)("div",{className:"sale-date",children:Ga(e.created_at)})]}),(0,ca.jsx)("div",{className:"sale-customer",children:(0,ca.jsx)("strong",{children:e.customer_name||"Walk-in Customer"})}),(0,ca.jsxs)("div",{className:"sale-items",children:[(0,ca.jsxs)("div",{className:"items-count",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,ca.jsxs)("div",{className:"items-preview",children:[null===(n=e.items)||void 0===n?void 0:n.slice(0,3).map((e,t)=>(0,ca.jsxs)("div",{className:"item-preview",children:[(0,ca.jsx)("span",{className:"item-name",children:e.product_name}),(0,ca.jsxs)("span",{className:"item-quantity",children:[e.quantity_display||e.quantity," ",e.unit_name]}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]},t)),(null===(a=e.items)||void 0===a?void 0:a.length)>3&&(0,ca.jsxs)("div",{className:"more-items",children:["+",e.items.length-3," more items"]})]})]}),(0,ca.jsx)("div",{className:"sale-total",children:(0,ca.jsx)("strong",{children:$a(e.total_amount)})}),(0,ca.jsx)("div",{className:"stock-status",children:null!==(r=A[e.id])&&void 0!==r&&r.hasInsufficientStock?(0,ca.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ca.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})}),(0,ca.jsxs)("div",{className:"sale-actions",children:[(0,ca.jsx)(Aa,{size:"small",variant:"outline",onClick:async()=>{try{const t=await la.get("/api/sales/".concat(e.id,"/"));x(t.data),y(!0)}catch(t){console.error("Error fetching sale details:",t),x(e),y(!0)}},children:"View Details"}),(0,ca.jsx)(Va,{data:W(e),title:d("titles.sale_receipt"),type:"sale",printText:"\ud83d\udda8\ufe0f Print",className:"print-sale-btn",variant:"outline",size:"small"}),(0,ca.jsx)(Aa,{size:"small",variant:"outline",onClick:()=>$(e),children:"\u270f\ufe0f Edit"}),(0,ca.jsx)(Aa,{size:"small",variant:"primary",disabled:null===(i=A[e.id])||void 0===i?void 0:i.hasInsufficientStock,onClick:()=>B(e.id),loading:P===e.id,children:null!==(s=A[e.id])&&void 0!==s&&s.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]},e.id)})}),g&&_&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal sale-details-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Sale Details - ",_.sale_number]}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>{y(!1),x(null)},children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"info-section",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Name:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_name||"Walk-in Customer"})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Phone:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_phone||"N/A"})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Email:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_email||"N/A"})]})]})]}),(0,ca.jsxs)("div",{className:"info-section",children:[(0,ca.jsx)("h3",{children:"Sale Information"}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Date:"}),(0,ca.jsx)("span",{className:"info-value",children:Ga(_.created_at)})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Payment Method:"}),(0,ca.jsx)("span",{className:"info-value",children:null===(e=_.payment_method)||void 0===e?void 0:e.replace("_"," ").toUpperCase()})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Status:"}),(0,ca.jsx)("span",{className:"status-badge pending",children:"Pending"})]})]})]}),(0,ca.jsxs)("div",{className:"items-section",children:[(0,ca.jsxs)("h3",{children:["Items (",(null===(t=_.items)||void 0===t?void 0:t.length)||0,")"]}),(0,ca.jsx)("div",{className:"items-container",style:{minHeight:"".concat(Math.max(200,120*((null===(n=_.items)||void 0===n?void 0:n.length)||0)),"px"),maxHeight:"500px"},children:null===(r=_.items)||void 0===r?void 0:r.map((e,t)=>(0,ca.jsxs)("div",{className:"item-card",style:{marginBottom:"12px"},children:[(0,ca.jsxs)("div",{className:"item-header",children:[(0,ca.jsx)("div",{className:"item-name",children:e.product_name}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("div",{className:"item-details",children:[(0,ca.jsxs)("div",{className:"item-quantity",children:[(0,ca.jsx)("span",{className:"quantity",children:e.quantity_display||e.quantity||"N/A"}),(0,ca.jsx)("span",{className:"unit",children:e.unit_name||"N/A"})]}),(0,ca.jsxs)("div",{className:"item-price",children:[(0,ca.jsxs)("span",{className:"unit-price",children:[e.unit_price?$a(e.unit_price):"N/A"," each"]}),(0,ca.jsx)("span",{className:"total-price",children:e.total_price?$a(e.total_price):"N/A"})]})]})]},t))})]}),(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsx)("h3",{children:"Totals"}),(0,ca.jsxs)("div",{className:"totals-grid",children:[(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ca.jsx)("span",{className:"total-value",children:$a(_.subtotal)})]}),_.discount_amount>0&&(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Discount:"}),(0,ca.jsxs)("span",{className:"total-value",children:["-",$a(_.discount_amount)]})]}),_.tax_amount>0&&(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Tax:"}),(0,ca.jsx)("span",{className:"total-value",children:$a(_.tax_amount)})]}),(0,ca.jsxs)("div",{className:"total-item total-final",children:[(0,ca.jsx)("span",{className:"total-label",children:"Total:"}),(0,ca.jsx)("span",{className:"total-value",children:$a(_.total_amount)})]})]})]}),(0,ca.jsxs)("div",{className:"stock-section",children:[(0,ca.jsx)("h3",{children:"Stock Status"}),(0,ca.jsx)("div",{className:"stock-status",children:null!==(i=A[_.id])&&void 0!==i&&i.hasInsufficientStock?(0,ca.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ca.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>{y(!1),x(null)},children:"Close"}),(0,ca.jsx)(Va,{data:W(_),title:d("titles.sale_receipt"),type:"sale",printText:"\ud83d\udda8\ufe0f Print Receipt",className:"print-sale-btn",variant:"secondary"}),(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>$(_),children:"\u270f\ufe0f Edit"}),(0,ca.jsx)(Aa,{variant:"success",disabled:null===(s=A[_.id])||void 0===s?void 0:s.hasInsufficientStock,onClick:()=>B(_.id),children:null!==(o=A[_.id])&&void 0!==o&&o.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]})}),b&&w&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal edit-sale-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Edit Sale - ",w.sale_number]}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>{j(!1),k(null),N({})},children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsxs)("div",{className:"form-grid",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",value:S.customer_name||"",onChange:e=>N(It(It({},S),{},{customer_name:e.target.value})),placeholder:d("forms.customer_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Phone"}),(0,ca.jsx)("input",{type:"text",value:S.customer_phone||"",onChange:e=>N(It(It({},S),{},{customer_phone:e.target.value})),placeholder:d("forms.phone_number")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Email"}),(0,ca.jsx)("input",{type:"email",value:S.customer_email||"",onChange:e=>N(It(It({},S),{},{customer_email:e.target.value})),placeholder:d("forms.email_address")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Method"}),(0,ca.jsxs)("select",{value:S.payment_method||"cash",onChange:e=>N(It(It({},S),{},{payment_method:e.target.value})),children:[(0,ca.jsx)("option",{value:"cash",children:"Cash"}),(0,ca.jsx)("option",{value:"card",children:"Card"}),(0,ca.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ca.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===O,onChange:e=>F(e.target.value)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===O,onChange:e=>F(e.target.value)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===O&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:C.subtotal||0,value:L||0,onChange:e=>{const t=parseFloat(e.target.value)||0;D(t)},placeholder:d("forms.enter_amount_to_pay")}),(0,ca.jsxs)("small",{children:["Total: ",$a(C.subtotal||0)," | Remaining: ",$a((C.subtotal||0)-(L||0))]})]}),"full"===O&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:C.subtotal||0,readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"Full payment for the total amount."})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsxs)("h3",{children:["Items (",(null===(l=S.items)||void 0===l?void 0:l.length)||0,")"]}),(0,ca.jsx)("div",{className:"items-edit-container",children:null===(c=S.items)||void 0===c?void 0:c.map((e,t)=>(0,ca.jsxs)("div",{className:"edit-item-card",children:[(0,ca.jsxs)("div",{className:"item-header",children:[(0,ca.jsx)("div",{className:"item-name",children:e.product_name}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("div",{className:"item-details",children:[(0,ca.jsx)("div",{className:"item-unit",children:e.unit_name}),(0,ca.jsxs)("div",{className:"item-price",children:[$a(e.unit_price)," each"]})]}),(0,ca.jsxs)("div",{className:"item-controls",children:[(0,ca.jsxs)("div",{className:"control-group",children:[(0,ca.jsx)("label",{children:"Quantity:"}),(0,ca.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.quantity,onChange:e=>((e,t)=>{if(!S.items||!Array.isArray(S.items))return void console.error("editFormData.items is not properly initialized:",S);const n=[...S.items];n[e].quantity=parseFloat(t)||0,n[e].total_price=n[e].quantity*parseFloat(n[e].unit_price)||0;const a=n.reduce((e,t)=>e+t.total_price,0);N(It(It({},S),{},{items:n,subtotal:a}));const r=parseFloat(void 0!==S.tax_amount?S.tax_amount:(null===w||void 0===w?void 0:w.tax_amount)||0)||0,i=parseFloat(void 0!==S.discount_amount?S.discount_amount:(null===w||void 0===w?void 0:w.discount_amount)||0)||0,s=a+r-i;E({subtotal:a,taxAmount:r,discountAmount:i,newTotalAmount:s,editFormDataTax:S.tax_amount,editFormDataDiscount:S.discount_amount});const o=It(It({},S),{},{items:n,subtotal:a,total_amount:s});N(o),E({subtotal:a,total_amount:s}),setTimeout(()=>{},100)})(t,e.target.value)})]}),(0,ca.jsxs)("div",{className:"control-group",children:[(0,ca.jsx)("label",{children:"Price Mode:"}),(0,ca.jsxs)("select",{value:e.price_mode,disabled:!0,style:{backgroundColor:"#f5f5f5",color:"#666"},children:[(0,ca.jsx)("option",{value:"standard",children:"Standard"}),(0,ca.jsx)("option",{value:"wholesale",children:"Wholesale"})]})]}),(0,ca.jsx)("div",{className:"item-total",children:$a(e.total_price)}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)(Aa,{size:"small",variant:"danger",onClick:()=>(e=>{const t=S.items.filter((t,n)=>n!==e),n=t.reduce((e,t)=>e+t.total_price,0),a=n+(parseFloat(void 0!==S.tax_amount?S.tax_amount:(null===w||void 0===w?void 0:w.tax_amount)||0)||0)-(parseFloat(void 0!==S.discount_amount?S.discount_amount:(null===w||void 0===w?void 0:w.discount_amount)||0)||0);N(It(It({},S),{},{items:t,subtotal:n,total_amount:a})),E({subtotal:n,total_amount:a})})(t),children:"Remove"})})]})]},t))})]}),(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsx)("h3",{children:"Totals"}),(0,ca.jsxs)("div",{className:"totals-grid",children:[(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ca.jsx)("span",{className:"total-value",children:$a(C.subtotal||0)})]}),(0,ca.jsxs)("div",{className:"total-item total-final",children:[(0,ca.jsx)("span",{className:"total-label",children:"Total:"}),(0,ca.jsx)("span",{className:"total-value",children:$a(C.total_amount||0)})]})]})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>{j(!1),k(null),N({})},children:"Cancel"}),(0,ca.jsx)(Aa,{variant:"primary",onClick:async()=>{try{const e={customer_name:S.customer_name,customer_phone:S.customer_phone,customer_email:S.customer_email,payment_method:S.payment_method,paid_amount:L,items:S.items.map(e=>({id:e.id,quantity:e.quantity,unit_price:e.unit_price}))};console.log("Saving edited sale:",{saleId:w.id,updateData:e,editFormData:S});await la.patch("/sales/".concat(w.id,"/"),e);j(!1),k(null),N({}),q(),alert("Sale updated successfully!")}catch(n){var e,t;console.error("Error updating sale:",n),alert("Error updating sale: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}},children:"Save Changes"})]})]})}),M&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsx)("div",{className:"modal-content packaging-validation-modal",children:(0,ca.jsx)(Ka,{saleId:I,onComplete:async()=>{try{await H(I),z(!1),U(null)}catch(e){console.error("Error completing sale after packaging validation:",e)}},onCancel:()=>{z(!1),U(null),T(null)}})})})]}):(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsx)("div",{className:"page-header",children:(0,ca.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ca.jsx)("div",{className:"loading-message",children:"Please log in to view pending sales."})]})},Ja=["data","columns","loading","emptyMessage","className","onRowClick"],Ya=e=>{let{data:t=[],columns:n=[],loading:a=!1,emptyMessage:r,className:i="",onRowClick:s}=e,o=Pa(e,Ja);const{t:l}=Ea(),c=r||l("app.no_data_available");return a?(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("div",{className:"table-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]})}):0===t.length?(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsx)("div",{className:"table-empty",children:(0,ca.jsx)("span",{children:c})})}):(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",It(It({className:"table ".concat(i)},o),{},{children:[(0,ca.jsx)("thead",{children:(0,ca.jsx)("tr",{children:n.map((e,t)=>(0,ca.jsx)("th",{className:"table-header",children:e.header},t))})}),(0,ca.jsx)("tbody",{children:t.map((e,t)=>(0,ca.jsx)("tr",{className:"table-row ".concat(s?"clickable":""),onClick:()=>s&&s(e,t),children:n.map((n,a)=>(0,ca.jsx)("td",{className:"table-cell",children:n.render?n.render(e[n.key],e,t):e[n.key]},a))},t))})]}))})},Xa=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[_,x]=(0,a.useState)({customer_name:"",start_date:"",end_date:"",status:"completed"}),[b,j]=(0,a.useState)({items:[],payment_type:"full",paid_amount:0}),[w,k]=(0,a.useState)([]),[S,N]=(0,a.useState)({status:"",customer_name:"",start_date:"",end_date:""}),C=(0,a.useCallback)(async()=>{try{s(!0),l("");const e=new URLSearchParams;S.status&&e.append("status",S.status),S.customer_name&&e.append("search",S.customer_name),S.start_date&&e.append("created_at__date__gte",S.start_date),S.end_date&&e.append("created_at__date__lte",S.end_date);const t=await la.get("/api/sales/?".concat(e.toString())),n=t.data.results||t.data;if(!Array.isArray(n))return console.error("Sales data is not an array:",n),void r([]);r(n)}catch(n){var e,t;l("Failed to fetch sales: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message)),console.error("Sales fetch error:",n)}finally{s(!1)}},[S]);(0,a.useEffect)(()=>{C(),E()},[C]);const E=async()=>{try{const e=await la.get("/api/products/?is_active=true");k(e.data.results||e.data)}catch(e){console.error("Products fetch error:",e)}},P=e=>{const{name:t,value:n}=e.target;N(e=>It(It({},e),{},{[t]:n}))},T=e=>{const{name:t,value:n}=e.target;x(e=>It(It({},e),{},{[t]:n}))},A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),R=e=>new Date(e).toLocaleDateString(),O=e=>(0,ca.jsx)("span",{className:"status-badge ".concat({pending:"status-pending",completed:"status-completed",cancelled:"status-cancelled",returned:"status-returned",refunded:"status-refunded"}[e]||""),children:e}),F=()=>b.items.reduce((e,t)=>e+parseFloat(t.unit_price||0)*parseFloat(t.quantity||0),0);return(0,a.useEffect)(()=>{"full"===b.payment_type&&j(e=>It(It({},e),{},{paid_amount:F()}))},[b.payment_type,b.items]),(0,ca.jsxs)("div",{className:"sales-management",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:e("titles.sales_management")}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Va,{data:It(It({},n),{},{user_name:(null===t||void 0===t?void 0:t.username)||e("app.unknown_user"),user_id:(null===t||void 0===t?void 0:t.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:e("titles.sales_management_report"),type:"sales_history",printText:e("buttons.print_sales_report"),className:"print-sales-report-btn"}),(0,ca.jsx)(Aa,{variant:"danger",onClick:()=>d(!0),children:"Delete Sales"})]})]}),o&&(0,ca.jsxs)("div",{className:"error-message",children:[o,(0,ca.jsx)("button",{onClick:()=>l(""),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsx)("h3",{children:"Filters"}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{name:"status",value:S.status,onChange:P,children:[(0,ca.jsx)("option",{value:"",children:"All Statuses"}),(0,ca.jsx)("option",{value:"pending",children:"Pending"}),(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ca.jsx)("option",{value:"returned",children:"Returned"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",name:"customer_name",value:S.customer_name,onChange:P,placeholder:e("forms.search_by_customer_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",name:"start_date",value:S.start_date,onChange:P})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",name:"end_date",value:S.end_date,onChange:P})]})]}),(0,ca.jsx)("div",{className:"filter-actions",children:(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>{N({status:"",customer_name:"",start_date:"",end_date:""})},children:"Clear Filters"})})]}),(0,ca.jsx)("div",{className:"table-section",children:i?(0,ca.jsx)("div",{className:"loading",children:"Loading sales..."}):(0,ca.jsx)(Ya,{data:n,columns:[{key:"sale_number",header:e("table_headers.sale_number"),render:(e,t)=>(0,ca.jsx)("span",{className:"sale-number",children:e})},{key:"customer_name",header:e("table_headers.customer"),render:e=>e||"N/A"},{key:"status",header:e("table_headers.status"),render:(e,t)=>(0,ca.jsx)("div",{className:"status-container",children:(0,ca.jsx)("div",{className:"sale-status",children:O(e)})})},{key:"payment_status",header:e("table_headers.payment"),render:(t,n)=>{const a={pending:e("status_labels.pending"),partial:e("status_labels.partial"),paid:e("status_labels.paid")};return(0,ca.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[t]||""),children:a[t]||t})}},{key:"items",header:e("table_headers.items"),render:(e,t)=>e&&0!==e.length?(0,ca.jsxs)("div",{className:"sale-items",children:[e.slice(0,2).map((e,t)=>(0,ca.jsxs)("div",{className:"sale-item-row",children:[(0,ca.jsxs)("span",{className:"item-name",children:[e.product_name,(0,ca.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("span",{className:"item-details",children:[e.quantity_display||e.quantity," ",e.unit_symbol||"pcs"," \xd7 ",A(e.unit_price)]})]},t)),e.length>2&&(0,ca.jsxs)("div",{className:"more-items",children:["+",e.length-2," more items"]})]}):(0,ca.jsx)("span",{className:"no-items",children:"No items"})},{key:"total_amount",header:e("table_headers.total_amount"),render:(e,t)=>(0,ca.jsx)("div",{className:"amount-container",children:(0,ca.jsx)("div",{className:"total-amount",children:A(e)})})},{key:"created_at",header:e("table_headers.date"),render:e=>R(e)},{key:"sold_by_name",header:e("table_headers.sold_by"),render:e=>e||"N/A"},{key:"payment_method",header:e("table_headers.payment_method"),render:(t,n)=>{if("pending"===n.status)return(0,ca.jsxs)("select",{value:t||"cash",onChange:e=>(async(e,t)=>{try{l(""),await la.patch("/sales/".concat(e,"/payment-method/"),{payment_method:t}),r(n=>n.map(n=>n.id===e?It(It({},n),{},{payment_method:t}):n))}catch(i){var n,a;l((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to update payment method"),console.error("Payment method update error:",i)}})(n.id,e.target.value),className:"payment-method-select",children:[(0,ca.jsx)("option",{value:"cash",children:"Cash"}),(0,ca.jsx)("option",{value:"card",children:"Card"}),(0,ca.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ca.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]});const a={cash:e("payment_methods.cash"),card:e("payment_methods.card"),mobile_money:e("payment_methods.mobile_money"),bank_transfer:e("payment_methods.bank_transfer")};return(0,ca.jsx)("span",{className:"payment-method-display",children:a[t]||t||"Cash"})}},{key:"paid_amount",header:e("table_headers.paid_amount"),render:(e,t)=>{const n=parseFloat(e)||0;return(0,ca.jsx)("div",{className:"payment-amount-container",children:(0,ca.jsx)("div",{className:"paid-amount",children:A(n)})})}},{key:"actions",header:e("table_headers.actions"),render:(n,a)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Va,{data:It(It({},a),{},{user_name:(null===t||void 0===t?void 0:t.username)||e("app.unknown_user"),user_id:(null===t||void 0===t?void 0:t.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:e("titles.sale_receipt"),type:"sale",printText:e("buttons.print"),className:"print-sale-btn"}),!("completed"===a.status&&"paid"===a.payment_status)&&"refunded"!==a.status&&(0,ca.jsx)(Aa,{variant:"primary",size:"small",onClick:()=>(async e=>{try{y(!0),l("");const t=(await la.get("/api/sales/".concat(e.id,"/"))).data;v(t),j({items:t.items.map(e=>{var t;return{product:e.product,quantity:e.quantity,unit:(null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit||"",unit_price:e.unit_price,price_mode:e.price_mode||"standard"}}),payment_type:"paid"===t.payment_status?"full":"partial"===t.payment_status?"partial":"full",paid_amount:t.paid_amount||0}),p(!0)}catch(t){l("Failed to load sale details"),console.error("Sale fetch error:",t)}finally{y(!1)}})(a),loading:g,disabled:g,children:"Edit"}),"completed"===a.status&&"refunded"!==a.status&&"return"!==a.sale_type&&(0,ca.jsx)(Aa,{variant:"warning",size:"small",onClick:()=>{window.confirm("Are you sure you want to create a return for this sale? This will restore stock and mark the sale as refunded.")&&(async e=>{try{l("");const t={sale_type:"return",original_sale:e.id,customer_name:e.customer_name||"",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",notes:"Return for sale ".concat(e.sale_number),items:e.items.map(e=>({product:e.product,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,price_mode:e.price_mode||"standard",original_sale_item:e.id}))},n=await la.post("/api/sales/",t);alert("Return created successfully: ".concat(n.data.sale_number,". Stock has been restored.")),C(),E()}catch(a){var t,n;l((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to create return"),console.error("Create return error:",a)}})(a)},loading:g,disabled:g,children:"Return"}),("pending"===a.status||"completed"===a.status)&&"refunded"!==a.status&&"return"!==a.sale_type&&(0,ca.jsx)(Aa,{variant:"danger",size:"small",onClick:()=>{window.confirm("Are you sure you want to cancel this ".concat(a.status," sale?"))&&(async e=>{try{l("");const t=await la.post("/api/sales/".concat(e,"/cancel/"));"Sale cancelled and stock restored"===t.data.message?t.data.refund_amount&&t.data.refund_amount>0?alert("Sale cancelled and stock restored successfully!\n\nRefund Information:\nOriginal Sale: ".concat(t.data.original_sale_number,"\nRefund Amount: $").concat(t.data.refund_amount.toFixed(2),"\n\nPlease process the refund to the customer.")):alert("Sale cancelled and stock restored successfully"):alert("Sale cancelled successfully"),C(),E()}catch(a){var t,n;l((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to cancel sale"),console.error("Cancel sale error:",a)}})(a.id)},children:"Cancel"})]})}]})}),c&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Delete Sales"}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>d(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsx)("p",{children:"Select criteria to delete sales:"}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name (optional)"}),(0,ca.jsx)("input",{type:"text",name:"customer_name",value:_.customer_name,onChange:T,placeholder:e("forms.leave_empty_to_delete_all")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Start Date (optional)"}),(0,ca.jsx)("input",{type:"date",name:"start_date",value:_.start_date,onChange:T})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"End Date (optional)"}),(0,ca.jsx)("input",{type:"date",name:"end_date",value:_.end_date,onChange:T})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{name:"status",value:_.status,onChange:T,children:[(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"pending",children:"Pending"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ca.jsx)("option",{value:"returned",children:"Returned"}),(0,ca.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),(0,ca.jsx)(Aa,{variant:"danger",onClick:async()=>{try{l("");const e=await la.delete("/api/sales/delete/",{data:_});alert("Successfully deleted ".concat(e.data.deleted_count," sales")),d(!1),x({customer_name:"",start_date:"",end_date:"",status:"completed"}),C(),E()}catch(n){var e,t;l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete sales"),console.error("Delete sales error:",n)}},children:"Delete Sales"})]})]})]})}),u&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content large-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?e("modals.view_sale"):e("modals.edit_sale"),": ",(null===f||void 0===f?void 0:f.sale_number)||e("app.loading"),"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)&&(0,ca.jsx)("span",{className:"view-only-badge",children:e("modals.view_only")})]}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>p(!1),children:"\xd7"})]}),(0,ca.jsx)("div",{className:"modal-body",children:g?(0,ca.jsx)("div",{className:"loading",children:"Loading sale details..."}):f?(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"edit-sale-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",f.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Date:"})," ",R(f.created_at)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Status:"})," ",O(f.status)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Payment Status:"})," ",(L=f.payment_status,(0,ca.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[L]||""),children:{pending:"Unpaid",partial:"Partial",paid:"Paid"}[L]||L}))]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," $",f.total_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," $",f.paid_amount]}),"partial"===f.payment_status&&(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining Amount:"})," $",f.remaining_amount]}),f.due_date&&(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Due Date:"})," ",R(f.due_date)]})]}),(0,ca.jsx)("h3",{children:"Sale Items"}),(0,ca.jsx)("div",{className:"edit-items",children:b.items.map((t,n)=>{var a;const r=null===f||void 0===f||null===(a=f.items)||void 0===a?void 0:a.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);return(0,ca.jsxs)("div",{className:"edit-item",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Product"}),(0,ca.jsx)("input",{type:"text",value:(null===r||void 0===r?void 0:r.product_name)||e("app.unknown_product"),readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Unit"}),(0,ca.jsx)("input",{type:"text",value:null!==r&&void 0!==r&&r.unit_name?"".concat(r.unit_name," (").concat(r.unit_symbol,")"):"N/A",readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Price Mode"}),(0,ca.jsx)("input",{type:"text",value:"wholesale"===t.price_mode?"Wholesale (WS)":"Standard (STD)",readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Unit Price"}),(0,ca.jsx)("input",{type:"text",value:A(t.unit_price),readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Quantity"}),(0,ca.jsx)("input",{type:"number",min:"0",value:t.quantity,onChange:e=>((e,t,n)=>{j(a=>It(It({},a),{},{items:a.items.map((a,r)=>r===e?It(It({},a),{},{[t]:n}):a)}))})(n,"quantity",parseFloat(e.target.value)||0),readOnly:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status),className:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?"read-only-input":""})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Total"}),(0,ca.jsx)("input",{type:"text",value:A(t.quantity*t.unit_price),readOnly:!0,className:"readonly-field"})]}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsx)(Aa,{variant:"danger",size:"small",onClick:()=>(e=>{j(t=>It(It({},t),{},{items:t.items.filter((t,n)=>n!==e)}))})(n),children:"Remove"})]},n)})}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("h3",{children:"Payment Options"}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"editPaymentType",value:"full",checked:"full"===b.payment_type,onChange:e=>j(t=>It(It({},t),{},{payment_type:e.target.value,paid_amount:"full"===e.target.value?F():t.paid_amount})),disabled:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"editPaymentType",value:"partial",checked:"partial"===b.payment_type,onChange:e=>j(t=>It(It({},t),{},{payment_type:e.target.value})),disabled:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]})]}),"partial"===b.payment_type&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:F(),value:b.paid_amount||0,onChange:e=>{const t=parseFloat(e.target.value)||0;j(e=>It(It({},e),{},{paid_amount:t}))},placeholder:e("forms.enter_amount_to_pay"),readOnly:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status),className:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?"read-only-input":""}),(0,ca.jsxs)("small",{children:["Total: $",F().toFixed(2)," | Remaining: $",(F()-(b.paid_amount||0)).toFixed(2)]})]}),"full"===b.payment_type&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:F(),readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"Full payment for the total amount."})]})]})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>p(!1),children:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?e("modals.close"):e("modals.cancel")}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsx)(Aa,{variant:"primary",onClick:async()=>{try{l("");const e={items:b.items,paid_amount:b.paid_amount};await la.put("/api/sales/".concat(f.id,"/edit/"),e),alert("Sale updated successfully"),p(!1),v(null),j({items:[],payment_type:"full",paid_amount:0}),C(),E()}catch(n){var e,t;l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update sale"),console.error("Edit sale error:",n)}},disabled:!(()=>{if(!b.items||0===b.items.length)return!1;for(const t of b.items){var e;const n=parseFloat(t.quantity);if(isNaN(n)||n<0)return!1;const a=null===f||void 0===f||null===(e=f.items)||void 0===e?void 0:e.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);if(a){const e=n-parseFloat(a.quantity);if(e>0){const n=w.find(e=>e.id===parseInt(t.product));if(n){const t=e;if(n.stock_quantity<t)return!1}}}}if("partial"===b.payment_type){const e=F(),t=parseFloat(b.paid_amount)||0;if(t>=e||t<=0)return!1}else if("full"===b.payment_type){const e=F();if((parseFloat(b.paid_amount)||0)!==e)return!1}return!0})(),children:"Update Sale"})]})]}):(0,ca.jsx)("div",{className:"error-message",children:"Failed to load sale details"})})]})}),m&&f&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Make Payment - ",f.sale_number]}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>h(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"payment-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",f.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," $",f.total_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," $",f.paid_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining Amount:"})," $",f.remaining_amount]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Amount (Full Payment Only)"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:f.remaining_amount,readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"This will be a full payment for the remaining amount."})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Aa,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),(0,ca.jsxs)(Aa,{variant:"success",onClick:()=>(async(e,t)=>{try{l(""),await la.post("/api/sales/".concat(e,"/payment/"),{payment_amount:t,is_full_payment:!0}),alert("Payment processed successfully"),h(!1),C()}catch(r){var n,a;l((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to process payment"),console.error("Payment error:",r)}})(f.id,f.remaining_amount),children:["Process Payment ($",f.remaining_amount,")"]})]})]})]})})]});var L},Za=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0),[m,h]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[_,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[S,N]=(0,a.useState)(null),[C,E]=(0,a.useState)(null),[P,T]=(0,a.useState)({}),[A,R]=(0,a.useState)(1),[O,F]=(0,a.useState)(1),L=10,[D,M]=(0,a.useState)({search:"",status:"",paymentStatus:"",startDate:"",endDate:"",transactionType:""}),[z,I]=(0,a.useState)({search:"",status:"",startDate:"",endDate:""}),[U,q]=(0,a.useState)({transaction_type:"consignation",sale:"",customer_name:"",customer_phone:"",customer_email:"",payment_method:"cash",status:"active",notes:"",items:[]}),[V,B]=(0,a.useState)({amount:0,payment_method:"cash",notes:""}),[H,W]=(0,a.useState)({settlement_type:"return",notes:""});(0,a.useEffect)(()=>{$(),G(),K()},[]),(0,a.useEffect)(()=>{Q()},[n,D]),(0,a.useEffect)(()=>{J()},[o,z]);const $=async()=>{try{p(!0);const e=await la.get("/api/packaging/transactions/");r(e.data.results||e.data)}catch(e){h("Failed to load packaging transactions"),console.error("Error fetching transactions:",e)}finally{p(!1)}},G=async()=>{try{const e=await la.get("/api/sales/");l(e.data.results||e.data)}catch(e){console.error("Error fetching sales:",e)}},K=async()=>{try{const e=await la.get("/api/packaging/statistics/");T(e.data)}catch(e){console.error("Error fetching statistics:",e)}},Q=()=>{let e=[...n];if(D.search){const t=D.search.toLowerCase();e=e.filter(e=>{var n,a,r;return(null===(n=e.transaction_number)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.customer_name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.sale_number)||void 0===r?void 0:r.toLowerCase().includes(t))})}D.status&&(e=e.filter(e=>e.status===D.status)),D.paymentStatus&&(e=e.filter(e=>e.payment_status===D.paymentStatus)),D.transactionType&&(e=e.filter(e=>e.transaction_type===D.transactionType)),D.startDate&&(e=e.filter(e=>new Date(e.created_at)>=new Date(D.startDate))),D.endDate&&(e=e.filter(e=>new Date(e.created_at)<=new Date(D.endDate+"T23:59:59"))),s(e),R(1)},J=()=>{let e=o.filter(e=>e.packaging_items&&e.packaging_items.length>0);if(z.search){const t=z.search.toLowerCase();e=e.filter(e=>{var n,a;return(null===(n=e.sale_number)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.customer_name)||void 0===a?void 0:a.toLowerCase().includes(t))})}z.status&&(e=e.filter(e=>e.status===z.status)),z.startDate&&(e=e.filter(e=>new Date(e.created_at)>=new Date(z.startDate))),z.endDate&&(e=e.filter(e=>new Date(e.created_at)<=new Date(z.endDate+"T23:59:59"))),d(e),F(1)},Y=(e,t)=>{M(n=>It(It({},n),{},{[e]:t}))},X=(e,t)=>{I(n=>It(It({},n),{},{[e]:t}))},Z=async e=>{try{N(e),p(!0);const t=await(async e=>{try{const t=await la.get("/api/packaging/transactions/".concat(e,"/"));return E(t.data),t.data}catch(t){return h("Failed to load transaction details"),console.error("Error fetching transaction details:",t),null}})(e.id);t&&(E(t),k(!0))}catch(t){h("Failed to load transaction details")}finally{p(!1)}},ee=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),te=e=>new Date(e).toLocaleDateString(),ne=e=>new Date(e).toLocaleString(),ae=e=>(0,ca.jsx)("span",{className:"status-badge ".concat({active:"status-active",completed:"status-completed",cancelled:"status-cancelled"}[e]||""),children:e}),re=e=>(0,ca.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid",refunded:"payment-refunded"}[e]||""),children:{pending:"Unpaid",partial:"Partial",paid:"Paid",refunded:"Refunded"}[e]||e});if(u&&!w)return(0,ca.jsx)("div",{className:"packaging-management",children:(0,ca.jsx)("div",{className:"loading",children:"Loading packaging transactions..."})});const ie=(()=>{const e=(A-1)*L,t=e+L;return i.slice(e,t)})(),se=(()=>{const e=(O-1)*L,t=e+L;return c.slice(e,t)})(),oe=Math.ceil(i.length/L),le=Math.ceil(c.length/L),ce=Object.values(D).some(e=>""!==e),de=Object.values(z).some(e=>""!==e);return(0,ca.jsxs)("div",{className:"packaging-management",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:"Packaging Management"}),(0,ca.jsx)("div",{className:"header-actions",children:(0,ca.jsx)("div",{className:"info-text",children:(0,ca.jsx)("small",{children:"Packaging transactions are automatically created when sales are completed"})})})]}),m&&(0,ca.jsx)("div",{className:"error-message",children:m}),f&&(0,ca.jsx)("div",{className:"success-message",children:f}),(0,ca.jsxs)("div",{className:"statistics-grid",children:[(0,ca.jsxs)("div",{className:"stat-card",children:[(0,ca.jsx)("h3",{children:"Total Transactions"}),(0,ca.jsx)("p",{children:P.total_transactions||0})]}),(0,ca.jsxs)("div",{className:"stat-card",children:[(0,ca.jsx)("h3",{children:"Active Transactions"}),(0,ca.jsx)("p",{children:P.active_transactions||0})]}),(0,ca.jsxs)("div",{className:"stat-card",children:[(0,ca.jsx)("h3",{children:"Total Amount"}),(0,ca.jsx)("p",{children:ee(P.total_amount||0)})]}),(0,ca.jsxs)("div",{className:"stat-card",children:[(0,ca.jsx)("h3",{children:"Paid Amount"}),(0,ca.jsx)("p",{children:ee(P.paid_amount||0)})]}),(0,ca.jsxs)("div",{className:"stat-card",children:[(0,ca.jsx)("h3",{children:"Remaining Amount"}),(0,ca.jsx)("p",{children:ee(P.remaining_amount||0)})]})]}),(0,ca.jsxs)("div",{className:"transactions-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h2",{children:"Packaging Transactions"}),oe>1&&(0,ca.jsxs)("div",{className:"pagination-info",children:["Page ",A," of ",oe,"(",i.length," filtered of ",n.length," total)"]})]}),(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsxs)("div",{className:"filters-header",children:[(0,ca.jsx)("h3",{children:"Filters"}),ce&&(0,ca.jsx)(Aa,{onClick:()=>{M({search:"",status:"",paymentStatus:"",startDate:"",endDate:"",transactionType:""})},variant:"text",size:"small",children:"Clear All Filters"})]}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Search"}),(0,ca.jsx)("input",{type:"text",placeholder:"Search by transaction, customer, or sale...",value:D.search,onChange:e=>Y("search",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{value:D.status,onChange:e=>Y("status",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Statuses"}),(0,ca.jsx)("option",{value:"active",children:"Active"}),(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Payment Status"}),(0,ca.jsxs)("select",{value:D.paymentStatus,onChange:e=>Y("paymentStatus",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Payment Statuses"}),(0,ca.jsx)("option",{value:"pending",children:"Unpaid"}),(0,ca.jsx)("option",{value:"partial",children:"Partial"}),(0,ca.jsx)("option",{value:"paid",children:"Paid"}),(0,ca.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Transaction Type"}),(0,ca.jsxs)("select",{value:D.transactionType,onChange:e=>Y("transactionType",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Types"}),(0,ca.jsx)("option",{value:"consignation",children:"Consignation"}),(0,ca.jsx)("option",{value:"exchange",children:"Exchange"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",value:D.startDate,onChange:e=>Y("startDate",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",value:D.endDate,onChange:e=>Y("endDate",e.target.value)})]})]})]}),0===i.length?(0,ca.jsx)("div",{className:"no-data",children:0===n.length?"No packaging transactions found":"No transactions match your filters"}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("div",{className:"transactions-list",children:ie.map(e=>(0,ca.jsxs)("div",{className:"transaction-card",children:[(0,ca.jsxs)("div",{className:"transaction-header",children:[(0,ca.jsxs)("div",{className:"transaction-info",children:[(0,ca.jsx)("h3",{children:e.transaction_number}),(0,ca.jsxs)("p",{children:["Sale: ",e.sale_number]}),(0,ca.jsxs)("p",{children:["Customer: ",e.customer_name||"N/A"]})]}),(0,ca.jsxs)("div",{className:"transaction-status",children:[ae(e.status),re(e.payment_status)]})]}),(0,ca.jsxs)("div",{className:"transaction-details",children:[(0,ca.jsxs)("div",{className:"detail-row",children:[(0,ca.jsx)("span",{children:"Type:"}),(0,ca.jsx)("span",{children:e.transaction_type})]}),(0,ca.jsxs)("div",{className:"detail-row",children:[(0,ca.jsx)("span",{children:"Total Amount:"}),(0,ca.jsx)("span",{children:ee(e.total_amount)})]}),(0,ca.jsxs)("div",{className:"detail-row",children:[(0,ca.jsx)("span",{children:"Paid Amount:"}),(0,ca.jsx)("span",{children:ee(e.paid_amount)})]}),(0,ca.jsxs)("div",{className:"detail-row",children:[(0,ca.jsx)("span",{children:"Remaining:"}),(0,ca.jsx)("span",{children:ee(e.remaining_amount)})]}),(0,ca.jsxs)("div",{className:"detail-row",children:[(0,ca.jsx)("span",{children:"Created:"}),(0,ca.jsx)("span",{children:te(e.created_at)})]})]}),(0,ca.jsxs)("div",{className:"transaction-actions",children:[e.remaining_amount>0&&(0,ca.jsx)(Aa,{onClick:()=>{N(e),B(t=>It(It({},t),{},{amount:e.remaining_amount})),x(!0)},variant:"primary",size:"small",children:"Make Payment"}),"active"===e.status&&(0,ca.jsx)(Aa,{onClick:()=>{N(e),W({settlement_type:"return",notes:""}),j(!0)},variant:"success",size:"small",children:"Settle"}),(0,ca.jsx)(Aa,{onClick:()=>Z(e),variant:"secondary",size:"small",children:"View Details"})]})]},e.id))}),oe>1&&(0,ca.jsxs)("div",{className:"pagination-controls",children:[(0,ca.jsx)(Aa,{onClick:()=>R(e=>Math.max(e-1,1)),disabled:1===A,variant:"secondary",size:"small",children:"Previous"}),(0,ca.jsxs)("span",{className:"page-indicator",children:["Page ",A," of ",oe]}),(0,ca.jsx)(Aa,{onClick:()=>R(e=>Math.min(e+1,oe)),disabled:A===oe,variant:"secondary",size:"small",children:"Next"})]})]})]}),(0,ca.jsxs)("div",{className:"sales-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h2",{children:"Sales with Packaging"}),le>1&&(0,ca.jsxs)("div",{className:"pagination-info",children:["Page ",O," of ",le,"(",c.length," filtered)"]})]}),(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsxs)("div",{className:"filters-header",children:[(0,ca.jsx)("h3",{children:"Filters"}),de&&(0,ca.jsx)(Aa,{onClick:()=>{I({search:"",status:"",startDate:"",endDate:""})},variant:"text",size:"small",children:"Clear All Filters"})]}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Search"}),(0,ca.jsx)("input",{type:"text",placeholder:"Search by sale number or customer...",value:z.search,onChange:e=>X("search",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{value:z.status,onChange:e=>X("status",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Statuses"}),(0,ca.jsx)("option",{value:"pending",children:"Pending"}),(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",value:z.startDate,onChange:e=>X("startDate",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",value:z.endDate,onChange:e=>X("endDate",e.target.value)})]})]})]}),0===c.length?(0,ca.jsx)("div",{className:"no-data",children:0===o.filter(e=>e.packaging_items&&e.packaging_items.length>0).length?"No sales with packaging found":"No sales match your filters"}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("div",{className:"sales-list",children:se.map(e=>(0,ca.jsxs)("div",{className:"sale-card",children:[(0,ca.jsx)("div",{className:"sale-header",children:(0,ca.jsxs)("div",{className:"sale-info",children:[(0,ca.jsx)("h3",{children:e.sale_number}),(0,ca.jsxs)("p",{children:["Customer: ",e.customer_name||"Walk-in Customer"]}),(0,ca.jsxs)("p",{children:["Date: ",te(e.created_at)]}),(0,ca.jsxs)("p",{children:["Status: ",e.status]})]})}),(0,ca.jsxs)("div",{className:"packaging-summary",children:[(0,ca.jsxs)("h4",{children:["Packaging Items (",e.packaging_items.length,")"]}),(0,ca.jsx)("div",{className:"packaging-items",children:e.packaging_items.map((e,t)=>(0,ca.jsxs)("div",{className:"packaging-item",children:[(0,ca.jsxs)("span",{children:[e.product_name," x ",e.quantity," = ",ee(e.total_price)]}),(0,ca.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})]},t))}),"completed"===e.status&&(0,ca.jsx)("div",{className:"auto-created-notice",children:(0,ca.jsx)("small",{children:"\u2705 Packaging transaction automatically created"})})]})]},e.id))}),le>1&&(0,ca.jsxs)("div",{className:"pagination-controls",children:[(0,ca.jsx)(Aa,{onClick:()=>F(e=>Math.max(e-1,1)),disabled:1===O,variant:"secondary",size:"small",children:"Previous"}),(0,ca.jsxs)("span",{className:"page-indicator",children:["Page ",O," of ",le]}),(0,ca.jsx)(Aa,{onClick:()=>F(e=>Math.min(e+1,le)),disabled:O===le,variant:"secondary",size:"small",children:"Next"})]})]})]}),w&&S&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content large-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Transaction Details - ",S.transaction_number]}),(0,ca.jsx)("button",{onClick:()=>k(!1),className:"close-btn",children:"\xd7"})]}),(0,ca.jsx)("div",{className:"modal-body",children:u?(0,ca.jsx)("div",{className:"loading",children:"Loading details..."}):C?(0,ca.jsxs)("div",{className:"transaction-details-content",children:[(0,ca.jsxs)("div",{className:"details-section",children:[(0,ca.jsx)("h3",{children:"Basic Information"}),(0,ca.jsxs)("div",{className:"details-grid",children:[(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Transaction Number:"}),(0,ca.jsx)("span",{children:C.transaction_number})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Sale Number:"}),(0,ca.jsx)("span",{children:C.sale_number})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Customer:"}),(0,ca.jsx)("span",{children:C.customer_name||"N/A"})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Transaction Type:"}),(0,ca.jsx)("span",{children:C.transaction_type})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Status:"}),(0,ca.jsx)("span",{children:ae(C.status)})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Payment Status:"}),(0,ca.jsx)("span",{children:re(C.payment_status)})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Created Date:"}),(0,ca.jsx)("span",{children:ne(C.created_at)})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Last Updated:"}),(0,ca.jsx)("span",{children:ne(C.updated_at)})]})]})]}),(0,ca.jsxs)("div",{className:"details-section",children:[(0,ca.jsx)("h3",{children:"Financial Summary"}),(0,ca.jsxs)("div",{className:"financial-grid",children:[(0,ca.jsxs)("div",{className:"financial-item",children:[(0,ca.jsx)("label",{children:"Total Amount:"}),(0,ca.jsx)("span",{className:"amount",children:ee(C.total_amount)})]}),(0,ca.jsxs)("div",{className:"financial-item",children:[(0,ca.jsx)("label",{children:"Paid Amount:"}),(0,ca.jsx)("span",{className:"amount paid",children:ee(C.paid_amount)})]}),(0,ca.jsxs)("div",{className:"financial-item",children:[(0,ca.jsx)("label",{children:"Remaining Amount:"}),(0,ca.jsx)("span",{className:"amount remaining",children:ee(C.remaining_amount)})]})]})]}),C.items&&C.items.length>0&&(0,ca.jsxs)("div",{className:"details-section",children:[(0,ca.jsxs)("h3",{children:["Packaging Items (",C.items.length,")"]}),(0,ca.jsxs)("div",{className:"items-table",children:[(0,ca.jsxs)("div",{className:"table-header",children:[(0,ca.jsx)("div",{children:"Product Name"}),(0,ca.jsx)("div",{children:"Quantity"}),(0,ca.jsx)("div",{children:"Unit Price"}),(0,ca.jsx)("div",{children:"Total Price"}),(0,ca.jsx)("div",{children:"Status"})]}),(0,ca.jsx)("div",{className:"table-body",children:C.items.map((e,t)=>(0,ca.jsxs)("div",{className:"table-row",children:[(0,ca.jsx)("div",{children:e.product_name}),(0,ca.jsx)("div",{children:e.quantity}),(0,ca.jsx)("div",{children:ee(e.unit_price)}),(0,ca.jsx)("div",{children:ee(e.total_price)}),(0,ca.jsx)("div",{children:(0,ca.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})})]},t))})]})]}),C.payments&&C.payments.length>0&&(0,ca.jsxs)("div",{className:"details-section",children:[(0,ca.jsxs)("h3",{children:["Payment History (",C.payments.length,")"]}),(0,ca.jsxs)("div",{className:"items-table",children:[(0,ca.jsxs)("div",{className:"table-header",children:[(0,ca.jsx)("div",{children:"Date"}),(0,ca.jsx)("div",{children:"Amount"}),(0,ca.jsx)("div",{children:"Method"}),(0,ca.jsx)("div",{children:"Notes"})]}),(0,ca.jsx)("div",{className:"table-body",children:C.payments.map((e,t)=>(0,ca.jsxs)("div",{className:"table-row",children:[(0,ca.jsx)("div",{children:ne(e.created_at)}),(0,ca.jsx)("div",{children:ee(e.amount)}),(0,ca.jsx)("div",{children:e.payment_method}),(0,ca.jsx)("div",{children:e.notes||"-"})]},t))})]})]}),C.notes&&(0,ca.jsxs)("div",{className:"details-section",children:[(0,ca.jsx)("h3",{children:"Notes"}),(0,ca.jsx)("div",{className:"notes-content",children:C.notes})]})]}):(0,ca.jsx)("div",{className:"error-message",children:"Failed to load transaction details"})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)(Aa,{onClick:()=>k(!1),variant:"secondary",children:"Close"})})]})}),_&&S&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Make Payment"}),(0,ca.jsx)("button",{onClick:()=>x(!1),className:"close-btn",children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"payment-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Transaction:"})," ",S.transaction_number]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",S.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," ",ee(S.total_amount)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," ",ee(S.paid_amount)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining:"})," ",ee(S.remaining_amount)]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Amount *"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0.01",max:S.remaining_amount,value:V.amount,onChange:e=>B(t=>It(It({},t),{},{amount:parseFloat(e.target.value)})),required:!0})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Method"}),(0,ca.jsxs)("select",{value:V.payment_method,onChange:e=>B(t=>It(It({},t),{},{payment_method:e.target.value})),children:[(0,ca.jsx)("option",{value:"cash",children:"Cash"}),(0,ca.jsx)("option",{value:"card",children:"Card"}),(0,ca.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ca.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Notes"}),(0,ca.jsx)("textarea",{value:V.notes,onChange:e=>B(t=>It(It({},t),{},{notes:e.target.value})),rows:"3"})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Aa,{onClick:async()=>{try{if(h(""),v(""),!S||!V.amount)return void h("Please select a transaction and enter payment amount");await la.post("/api/packaging/transactions/".concat(S.id,"/payments/"),V),v("Payment processed successfully"),B({amount:0,payment_method:"cash",notes:""}),x(!1),N(null),$(),K()}catch(n){var e,t;h((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to process payment"),console.error("Error processing payment:",n)}},variant:"primary",children:"Process Payment"}),(0,ca.jsx)(Aa,{onClick:()=>x(!1),variant:"secondary",children:"Cancel"})]})]})}),b&&S&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Settle Packaging Transaction"}),(0,ca.jsx)("button",{onClick:()=>j(!1),className:"close-btn",children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"payment-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Transaction:"})," ",S.transaction_number]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",S.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Sale:"})," ",S.sale_number]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," ",ee(S.total_amount)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," ",ee(S.paid_amount)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining:"})," ",ee(S.remaining_amount)]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Settlement Type *"}),(0,ca.jsxs)("select",{value:H.settlement_type,onChange:e=>W(t=>It(It({},t),{},{settlement_type:e.target.value})),required:!0,children:[(0,ca.jsx)("option",{value:"return",children:"Packaging Returned"}),(0,ca.jsx)("option",{value:"refund",children:"Deposit Refunded"})]}),(0,ca.jsx)("small",{children:"return"===H.settlement_type?"Customer returned the packaging items":"Customer received refund for packaging deposit"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Notes"}),(0,ca.jsx)("textarea",{value:H.notes,onChange:e=>W(t=>It(It({},t),{},{notes:e.target.value})),rows:"3",placeholder:"Additional notes about the settlement..."})]}),(0,ca.jsx)("div",{className:"settlement-warning",children:(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"\u26a0\ufe0f Warning:"})," This action will mark the packaging transaction as completed and cannot be undone."]})})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Aa,{onClick:async()=>{try{if(h(""),v(""),!S)return void h("Please select a transaction to settle");await la.post("/api/packaging/transactions/".concat(S.id,"/settle/"),H),v("Packaging transaction settled successfully"),W({settlement_type:"return",notes:""}),j(!1),N(null),$(),K()}catch(n){var e,t;h((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to settle transaction"),console.error("Error settling transaction:",n)}},variant:"success",children:"Settle Transaction"}),(0,ca.jsx)(Aa,{onClick:()=>j(!1),variant:"secondary",children:"Cancel"})]})]})})]})},er=()=>{var e;const{t:t}=Ea(),[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)({start_date:"",end_date:"",product_id:"",category_id:"",customer_name:""}),[f,v]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),_=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis with revenue, cost, and profit breakdown",icon:"\ud83d\udcb0",color:"#10b981"},{id:"inventory",name:"Inventory Report",description:"Current inventory status, stock levels, and valuation",icon:"\ud83d\udce6",color:"#8b5cf6"},{id:"profit_loss",name:"Profit & Loss Report",description:"Financial performance analysis with profit margins",icon:"\ud83d\udcca",color:"#3b82f6"},{id:"stock_movement",name:"Stock Movement Report",description:"Track all stock movements, purchases, and sales",icon:"\ud83d\udcc8",color:"#f59e0b"},{id:"customer",name:"Customer Report",description:"Customer analysis and purchase behavior",icon:"\ud83d\udc65",color:"#06b6d4"}];(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{r(!0);const e=await la.get("/reports/");d(e.data)}catch(e){s("Failed to load reports"),console.error("Reports error:",e)}finally{r(!1)}},b=(e,t)=>{h(n=>It(It({},n),{},{[e]:t}))},j=async e=>{if(f)try{var t;r(!0),s("");const n={name:"".concat(null===(t=_.find(e=>e.id===u))||void 0===t?void 0:t.name," - ").concat((new Date).toLocaleDateString()),report_type:u,description:"Generated report with filters: ".concat(JSON.stringify(m)),parameters:m};await la.post("/reports/",n);let a="",i="",o="";"pdf"===e?(a="".concat(u,"_report_").concat((new Date).toISOString().split("T")[0],".txt"),i=w(f),o="text/plain"):"excel"===e&&(a="".concat(u,"_report_").concat((new Date).toISOString().split("T")[0],".csv"),i=k(f),o="text/csv"),S(i,a,o),l("Report exported as ".concat(e.toUpperCase()," successfully!")),x()}catch(i){var n,a;s("Failed to export report: ".concat((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||i.message)),console.error("Export error:",i)}finally{r(!1)}else s("No report to export")},w=e=>{var t,n,a,r,i,s,o,l,c,d,u,p;const{type:m,data:h}=e;let f="".concat(null===(t=_.find(e=>e.id===m))||void 0===t?void 0:t.name,"\n");switch(f+="Generated: ".concat(N(e.generated_at),"\n"),f+="=====================================\n\n",m){case"sales":f+="SUMMARY:\n",f+="Total Sales: ".concat((null===(n=h.summary)||void 0===n||null===(a=n.total_sales)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA\n"),f+="Total Transactions: ".concat((null===(r=h.summary)||void 0===r?void 0:r.total_count)||0,"\n"),f+="Total Items Sold: ".concat((null===(i=h.summary)||void 0===i?void 0:i.total_items)||0,"\n"),f+="Average Sale: ".concat(null!==(s=h.summary)&&void 0!==s&&s.total_sales&&null!==(o=h.summary)&&void 0!==o&&o.total_count?(h.summary.total_sales/h.summary.total_count).toFixed(2):"0.00"," MGA\n\n"),h.details&&h.details.length>0&&(f+="SALES DETAILS:\n",f+="Sale Number | Customer | Amount | Items | Sold By | Date\n",f+="------------|----------|--------|-------|---------|-----\n",h.details.forEach(e=>{var t;f+="".concat(e.sale_number," | ").concat(e.customer_name||"Walk-in"," | ").concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat(e.items_count," | ").concat(e.sold_by||"-"," | ").concat(N(e.created_at),"\n")}));break;case"inventory":f+="SUMMARY:\n",f+="Total Products: ".concat((null===(l=h.summary)||void 0===l?void 0:l.total_products)||0,"\n"),f+="Total Value: ".concat((null===(c=h.summary)||void 0===c||null===(d=c.total_value)||void 0===d?void 0:d.toFixed(2))||"0.00"," MGA\n"),f+="Low Stock Items: ".concat((null===(u=h.summary)||void 0===u?void 0:u.low_stock_count)||0,"\n"),f+="Out of Stock: ".concat((null===(p=h.summary)||void 0===p?void 0:p.out_of_stock_count)||0,"\n\n"),h.products&&h.products.length>0&&(f+="PRODUCT DETAILS:\n",f+="Product | SKU | Category | Stock | Cost Price | Selling Price | Stock Value | Status\n",f+="--------|-----|----------|-------|------------|---------------|-------------|-------\n",h.products.forEach(e=>{var t,n,a;const r=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";f+="".concat(e.name," | ").concat(e.sku," | ").concat(e.category," | ").concat(e.stock_quantity," | ").concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA | ").concat((null===(a=e.stock_value)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA | ").concat(r,"\n")}));break;case"stock_movement":h.summary&&h.summary.length>0&&(f+="MOVEMENT SUMMARY:\n",h.summary.forEach(e=>{f+="".concat(e.movement_type,": ").concat(e.total_quantity," units (").concat(e.count," movements)\n")}),f+="\n"),h.movements&&h.movements.length>0&&(f+="MOVEMENT DETAILS:\n",f+="Date | Product | SKU | Type | Quantity | Reference | Notes | User\n",f+="-----|---------|-----|------|----------|-----------|-------|-----\n",h.movements.forEach(e=>{f+="".concat(N(e.created_at)," | ").concat(e.product_name," | ").concat(e.product_sku," | ").concat(e.movement_type," | ").concat(e.quantity," | ").concat(e.reference_number||"-"," | ").concat(e.notes||"-"," | ").concat(e.created_by||"-","\n")}));break;default:f+="Report data:\n".concat(JSON.stringify(h,null,2))}return f},k=e=>{const{type:t,data:n}=e;let a="";switch(t){case"sales":n.details&&n.details.length>0&&(a+="Sale Number,Customer,Amount,Items,Sold By,Date\n",n.details.forEach(e=>{var t;a+='"'.concat(e.sale_number,'","').concat(e.customer_name||"Walk-in",'","').concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat(e.items_count,'","').concat(e.sold_by||"-",'","').concat(N(e.created_at),'"\n')}));break;case"inventory":n.products&&n.products.length>0&&(a+="Product,SKU,Category,Stock,Cost Price,Selling Price,Stock Value,Status\n",n.products.forEach(e=>{var t,n,r;const i=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";a+='"'.concat(e.name,'","').concat(e.sku,'","').concat(e.category,'","').concat(e.stock_quantity,'","').concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00",' MGA","').concat((null===(r=e.stock_value)||void 0===r?void 0:r.toFixed(2))||"0.00",' MGA","').concat(i,'"\n')}));break;case"stock_movement":n.movements&&n.movements.length>0&&(a+="Date,Product,SKU,Type,Quantity,Reference,Notes,User\n",n.movements.forEach(e=>{a+='"'.concat(N(e.created_at),'","').concat(e.product_name,'","').concat(e.product_sku,'","').concat(e.movement_type,'","').concat(e.quantity,'","').concat(e.reference_number||"-",'","').concat(e.notes||"-",'","').concat(e.created_by||"-",'"\n')}));break;default:a="Report data not available for CSV export"}return a},S=(e,t,n)=>{const a=new Blob([e],{type:n}),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)},N=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!f?(0,ca.jsx)("div",{className:"reports",children:(0,ca.jsxs)("div",{className:"reports-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading reports..."})]})}):(0,ca.jsxs)("div",{className:"reports",children:[(0,ca.jsxs)("div",{className:"reports-header",children:[(0,ca.jsx)("h1",{children:t("titles.reports")}),(0,ca.jsx)("p",{children:"Generate detailed reports and export them for analysis"})]}),i&&(0,ca.jsxs)("div",{className:"alert alert-error",children:[(0,ca.jsx)("span",{children:"\u26a0\ufe0f"}),i]}),o&&(0,ca.jsxs)("div",{className:"alert alert-success",children:[(0,ca.jsx)("span",{children:"\u2705"}),o]}),(0,ca.jsxs)("div",{className:"reports-content",children:[(0,ca.jsxs)("div",{className:"report-types-section",children:[(0,ca.jsx)("h2",{children:"Select Report Type"}),(0,ca.jsx)("div",{className:"report-types-grid",children:_.map(e=>(0,ca.jsxs)("div",{className:"report-type-card ".concat(u===e.id?"selected":""),onClick:()=>(e=>{p(e),y(!0),v(null),s(""),l("")})(e.id),children:[(0,ca.jsx)("div",{className:"report-type-icon",style:{backgroundColor:e.color},children:e.icon}),(0,ca.jsxs)("div",{className:"report-type-content",children:[(0,ca.jsx)("h3",{children:e.name}),(0,ca.jsx)("p",{children:e.description})]})]},e.id))})]}),g&&(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsx)("h2",{children:"Report Filters"}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",value:m.start_date,onChange:e=>b("start_date",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",value:m.end_date,onChange:e=>b("end_date",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Product ID"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter product ID",value:m.product_id,onChange:e=>b("product_id",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Category ID"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter category ID",value:m.category_id,onChange:e=>b("category_id",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter customer name",value:m.customer_name,onChange:e=>b("customer_name",e.target.value)})]})]}),(0,ca.jsxs)("div",{className:"filters-actions",children:[(0,ca.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(u)try{r(!0),s(""),l("");let e={};m.start_date&&(e.start_date=m.start_date),m.end_date&&(e.end_date=m.end_date);let t="";switch(u){case"sales":t="/reports/sales/",e={start_date:m.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0],include_details:!0,group_by:"day"};break;case"inventory":t="/reports/inventory/",e={start_date:m.start_date||(new Date).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0],include_low_stock:!0,include_out_of_stock:!0};break;case"stock_movement":t="/reports/stock-movements/",e={start_date:m.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0]},m.product_id&&(e.product=m.product_id);break;default:return void s("Report type not implemented yet")}const n=await la.post(t,e);v({type:u,data:n.data,generated_at:(new Date).toISOString()}),l("Report generated successfully!")}catch(n){var e,t;s("Failed to generate report: ".concat((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message)),console.error("Report generation error:",n)}finally{r(!1)}else s("Please select a report type")},disabled:n,children:n?"Generating...":"Generate Report"}),(0,ca.jsx)("button",{className:"btn btn-secondary",onClick:()=>y(!1),children:"Cancel"})]})]}),f&&(0,ca.jsxs)("div",{className:"generated-report-section",children:[(0,ca.jsxs)("div",{className:"report-header",children:[(0,ca.jsxs)("h2",{children:[null===(e=_.find(e=>e.id===u))||void 0===e?void 0:e.name,(0,ca.jsxs)("span",{className:"report-date",children:["Generated: ",N(f.generated_at)]})]}),(0,ca.jsxs)("div",{className:"report-actions",children:[(0,ca.jsx)("button",{className:"btn btn-success",onClick:()=>j("pdf"),disabled:n,children:"\ud83d\udcc4 Export Text"}),(0,ca.jsx)("button",{className:"btn btn-info",onClick:()=>j("excel"),disabled:n,children:"\ud83d\udcca Export CSV"})]})]}),(()=>{var e,n,a,r,i,s,o,l,c,d,u;if(!f)return null;const{type:p,data:m}=f;switch(p){case"sales":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:"Sales Report Data"}),(0,ca.jsxs)("div",{className:"sales-summary",children:[(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Sales"}),(0,ca.jsxs)("p",{children:[(null===(e=m.summary)||void 0===e||null===(n=e.total_sales)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Transactions"}),(0,ca.jsx)("p",{children:(null===(a=m.summary)||void 0===a?void 0:a.total_count)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Items Sold"}),(0,ca.jsx)("p",{children:(null===(r=m.summary)||void 0===r?void 0:r.total_items)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Average Sale"}),(0,ca.jsxs)("p",{children:[null!==(i=m.summary)&&void 0!==i&&i.total_sales&&null!==(s=m.summary)&&void 0!==s&&s.total_count?(m.summary.total_sales/m.summary.total_count).toFixed(2):"0.00"," MGA"]})]})]}),m.chart_data&&m.chart_data.length>0&&(0,ca.jsxs)("div",{className:"sales-chart",children:[(0,ca.jsx)("h4",{children:"Sales Trend"}),(0,ca.jsx)("div",{className:"chart-container",children:(0,ca.jsx)("div",{className:"chart-bars",children:m.chart_data.map((e,t)=>(0,ca.jsxs)("div",{className:"chart-bar",children:[(0,ca.jsx)("div",{className:"bar-group",children:(0,ca.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,e.total/Math.max(...m.chart_data.map(e=>e.total))*100),"%")},title:"Sales: ".concat(e.total.toFixed(2)," MGA")})}),(0,ca.jsx)("div",{className:"bar-label",children:e.date}),(0,ca.jsx)("div",{className:"bar-values",children:(0,ca.jsxs)("div",{className:"value sales",children:[e.total.toFixed(0)," MGA"]})})]},t))})})]}),m.details&&m.details.length>0&&(0,ca.jsxs)("div",{className:"sales-details",children:[(0,ca.jsx)("h4",{children:"Sales Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Sale Number"}),(0,ca.jsx)("th",{children:"Customer"}),(0,ca.jsx)("th",{children:"Amount"}),(0,ca.jsx)("th",{children:"Items"}),(0,ca.jsx)("th",{children:"Sold By"}),(0,ca.jsx)("th",{children:"Date"})]})}),(0,ca.jsx)("tbody",{children:m.details.map((e,t)=>{var n;return(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:e.sale_number}),(0,ca.jsx)("td",{children:e.customer_name||"Walk-in"}),(0,ca.jsxs)("td",{children:[(null===(n=e.total_amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("td",{children:e.items_count}),(0,ca.jsx)("td",{children:e.sold_by||"-"}),(0,ca.jsx)("td",{children:N(e.created_at)})]},t)})})]})})]})]});case"inventory":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:t("titles.inventory_report_data")}),(0,ca.jsxs)("div",{className:"inventory-summary",children:[(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Products"}),(0,ca.jsx)("p",{children:(null===(o=m.summary)||void 0===o?void 0:o.total_products)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Value"}),(0,ca.jsxs)("p",{children:[(null===(l=m.summary)||void 0===l||null===(c=l.total_value)||void 0===c?void 0:c.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Low Stock Items"}),(0,ca.jsx)("p",{children:(null===(d=m.summary)||void 0===d?void 0:d.low_stock_count)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Out of Stock"}),(0,ca.jsx)("p",{children:(null===(u=m.summary)||void 0===u?void 0:u.out_of_stock_count)||0})]})]}),m.products&&m.products.length>0&&(0,ca.jsxs)("div",{className:"inventory-details",children:[(0,ca.jsx)("h4",{children:"Product Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Product"}),(0,ca.jsx)("th",{children:"SKU"}),(0,ca.jsx)("th",{children:"Category"}),(0,ca.jsx)("th",{children:"Stock"}),(0,ca.jsx)("th",{children:"Min Level"}),(0,ca.jsx)("th",{children:"Cost Price"}),(0,ca.jsx)("th",{children:"Selling Price"}),(0,ca.jsx)("th",{children:"Stock Value"}),(0,ca.jsx)("th",{children:"Status"})]})}),(0,ca.jsx)("tbody",{children:m.products.map((e,t)=>{var n,a,r;return(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:e.name}),(0,ca.jsx)("td",{children:e.sku}),(0,ca.jsx)("td",{children:e.category}),(0,ca.jsx)("td",{children:e.stock_quantity}),(0,ca.jsx)("td",{children:e.min_stock_level}),(0,ca.jsxs)("td",{children:[(null===(n=e.cost_price)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("td",{children:[(null===(a=e.selling_price)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("td",{children:[(null===(r=e.stock_value)||void 0===r?void 0:r.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("td",{children:(0,ca.jsx)("span",{className:"status ".concat(e.is_out_of_stock?"out-of-stock":e.is_low_stock?"low-stock":"in-stock"),children:e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock"})})]},t)})})]})})]})]});case"stock_movement":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:t("titles.stock_movement_report_data")}),m.summary&&m.summary.length>0&&(0,ca.jsxs)("div",{className:"movement-summary",children:[(0,ca.jsx)("h4",{children:"Movement Summary"}),(0,ca.jsx)("div",{className:"summary-cards",children:m.summary.map((e,t)=>(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:e.movement_type}),(0,ca.jsxs)("p",{children:["Quantity: ",e.total_quantity]}),(0,ca.jsxs)("p",{children:["Count: ",e.count]})]},t))})]}),m.movements&&m.movements.length>0&&(0,ca.jsxs)("div",{className:"stock-movements",children:[(0,ca.jsx)("h4",{children:"Movement Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Date"}),(0,ca.jsx)("th",{children:"Product"}),(0,ca.jsx)("th",{children:"SKU"}),(0,ca.jsx)("th",{children:"Type"}),(0,ca.jsx)("th",{children:"Quantity"}),(0,ca.jsx)("th",{children:"Reference"}),(0,ca.jsx)("th",{children:"Notes"}),(0,ca.jsx)("th",{children:"User"})]})}),(0,ca.jsx)("tbody",{children:m.movements.map((e,t)=>(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:N(e.created_at)}),(0,ca.jsx)("td",{children:e.product_name}),(0,ca.jsx)("td",{children:e.product_sku}),(0,ca.jsx)("td",{children:(0,ca.jsx)("span",{className:"movement-type ".concat(e.movement_type),children:e.movement_type})}),(0,ca.jsx)("td",{children:e.quantity}),(0,ca.jsx)("td",{children:e.reference_number||"-"}),(0,ca.jsx)("td",{children:e.notes||"-"}),(0,ca.jsx)("td",{children:e.created_by||"-"})]},t))})]})})]})]});default:return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("p",{children:"Report data format not implemented yet."}),(0,ca.jsx)("pre",{children:JSON.stringify(m,null,2)})]})}})()]}),(0,ca.jsxs)("div",{className:"previous-reports-section",children:[(0,ca.jsx)("h2",{children:t("titles.previous_reports")}),c.length>0?(0,ca.jsx)("div",{className:"reports-list",children:c.map(e=>(0,ca.jsxs)("div",{className:"report-item",children:[(0,ca.jsxs)("div",{className:"report-info",children:[(0,ca.jsx)("h4",{children:e.name}),(0,ca.jsx)("p",{children:e.description}),(0,ca.jsxs)("div",{className:"report-meta",children:[(0,ca.jsxs)("span",{children:["Type: ",e.report_type]}),(0,ca.jsxs)("span",{children:["Generated: ",N(e.generated_at)]}),(0,ca.jsxs)("span",{children:["By: ",e.generated_by_name]})]})]}),(0,ca.jsx)("div",{className:"report-actions",children:e.file_path&&(0,ca.jsx)("button",{className:"btn btn-sm btn-outline",children:"\ud83d\udce5 Download"})})]},e.id))}):(0,ca.jsx)("p",{className:"no-data",children:"No previous reports found"})]})]})]})},tr=e=>"string"===typeof e,nr=()=>{let e,t;const n=new Promise((n,a)=>{e=n,t=a});return n.resolve=e,n.reject=t,n},ar=e=>null==e?"":""+e,rr=/###/g,ir=e=>e&&e.indexOf("###")>-1?e.replace(rr,"."):e,sr=e=>!e||tr(e),or=(e,t,n)=>{const a=tr(t)?t.split("."):t;let r=0;for(;r<a.length-1;){if(sr(e))return{};const t=ir(a[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return sr(e)?{}:{obj:e,k:ir(a[r])}},lr=(e,t,n)=>{const{obj:a,k:r}=or(e,t,Object);if(void 0!==a||1===t.length)return void(a[r]=n);let i=t[t.length-1],s=t.slice(0,t.length-1),o=or(e,s,Object);for(;void 0===o.obj&&s.length;){var l;i="".concat(s[s.length-1],".").concat(i),s=s.slice(0,s.length-1),o=or(e,s,Object),null!==(l=o)&&void 0!==l&&l.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(i)]&&(o.obj=void 0)}o.obj["".concat(o.k,".").concat(i)]=n},cr=(e,t)=>{const{obj:n,k:a}=or(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},dr=(e,t,n)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?tr(e[a])||e[a]instanceof String||tr(t[a])||t[a]instanceof String?n&&(e[a]=t[a]):dr(e[a],t[a],n):e[a]=t[a]);return e},ur=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const mr=e=>tr(e)?e.replace(/[&<>"'\/]/g,e=>pr[e]):e;const hr=[" ",",","?","!",";"],fr=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),vr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const a=t.split(n);let r=e;for(let i=0;i<a.length;){if(!r||"object"!==typeof r)return;let e,t="";for(let s=i;s<a.length;++s)if(s!==i&&(t+=n),t+=a[s],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<a.length-1)continue;i+=s-i+1;break}r=e}return r},gr=e=>null===e||void 0===e?void 0:e.replace("_","-"),yr={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,a;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(a=n.apply)||void 0===a||a.call(n,console,t)}};class _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||yr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:(tr(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new _r(this.logger,It(It({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new _r(this.logger,e)}}var xr=new _r;class br{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,a]=e;for(let r=0;r<a;r++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[a,r]=t;for(let i=0;i<r;i++)a.apply(a,[e,...n])})}}}class jr extends br{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):tr(n)&&i?o.push(...n.split(i)):o.push(n)));const l=cr(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),!l&&s&&tr(n)?vr(null===(a=this.data)||void 0===a||null===(a=a[e])||void 0===a?void 0:a[t],n,i):l}addResource(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."),a=t,t=s[1]),this.addNamespaces(t),lr(this.data,s,a),r.silent||this.emit("added",e,t,n,a)}addResources(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(tr(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),a=n,n=t,t=s[1]),this.addNamespaces(t);let o=cr(this.data,s)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?dr(o,n,r):o=It(It({},o),n),lr(this.data,s,o),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var wr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,a,r){return e.forEach(e=>{var i,s;t=null!==(i=null===(s=this.processors[e])||void 0===s?void 0:s.process(t,n,a,r))&&void 0!==i?i:t}),t}};const kr=Symbol("i18next/PATH_KEY");function Sr(e,t){var n;const{[kr]:a}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(a,r)=>{var i,s;return null===(i=n)||void 0===i||null===(s=i.revoke)||void 0===s||s.call(i),r===kr?e:(e.push(r),n=Proxy.revocable(a,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return a.join(null!==(n=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==n?n:".")}const Nr={},Cr=e=>!tr(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Er extends br{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=xr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=It({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const a=hr.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===a.length)return!0;const r=fr.getRegExp("(".concat(a.map(e=>"?"===e?"\\?":e).join("|"),")"));let i=!r.test(e);if(!i){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(i=!0)}return i})(e,n,a);if(i&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:tr(r)?[r]:r};const i=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(a)}return{key:e,namespaces:tr(r)?[r]:r}}translate(e,t,n){let a="object"===typeof t?It({},t):t;if("object"!==typeof a&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof a&&(a=It({},a)),a||(a={}),null==e)return"";"function"===typeof e&&(e=Sr(e,It(It({},this.options),a))),Array.isArray(e)||(e=[String(e)]);const r=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,i=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],a),l=o[o.length-1];let c=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=a.lng||this.language,u=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return u?r?{res:"".concat(l).concat(c).concat(s),usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:"".concat(l).concat(c).concat(s):r?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:s;const p=this.resolve(e,a);let m=null===p||void 0===p?void 0:p.res;const h=(null===p||void 0===p?void 0:p.usedKey)||s,f=(null===p||void 0===p?void 0:p.exactUsedKey)||s,v=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==a.count&&!tr(a.count),_=Er.hasDefaultValue(a),x=y?this.pluralResolver.getSuffix(d,a.count,a):"",b=a.ordinal&&y?this.pluralResolver.getSuffix(d,a.count,{ordinal:!1}):"",j=y&&!a.ordinal&&0===a.count,w=j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]||a["defaultValue".concat(x)]||a["defaultValue".concat(b)]||a.defaultValue;let k=m;g&&!m&&_&&(k=w);const S=Cr(k),N=Object.prototype.toString.apply(k);if(!(g&&k&&S&&["[object Number]","[object Function]","[object RegExp]"].indexOf(N)<0)||tr(v)&&Array.isArray(k))if(g&&tr(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,a,n));else{let t=!1,r=!1;!this.isValidLookup(m)&&_&&(t=!0,m=w),this.isValidLookup(m)||(r=!0,m=s);const o=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:m,u=_&&w!==m&&this.options.updateMissing;if(r||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,s,u?w:m),i){const e=this.resolve(s,It(It({},a),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;a<t.length;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(a.lng||this.language):e.push(a.lng||this.language);const n=(e,t,n)=>{var r;const i=_&&n!==m?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,u,a):null!==(r=this.backendConnector)&&void 0!==r&&r.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,u,a),this.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,a);j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{n([e],s+t,a["defaultValue".concat(t)]||w)})}):n(e,s,w))}m=this.extendTranslation(m,e,a,p,n),r&&m===s&&this.options.appendNamespaceToMissingKey&&(m="".concat(l).concat(c).concat(s)),(r||t)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(c).concat(s):s,t?m:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,k,It(It({},a),{},{ns:o})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return r?(p.res=e,p.usedParams=this.getUsedParamsDetails(a),p):e}if(i){const e=Array.isArray(k),t=e?[]:{},n=e?f:h;for(const r in k)if(Object.prototype.hasOwnProperty.call(k,r)){const e="".concat(n).concat(i).concat(r);t[r]=_&&!m?this.translate(e,It(It({},a),{},{defaultValue:Cr(w)?w[r]:void 0},{joinArrays:!1,ns:o})):this.translate(e,It(It({},a),{joinArrays:!1,ns:o})),t[r]===e&&(t[r]=k[r])}m=t}}return r?(p.res=m,p.usedParams=this.getUsedParamsDetails(a),p):m}extendTranslation(e,t,n,a,r){var i,s=this;if(null!==(i=this.i18nFormat)&&void 0!==i&&i.parse)e=this.i18nFormat.parse(e,It(It({},this.options.interpolation.defaultVariables),n),n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){var o;n.interpolation&&this.interpolator.init(It(It({},n),{interpolation:It(It({},this.options.interpolation),n.interpolation)}));const i=tr(e)&&(void 0!==(null===n||void 0===n||null===(o=n.interpolation)||void 0===o?void 0:o.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(i){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!tr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=It(It({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language||a.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(null===r||void 0===r?void 0:r[0])!==a[0]||n.context?s.translate(...a,t):(s.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=tr(l)?[l]:l;return null!=e&&null!==c&&void 0!==c&&c.length&&!1!==n.applyPostProcessor&&(e=wr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?It({i18nResolved:It(It({},a),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,a,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tr(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,s),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==s.count&&!tr(s.count),u=d&&!s.ordinal&&0===s.count,p=void 0!==s.context&&(tr(s.context)||"number"===typeof s.context)&&""!==s.context,m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(t)||(i=e,Nr["".concat(m[0],"-").concat(e)]||null===(o=this.utils)||void 0===o||!o.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(i)||(Nr["".concat(m[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(n=>{var i;if(this.isValidLookup(t))return;r=n;const o=[l];if(null!==(i=this.i18nFormat)&&void 0!==i&&i.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,s);else{let e;d&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),a="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(s.ordinal&&0===e.indexOf(a)&&o.push(l+e.replace(a,this.options.pluralSeparator)),o.push(l+e),u&&o.push(l+t)),p){const n="".concat(l).concat(this.options.contextSeparator||"_").concat(s.context);o.push(n),d&&(s.ordinal&&0===e.indexOf(a)&&o.push(n+e.replace(a,this.options.pluralSeparator)),o.push(n+e),u&&o.push(n+t))}}let c;for(;c=o.pop();)this.isValidLookup(t)||(a=c,t=this.getResource(n,e,c,s))}))})}),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(a=this.i18nFormat)&&void 0!==a&&a.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!tr(e.replace);let a=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=It(It({},this.options.interpolation.defaultVariables),a)),!n){a=It({},a);for(const e of t)delete a[e]}return a}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Pr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xr.create("languageUtils")}getScriptPartFromCode(e){if(!(e=gr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=gr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(tr(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(vi){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const a=this.getLanguagePartFromCode(e);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(e=>e===a?e:e.indexOf("-")<0&&a.indexOf("-")<0?void 0:e.indexOf("-")>0&&a.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===a||0===e.indexOf(a)&&a.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),tr(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),a=[],r=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return tr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):tr(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{a.indexOf(e)<0&&r(this.formatLanguageCode(e))}),a}}const Tr={zero:0,one:1,two:2,few:3,many:4,other:5},Ar={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=xr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=gr("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:a});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let i;try{i=new Intl.PluralRules(n,{type:a})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ar;if(!e.match(/-|_/))return Ar;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[r]=i,i}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),(null===(t=a)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>Tr[e]-Tr[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.getRule(e,n);return a?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(a.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const Or=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,n)=>{const a=cr(e,n);return void 0!==a?a:cr(t,n)})(e,t,n);return!i&&r&&tr(n)&&(i=vr(e,n,a),void 0===i&&(i=vr(t,n,a))),i},Fr=e=>e.replace(/\$/g,"$$$$");class Lr{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xr.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:a,prefix:r,prefixEscaped:i,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:f,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=void 0!==t?t:mr,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==a&&a,this.prefix=r?ur(r):i||"{{",this.suffix=s?ur(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?ur(u):p||ur("$t("),this.nestingSuffix=m?ur(m):h||ur(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==g&&g,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,n,a){var r;let i,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=Or(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,It(It(It({},a),t),{},{interpolationkey:e})):r}const r=e.split(this.formatSeparator),i=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(Or(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,It(It(It({},a),t),{},{interpolationkey:i}))};this.resetRegExp();const d=(null===a||void 0===a?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=void 0!==(null===a||void 0===a||null===(r=a.interpolation)||void 0===r?void 0:r.skipOnVariables)?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Fr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Fr(this.escape(e)):Fr(e)}].forEach(t=>{for(o=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=c(n),void 0===s)if("function"===typeof d){const t=d(e,i,a);s=tr(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,n))s="";else{if(u){s=i[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else tr(s)||this.useRawValueToEscape||(s=ar(s));const r=t.safeValue(s);if(e=e.replace(i[0],r),u?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n,a,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{var n;const a=this.nestingOptionsSeparator;if(e.indexOf(a)<0)return e;const i=e.split(new RegExp("".concat(a,"[ ]*{")));let s="{".concat(i[1]);e=i[0],s=this.interpolate(s,r);const o=s.match(/'/g),l=s.match(/"/g);((null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(s=s.replace(/'/g,'"'));try{r=JSON.parse(s),t&&(r=It(It({},t),r))}catch(vi){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),vi),"".concat(e).concat(a).concat(s)}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];r=It({},i),r=r.replace&&!tr(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(o=n[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),a=t(s.call(this,n[1].trim(),r),r),a&&n[0]===e&&!tr(a))return a;tr(a)||(a=ar(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),o.length&&(a=o.reduce((e,t)=>this.format(e,t,i.lng,It(It({},i),{},{interpolationkey:n[1].trim()})),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Dr=e=>{const t={};return(n,a,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i=It(It({},i),{},{[r.interpolationkey]:void 0}));const s=a+JSON.stringify(i);let o=t[s];return o||(o=e(gr(a),r),t[s]=o),o(n)}},Mr=e=>(t,n,a)=>e(gr(n),a)(t);class zr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xr.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?Dr:Mr;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,It({},t));return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,It(It({},t),{},{style:"currency"}));return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,It({},t));return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,It({},t));return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,It({},t));return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Dr(t)}format(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce((e,t)=>{const{formatName:r,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),r=a.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=r),"false"===r&&(n[i]=!1),"true"===r&&(n[i]=!0),isNaN(r)||(n[i]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{var s;const o=(null===a||void 0===a||null===(s=a.formatParams)||void 0===s?void 0:s[a.interpolationkey])||{},l=o.locale||o.lng||a.locale||a.lng||n;t=this.formats[r](e,l,It(It(It({},i),a),o))}catch(o){this.logger.warn(o)}return t}return this.logger.warn("there was no format function for ".concat(r)),e},e)}}class Ir extends br{constructor(e,t,n){var a,r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=xr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],null===(a=this.backend)||void 0===a||null===(r=a.init)||void 0===r||r.call(a,n,i.backend,i)}queueLoad(e,t,n,a){const r={},i={},s={},o={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const s="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,a=!1,void 0===i[s]&&(i[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),a||(s[e]=!0)}),(Object.keys(r).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(r),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const a=e.split("|"),r=a[0],i=a[1];t&&this.emit("failedLoading",r,i,t),!t&&n&&this.store.addResourceBundle(r,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:a,k:r}=or(e,t,Object);a[r]=a[r]||[],a[r].push(n)})(n.loaded,[r],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:r,callback:i});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&a<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,a+1,2*r,i)},r):i(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"===typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();tr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tr(t)&&(t=[t]);const r=this.queueLoad(e,t,n,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),a=n[0],r=n[1];this.read(a,r,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(r," for language ").concat(a," failed"),n),!n&&i&&this.logger.log("".concat(t,"loaded namespace ").concat(r," for language ").concat(a),i),this.loaded(e,n,i)})}saveMissing(e,t,n,a,r){var i,s,o;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(i=this.services)||void 0===i||null===(i=i.utils)||void 0===i||!i.hasLoadedNamespace||null!==(s=this.services)&&void 0!==s&&null!==(s=s.utils)&&void 0!==s&&s.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(o=this.backend)&&void 0!==o&&o.create){const i=It(It({},l),{},{isUpdate:r}),s=this.backend.create.bind(this.backend);if(s.length<6)try{let r;r=5===s.length?s(e,t,n,a,i):s(e,t,n,a),r&&"function"===typeof r.then?r.then(e=>c(null,e)).catch(c):c(null,r)}catch(d){c(d)}else s(e,t,n,a,c,i)}e&&e[0]&&this.store.addResource(e[0],t,n,a)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Ur=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),tr(e[1])&&(t.defaultValue=e[1]),tr(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qr=e=>{var t,n;return tr(e.ns)&&(e.ns=[e.ns]),tr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),tr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Vr=()=>{};class Br extends br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=qr(e),this.services={},this.logger=xr,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(tr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=Ur();this.options=It(It(It({},a),this.options),qr(t)),this.options.interpolation=It(It({},a.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?xr.init(r(this.modules.logger),this.options):xr.init(null,this.options),t=this.modules.formatter?this.modules.formatter:zr;const n=new Pr(this.options);this.store=new jr(this.options.resources,this.options);const i=this.services;i.logger=xr,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new Rr(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(i.formatter=r(t),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new Lr(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Ir(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Er(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const i=nr(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr;const n=tr(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var a,r;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}null===(a=this.options.preload)||void 0===a||null===(r=a.forEach)||void 0===r||r.call(a,e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const a=nr();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Vr),this.services.backendConnector.reload(e,t,e=>{a.resolve(),n(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&wr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const a=nr();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,s)=>{s?this.isLanguageChangingTo===e&&(r(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),t&&t(i,function(){return n.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=tr(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(tr(t)?[t]:t);var s,o;a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),null===(s=this.services.languageDetector)||void 0===s||null===(o=s.cacheUserLanguage)||void 0===o||o.call(s,a));this.loadResources(a,e=>{i(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),a}getFixedT(e,t,n){var a=this;const r=function(e,t){let i;if("object"!==typeof t){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];i=a.options.overloadTranslationOptionHandler([e,t].concat(o))}else i=It({},t);i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||r.keyPrefix);const c=a.options.keySeparator||".";let d;return i.keyPrefix&&Array.isArray(e)?d=e.map(e=>("function"===typeof e&&(e=Sr(e,It(It({},a.options),t))),"".concat(i.keyPrefix).concat(c).concat(e))):("function"===typeof e&&(e=Sr(e,It(It({},a.options),t))),d=i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(e):e),a.t(d,i)};return tr(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||a&&!i(r,e)))}loadNamespaces(e,t){const n=nr();return this.options.ns?(tr(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=nr();tr(e)&&(e=[e]);const a=this.options.preload||[],r=e.filter(e=>a.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=a.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(vi){}const a=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new Pr(Ur());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Br(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a=It(It(It({},this.options),e),{isClone:!0}),r=new Br(a);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));if(["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services=It({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=It({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((n,a)=>(n[a]=It({},e[t][a]),n),e[t]),e),{});r.store=new jr(e,a),r.services.resourceStore=r.store}return r.translator=new Er(r.services,a),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.emit(e,...n)}),r.init(a,t),r.translator.options=a,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Hr=Br.createInstance();Hr.createInstance=Br.createInstance;Hr.createInstance,Hr.dir,Hr.init,Hr.loadResources,Hr.reloadResources,Hr.use,Hr.changeLanguage,Hr.getFixedT,Hr.t,Hr.exists,Hr.setDefaultNamespace,Hr.hasLoadedNamespace,Hr.loadNamespaces,Hr.loadLanguages;const{slice:Wr,forEach:$r}=[];const Gr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Kr={create(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),a&&(r.domain=a),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},a=encodeURIComponent(t);let r="".concat(e,"=").concat(a);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!Gr.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(n.domain)}if(n.path){if(!Gr.test(n.path))throw new TypeError("option path is invalid");r+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,r)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Qr={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return Kr.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:a,cookieDomain:r,cookieOptions:i}=t;n&&"undefined"!==typeof document&&Kr.create(n,e,a,r,i)}},Jr={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var a;let{search:e}=window.location;!window.location.search&&(null===(a=window.location.hash)||void 0===a?void 0:a.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let a=0;a<r.length;a++){const e=r[a].indexOf("=");if(e>0){r[a].substring(0,e)===n&&(t=r[a].substring(e+1))}}}return t}},Yr={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:a}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(n){const e=i.split("&");for(let a=0;a<e.length;a++){const r=e[a].indexOf("=");if(r>0){e[a].substring(0,r)===n&&(t=e[a].substring(r+1))}}}if(t)return t;if(!t&&a>-1){var r;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(r=t["number"===typeof a?a:0])||void 0===r?void 0:r.replace("/","")}}}return t}};let Xr=null;const Zr=()=>{if(null!==Xr)return Xr;try{if(Xr="undefined"!==typeof window&&null!==window.localStorage,!Xr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(vi){Xr=!1}return Xr};var ei={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Zr())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Zr()&&window.localStorage.setItem(n,e)}};let ti=null;const ni=()=>{if(null!==ti)return ti;try{if(ti="undefined"!==typeof window&&null!==window.sessionStorage,!ti)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(vi){ti=!1}return ti};var ai={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&ni())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&ni()&&window.sessionStorage.setItem(n,e)}},ri={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:a}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},ii={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const a=n||("undefined"!==typeof document?document.documentElement:null);return a&&"function"===typeof a.getAttribute&&(t=a.getAttribute("lang")),t}},si={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(a))return;return null===(t=a["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},oi={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const a="number"===typeof n?n+1:1,r="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[a]}};let li=!1;try{document.cookie,li=!0}catch(vi){}const ci=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];li||ci.splice(1,1);class di{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return $r.call(Wr.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:ci,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Qr),this.addDetector(Jr),this.addDetector(ei),this.addDetector(ai),this.addDetector(ri),this.addDetector(ii),this.addDetector(si),this.addDetector(oi),this.addDetector(Yr)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}di.type="languageDetector";const ui={en:{translation:JSON.parse('{"common":{"loading":"Loading...","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","add":"Add","search":"Search","filter":"Filter","clear":"Clear","confirm":"Confirm","yes":"Yes","no":"No","close":"Close","back":"Back","next":"Next","previous":"Previous","submit":"Submit","reset":"Reset","print":"Print","export":"Export","import":"Import","refresh":"Refresh","view":"View","details":"Details","actions":"Actions","status":"Status","date":"Date","time":"Time","name":"Name","description":"Description","quantity":"Quantity","price":"Price","total":"Total","amount":"Amount","unit":"Unit","category":"Category","type":"Type","method":"Method","phone":"Phone","email":"Email","address":"Address","notes":"Notes","created":"Created","updated":"Updated","created_by":"Created By","updated_by":"Updated By","retry":"Retry","wholesale":"WS","piece":"Piece","retail":"STD"},"navigation":{"dashboard":"Dashboard","pos":"Point of Sale","pending_sales":"Pending Sales","sales_management":"Sales Management","packaging_management":"Packaging Management","reports":"Reports","logout":"Logout","profile":"Profile","settings":"Settings"},"auth":{"login":"Login","logout":"Logout","username":"Username","password":"Password","remember_me":"Remember Me","forgot_password":"Forgot Password?","login_success":"Login successful","login_failed":"Login failed","invalid_credentials":"Invalid username or password","session_expired":"Session expired. Please login again.","access_denied":"Access denied. You don\'t have permission to access this resource."},"dashboard":{"title":"Dashboard","welcome":"Welcome back, {{username}}!","loading":"Loading dashboard...","error":"Error","failed_to_load":"Failed to load dashboard data","time_period":"Time Period:","daily":"Daily","weekly":"Weekly","monthly":"Monthly","sales_team_view":"Sales Team View - Daily Sales Only","total_revenue":"Total Revenue","transactions":"transactions","total_cost":"Total Cost","cost_of_goods_sold":"Cost of goods sold","profit":"Profit","margin":"margin","total_products":"Total Products","inventory_value":"Inventory Value","available_products":"available products","retail_value":"Retail Value","low_stock":"low stock","out_of_stock":"Out of Stock","products_need_restocking":"products need restocking","sales_trend":"Sales Trend (Last 7 Days)","no_sales_data":"No sales data available","recent_sales":"Recent Sales","print_recent_sales":"Print Recent Sales","recent_sales_report":"Recent Sales Report","click_to_view_details":"Click to view details","walk_in_customer":"Walk-in Customer","top_selling_products":"Top Selling Products","revenue":"Revenue","sold":"Sold","products":"products","low_stock_items":"low stock items","top_products":"Top Products","no_products_data":"No product data available","product_name":"Product Name","units_sold":"Units Sold","sales":"Sales","cost":"Cost","inventory_alerts":"Inventory Alerts","no_alerts":"No inventory alerts","quick_actions":"Quick Actions","go_to_pos":"Go to POS","manage_inventory":"Manage Inventory","view_reports":"View Reports","today_sales":"Today\'s Sales","this_week":"This Week","this_month":"This Month","this_year":"This Year"},"sales":{"title":"Sales Management","pos":"Point of Sale","pending_sales":"Pending Sales","sales_history":"Sales History","create_sale":"Create Sale","edit_sale":"Edit Sale","cancel_sale":"Cancel Sale","complete_sale":"Complete Sale","return_sale":"Return Sale","sale_number":"Sale Number","customer_name":"Customer Name","customer_phone":"Customer Phone","customer_email":"Customer Email","sale_date":"Sale Date","sale_status":"Sale Status","payment_method":"Payment Method","payment_status":"Payment Status","paid_amount":"Paid Amount","remaining_amount":"Remaining Amount","due_date":"Due Date","subtotal":"Subtotal","tax_amount":"Tax Amount","discount_amount":"Discount Amount","total_amount":"Total Amount","sold_by":"Sold By","items":"Items","add_item":"Add Item","remove_item":"Remove Item","item_name":"Item Name","item_quantity":"Quantity","item_price":"Price","item_total":"Total","cart":"Cart","cart_empty":"Cart is empty","checkout":"Checkout","payment_type":"Payment Type","full_payment":"Full Payment","partial_payment":"Partial Payment","amount_to_pay":"Amount to Pay","change":"Change","receipt":"Receipt","print_receipt":"Print Receipt","pending":"Pending","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded","paid":"Paid","partial":"Partial","cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer","no_sales":"No sales found","search_sales":"Search sales...","filter_by_status":"Filter by status","filter_by_date":"Filter by date","date_from":"From Date","date_to":"To Date"},"returns":{"title":"Return Management","create_return":"Create Return","return_number":"Return Number","original_sale":"Original Sale","return_items":"Return Items","return_quantity":"Return Quantity","max_returnable":"Max Returnable","return_reason":"Return Reason","refund_amount":"Refund Amount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded the amount they actually paid.","process_return":"Process Return","return_processed":"Return processed successfully","stock_restored":"Stock restored successfully"},"errors":{"general_error":"An error occurred. Please try again.","network_error":"Network error. Please check your connection.","validation_error":"Please check your input and try again.","permission_error":"You don\'t have permission to perform this action.","not_found":"The requested resource was not found.","server_error":"Server error. Please contact support.","timeout_error":"Request timeout. Please try again.","required_field":"This field is required.","invalid_email":"Please enter a valid email address.","invalid_phone":"Please enter a valid phone number.","invalid_number":"Please enter a valid number.","min_length":"Minimum length is {{min}} characters.","max_length":"Maximum length is {{max}} characters.","min_value":"Minimum value is {{min}}.","max_value":"Maximum value is {{max}}.","unique_value":"This value already exists.","stock_insufficient":"Insufficient stock available.","quantity_required":"Quantity is required.","price_required":"Price is required.","customer_required":"Customer information is required for partial payments."},"success":{"saved":"Saved successfully","updated":"Updated successfully","deleted":"Deleted successfully","created":"Created successfully","sale_completed":"Sale completed successfully","sale_cancelled":"Sale cancelled successfully","return_processed":"Return processed successfully","payment_made":"Payment made successfully","delivery_confirmed":"Delivery confirmed successfully","order_sent":"Order sent successfully","stock_updated":"Stock updated successfully","user_created":"User created successfully","user_updated":"User updated successfully","user_deleted":"User deleted successfully","settings_saved":"Settings saved successfully"},"language":{"select_language":"Select Language","english":"English","french":"Fran\xe7ais","malagasy":"Malagasy","language_changed":"Language changed successfully","current_language":"Current Language"},"app":{"title":"ELIF Sales","no_data_available":"No data available","unknown_user":"Unknown User","unknown_product":"Unknown Product","loading":"Loading...","toggle_menu":"Toggle menu"},"forms":{"search_by_customer_name":"Search by customer name","customer_name":"Customer name","phone_number":"Phone number","email_address":"Email address","enter_amount_to_pay":"Enter amount to pay","leave_empty_to_delete_all":"Leave empty to delete all","enter_printer_name":"Enter printer name"},"buttons":{"add_to_return":"Add to Return","added":"Added","creating":"Creating...","create_return":"Create Return","complete_sale":"Complete Sale","insufficient_stock":"Insufficient Stock","print_sales_report":"Print Sales Report","print_receipt":"Print Receipt","print":"Print","print_order":"Print Order"},"messages":{"failed_to_load_users":"Failed to load users","failed_to_delete_user":"Failed to delete user"},"titles":{"sales_management":"Sales Management","pending_sales":"Pending Sales","no_pending_sales":"No Pending Sales","point_of_sale":"Point of Sale","reports":"Reports","previous_reports":"Previous Reports","sale_receipt":"Sale Receipt","sales_management_report":"Sales Management Report","inventory_report_data":"Inventory Report Data","stock_movement_report_data":"Stock Movement Report Data"},"table_headers":{"sale_number":"Sale Number","customer":"Customer","status":"Status","payment":"Payment","items":"Items","total_amount":"Total Amount","date":"Date","sold_by":"Sold By","payment_method":"Payment Method","paid_amount":"Paid Amount","actions":"Actions","username":"Username","full_name":"Full Name","role":"Role","phone":"Phone"},"status_labels":{"pending":"Pending","partial":"Partial","paid":"Paid","unpaid":"Unpaid","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded"},"payment_methods":{"cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer"},"payment_status":{"paid":"Paid","partial_payment":"Partial Payment","pending_payment":"Pending Payment","to_be_determined":"To be determined","unknown":"Unknown"},"modals":{"view_sale":"View Sale","edit_sale":"Edit Sale","view_only":"View Only","close":"Close","cancel":"Cancel","sale_details":"Sale Details","loading_sale_details":"Loading sale details...","sale_information":"Sale Information","customer_information":"Customer Information","payment_summary":"Payment Summary","tax_included":"Tax included","discount":"Discount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded ${{amount}} (the amount they actually paid).","available_items":"Available Items","max_returnable":"Max Returnable","sale_price":"Sale Price","return_price":"Return Price","return_items":"Return Items","no_items_added":"No items added to return yet","return_quantity":"Return Quantity","return_reason_placeholder":"Return reason or additional notes...","return_summary":"Return Summary","total_return_amount":"Total Return Amount","please_specify_quantities":"Please specify quantities for at least one item"},"alerts":{"sale_will_be_completed":"Sale will be completed immediately and stock will be deducted","sale_will_be_created_pending":"Sale will be created as pending and can be completed later","print_receipt_after_sale":"Print receipt after sale","click_to_edit_quantity":"Click to edit quantity","remove_item":"Remove item"},"empty_messages":{"no_archived_purchase_orders":"No archived purchase orders found","no_active_purchase_orders":"No active purchase orders found","no_pending_deliveries":"No pending deliveries","no_delivery_history":"No delivery history found","no_printers_found":"No printers found"},"pos":{"dont_print_receipt":"Don\'t print receipt","search_products":"Search products...","add_to_cart":"Add to Cart","out_of_stock":"Out of Stock","loading":"Loading...","customer_name_required":"Customer Name (Required for Partial Payment)","customer_name_optional":"Customer Name (Optional)","phone_optional":"Phone Number (Optional)","email_optional":"Email (Optional)","walk_in_customer":"Walk-in Customer","unknown_user":"Unknown User","sale_receipt":"Sale Receipt","cart_empty":"Cart is empty. Please add items to the cart before completing the sale.","customer_name_required_partial":"Customer name is required for partial payments","paid_amount_exceeds_total":"Paid amount cannot exceed the total amount","paid_amount_negative":"Paid amount cannot be negative","sale_completed_success":"Sale completed successfully! Sale Number: {saleNumber}","sale_created_but_completion_failed":"Sale created ({saleNumber}) but completion failed: {error}","failed_to_create_sale":"Failed to create sale. Please check the console for details.","failed_to_update_category_status":"Failed to update category status: {error}","enter_valid_quantity":"Please enter a valid quantity","hide_categories":"Hide","manage_categories":"Manage Categories","sellable":"Sellable","not_sellable":"Not Sellable","complete_sale":"Complete Sale","create_pending_sale":"Create Pending Sale","print_receipt":" & Print Receipt","wholesale_short":"WS","standard_short":"STD","unit_not_found":"Unit {unitName} not found in stock information","no_stock_left":"No {unitName} stock left","not_enough_available":"Not enough {unitName} available. Only {quantity} left.","unit_out_of_stock":"Unit is out of stock","not_enough_stock_max":"Not enough stock available. Max: {max}","out_of_stock_label":" - OUT OF STOCK","available_label":" - {quantity} available","loading_stock_info":"Loading stock information... Please try again."}}')},fr:{translation:JSON.parse('{"common":{"loading":"Chargement...","save":"Enregistrer","cancel":"Annuler","delete":"Supprimer","edit":"Modifier","add":"Ajouter","search":"Rechercher","filter":"Filtrer","clear":"Effacer","confirm":"Confirmer","yes":"Oui","no":"Non","close":"Fermer","back":"Retour","next":"Suivant","previous":"Pr\xe9c\xe9dent","submit":"Soumettre","reset":"R\xe9initialiser","print":"Imprimer","export":"Exporter","import":"Importer","refresh":"Actualiser","view":"Voir","details":"D\xe9tails","actions":"Actions","status":"Statut","date":"Date","time":"Heure","name":"Nom","description":"Description","quantity":"Quantit\xe9","price":"Prix","total":"Total","amount":"Montant","unit":"Unit\xe9","category":"Cat\xe9gorie","type":"Type","method":"M\xe9thode","phone":"T\xe9l\xe9phone","email":"Email","address":"Adresse","notes":"Notes","created":"Cr\xe9\xe9","updated":"Mis \xe0 jour","created_by":"Cr\xe9\xe9 par","updated_by":"Mis \xe0 jour par","retry":"R\xe9essayer","wholesale":"GV","piece":"Pi\xe8ce","retail":"STD"},"navigation":{"dashboard":"Tableau de bord","pos":"Point de vente","pending_sales":"Ventes en attente","sales_management":"Gestion des ventes","packaging_management":"Gestion des emballages","reports":"Rapports","logout":"D\xe9connexion","profile":"Profil","settings":"Param\xe8tres"},"auth":{"login":"Connexion","logout":"D\xe9connexion","username":"Nom d\'utilisateur","password":"Mot de passe","remember_me":"Se souvenir de moi","forgot_password":"Mot de passe oubli\xe9 ?","login_success":"Connexion r\xe9ussie","login_failed":"\xc9chec de la connexion","invalid_credentials":"Nom d\'utilisateur ou mot de passe invalide","session_expired":"Session expir\xe9e. Veuillez vous reconnecter.","access_denied":"Acc\xe8s refus\xe9. Vous n\'avez pas la permission d\'acc\xe9der \xe0 cette ressource."},"dashboard":{"title":"Tableau de bord","welcome":"Bon retour, {{username}} !","loading":"Chargement du tableau de bord...","error":"Erreur","failed_to_load":"\xc9chec du chargement des donn\xe9es du tableau de bord","time_period":"P\xe9riode :","daily":"Quotidien","weekly":"Hebdomadaire","monthly":"Mensuel","sales_team_view":"Vue \xe9quipe de vente - Ventes quotidiennes uniquement","total_revenue":"Chiffre d\'affaires total","transactions":"transactions","total_cost":"Co\xfbt total","cost_of_goods_sold":"Co\xfbt des marchandises vendues","profit":"B\xe9n\xe9fice","margin":"marge","total_products":"Total des produits","inventory_value":"Valeur de l\'inventaire","available_products":"produits disponibles","retail_value":"Valeur de d\xe9tail","low_stock":"stock faible","out_of_stock":"Rupture de stock","products_need_restocking":"produits n\xe9cessitent un r\xe9approvisionnement","sales_trend":"Tendance des ventes (7 derniers jours)","no_sales_data":"Aucune donn\xe9e de vente disponible","recent_sales":"Ventes r\xe9centes","print_recent_sales":"Imprimer les ventes r\xe9centes","recent_sales_report":"Rapport des ventes r\xe9centes","click_to_view_details":"Cliquez pour voir les d\xe9tails","walk_in_customer":"Client de passage","top_selling_products":"Produits les plus vendus","revenue":"Chiffre d\'affaires","sold":"Vendu","products":"produits","low_stock_items":"articles en stock faible","top_products":"Meilleurs produits","no_products_data":"Aucune donn\xe9e de produit disponible","product_name":"Nom du produit","units_sold":"Unit\xe9s vendues","sales":"Ventes","cost":"Co\xfbt","inventory_alerts":"Alertes d\'inventaire","no_alerts":"Aucune alerte d\'inventaire","quick_actions":"Actions rapides","go_to_pos":"Aller au PDV","manage_inventory":"G\xe9rer l\'inventaire","view_reports":"Voir les rapports","today_sales":"Ventes d\'aujourd\'hui","this_week":"Cette semaine","this_month":"Ce mois","this_year":"Cette ann\xe9e"},"sales":{"title":"Gestion des ventes","pos":"Point de vente","pending_sales":"Ventes en attente","sales_history":"Historique des ventes","create_sale":"Cr\xe9er une vente","edit_sale":"Modifier la vente","cancel_sale":"Annuler la vente","complete_sale":"Terminer la vente","return_sale":"Retourner la vente","sale_number":"Num\xe9ro de vente","customer_name":"Nom du client","customer_phone":"T\xe9l\xe9phone du client","customer_email":"Email du client","sale_date":"Date de vente","sale_status":"Statut de la vente","payment_method":"M\xe9thode de paiement","payment_status":"Statut du paiement","paid_amount":"Montant pay\xe9","remaining_amount":"Montant restant","due_date":"Date d\'\xe9ch\xe9ance","subtotal":"Sous-total","tax_amount":"Montant de la taxe","discount_amount":"Montant de la remise","total_amount":"Montant total","sold_by":"Vendu par","items":"Articles","add_item":"Ajouter un article","remove_item":"Supprimer l\'article","item_name":"Nom de l\'article","item_quantity":"Quantit\xe9","item_price":"Prix","item_total":"Total","cart":"Panier","cart_empty":"Le panier est vide","checkout":"Commander","payment_type":"Type de paiement","full_payment":"Paiement complet","partial_payment":"Paiement partiel","amount_to_pay":"Montant \xe0 payer","change":"Monnaie","receipt":"Re\xe7u","print_receipt":"Imprimer le re\xe7u","pending":"En attente","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9","paid":"Pay\xe9","partial":"Partiel","cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement bancaire","no_sales":"Aucune vente trouv\xe9e","search_sales":"Rechercher des ventes...","filter_by_status":"Filtrer par statut","filter_by_date":"Filtrer par date","date_from":"Date de d\xe9but","date_to":"Date de fin"},"returns":{"title":"Gestion des retours","create_return":"Cr\xe9er un retour","return_number":"Num\xe9ro de retour","original_sale":"Vente originale","return_items":"Articles de retour","return_quantity":"Quantit\xe9 de retour","max_returnable":"Maximum retournable","return_reason":"Raison du retour","refund_amount":"Montant du remboursement","refund_information":"Informations de remboursement","original_sale_amount":"Montant de la vente originale","amount_paid_by_customer":"Montant pay\xe9 par le client","remaining_amount":"Montant restant","refund_note":"Le client devrait \xeatre rembours\xe9 du montant qu\'il a r\xe9ellement pay\xe9.","process_return":"Traiter le retour","return_processed":"Retour trait\xe9 avec succ\xe8s","stock_restored":"Stock restaur\xe9 avec succ\xe8s"},"errors":{"general_error":"Une erreur s\'est produite. Veuillez r\xe9essayer.","network_error":"Erreur r\xe9seau. Veuillez v\xe9rifier votre connexion.","validation_error":"Veuillez v\xe9rifier votre saisie et r\xe9essayer.","permission_error":"Vous n\'avez pas la permission d\'effectuer cette action.","not_found":"La ressource demand\xe9e n\'a pas \xe9t\xe9 trouv\xe9e.","server_error":"Erreur serveur. Veuillez contacter le support.","timeout_error":"D\xe9lai d\'attente de la requ\xeate d\xe9pass\xe9. Veuillez r\xe9essayer.","required_field":"Ce champ est obligatoire.","invalid_email":"Veuillez saisir une adresse email valide.","invalid_phone":"Veuillez saisir un num\xe9ro de t\xe9l\xe9phone valide.","invalid_number":"Veuillez saisir un nombre valide.","min_length":"La longueur minimale est de {{min}} caract\xe8res.","max_length":"La longueur maximale est de {{max}} caract\xe8res.","min_value":"La valeur minimale est {{min}}.","max_value":"La valeur maximale est {{max}}.","unique_value":"Cette valeur existe d\xe9j\xe0.","stock_insufficient":"Stock insuffisant disponible.","quantity_required":"La quantit\xe9 est obligatoire.","price_required":"Le prix est obligatoire.","customer_required":"Les informations client sont obligatoires pour les paiements partiels."},"success":{"saved":"Enregistr\xe9 avec succ\xe8s","updated":"Mis \xe0 jour avec succ\xe8s","deleted":"Supprim\xe9 avec succ\xe8s","created":"Cr\xe9\xe9 avec succ\xe8s","sale_completed":"Vente termin\xe9e avec succ\xe8s","sale_cancelled":"Vente annul\xe9e avec succ\xe8s","return_processed":"Retour trait\xe9 avec succ\xe8s","payment_made":"Paiement effectu\xe9 avec succ\xe8s","delivery_confirmed":"Livraison confirm\xe9e avec succ\xe8s","order_sent":"Commande envoy\xe9e avec succ\xe8s","stock_updated":"Stock mis \xe0 jour avec succ\xe8s","user_created":"Utilisateur cr\xe9\xe9 avec succ\xe8s","user_updated":"Utilisateur mis \xe0 jour avec succ\xe8s","user_deleted":"Utilisateur supprim\xe9 avec succ\xe8s","settings_saved":"Param\xe8tres enregistr\xe9s avec succ\xe8s"},"language":{"select_language":"S\xe9lectionner la langue","english":"Anglais","french":"Fran\xe7ais","malagasy":"Malgache","language_changed":"Langue chang\xe9e avec succ\xe8s","current_language":"Langue actuelle"},"app":{"title":"ELIF Ventes","no_data_available":"Aucune donn\xe9e disponible","unknown_user":"Utilisateur inconnu","unknown_product":"Produit inconnu","loading":"Chargement...","toggle_menu":"Basculer le menu"},"forms":{"search_by_customer_name":"Rechercher par nom de client","customer_name":"Nom du client","phone_number":"Num\xe9ro de t\xe9l\xe9phone","email_address":"Adresse email","enter_amount_to_pay":"Saisir le montant \xe0 payer","leave_empty_to_delete_all":"Laisser vide pour tout supprimer","enter_printer_name":"Saisir le nom de l\'imprimante"},"buttons":{"add_to_return":"Ajouter au retour","added":"Ajout\xe9","creating":"Cr\xe9ation...","create_return":"Cr\xe9er un retour","complete_sale":"Terminer la vente","insufficient_stock":"Stock insuffisant","print_sales_report":"Imprimer le rapport de ventes","print_receipt":"Imprimer le re\xe7u","print":"Imprimer","print_order":"Imprimer la commande"},"messages":{"failed_to_load_users":"\xc9chec du chargement des utilisateurs","failed_to_delete_user":"\xc9chec de la suppression de l\'utilisateur"},"titles":{"sales_management":"Gestion des ventes","pending_sales":"Ventes en attente","no_pending_sales":"Aucune vente en attente","point_of_sale":"Point de vente","reports":"Rapports","previous_reports":"Rapports pr\xe9c\xe9dents","sale_receipt":"Re\xe7u de vente","sales_management_report":"Rapport de gestion des ventes","inventory_report_data":"Donn\xe9es du rapport d\'inventaire","stock_movement_report_data":"Donn\xe9es du rapport de mouvements de stock"},"table_headers":{"sale_number":"Num\xe9ro de vente","customer":"Client","status":"Statut","payment":"Paiement","items":"Articles","total_amount":"Montant total","date":"Date","sold_by":"Vendu par","payment_method":"M\xe9thode de paiement","paid_amount":"Montant pay\xe9","actions":"Actions","username":"Nom d\'utilisateur","full_name":"Nom complet","role":"R\xf4le","phone":"T\xe9l\xe9phone"},"status_labels":{"pending":"En attente","partial":"Partiel","paid":"Pay\xe9","unpaid":"Impay\xe9","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9"},"payment_methods":{"cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement bancaire"},"payment_status":{"paid":"Pay\xe9","partial_payment":"Paiement partiel","pending_payment":"Paiement en attente","to_be_determined":"\xc0 d\xe9terminer","unknown":"Inconnu"},"modals":{"view_sale":"Voir la vente","edit_sale":"Modifier la vente","view_only":"Voir seulement","close":"Fermer","cancel":"Annuler","sale_details":"D\xe9tails de la vente","loading_sale_details":"Chargement des d\xe9tails de la vente...","sale_information":"Informations de la vente","customer_information":"Informations client","payment_summary":"R\xe9sum\xe9 du paiement","tax_included":"Taxe incluse","discount":"Remise","refund_information":"Informations de remboursement","original_sale_amount":"Montant de la vente originale","amount_paid_by_customer":"Montant pay\xe9 par le client","remaining_amount":"Montant restant","refund_note":"Le client devrait \xeatre rembours\xe9 de {{amount}} $ (le montant qu\'il a r\xe9ellement pay\xe9).","available_items":"Articles disponibles","max_returnable":"Maximum retournable","sale_price":"Prix de vente","return_price":"Prix de retour","return_items":"Articles de retour","no_items_added":"Aucun article ajout\xe9 au retour pour le moment","return_quantity":"Quantit\xe9 de retour","return_reason_placeholder":"Raison du retour ou notes suppl\xe9mentaires...","return_summary":"R\xe9sum\xe9 du retour","total_return_amount":"Montant total du retour","please_specify_quantities":"Veuillez sp\xe9cifier les quantit\xe9s pour au moins un article"},"alerts":{"sale_will_be_completed":"La vente sera termin\xe9e imm\xe9diatement et le stock sera d\xe9duit","sale_will_be_created_pending":"La vente sera cr\xe9\xe9e en attente et pourra \xeatre termin\xe9e plus tard","print_receipt_after_sale":"Imprimer le re\xe7u apr\xe8s la vente","click_to_edit_quantity":"Cliquez pour modifier la quantit\xe9","remove_item":"Supprimer l\'article"},"empty_messages":{"no_archived_purchase_orders":"Aucune commande d\'achat archiv\xe9e trouv\xe9e","no_active_purchase_orders":"Aucune commande d\'achat active trouv\xe9e","no_pending_deliveries":"Aucune livraison en attente","no_delivery_history":"Aucun historique de livraison trouv\xe9","no_printers_found":"Aucune imprimante trouv\xe9e"},"pos":{"dont_print_receipt":"Ne pas imprimer le re\xe7u","search_products":"Rechercher des produits...","add_to_cart":"Ajouter au panier","out_of_stock":"Rupture de stock","loading":"Chargement...","customer_name_required":"Nom du client (Obligatoire pour paiement partiel)","customer_name_optional":"Nom du client (Optionnel)","phone_optional":"Num\xe9ro de t\xe9l\xe9phone (Optionnel)","email_optional":"Email (Optionnel)","walk_in_customer":"Client de passage","unknown_user":"Utilisateur inconnu","sale_receipt":"Re\xe7u de vente","cart_empty":"Le panier est vide. Veuillez ajouter des articles au panier avant de terminer la vente.","customer_name_required_partial":"Le nom du client est obligatoire pour les paiements partiels","paid_amount_exceeds_total":"Le montant pay\xe9 ne peut pas d\xe9passer le montant total","paid_amount_negative":"Le montant pay\xe9 ne peut pas \xeatre n\xe9gatif","sale_completed_success":"Vente termin\xe9e avec succ\xe8s ! Num\xe9ro de vente : {saleNumber}","sale_created_but_completion_failed":"Vente cr\xe9\xe9e ({saleNumber}) mais \xe9chec de la finalisation : {error}","failed_to_create_sale":"\xc9chec de la cr\xe9ation de la vente. Veuillez v\xe9rifier la console pour plus de d\xe9tails.","failed_to_update_category_status":"\xc9chec de la mise \xe0 jour du statut de la cat\xe9gorie : {error}","enter_valid_quantity":"Veuillez saisir une quantit\xe9 valide","hide_categories":"Masquer","manage_categories":"G\xe9rer les cat\xe9gories","sellable":"Vendable","not_sellable":"Non vendable","complete_sale":"Terminer la vente","create_pending_sale":"Cr\xe9er une vente en attente","print_receipt":" & Imprimer le re\xe7u","wholesale_short":"GV","standard_short":"STD","unit_not_found":"Unit\xe9 {unitName} non trouv\xe9e dans les informations de stock","no_stock_left":"Aucun stock {unitName} restant","not_enough_available":"Pas assez de {unitName} disponible. Seulement {quantity} restant.","unit_out_of_stock":"L\'unit\xe9 est en rupture de stock","not_enough_stock_max":"Pas assez de stock disponible. Max : {max}","out_of_stock_label":" - RUPTURE DE STOCK","available_label":" - {quantity} disponible","loading_stock_info":"Chargement des informations de stock... Veuillez r\xe9essayer."}}')},mg:{translation:JSON.parse('{"common":{"loading":"Miandry...","save":"Tehirizo","cancel":"Ajanono","delete":"Fafao","edit":"Ovay","add":"Ampio","search":"Karohy","filter":"Sivana","clear":"Fadio","confirm":"Manamarina","yes":"Eny","no":"Tsia","close":"Akatona","back":"Miverina","next":"Manaraka","previous":"Teo aloha","submit":"Alefa","reset":"Averina","print":"Printy","export":"Alaharo","import":"Ampidiro","refresh":"Averina","view":"Jereo","details":"Antsipirihany","actions":"Asa","status":"Sata","date":"Daty","time":"Ora","name":"Anarana","description":"Famaritana","quantity":"Habe","price":"Vidiny","total":"Totaly","amount":"Volany","unit":"Vondrona","category":"Sokajy","type":"Karazana","method":"Fomba","phone":"Finday","email":"Mailaka","address":"Adiresy","notes":"Fanamarihana","created":"Noforona","updated":"Nohavaozina","created_by":"Noforonin\'ny","updated_by":"Nohavaozin\'ny","retry":"Andramo indray","wholesale":"GV","piece":"Sombiny","retail":"STD"},"navigation":{"dashboard":"Tabilao fanaraha-maso","pos":"Toerana fivarotana","pending_sales":"Fivarotana miandry","sales_management":"Fitantanana ny fivarotana","packaging_management":"Fitantanana ny fonosana","reports":"Tatitra","logout":"Fivoahana","profile":"Tantara","settings":"Fandaharana"},"auth":{"login":"Fidirana","logout":"Fivoahana","username":"Anaran\'ny mpampiasa","password":"Tenimiafina","remember_me":"Tsarovy ahy","forgot_password":"Hadino ny tenimiafina?","login_success":"Niditra soa aman-tsara","login_failed":"Tsy niditra","invalid_credentials":"Anaran\'ny mpampiasa na tenimiafina tsy mety","session_expired":"Lany ny fotoana. Midira indray azafady.","access_denied":"Tsy azo idirana. Tsy manana alalana hankafy an\'io loharano io ianao."},"dashboard":{"title":"Tabilao fanaraha-maso","welcome":"Tongasoa indray, {{username}}!","loading":"Miandry ny tabilao fanaraha-maso...","error":"Hadisoana","failed_to_load":"Tsy nety ny fampidirana ny angon-drakitra","time_period":"Fotoana:","daily":"Isan\'andro","weekly":"Isan-kerinandro","monthly":"Isam-bolana","sales_team_view":"Fijery ekipa fivarotana - Fivarotana isan\'andro ihany","total_revenue":"Volan\'ny fivarotana manontolo","transactions":"fivarotana","total_cost":"Vola lany manontolo","cost_of_goods_sold":"Vola lany amin\'ny entana nivarotana","profit":"Tombony","margin":"sisa","total_products":"Entana manontolo","inventory_value":"Sanda ny inventaire","available_products":"entana azo","retail_value":"Sanda fivarotana","low_stock":"stock kely","out_of_stock":"Tsy misy stock","products_need_restocking":"entana mila famenoana","sales_trend":"Fironan\'ny fivarotana (7 andro farany)","no_sales_data":"Tsy misy angon-drakitra fivarotana","recent_sales":"Fivarotana vao haingana","print_recent_sales":"Printy ny fivarotana vao haingana","recent_sales_report":"Tatitra ny fivarotana vao haingana","click_to_view_details":"Tsindrio raha te hijery antsipirihany","walk_in_customer":"Mpanjifa tonga","top_selling_products":"Entana be indrindra nivarotana","revenue":"Volan\'ny fivarotana","sold":"Nivarotana","products":"entana","low_stock_items":"zavatra stock kely","top_products":"Entana tsara indrindra","no_products_data":"Tsy misy angon-drakitra entana","product_name":"Anaran\'ny entana","units_sold":"Vondrona nivarotana","sales":"Fivarotana","cost":"Vola lany","inventory_alerts":"Fampitandremana inventaire","no_alerts":"Tsy misy fampitandremana inventaire","quick_actions":"Asa haingana","go_to_pos":"Mandeha any amin\'ny PDV","manage_inventory":"Mikarakara ny inventaire","view_reports":"Jereo ny tatitra","today_sales":"Fivarotana anio","this_week":"Eto amin\'ity herinandro ity","this_month":"Eto amin\'ity volana ity","this_year":"Eto amin\'ity taona ity"},"sales":{"title":"Fitantanana ny fivarotana","pos":"Toerana fivarotana","pending_sales":"Fivarotana miandry","sales_history":"Tantara ny fivarotana","create_sale":"Mamorona fivarotana","edit_sale":"Ovay ny fivarotana","cancel_sale":"Ajanono ny fivarotana","complete_sale":"Vita ny fivarotana","return_sale":"Averina ny fivarotana","sale_number":"Laharana fivarotana","customer_name":"Anaran\'ny mpanjifa","customer_phone":"Finday ny mpanjifa","customer_email":"Mailaka ny mpanjifa","sale_date":"Daty fivarotana","sale_status":"Sata ny fivarotana","payment_method":"Fomba fandoavam-bola","payment_status":"Sata ny fandoavam-bola","paid_amount":"Volany noloa","remaining_amount":"Volany sisa","due_date":"Daty tokony hovoa","subtotal":"Subtotaly","tax_amount":"Volan\'ny hetra","discount_amount":"Volan\'ny fihenam-bidy","total_amount":"Volany manontolo","sold_by":"Nivarotana n\'ny","items":"Zavatra","add_item":"Ampio zavatra","remove_item":"Esory ny zavatra","item_name":"Anaran\'ny zavatra","item_quantity":"Habe","item_price":"Vidiny","item_total":"Totaly","cart":"Harona","cart_empty":"Banga ny harona","checkout":"Mandidy","payment_type":"Karazana fandoavam-bola","full_payment":"Fandoavam-bola feno","partial_payment":"Fandoavam-bola ampahany","amount_to_pay":"Volany tokony aloa","change":"Volamena","receipt":"Rosia","print_receipt":"Printy ny rosia","pending":"Miandry","completed":"Vita","cancelled":"Nofoanana","refunded":"Namerina vola","paid":"Noloa","partial":"Ampahany","cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Famindrana banky","no_sales":"Tsy hita fivarotana","search_sales":"Karohy fivarotana...","filter_by_status":"Sivana araka ny sata","filter_by_date":"Sivana araka ny daty","date_from":"Daty nanomboka","date_to":"Daty niafara"},"returns":{"title":"Fitantanana ny famerenana","create_return":"Mamorona famerenana","return_number":"Laharana famerenana","original_sale":"Fivarotana tany am-boalohany","return_items":"Zavatra famerenana","return_quantity":"Habe famerenana","max_returnable":"Averina indrindra","return_reason":"Antony famerenana","refund_amount":"Volan\'ny famerenana vola","refund_information":"Fampahalalana famerenana vola","original_sale_amount":"Volan\'ny fivarotana tany am-boalohany","amount_paid_by_customer":"Volany noloa n\'ny mpanjifa","remaining_amount":"Volany sisa","refund_note":"Tokony ho averina vola ny mpanjifa ny volany noloa marina.","process_return":"Mikarakara ny famerenana","return_processed":"Nohararaotina soa aman-tsara ny famerenana","stock_restored":"Nohaverina soa aman-tsara ny stock"},"errors":{"general_error":"Nisy hadisoana. Andramo indray azafady.","network_error":"Hadisoana tambajotra. Jereo ny fifandraisanao azafady.","validation_error":"Jereo ny fidiranao ary andramo indray azafady.","permission_error":"Tsy manana alalana hanao an\'io asa io ianao.","not_found":"Tsy hita ny loharano nangatahina.","server_error":"Hadisoana server. Mifandraisa amin\'ny fanampiana azafady.","timeout_error":"Lany ny fotoana nandrasana. Andramo indray azafady.","required_field":"Ilaina ity saha ity.","invalid_email":"Ampidiro adiresy mailaka mety azafady.","invalid_phone":"Ampidiro laharana finday mety azafady.","invalid_number":"Ampidiro isa mety azafady.","min_length":"Ny halavany kely indrindra dia {{min}} tarehin-tsoratra.","max_length":"Ny halavany lehibe indrindra dia {{max}} tarehin-tsoratra.","min_value":"Ny sanda kely indrindra dia {{min}}.","max_value":"Ny sanda lehibe indrindra dia {{max}}.","unique_value":"Efa misy io sandany io.","stock_insufficient":"Tsy ampy ny stock azo.","quantity_required":"Ilaina ny habe.","price_required":"Ilaina ny vidiny.","customer_required":"Ilaina ny fampahalalana mpanjifa ho an\'ny fandoavam-bola ampahany."},"success":{"saved":"Nohazonina soa aman-tsara","updated":"Nohavaozina soa aman-tsara","deleted":"Nofafana soa aman-tsara","created":"Noforona soa aman-tsara","sale_completed":"Vita soa aman-tsara ny fivarotana","sale_cancelled":"Nofoanana soa aman-tsara ny fivarotana","return_processed":"Nohararaotina soa aman-tsara ny famerenana","payment_made":"Natao soa aman-tsara ny fandoavam-bola","delivery_confirmed":"Nohamafisina soa aman-tsara ny fandefasana","order_sent":"Nalefa soa aman-tsara ny baiko","stock_updated":"Nohavaozina soa aman-tsara ny stock","user_created":"Noforona soa aman-tsara ny mpampiasa","user_updated":"Nohavaozina soa aman-tsara ny mpampiasa","user_deleted":"Nofafana soa aman-tsara ny mpampiasa","settings_saved":"Nohazonina soa aman-tsara ny fandaharana"},"language":{"select_language":"Fidio ny fiteny","english":"Anglisy","french":"Frantsay","malagasy":"Malagasy","language_changed":"Niova soa aman-tsara ny fiteny","current_language":"Fiteny ankehitriny"},"app":{"title":"ELIF Fivarotana","no_data_available":"Tsy misy angon-drakitra azo","unknown_user":"Mpampiasa tsy fantatra","unknown_product":"Entana tsy fantatra","loading":"Miandry...","toggle_menu":"Ampifanaraho ny sakafo"},"forms":{"search_by_customer_name":"Karohy araka ny anaran\'ny mpanjifa","customer_name":"Anaran\'ny mpanjifa","phone_number":"Laharana finday","email_address":"Adiresy mailaka","enter_amount_to_pay":"Ampidiro ny vola tokony aloa","leave_empty_to_delete_all":"Avelao banga raha te hamafa ny rehetra","enter_printer_name":"Ampidiro ny anaran\'ny mpanonta"},"buttons":{"add_to_return":"Ampio amin\'ny famerenana","added":"Nampidirina","creating":"Mamorona...","create_return":"Mamorona famerenana","complete_sale":"Vita ny fivarotana","insufficient_stock":"Tsy ampy ny stock","print_sales_report":"Printy ny tatitra fivarotana","print_receipt":"Printy ny rosia","print":"Printy","print_order":"Printy ny baiko"},"messages":{"failed_to_load_users":"Tsy nety ny fampidirana ny mpampiasa","failed_to_delete_user":"Tsy nety ny famafana ny mpampiasa"},"titles":{"sales_management":"Fitantanana ny fivarotana","pending_sales":"Fivarotana miandry","no_pending_sales":"Tsy misy fivarotana miandry","point_of_sale":"Toerana fivarotana","reports":"Tatitra","previous_reports":"Tatitra teo aloha","sale_receipt":"Rosia fivarotana","sales_management_report":"Tatitra ny fitantanana ny fivarotana","inventory_report_data":"Angon-drakitra ny tatitra inventaire","stock_movement_report_data":"Angon-drakitra ny tatitra fifindran\'ny stock"},"table_headers":{"sale_number":"Laharana fivarotana","customer":"Mpanjifa","status":"Sata","payment":"Fandoavam-bola","items":"Zavatra","total_amount":"Volany manontolo","date":"Daty","sold_by":"Nivarotana n\'ny","payment_method":"Fomba fandoavam-bola","paid_amount":"Volany noloa","actions":"Asa","username":"Anaran\'ny mpampiasa","full_name":"Anarana feno","role":"Lanjana","phone":"Finday"},"status_labels":{"pending":"Miandry","partial":"Ampahany","paid":"Noloa","unpaid":"Tsy noloa","completed":"Vita","cancelled":"Nofoanana","refunded":"Namerina vola"},"payment_methods":{"cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Famindrana banky"},"payment_status":{"paid":"Noloa","partial_payment":"Fandoavam-bola ampahany","pending_payment":"Fandoavam-bola miandry","to_be_determined":"Tokony ho voafaritra","unknown":"Tsy fantatra"},"modals":{"view_sale":"Jereo ny fivarotana","edit_sale":"Ovay ny fivarotana","view_only":"Jereo ihany","close":"Akatona","cancel":"Ajanono","sale_details":"Antsipirihany ny fivarotana","loading_sale_details":"Miandry ny antsipirihany ny fivarotana...","sale_information":"Fampahalalana ny fivarotana","customer_information":"Fampahalalana mpanjifa","payment_summary":"Famintinana ny fandoavam-bola","tax_included":"Hetra tafiditra","discount":"Fihenam-bidy","refund_information":"Fampahalalana famerenana vola","original_sale_amount":"Volan\'ny fivarotana tany am-boalohany","amount_paid_by_customer":"Volany noloa n\'ny mpanjifa","remaining_amount":"Volany sisa","refund_note":"Tokony ho averina vola ny mpanjifa {{amount}} $ (ny volany noloa marina).","available_items":"Zavatra azo","max_returnable":"Averina indrindra","sale_price":"Vidiny fivarotana","return_price":"Vidiny famerenana","return_items":"Zavatra famerenana","no_items_added":"Tsy mbola nampidirina zavatra amin\'ny famerenana","return_quantity":"Habe famerenana","return_reason_placeholder":"Antony famerenana na fanamarihana fanampiny...","return_summary":"Famintinana ny famerenana","total_return_amount":"Volany manontolo ny famerenana","please_specify_quantities":"Ampidiro ny habe ho an\'ny zavatra farafahakeliny iray azafady"},"alerts":{"sale_will_be_completed":"Ho vita avy hatrany ny fivarotana ary ho esorina ny stock","sale_will_be_created_pending":"Ho foronina miandry ny fivarotana ary azonao atao ny hamita azy any aoriana","print_receipt_after_sale":"Printy ny rosia aorian\'ny fivarotana","click_to_edit_quantity":"Tsindrio raha te hiova ny habe","remove_item":"Esory ny zavatra"},"empty_messages":{"no_archived_purchase_orders":"Tsy hita baiko fividianana voatahiry","no_active_purchase_orders":"Tsy hita baiko fividianana mavitrika","no_pending_deliveries":"Tsy misy fandefasana miandry","no_delivery_history":"Tsy hita tantara fandefasana","no_printers_found":"Tsy hita mpanonta"},"pos":{"dont_print_receipt":"Aza printy ny rosia","search_products":"Karohy entana...","add_to_cart":"Ampio amin\'ny harona","out_of_stock":"Tsy misy stock","loading":"Miandry...","customer_name_required":"Anaran\'ny mpanjifa (Ilaina ho an\'ny fandoavam-bola ampahany)","customer_name_optional":"Anaran\'ny mpanjifa (Tsy voatery)","phone_optional":"Laharana finday (Tsy voatery)","email_optional":"Mailaka (Tsy voatery)","walk_in_customer":"Mpanjifa tonga","unknown_user":"Mpampiasa tsy fantatra","sale_receipt":"Rosia fivarotana","cart_empty":"Banga ny harona. Ampio zavatra amin\'ny harona alohan\'ny hamaranana ny fivarotana azafady.","customer_name_required_partial":"Ilaina ny anaran\'ny mpanjifa ho an\'ny fandoavam-bola ampahany","paid_amount_exceeds_total":"Tsy azo mihoatra ny volany manontolo ny vola noloa","paid_amount_negative":"Tsy azo ho ratsy ny vola noloa","sale_completed_success":"Vita soa aman-tsara ny fivarotana! Laharana fivarotana: {saleNumber}","sale_created_but_completion_failed":"Noforona ny fivarotana ({saleNumber}) nefa tsy nety ny famaranana: {error}","failed_to_create_sale":"Tsy nety ny famoronana ny fivarotana. Jereo ny console ho an\'ny antsipirihany azafady.","failed_to_update_category_status":"Tsy nety ny fanavaozana ny sata ny sokajy: {error}","enter_valid_quantity":"Ampidiro habe mety azafady","hide_categories":"Afeno","manage_categories":"Mikarakara ny sokajy","sellable":"Azo varotana","not_sellable":"Tsy azo varotana","complete_sale":"Vita ny fivarotana","create_pending_sale":"Mamorona fivarotana miandry","print_receipt":" & Printy ny rosia","wholesale_short":"GV","standard_short":"STD","unit_not_found":"Tsy hita ny vondrona {unitName} ao amin\'ny fampahalalana stock","no_stock_left":"Tsy misy stock {unitName} sisa","not_enough_available":"Tsy ampy ny {unitName} azo. {quantity} ihany no sisa.","unit_out_of_stock":"Tsy misy stock ny vondrona","not_enough_stock_max":"Tsy ampy ny stock azo. Indrindra: {max}","out_of_stock_label":" - TSY MISY STOCK","available_label":" - {quantity} azo","loading_stock_info":"Miandry ny fampahalalana stock... Andramo indray azafady."}}')}};Hr.use(di).use(ka).init({resources:ui,fallbackLng:"fr",debug:!1,detection:{order:["sessionStorage","localStorage","cookie","navigator","htmlTag"],caches:["sessionStorage","localStorage","cookie"],lookupSessionStorage:"i18nextLng",lookupLocalStorage:"i18nextLng",lookupCookie:"i18next",cookieMinutes:43200,cookieDomain:window.location.hostname},interpolation:{escapeValue:!1},load:"languageOnly",supportedLngs:["en","fr","mg"],lng:"fr",ns:["translation"],defaultNS:"translation",saveMissing:!1,react:{useSuspense:!1}});const pi=e=>{let{children:t}=e;const{isAuthenticated:n,loading:a}=ua();return a?(0,ca.jsxs)("div",{className:"app-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]}):n?t:(0,ca.jsx)(he,{to:"/login"})},mi=e=>{let{children:t,allowedRoles:n=[],salesBlocked:a=!1}=e;const{isAuthenticated:r,loading:i,user:s,isSales:o}=ua();return i?(0,ca.jsxs)("div",{className:"app-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]}):r?a&&o||n.length>0&&!n.includes(null===s||void 0===s?void 0:s.role)?(0,ca.jsx)(he,{to:"/pos"}):t:(0,ca.jsx)(he,{to:"/login"})},hi=()=>{const{isAuthenticated:e}=ua();return(0,ca.jsx)(Se,{children:(0,ca.jsxs)("div",{className:"app",children:[(0,ca.jsx)(Fa,{}),e&&(0,ca.jsx)(Oa,{}),(0,ca.jsx)("main",{className:"app-main",children:(0,ca.jsxs)(ge,{children:[(0,ca.jsx)(fe,{path:"/login",element:e?(0,ca.jsx)(he,{to:"/dashboard"}):(0,ca.jsx)(La,{})}),(0,ca.jsx)(fe,{path:"/dashboard",element:(0,ca.jsx)(pi,{children:(0,ca.jsx)(Ha,{})})}),(0,ca.jsx)(fe,{path:"/pos",element:(0,ca.jsx)(pi,{children:(0,ca.jsx)(Wa,{})})}),(0,ca.jsx)(fe,{path:"/pending-sales",element:(0,ca.jsx)(mi,{allowedRoles:["admin","manager","sales"],children:(0,ca.jsx)(Qa,{})})}),(0,ca.jsx)(fe,{path:"/sales-management",element:(0,ca.jsx)(mi,{allowedRoles:["admin","manager","sales"],children:(0,ca.jsx)(Xa,{})})}),(0,ca.jsx)(fe,{path:"/packaging-management",element:(0,ca.jsx)(mi,{allowedRoles:["admin","manager","sales"],children:(0,ca.jsx)(Za,{})})}),(0,ca.jsx)(fe,{path:"/reports",element:(0,ca.jsx)(mi,{allowedRoles:["admin","manager","sales"],children:(0,ca.jsx)(er,{})})}),(0,ca.jsx)(fe,{path:"/",element:(0,ca.jsx)(he,{to:"/dashboard"})}),(0,ca.jsx)(fe,{path:"*",element:(0,ca.jsx)(he,{to:"/dashboard"})})]})})]})})};const fi=function(){return(0,ca.jsx)(pa,{children:(0,ca.jsx)(hi,{})})};i.createRoot(document.getElementById("root")).render((0,ca.jsx)(a.StrictMode,{children:(0,ca.jsx)(fi,{})}))})()})();
//# sourceMappingURL=main.3c93cf8c.js.map