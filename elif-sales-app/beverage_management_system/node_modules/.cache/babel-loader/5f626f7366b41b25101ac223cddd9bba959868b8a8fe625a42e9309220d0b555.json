{"ast":null,"code":"import _objectSpread from\"/home/el-ifran/WareHouse_Manager/elif-sales-app/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import api from'../services/api';import'./Reports.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reports=()=>{var _reportTypes$find3;const{t}=useTranslation();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[reports,setReports]=useState([]);const[selectedReportType,setSelectedReportType]=useState('');const[reportFilters,setReportFilters]=useState({start_date:'',end_date:'',product_id:'',category_id:'',customer_name:''});const[generatedReport,setGeneratedReport]=useState(null);const[showFilters,setShowFilters]=useState(false);const reportTypes=[{id:'sales',name:'Sales Report',description:'Detailed sales analysis with revenue, cost, and profit breakdown',icon:'💰',color:'#10b981'},{id:'inventory',name:'Inventory Report',description:'Current inventory status, stock levels, and valuation',icon:'📦',color:'#8b5cf6'},{id:'profit_loss',name:'Profit & Loss Report',description:'Financial performance analysis with profit margins',icon:'📊',color:'#3b82f6'},{id:'stock_movement',name:'Stock Movement Report',description:'Track all stock movements, purchases, and sales',icon:'📈',color:'#f59e0b'},{id:'customer',name:'Customer Report',description:'Customer analysis and purchase behavior',icon:'👥',color:'#06b6d4'}];useEffect(()=>{fetchReports();},[]);const fetchReports=async()=>{try{setLoading(true);const response=await api.get('/reports/');setReports(response.data);}catch(err){setError('Failed to load reports');console.error('Reports error:',err);}finally{setLoading(false);}};const handleReportTypeSelect=reportType=>{setSelectedReportType(reportType);setShowFilters(true);setGeneratedReport(null);setError('');setSuccess('');};const handleFilterChange=(field,value)=>{setReportFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const generateReport=async()=>{if(!selectedReportType){setError('Please select a report type');return;}try{setLoading(true);setError('');setSuccess('');// Prepare request data based on report type\nlet requestData={};// Common filters\nif(reportFilters.start_date){requestData.start_date=reportFilters.start_date;}if(reportFilters.end_date){requestData.end_date=reportFilters.end_date;}let endpoint='';switch(selectedReportType){case'sales':endpoint='/reports/sales/';requestData={start_date:reportFilters.start_date||new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0],// Default to 30 days ago\nend_date:reportFilters.end_date||new Date().toISOString().split('T')[0],// Default to today\ninclude_details:true,group_by:'day'};break;case'inventory':endpoint='/reports/inventory/';requestData={start_date:reportFilters.start_date||new Date().toISOString().split('T')[0],end_date:reportFilters.end_date||new Date().toISOString().split('T')[0],include_low_stock:true,include_out_of_stock:true};break;case'stock_movement':endpoint='/reports/stock-movements/';requestData={start_date:reportFilters.start_date||new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0],end_date:reportFilters.end_date||new Date().toISOString().split('T')[0]};if(reportFilters.product_id){requestData.product=reportFilters.product_id;}break;default:setError('Report type not implemented yet');return;}const response=await api.post(endpoint,requestData);setGeneratedReport({type:selectedReportType,data:response.data,generated_at:new Date().toISOString()});setSuccess('Report generated successfully!');}catch(err){var _err$response,_err$response$data;setError(\"Failed to generate report: \".concat(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||err.message));console.error('Report generation error:',err);}finally{setLoading(false);}};const exportReport=async format=>{if(!generatedReport){setError('No report to export');return;}try{var _reportTypes$find;setLoading(true);setError('');// Create a new report record first\nconst reportData={name:\"\".concat((_reportTypes$find=reportTypes.find(r=>r.id===selectedReportType))===null||_reportTypes$find===void 0?void 0:_reportTypes$find.name,\" - \").concat(new Date().toLocaleDateString()),report_type:selectedReportType,description:\"Generated report with filters: \".concat(JSON.stringify(reportFilters)),parameters:reportFilters};await api.post('/reports/',reportData);// Generate the actual file based on format\nlet fileName='';let fileContent='';let mimeType='';if(format==='pdf'){// For now, we'll create a simple text-based export\n// In a real implementation, you'd use a PDF library like jsPDF\nfileName=\"\".concat(selectedReportType,\"_report_\").concat(new Date().toISOString().split('T')[0],\".txt\");fileContent=generateTextReport(generatedReport);mimeType='text/plain';}else if(format==='excel'){// For now, we'll create a CSV export\n// In a real implementation, you'd use a library like xlsx\nfileName=\"\".concat(selectedReportType,\"_report_\").concat(new Date().toISOString().split('T')[0],\".csv\");fileContent=generateCSVReport(generatedReport);mimeType='text/csv';}// Download the file\ndownloadFile(fileContent,fileName,mimeType);setSuccess(\"Report exported as \".concat(format.toUpperCase(),\" successfully!\"));fetchReports();// Refresh reports list\n}catch(err){var _err$response2,_err$response2$data;setError(\"Failed to export report: \".concat(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.detail)||err.message));console.error('Export error:',err);}finally{setLoading(false);}};const generateTextReport=report=>{var _reportTypes$find2,_data$summary,_data$summary$total_s,_data$summary2,_data$summary3,_data$summary4,_data$summary5,_data$summary6,_data$summary7,_data$summary7$total_,_data$summary8,_data$summary9;const{type,data}=report;let content=\"\".concat((_reportTypes$find2=reportTypes.find(r=>r.id===type))===null||_reportTypes$find2===void 0?void 0:_reportTypes$find2.name,\"\\n\");content+=\"Generated: \".concat(formatDate(report.generated_at),\"\\n\");content+=\"=====================================\\n\\n\";switch(type){case'sales':content+=\"SUMMARY:\\n\";content+=\"Total Sales: \".concat(((_data$summary=data.summary)===null||_data$summary===void 0?void 0:(_data$summary$total_s=_data$summary.total_sales)===null||_data$summary$total_s===void 0?void 0:_data$summary$total_s.toFixed(2))||'0.00',\" MGA\\n\");content+=\"Total Transactions: \".concat(((_data$summary2=data.summary)===null||_data$summary2===void 0?void 0:_data$summary2.total_count)||0,\"\\n\");content+=\"Total Items Sold: \".concat(((_data$summary3=data.summary)===null||_data$summary3===void 0?void 0:_data$summary3.total_items)||0,\"\\n\");content+=\"Average Sale: \".concat((_data$summary4=data.summary)!==null&&_data$summary4!==void 0&&_data$summary4.total_sales&&(_data$summary5=data.summary)!==null&&_data$summary5!==void 0&&_data$summary5.total_count?(data.summary.total_sales/data.summary.total_count).toFixed(2):'0.00',\" MGA\\n\\n\");if(data.details&&data.details.length>0){content+=\"SALES DETAILS:\\n\";content+=\"Sale Number | Customer | Amount | Items | Sold By | Date\\n\";content+=\"------------|----------|--------|-------|---------|-----\\n\";data.details.forEach(sale=>{var _sale$total_amount;content+=\"\".concat(sale.sale_number,\" | \").concat(sale.customer_name||'Walk-in',\" | \").concat(((_sale$total_amount=sale.total_amount)===null||_sale$total_amount===void 0?void 0:_sale$total_amount.toFixed(2))||'0.00',\" MGA | \").concat(sale.items_count,\" | \").concat(sale.sold_by||'-',\" | \").concat(formatDate(sale.created_at),\"\\n\");});}break;case'inventory':content+=\"SUMMARY:\\n\";content+=\"Total Products: \".concat(((_data$summary6=data.summary)===null||_data$summary6===void 0?void 0:_data$summary6.total_products)||0,\"\\n\");content+=\"Total Value: \".concat(((_data$summary7=data.summary)===null||_data$summary7===void 0?void 0:(_data$summary7$total_=_data$summary7.total_value)===null||_data$summary7$total_===void 0?void 0:_data$summary7$total_.toFixed(2))||'0.00',\" MGA\\n\");content+=\"Low Stock Items: \".concat(((_data$summary8=data.summary)===null||_data$summary8===void 0?void 0:_data$summary8.low_stock_count)||0,\"\\n\");content+=\"Out of Stock: \".concat(((_data$summary9=data.summary)===null||_data$summary9===void 0?void 0:_data$summary9.out_of_stock_count)||0,\"\\n\\n\");if(data.products&&data.products.length>0){content+=\"PRODUCT DETAILS:\\n\";content+=\"Product | SKU | Category | Stock | Cost Price | Selling Price | Stock Value | Status\\n\";content+=\"--------|-----|----------|-------|------------|---------------|-------------|-------\\n\";data.products.forEach(product=>{var _product$cost_price,_product$selling_pric,_product$stock_value;const status=product.is_out_of_stock?'Out of Stock':product.is_low_stock?'Low Stock':'In Stock';content+=\"\".concat(product.name,\" | \").concat(product.sku,\" | \").concat(product.category,\" | \").concat(product.stock_quantity,\" | \").concat(((_product$cost_price=product.cost_price)===null||_product$cost_price===void 0?void 0:_product$cost_price.toFixed(2))||'0.00',\" MGA | \").concat(((_product$selling_pric=product.selling_price)===null||_product$selling_pric===void 0?void 0:_product$selling_pric.toFixed(2))||'0.00',\" MGA | \").concat(((_product$stock_value=product.stock_value)===null||_product$stock_value===void 0?void 0:_product$stock_value.toFixed(2))||'0.00',\" MGA | \").concat(status,\"\\n\");});}break;case'stock_movement':if(data.summary&&data.summary.length>0){content+=\"MOVEMENT SUMMARY:\\n\";data.summary.forEach(summary=>{content+=\"\".concat(summary.movement_type,\": \").concat(summary.total_quantity,\" units (\").concat(summary.count,\" movements)\\n\");});content+=\"\\n\";}if(data.movements&&data.movements.length>0){content+=\"MOVEMENT DETAILS:\\n\";content+=\"Date | Product | SKU | Type | Quantity | Reference | Notes | User\\n\";content+=\"-----|---------|-----|------|----------|-----------|-------|-----\\n\";data.movements.forEach(movement=>{content+=\"\".concat(formatDate(movement.created_at),\" | \").concat(movement.product_name,\" | \").concat(movement.product_sku,\" | \").concat(movement.movement_type,\" | \").concat(movement.quantity,\" | \").concat(movement.reference_number||'-',\" | \").concat(movement.notes||'-',\" | \").concat(movement.created_by||'-',\"\\n\");});}break;default:content+=\"Report data:\\n\".concat(JSON.stringify(data,null,2));}return content;};const generateCSVReport=report=>{const{type,data}=report;let content='';switch(type){case'sales':if(data.details&&data.details.length>0){content+='Sale Number,Customer,Amount,Items,Sold By,Date\\n';data.details.forEach(sale=>{var _sale$total_amount2;content+=\"\\\"\".concat(sale.sale_number,\"\\\",\\\"\").concat(sale.customer_name||'Walk-in',\"\\\",\\\"\").concat(((_sale$total_amount2=sale.total_amount)===null||_sale$total_amount2===void 0?void 0:_sale$total_amount2.toFixed(2))||'0.00',\" MGA\\\",\\\"\").concat(sale.items_count,\"\\\",\\\"\").concat(sale.sold_by||'-',\"\\\",\\\"\").concat(formatDate(sale.created_at),\"\\\"\\n\");});}break;case'inventory':if(data.products&&data.products.length>0){content+='Product,SKU,Category,Stock,Cost Price,Selling Price,Stock Value,Status\\n';data.products.forEach(product=>{var _product$cost_price2,_product$selling_pric2,_product$stock_value2;const status=product.is_out_of_stock?'Out of Stock':product.is_low_stock?'Low Stock':'In Stock';content+=\"\\\"\".concat(product.name,\"\\\",\\\"\").concat(product.sku,\"\\\",\\\"\").concat(product.category,\"\\\",\\\"\").concat(product.stock_quantity,\"\\\",\\\"\").concat(((_product$cost_price2=product.cost_price)===null||_product$cost_price2===void 0?void 0:_product$cost_price2.toFixed(2))||'0.00',\" MGA\\\",\\\"\").concat(((_product$selling_pric2=product.selling_price)===null||_product$selling_pric2===void 0?void 0:_product$selling_pric2.toFixed(2))||'0.00',\" MGA\\\",\\\"\").concat(((_product$stock_value2=product.stock_value)===null||_product$stock_value2===void 0?void 0:_product$stock_value2.toFixed(2))||'0.00',\" MGA\\\",\\\"\").concat(status,\"\\\"\\n\");});}break;case'stock_movement':if(data.movements&&data.movements.length>0){content+='Date,Product,SKU,Type,Quantity,Reference,Notes,User\\n';data.movements.forEach(movement=>{content+=\"\\\"\".concat(formatDate(movement.created_at),\"\\\",\\\"\").concat(movement.product_name,\"\\\",\\\"\").concat(movement.product_sku,\"\\\",\\\"\").concat(movement.movement_type,\"\\\",\\\"\").concat(movement.quantity,\"\\\",\\\"\").concat(movement.reference_number||'-',\"\\\",\\\"\").concat(movement.notes||'-',\"\\\",\\\"\").concat(movement.created_by||'-',\"\\\"\\n\");});}break;default:content='Report data not available for CSV export';}return content;};const downloadFile=(content,fileName,mimeType)=>{const blob=new Blob([content],{type:mimeType});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=fileName;document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const renderReportData=()=>{var _data$summary0,_data$summary0$total_,_data$summary1,_data$summary10,_data$summary11,_data$summary12,_data$summary13,_data$summary14,_data$summary14$total,_data$summary15,_data$summary16;if(!generatedReport)return null;const{type,data}=generatedReport;switch(type){case'sales':return/*#__PURE__*/_jsxs(\"div\",{className:\"report-data\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sales Report Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sales-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Sales\"}),/*#__PURE__*/_jsxs(\"p\",{children:[((_data$summary0=data.summary)===null||_data$summary0===void 0?void 0:(_data$summary0$total_=_data$summary0.total_sales)===null||_data$summary0$total_===void 0?void 0:_data$summary0$total_.toFixed(2))||'0.00',\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Transactions\"}),/*#__PURE__*/_jsx(\"p\",{children:((_data$summary1=data.summary)===null||_data$summary1===void 0?void 0:_data$summary1.total_count)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Items Sold\"}),/*#__PURE__*/_jsx(\"p\",{children:((_data$summary10=data.summary)===null||_data$summary10===void 0?void 0:_data$summary10.total_items)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Average Sale\"}),/*#__PURE__*/_jsxs(\"p\",{children:[(_data$summary11=data.summary)!==null&&_data$summary11!==void 0&&_data$summary11.total_sales&&(_data$summary12=data.summary)!==null&&_data$summary12!==void 0&&_data$summary12.total_count?(data.summary.total_sales/data.summary.total_count).toFixed(2):'0.00',\" MGA\"]})]})]}),data.chart_data&&data.chart_data.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sales-chart\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Sales Trend\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-bars\",children:data.chart_data.map((day,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chart-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bar sales-bar\",style:{height:\"\".concat(Math.max(5,day.total/Math.max(...data.chart_data.map(d=>d.total))*100),\"%\")},title:\"Sales: \".concat(day.total.toFixed(2),\" MGA\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-label\",children:day.date}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-values\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"value sales\",children:[day.total.toFixed(0),\" MGA\"]})})]},index))})})]}),data.details&&data.details.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sales-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Sales Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sale Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Items\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sold By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.details.map((sale,index)=>{var _sale$total_amount3;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:sale.sale_number}),/*#__PURE__*/_jsx(\"td\",{children:sale.customer_name||'Walk-in'}),/*#__PURE__*/_jsxs(\"td\",{children:[((_sale$total_amount3=sale.total_amount)===null||_sale$total_amount3===void 0?void 0:_sale$total_amount3.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsx(\"td\",{children:sale.items_count}),/*#__PURE__*/_jsx(\"td\",{children:sale.sold_by||'-'}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(sale.created_at)})]},index);})})]})})]})]});case'inventory':return/*#__PURE__*/_jsxs(\"div\",{className:\"report-data\",children:[/*#__PURE__*/_jsx(\"h3\",{children:t('titles.inventory_report_data')}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Products\"}),/*#__PURE__*/_jsx(\"p\",{children:((_data$summary13=data.summary)===null||_data$summary13===void 0?void 0:_data$summary13.total_products)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Value\"}),/*#__PURE__*/_jsxs(\"p\",{children:[((_data$summary14=data.summary)===null||_data$summary14===void 0?void 0:(_data$summary14$total=_data$summary14.total_value)===null||_data$summary14$total===void 0?void 0:_data$summary14$total.toFixed(2))||'0.00',\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Low Stock Items\"}),/*#__PURE__*/_jsx(\"p\",{children:((_data$summary15=data.summary)===null||_data$summary15===void 0?void 0:_data$summary15.low_stock_count)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Out of Stock\"}),/*#__PURE__*/_jsx(\"p\",{children:((_data$summary16=data.summary)===null||_data$summary16===void 0?void 0:_data$summary16.out_of_stock_count)||0})]})]}),data.products&&data.products.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Min Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Selling Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.products.map((product,index)=>{var _product$cost_price3,_product$selling_pric3,_product$stock_value3;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.sku}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.stock_quantity}),/*#__PURE__*/_jsx(\"td\",{children:product.min_stock_level}),/*#__PURE__*/_jsxs(\"td\",{children:[((_product$cost_price3=product.cost_price)===null||_product$cost_price3===void 0?void 0:_product$cost_price3.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[((_product$selling_pric3=product.selling_price)===null||_product$selling_pric3===void 0?void 0:_product$selling_pric3.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[((_product$stock_value3=product.stock_value)===null||_product$stock_value3===void 0?void 0:_product$stock_value3.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(product.is_out_of_stock?'out-of-stock':product.is_low_stock?'low-stock':'in-stock'),children:product.is_out_of_stock?'Out of Stock':product.is_low_stock?'Low Stock':'In Stock'})})]},index);})})]})})]})]});case'stock_movement':return/*#__PURE__*/_jsxs(\"div\",{className:\"report-data\",children:[/*#__PURE__*/_jsx(\"h3\",{children:t('titles.stock_movement_report_data')}),data.summary&&data.summary.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"movement-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Movement Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-cards\",children:data.summary.map((summary,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:summary.movement_type}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",summary.total_quantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Count: \",summary.count]})]},index))})]}),data.movements&&data.movements.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"stock-movements\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Movement Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reference\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.movements.map((movement,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(movement.created_at)}),/*#__PURE__*/_jsx(\"td\",{children:movement.product_name}),/*#__PURE__*/_jsx(\"td\",{children:movement.product_sku}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"movement-type \".concat(movement.movement_type),children:movement.movement_type})}),/*#__PURE__*/_jsx(\"td\",{children:movement.quantity}),/*#__PURE__*/_jsx(\"td\",{children:movement.reference_number||'-'}),/*#__PURE__*/_jsx(\"td\",{children:movement.notes||'-'}),/*#__PURE__*/_jsx(\"td\",{children:movement.created_by||'-'})]},index))})]})})]})]});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"report-data\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Report data format not implemented yet.\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(data,null,2)})]});}};if(loading&&!generatedReport){return/*#__PURE__*/_jsx(\"div\",{className:\"reports\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"reports-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading reports...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"reports\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reports-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:t('titles.reports')}),/*#__PURE__*/_jsx(\"p\",{children:\"Generate detailed reports and export them for analysis\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),error]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2705\"}),success]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reports-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-types-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Report Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"report-types-grid\",children:reportTypes.map(reportType=>/*#__PURE__*/_jsxs(\"div\",{className:\"report-type-card \".concat(selectedReportType===reportType.id?'selected':''),onClick:()=>handleReportTypeSelect(reportType.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"report-type-icon\",style:{backgroundColor:reportType.color},children:reportType.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-type-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:reportType.name}),/*#__PURE__*/_jsx(\"p\",{children:reportType.description})]})]},reportType.id))})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"filters-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Report Filters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:reportFilters.start_date,onChange:e=>handleFilterChange('start_date',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:reportFilters.end_date,onChange:e=>handleFilterChange('end_date',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter product ID\",value:reportFilters.product_id,onChange:e=>handleFilterChange('product_id',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter category ID\",value:reportFilters.category_id,onChange:e=>handleFilterChange('category_id',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter customer name\",value:reportFilters.customer_name,onChange:e=>handleFilterChange('customer_name',e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:generateReport,disabled:loading,children:loading?'Generating...':'Generate Report'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowFilters(false),children:\"Cancel\"})]})]}),generatedReport&&/*#__PURE__*/_jsxs(\"div\",{className:\"generated-report-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[(_reportTypes$find3=reportTypes.find(r=>r.id===selectedReportType))===null||_reportTypes$find3===void 0?void 0:_reportTypes$find3.name,/*#__PURE__*/_jsxs(\"span\",{className:\"report-date\",children:[\"Generated: \",formatDate(generatedReport.generated_at)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:()=>exportReport('pdf'),disabled:loading,children:\"\\uD83D\\uDCC4 Export Text\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:()=>exportReport('excel'),disabled:loading,children:\"\\uD83D\\uDCCA Export CSV\"})]})]}),renderReportData()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"previous-reports-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('titles.previous_reports')}),reports.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"reports-list\",children:reports.map(report=>/*#__PURE__*/_jsxs(\"div\",{className:\"report-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:report.name}),/*#__PURE__*/_jsx(\"p\",{children:report.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Type: \",report.report_type]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Generated: \",formatDate(report.generated_at)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"By: \",report.generated_by_name]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"report-actions\",children:report.file_path&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline\",children:\"\\uD83D\\uDCE5 Download\"})})]},report.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No previous reports found\"})]})]})]});};export default Reports;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","api","jsx","_jsx","jsxs","_jsxs","Reports","_reportTypes$find3","t","loading","setLoading","error","setError","success","setSuccess","reports","setReports","selectedReportType","setSelectedReportType","reportFilters","setReportFilters","start_date","end_date","product_id","category_id","customer_name","generatedReport","setGeneratedReport","showFilters","setShowFilters","reportTypes","id","name","description","icon","color","fetchReports","response","get","data","err","console","handleReportTypeSelect","reportType","handleFilterChange","field","value","prev","_objectSpread","generateReport","requestData","endpoint","Date","now","toISOString","split","include_details","group_by","include_low_stock","include_out_of_stock","product","post","type","generated_at","_err$response","_err$response$data","concat","detail","message","exportReport","format","_reportTypes$find","reportData","find","r","toLocaleDateString","report_type","JSON","stringify","parameters","fileName","fileContent","mimeType","generateTextReport","generateCSVReport","downloadFile","toUpperCase","_err$response2","_err$response2$data","report","_reportTypes$find2","_data$summary","_data$summary$total_s","_data$summary2","_data$summary3","_data$summary4","_data$summary5","_data$summary6","_data$summary7","_data$summary7$total_","_data$summary8","_data$summary9","content","formatDate","summary","total_sales","toFixed","total_count","total_items","details","length","forEach","sale","_sale$total_amount","sale_number","total_amount","items_count","sold_by","created_at","total_products","total_value","low_stock_count","out_of_stock_count","products","_product$cost_price","_product$selling_pric","_product$stock_value","status","is_out_of_stock","is_low_stock","sku","category","stock_quantity","cost_price","selling_price","stock_value","movement_type","total_quantity","count","movements","movement","product_name","product_sku","quantity","reference_number","notes","created_by","_sale$total_amount2","_product$cost_price2","_product$selling_pric2","_product$stock_value2","blob","Blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","dateString","year","month","day","hour","minute","renderReportData","_data$summary0","_data$summary0$total_","_data$summary1","_data$summary10","_data$summary11","_data$summary12","_data$summary13","_data$summary14","_data$summary14$total","_data$summary15","_data$summary16","className","children","chart_data","map","index","style","height","Math","max","total","d","title","date","_sale$total_amount3","_product$cost_price3","_product$selling_pric3","_product$stock_value3","min_stock_level","onClick","backgroundColor","onChange","e","target","placeholder","disabled","generated_by_name","file_path"],"sources":["/home/el-ifran/WareHouse_Manager/elif-sales-app/beverage_management_system/src/pages/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport api from '../services/api';\nimport './Reports.css';\n\nconst Reports = () => {\n  const { t } = useTranslation();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [reports, setReports] = useState([]);\n  const [selectedReportType, setSelectedReportType] = useState('');\n  const [reportFilters, setReportFilters] = useState({\n    start_date: '',\n    end_date: '',\n    product_id: '',\n    category_id: '',\n    customer_name: ''\n  });\n  const [generatedReport, setGeneratedReport] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n\n  const reportTypes = [\n    {\n      id: 'sales',\n      name: 'Sales Report',\n      description: 'Detailed sales analysis with revenue, cost, and profit breakdown',\n      icon: '💰',\n      color: '#10b981'\n    },\n    {\n      id: 'inventory',\n      name: 'Inventory Report',\n      description: 'Current inventory status, stock levels, and valuation',\n      icon: '📦',\n      color: '#8b5cf6'\n    },\n    {\n      id: 'profit_loss',\n      name: 'Profit & Loss Report',\n      description: 'Financial performance analysis with profit margins',\n      icon: '📊',\n      color: '#3b82f6'\n    },\n    {\n      id: 'stock_movement',\n      name: 'Stock Movement Report',\n      description: 'Track all stock movements, purchases, and sales',\n      icon: '📈',\n      color: '#f59e0b'\n    },\n    {\n      id: 'customer',\n      name: 'Customer Report',\n      description: 'Customer analysis and purchase behavior',\n      icon: '👥',\n      color: '#06b6d4'\n    }\n  ];\n\n  useEffect(() => {\n    fetchReports();\n  }, []);\n\n  const fetchReports = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/reports/');\n      setReports(response.data);\n    } catch (err) {\n      setError('Failed to load reports');\n      console.error('Reports error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReportTypeSelect = (reportType) => {\n    setSelectedReportType(reportType);\n    setShowFilters(true);\n    setGeneratedReport(null);\n    setError('');\n    setSuccess('');\n  };\n\n  const handleFilterChange = (field, value) => {\n    setReportFilters(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const generateReport = async () => {\n    if (!selectedReportType) {\n      setError('Please select a report type');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n\n      // Prepare request data based on report type\n      let requestData = {};\n      \n      // Common filters\n      if (reportFilters.start_date) {\n        requestData.start_date = reportFilters.start_date;\n      }\n      if (reportFilters.end_date) {\n        requestData.end_date = reportFilters.end_date;\n      }\n\n      let endpoint = '';\n      switch (selectedReportType) {\n        case 'sales':\n          endpoint = '/reports/sales/';\n          requestData = {\n            start_date: reportFilters.start_date || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // Default to 30 days ago\n            end_date: reportFilters.end_date || new Date().toISOString().split('T')[0], // Default to today\n            include_details: true,\n            group_by: 'day'\n          };\n          break;\n        case 'inventory':\n          endpoint = '/reports/inventory/';\n          requestData = {\n            start_date: reportFilters.start_date || new Date().toISOString().split('T')[0],\n            end_date: reportFilters.end_date || new Date().toISOString().split('T')[0],\n            include_low_stock: true,\n            include_out_of_stock: true\n          };\n          break;\n        case 'stock_movement':\n          endpoint = '/reports/stock-movements/';\n          requestData = {\n            start_date: reportFilters.start_date || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n            end_date: reportFilters.end_date || new Date().toISOString().split('T')[0]\n          };\n          if (reportFilters.product_id) {\n            requestData.product = reportFilters.product_id;\n          }\n          break;\n        default:\n          setError('Report type not implemented yet');\n          return;\n      }\n\n      const response = await api.post(endpoint, requestData);\n      \n      setGeneratedReport({\n        type: selectedReportType,\n        data: response.data,\n        generated_at: new Date().toISOString()\n      });\n      \n      setSuccess('Report generated successfully!');\n    } catch (err) {\n      setError(`Failed to generate report: ${err.response?.data?.detail || err.message}`);\n      console.error('Report generation error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportReport = async (format) => {\n    if (!generatedReport) {\n      setError('No report to export');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Create a new report record first\n      const reportData = {\n        name: `${reportTypes.find(r => r.id === selectedReportType)?.name} - ${new Date().toLocaleDateString()}`,\n        report_type: selectedReportType,\n        description: `Generated report with filters: ${JSON.stringify(reportFilters)}`,\n        parameters: reportFilters\n      };\n\n      await api.post('/reports/', reportData);\n      \n      // Generate the actual file based on format\n      let fileName = '';\n      let fileContent = '';\n      let mimeType = '';\n      \n      if (format === 'pdf') {\n        // For now, we'll create a simple text-based export\n        // In a real implementation, you'd use a PDF library like jsPDF\n        fileName = `${selectedReportType}_report_${new Date().toISOString().split('T')[0]}.txt`;\n        fileContent = generateTextReport(generatedReport);\n        mimeType = 'text/plain';\n      } else if (format === 'excel') {\n        // For now, we'll create a CSV export\n        // In a real implementation, you'd use a library like xlsx\n        fileName = `${selectedReportType}_report_${new Date().toISOString().split('T')[0]}.csv`;\n        fileContent = generateCSVReport(generatedReport);\n        mimeType = 'text/csv';\n      }\n      \n      // Download the file\n      downloadFile(fileContent, fileName, mimeType);\n      \n      setSuccess(`Report exported as ${format.toUpperCase()} successfully!`);\n      fetchReports(); // Refresh reports list\n    } catch (err) {\n      setError(`Failed to export report: ${err.response?.data?.detail || err.message}`);\n      console.error('Export error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateTextReport = (report) => {\n    const { type, data } = report;\n    let content = `${reportTypes.find(r => r.id === type)?.name}\\n`;\n    content += `Generated: ${formatDate(report.generated_at)}\\n`;\n    content += `=====================================\\n\\n`;\n    \n    switch (type) {\n      case 'sales':\n        content += `SUMMARY:\\n`;\n        content += `Total Sales: ${data.summary?.total_sales?.toFixed(2) || '0.00'} MGA\\n`;\n        content += `Total Transactions: ${data.summary?.total_count || 0}\\n`;\n        content += `Total Items Sold: ${data.summary?.total_items || 0}\\n`;\n        content += `Average Sale: ${data.summary?.total_sales && data.summary?.total_count ? (data.summary.total_sales / data.summary.total_count).toFixed(2) : '0.00'} MGA\\n\\n`;\n        \n        if (data.details && data.details.length > 0) {\n          content += `SALES DETAILS:\\n`;\n          content += `Sale Number | Customer | Amount | Items | Sold By | Date\\n`;\n          content += `------------|----------|--------|-------|---------|-----\\n`;\n          data.details.forEach(sale => {\n            content += `${sale.sale_number} | ${sale.customer_name || 'Walk-in'} | ${sale.total_amount?.toFixed(2) || '0.00'} MGA | ${sale.items_count} | ${sale.sold_by || '-'} | ${formatDate(sale.created_at)}\\n`;\n          });\n        }\n        break;\n        \n      case 'inventory':\n        content += `SUMMARY:\\n`;\n        content += `Total Products: ${data.summary?.total_products || 0}\\n`;\n        content += `Total Value: ${data.summary?.total_value?.toFixed(2) || '0.00'} MGA\\n`;\n        content += `Low Stock Items: ${data.summary?.low_stock_count || 0}\\n`;\n        content += `Out of Stock: ${data.summary?.out_of_stock_count || 0}\\n\\n`;\n        \n        if (data.products && data.products.length > 0) {\n          content += `PRODUCT DETAILS:\\n`;\n          content += `Product | SKU | Category | Stock | Cost Price | Selling Price | Stock Value | Status\\n`;\n          content += `--------|-----|----------|-------|------------|---------------|-------------|-------\\n`;\n          data.products.forEach(product => {\n            const status = product.is_out_of_stock ? 'Out of Stock' : product.is_low_stock ? 'Low Stock' : 'In Stock';\n            content += `${product.name} | ${product.sku} | ${product.category} | ${product.stock_quantity} | ${product.cost_price?.toFixed(2) || '0.00'} MGA | ${product.selling_price?.toFixed(2) || '0.00'} MGA | ${product.stock_value?.toFixed(2) || '0.00'} MGA | ${status}\\n`;\n          });\n        }\n        break;\n        \n      case 'stock_movement':\n        if (data.summary && data.summary.length > 0) {\n          content += `MOVEMENT SUMMARY:\\n`;\n          data.summary.forEach(summary => {\n            content += `${summary.movement_type}: ${summary.total_quantity} units (${summary.count} movements)\\n`;\n          });\n          content += `\\n`;\n        }\n        \n        if (data.movements && data.movements.length > 0) {\n          content += `MOVEMENT DETAILS:\\n`;\n          content += `Date | Product | SKU | Type | Quantity | Reference | Notes | User\\n`;\n          content += `-----|---------|-----|------|----------|-----------|-------|-----\\n`;\n          data.movements.forEach(movement => {\n            content += `${formatDate(movement.created_at)} | ${movement.product_name} | ${movement.product_sku} | ${movement.movement_type} | ${movement.quantity} | ${movement.reference_number || '-'} | ${movement.notes || '-'} | ${movement.created_by || '-'}\\n`;\n          });\n        }\n        break;\n        \n      default:\n        content += `Report data:\\n${JSON.stringify(data, null, 2)}`;\n    }\n    \n    return content;\n  };\n\n  const generateCSVReport = (report) => {\n    const { type, data } = report;\n    let content = '';\n    \n    switch (type) {\n      case 'sales':\n        if (data.details && data.details.length > 0) {\n          content += 'Sale Number,Customer,Amount,Items,Sold By,Date\\n';\n          data.details.forEach(sale => {\n            content += `\"${sale.sale_number}\",\"${sale.customer_name || 'Walk-in'}\",\"${sale.total_amount?.toFixed(2) || '0.00'} MGA\",\"${sale.items_count}\",\"${sale.sold_by || '-'}\",\"${formatDate(sale.created_at)}\"\\n`;\n          });\n        }\n        break;\n        \n      case 'inventory':\n        if (data.products && data.products.length > 0) {\n          content += 'Product,SKU,Category,Stock,Cost Price,Selling Price,Stock Value,Status\\n';\n          data.products.forEach(product => {\n            const status = product.is_out_of_stock ? 'Out of Stock' : product.is_low_stock ? 'Low Stock' : 'In Stock';\n            content += `\"${product.name}\",\"${product.sku}\",\"${product.category}\",\"${product.stock_quantity}\",\"${product.cost_price?.toFixed(2) || '0.00'} MGA\",\"${product.selling_price?.toFixed(2) || '0.00'} MGA\",\"${product.stock_value?.toFixed(2) || '0.00'} MGA\",\"${status}\"\\n`;\n          });\n        }\n        break;\n        \n      case 'stock_movement':\n        if (data.movements && data.movements.length > 0) {\n          content += 'Date,Product,SKU,Type,Quantity,Reference,Notes,User\\n';\n          data.movements.forEach(movement => {\n            content += `\"${formatDate(movement.created_at)}\",\"${movement.product_name}\",\"${movement.product_sku}\",\"${movement.movement_type}\",\"${movement.quantity}\",\"${movement.reference_number || '-'}\",\"${movement.notes || '-'}\",\"${movement.created_by || '-'}\"\\n`;\n          });\n        }\n        break;\n        \n      default:\n        content = 'Report data not available for CSV export';\n    }\n    \n    return content;\n  };\n\n  const downloadFile = (content, fileName, mimeType) => {\n    const blob = new Blob([content], { type: mimeType });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = fileName;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const renderReportData = () => {\n    if (!generatedReport) return null;\n\n    const { type, data } = generatedReport;\n\n    switch (type) {\n      case 'sales':\n        return (\n          <div className=\"report-data\">\n            <h3>Sales Report Data</h3>\n            <div className=\"sales-summary\">\n              <div className=\"summary-card\">\n                <h4>Total Sales</h4>\n                <p>{data.summary?.total_sales?.toFixed(2) || '0.00'} MGA</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Total Transactions</h4>\n                <p>{data.summary?.total_count || 0}</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Total Items Sold</h4>\n                <p>{data.summary?.total_items || 0}</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Average Sale</h4>\n                <p>{data.summary?.total_sales && data.summary?.total_count ? (data.summary.total_sales / data.summary.total_count).toFixed(2) : '0.00'} MGA</p>\n              </div>\n            </div>\n            \n            {data.chart_data && data.chart_data.length > 0 && (\n              <div className=\"sales-chart\">\n                <h4>Sales Trend</h4>\n                <div className=\"chart-container\">\n                  <div className=\"chart-bars\">\n                    {data.chart_data.map((day, index) => (\n                      <div key={index} className=\"chart-bar\">\n                        <div className=\"bar-group\">\n                          <div \n                            className=\"bar sales-bar\" \n                            style={{ height: `${Math.max(5, (day.total / Math.max(...data.chart_data.map(d => d.total))) * 100)}%` }}\n                            title={`Sales: ${day.total.toFixed(2)} MGA`}\n                          ></div>\n                        </div>\n                        <div className=\"bar-label\">\n                          {day.date}\n                        </div>\n                        <div className=\"bar-values\">\n                          <div className=\"value sales\">{day.total.toFixed(0)} MGA</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {data.details && data.details.length > 0 && (\n              <div className=\"sales-details\">\n                <h4>Sales Details</h4>\n                <div className=\"table-container\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Sale Number</th>\n                        <th>Customer</th>\n                        <th>Amount</th>\n                        <th>Items</th>\n                        <th>Sold By</th>\n                        <th>Date</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {data.details.map((sale, index) => (\n                        <tr key={index}>\n                          <td>{sale.sale_number}</td>\n                          <td>{sale.customer_name || 'Walk-in'}</td>\n                          <td>{sale.total_amount?.toFixed(2) || '0.00'} MGA</td>\n                          <td>{sale.items_count}</td>\n                          <td>{sale.sold_by || '-'}</td>\n                          <td>{formatDate(sale.created_at)}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n\n      case 'inventory':\n        return (\n          <div className=\"report-data\">\n            <h3>{t('titles.inventory_report_data')}</h3>\n            <div className=\"inventory-summary\">\n              <div className=\"summary-card\">\n                <h4>Total Products</h4>\n                <p>{data.summary?.total_products || 0}</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Total Value</h4>\n                <p>{data.summary?.total_value?.toFixed(2) || '0.00'} MGA</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Low Stock Items</h4>\n                <p>{data.summary?.low_stock_count || 0}</p>\n              </div>\n              <div className=\"summary-card\">\n                <h4>Out of Stock</h4>\n                <p>{data.summary?.out_of_stock_count || 0}</p>\n              </div>\n            </div>\n            \n            {data.products && data.products.length > 0 && (\n              <div className=\"inventory-details\">\n                <h4>Product Details</h4>\n                <div className=\"table-container\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Product</th>\n                        <th>SKU</th>\n                        <th>Category</th>\n                        <th>Stock</th>\n                        <th>Min Level</th>\n                        <th>Cost Price</th>\n                        <th>Selling Price</th>\n                        <th>Stock Value</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {data.products.map((product, index) => (\n                        <tr key={index}>\n                          <td>{product.name}</td>\n                          <td>{product.sku}</td>\n                          <td>{product.category}</td>\n                          <td>{product.stock_quantity}</td>\n                          <td>{product.min_stock_level}</td>\n                          <td>{product.cost_price?.toFixed(2) || '0.00'} MGA</td>\n                          <td>{product.selling_price?.toFixed(2) || '0.00'} MGA</td>\n                          <td>{product.stock_value?.toFixed(2) || '0.00'} MGA</td>\n                          <td>\n                            <span className={`status ${product.is_out_of_stock ? 'out-of-stock' : product.is_low_stock ? 'low-stock' : 'in-stock'}`}>\n                              {product.is_out_of_stock ? 'Out of Stock' : product.is_low_stock ? 'Low Stock' : 'In Stock'}\n                            </span>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n\n      case 'stock_movement':\n        return (\n          <div className=\"report-data\">\n            <h3>{t('titles.stock_movement_report_data')}</h3>\n            \n            {data.summary && data.summary.length > 0 && (\n              <div className=\"movement-summary\">\n                <h4>Movement Summary</h4>\n                <div className=\"summary-cards\">\n                  {data.summary.map((summary, index) => (\n                    <div key={index} className=\"summary-card\">\n                      <h4>{summary.movement_type}</h4>\n                      <p>Quantity: {summary.total_quantity}</p>\n                      <p>Count: {summary.count}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            {data.movements && data.movements.length > 0 && (\n              <div className=\"stock-movements\">\n                <h4>Movement Details</h4>\n                <div className=\"table-container\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Date</th>\n                        <th>Product</th>\n                        <th>SKU</th>\n                        <th>Type</th>\n                        <th>Quantity</th>\n                        <th>Reference</th>\n                        <th>Notes</th>\n                        <th>User</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {data.movements.map((movement, index) => (\n                        <tr key={index}>\n                          <td>{formatDate(movement.created_at)}</td>\n                          <td>{movement.product_name}</td>\n                          <td>{movement.product_sku}</td>\n                          <td>\n                            <span className={`movement-type ${movement.movement_type}`}>\n                              {movement.movement_type}\n                            </span>\n                          </td>\n                          <td>{movement.quantity}</td>\n                          <td>{movement.reference_number || '-'}</td>\n                          <td>{movement.notes || '-'}</td>\n                          <td>{movement.created_by || '-'}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n\n      default:\n        return (\n          <div className=\"report-data\">\n            <p>Report data format not implemented yet.</p>\n            <pre>{JSON.stringify(data, null, 2)}</pre>\n          </div>\n        );\n    }\n  };\n\n  if (loading && !generatedReport) {\n    return (\n      <div className=\"reports\">\n        <div className=\"reports-loading\">\n          <div className=\"spinner\"></div>\n          <span>Loading reports...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"reports\">\n      <div className=\"reports-header\">\n        <h1>{t('titles.reports')}</h1>\n        <p>Generate detailed reports and export them for analysis</p>\n      </div>\n\n      {error && (\n        <div className=\"alert alert-error\">\n          <span>⚠️</span>\n          {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"alert alert-success\">\n          <span>✅</span>\n          {success}\n        </div>\n      )}\n\n      <div className=\"reports-content\">\n        {/* Report Type Selection */}\n        <div className=\"report-types-section\">\n          <h2>Select Report Type</h2>\n          <div className=\"report-types-grid\">\n            {reportTypes.map((reportType) => (\n              <div\n                key={reportType.id}\n                className={`report-type-card ${selectedReportType === reportType.id ? 'selected' : ''}`}\n                onClick={() => handleReportTypeSelect(reportType.id)}\n              >\n                <div className=\"report-type-icon\" style={{ backgroundColor: reportType.color }}>\n                  {reportType.icon}\n                </div>\n                <div className=\"report-type-content\">\n                  <h3>{reportType.name}</h3>\n                  <p>{reportType.description}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Filters Section */}\n        {showFilters && (\n          <div className=\"filters-section\">\n            <h2>Report Filters</h2>\n            <div className=\"filters-grid\">\n              <div className=\"filter-group\">\n                <label>Start Date</label>\n                <input\n                  type=\"date\"\n                  value={reportFilters.start_date}\n                  onChange={(e) => handleFilterChange('start_date', e.target.value)}\n                />\n              </div>\n              <div className=\"filter-group\">\n                <label>End Date</label>\n                <input\n                  type=\"date\"\n                  value={reportFilters.end_date}\n                  onChange={(e) => handleFilterChange('end_date', e.target.value)}\n                />\n              </div>\n              <div className=\"filter-group\">\n                <label>Product ID</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter product ID\"\n                  value={reportFilters.product_id}\n                  onChange={(e) => handleFilterChange('product_id', e.target.value)}\n                />\n              </div>\n              <div className=\"filter-group\">\n                <label>Category ID</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter category ID\"\n                  value={reportFilters.category_id}\n                  onChange={(e) => handleFilterChange('category_id', e.target.value)}\n                />\n              </div>\n              <div className=\"filter-group\">\n                <label>Customer Name</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter customer name\"\n                  value={reportFilters.customer_name}\n                  onChange={(e) => handleFilterChange('customer_name', e.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"filters-actions\">\n              <button\n                className=\"btn btn-primary\"\n                onClick={generateReport}\n                disabled={loading}\n              >\n                {loading ? 'Generating...' : 'Generate Report'}\n              </button>\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => setShowFilters(false)}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Generated Report */}\n        {generatedReport && (\n          <div className=\"generated-report-section\">\n            <div className=\"report-header\">\n              <h2>\n                {reportTypes.find(r => r.id === selectedReportType)?.name}\n                <span className=\"report-date\">\n                  Generated: {formatDate(generatedReport.generated_at)}\n                </span>\n              </h2>\n              <div className=\"report-actions\">\n                <button\n                  className=\"btn btn-success\"\n                  onClick={() => exportReport('pdf')}\n                  disabled={loading}\n                >\n                  📄 Export Text\n                </button>\n                <button\n                  className=\"btn btn-info\"\n                  onClick={() => exportReport('excel')}\n                  disabled={loading}\n                >\n                  📊 Export CSV\n                </button>\n              </div>\n            </div>\n            {renderReportData()}\n          </div>\n        )}\n\n        {/* Previous Reports */}\n        <div className=\"previous-reports-section\">\n          <h2>{t('titles.previous_reports')}</h2>\n          {reports.length > 0 ? (\n            <div className=\"reports-list\">\n              {reports.map((report) => (\n                <div key={report.id} className=\"report-item\">\n                  <div className=\"report-info\">\n                    <h4>{report.name}</h4>\n                    <p>{report.description}</p>\n                    <div className=\"report-meta\">\n                      <span>Type: {report.report_type}</span>\n                      <span>Generated: {formatDate(report.generated_at)}</span>\n                      <span>By: {report.generated_by_name}</span>\n                    </div>\n                  </div>\n                  <div className=\"report-actions\">\n                    {report.file_path && (\n                      <button className=\"btn btn-sm btn-outline\">\n                        📥 Download\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"no-data\">No previous reports found</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}