{"ast":null,"code":"import _objectSpread from\"/home/antatsimo/WareHouse_Manager/elif-sales-app/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{useAuth}from'../contexts/AuthContext';import api from'../services/api';import Button from'../components/Button';import PrintButton from'../components/PrintButton';import'./PackagingValidation.css';import{formatCurrency}from'../utils/helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PackagingValidation=_ref=>{let{saleId,onComplete,onCancel}=_ref;const{t}=useTranslation();const{user}=useAuth();const[sale,setSale]=useState(null);const[packagingItems,setPackagingItems]=useState([]);const[availableProducts,setAvailableProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showAddForm,setShowAddForm]=useState(false);const[newPackaging,setNewPackaging]=useState({product:'',quantity:1,unit:1,unit_price:0,status:'consignation',customer_name:'',customer_phone:'',notes:''});useEffect(()=>{if(saleId){fetchPackagingData();}},[saleId]);const fetchPackagingData=async()=>{try{setLoading(true);const response=await api.get(\"/api/sales/\".concat(saleId,\"/packaging-validation/\"));setSale(response.data.sale);setPackagingItems(response.data.packaging_items||[]);setAvailableProducts(response.data.available_products||[]);}catch(err){setError('Failed to load packaging data');console.error('Error fetching packaging data:',err);}finally{setLoading(false);}};const handleAddPackaging=async()=>{try{setError('');setSuccess('');if(!newPackaging.product||!newPackaging.quantity){setError('Please fill in all required fields');return;}const packagingData={packaging_items:[{product:parseInt(newPackaging.product),quantity:parseFloat(newPackaging.quantity),unit:parseInt(newPackaging.unit),unit_price:parseFloat(newPackaging.unit_price),status:newPackaging.status,customer_name:newPackaging.customer_name||sale.customer_name,customer_phone:newPackaging.customer_phone||sale.customer_phone,notes:newPackaging.notes}]};await api.post(\"/api/sales/\".concat(saleId,\"/add-packaging/\"),packagingData);setSuccess('Packaging item added successfully');setNewPackaging({product:'',quantity:1,unit:1,unit_price:0,status:'consignation',customer_name:'',customer_phone:'',notes:''});setShowAddForm(false);fetchPackagingData();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to add packaging item');console.error('Error adding packaging:',err);}};const handleProductChange=productId=>{const product=availableProducts.find(p=>p.id===parseInt(productId));if(product){setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{product:productId,unit_price:product.packaging_price||0}));}};const handleStatusChange=(packagingId,newStatus)=>{setPackagingItems(prev=>prev.map(item=>item.id===packagingId?_objectSpread(_objectSpread({},item),{},{status:newStatus}):item));};const handleSettlePackaging=async packagingId=>{try{setError('');setSuccess('');// Update packaging status to 'consignation' (settled)\nawait api.patch(\"/api/sales/packaging/\".concat(packagingId,\"/\"),{status:'consignation'});setSuccess('Packaging item settled successfully');// Update local state\nsetPackagingItems(prev=>prev.map(item=>item.id===packagingId?_objectSpread(_objectSpread({},item),{},{status:'consignation'}):item));// Refresh data\nfetchPackagingData();}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to settle packaging item');console.error('Error settling packaging:',err);}};const handleCompleteValidation=async()=>{try{setError('');setSuccess('');// Update packaging statuses if any were changed\nfor(const item of packagingItems){if(item.status!=='consignation'){// Update the packaging item status\nawait api.patch(\"/api/sales/packaging/\".concat(item.id,\"/\"),{status:item.status});}}setSuccess('Packaging validation completed successfully');if(onComplete){onComplete();}}catch(err){var _err$response3,_err$response3$data;setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||'Failed to complete packaging validation');console.error('Error completing packaging validation:',err);}};const calculatePackagingTotal=()=>{return packagingItems.reduce((total,item)=>{return total+(parseFloat(item.total_price)||0);},0);};const generatePrintData=()=>{return{sale_number:(sale===null||sale===void 0?void 0:sale.sale_number)||'N/A',customer_name:(sale===null||sale===void 0?void 0:sale.customer_name)||'Walk-in Customer',customer_phone:(sale===null||sale===void 0?void 0:sale.customer_phone)||'',customer_email:(sale===null||sale===void 0?void 0:sale.customer_email)||'',user_name:(user===null||user===void 0?void 0:user.username)||t('app.unknown_user'),user_id:(user===null||user===void 0?void 0:user.id)||'unknown',created_at:(sale===null||sale===void 0?void 0:sale.created_at)||new Date().toISOString(),print_timestamp:new Date().toISOString(),print_id:\"PACKAGING-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9)),packaging_items:packagingItems.map(item=>({product_name:item.product_name,quantity:item.quantity,unit_name:item.unit_name,unit_price:item.unit_price,total_price:item.total_price,status:item.status})),packaging_total:calculatePackagingTotal()};};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"packaging-validation\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading packaging data...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-validation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"validation-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Packaging Validation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sale-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Sale: \",sale===null||sale===void 0?void 0:sale.sale_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Customer: \",(sale===null||sale===void 0?void 0:sale.customer_name)||'Walk-in Customer']}),(sale===null||sale===void 0?void 0:sale.customer_phone)&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone: \",sale.customer_phone]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Packaging Items:\"}),/*#__PURE__*/_jsx(\"span\",{children:packagingItems.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Packaging Total:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(calculatePackagingTotal())})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"packaging-actions\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddForm(!showAddForm),variant:\"primary\",size:\"small\",children:showAddForm?'Cancel':'Add Packaging'})}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-packaging-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add New Packaging Item\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product *\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPackaging.product,onChange:e=>handleProductChange(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Product\"}),availableProducts.map(product=>/*#__PURE__*/_jsxs(\"option\",{value:product.id,children:[product.name,\" - \",formatCurrency(product.packaging_price)]},product.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0.01\",value:newPackaging.quantity,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{quantity:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:newPackaging.unit_price,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{unit_price:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPackaging.status,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"consignation\",children:\"Consignation (Paid)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exchange\",children:\"Exchange\"}),/*#__PURE__*/_jsx(\"option\",{value:\"due\",children:\"Due (To be returned)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPackaging.customer_name,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{customer_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPackaging.customer_phone,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{customer_phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newPackaging.notes,onChange:e=>setNewPackaging(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleAddPackaging,variant:\"primary\",children:\"Add Packaging\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddForm(false),variant:\"secondary\",children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-items\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Packaging Items\"}),packagingItems.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-items\",children:\"No packaging items for this sale\"}):/*#__PURE__*/_jsx(\"div\",{className:\"packaging-list\",children:packagingItems.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"packaging-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-name\",children:item.product_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[item.quantity,\" \",item.unit_name,\" \\xD7 \",formatCurrency(item.unit_price),\" = \",formatCurrency(item.total_price)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-status\",children:[\"Status:\",/*#__PURE__*/_jsxs(\"select\",{value:item.status,onChange:e=>handleStatusChange(item.id,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"consignation\",children:\"Consignation (Paid)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exchange\",children:\"Exchange\"}),/*#__PURE__*/_jsx(\"option\",{value:\"due\",children:\"Due (To be returned)\"})]}),item.status==='due'&&/*#__PURE__*/_jsx(Button,{onClick:()=>handleSettlePackaging(item.id),variant:\"success\",size:\"small\",style:{marginLeft:'10px'},children:\"Settle\"})]}),item.customer_name&&/*#__PURE__*/_jsxs(\"div\",{className:\"customer-info\",children:[\"Customer: \",item.customer_name,\" \",item.customer_phone&&\"(\".concat(item.customer_phone,\")\")]}),item.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-notes\",children:[\"Notes: \",item.notes]})]})},item.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"validation-actions\",children:[/*#__PURE__*/_jsx(PrintButton,{data:generatePrintData(),title:\"Packaging Validation Report\",type:\"packaging_validation\",printText:\"Print Report\",className:\"print-packaging-btn\",showValidateOption:true,onValidate:handleCompleteValidation,validateText:\"Validate & Print\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCompleteValidation,variant:\"primary\",size:\"large\",children:\"Complete Validation\"}),/*#__PURE__*/_jsx(Button,{onClick:onCancel,variant:\"secondary\",size:\"large\",children:\"Cancel\"})]})]});};export default PackagingValidation;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","useAuth","api","Button","PrintButton","formatCurrency","jsx","_jsx","jsxs","_jsxs","PackagingValidation","_ref","saleId","onComplete","onCancel","t","user","sale","setSale","packagingItems","setPackagingItems","availableProducts","setAvailableProducts","loading","setLoading","error","setError","success","setSuccess","showAddForm","setShowAddForm","newPackaging","setNewPackaging","product","quantity","unit","unit_price","status","customer_name","customer_phone","notes","fetchPackagingData","response","get","concat","data","packaging_items","available_products","err","console","handleAddPackaging","packagingData","parseInt","parseFloat","post","_err$response","_err$response$data","handleProductChange","productId","find","p","id","prev","_objectSpread","packaging_price","handleStatusChange","packagingId","newStatus","map","item","handleSettlePackaging","patch","_err$response2","_err$response2$data","handleCompleteValidation","_err$response3","_err$response3$data","calculatePackagingTotal","reduce","total","total_price","generatePrintData","sale_number","customer_email","user_name","username","user_id","created_at","Date","toISOString","print_timestamp","print_id","now","Math","random","toString","substr","product_name","unit_name","packaging_total","className","children","length","onClick","variant","size","value","onChange","e","target","required","name","type","step","min","rows","style","marginLeft","title","printText","showValidateOption","onValidate","validateText"],"sources":["/home/antatsimo/WareHouse_Manager/elif-sales-app/beverage_management_system/src/pages/PackagingValidation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport Button from '../components/Button';\nimport PrintButton from '../components/PrintButton';\nimport './PackagingValidation.css';\nimport {formatCurrency} from '../utils/helpers';\n\nconst PackagingValidation = ({ saleId, onComplete, onCancel }) => {\n  const { t } = useTranslation();\n  const { user } = useAuth();\n  const [sale, setSale] = useState(null);\n  const [packagingItems, setPackagingItems] = useState([]);\n  const [availableProducts, setAvailableProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newPackaging, setNewPackaging] = useState({\n    product: '',\n    quantity: 1,\n    unit: 1,\n    unit_price: 0,\n    status: 'consignation',\n    customer_name: '',\n    customer_phone: '',\n    notes: ''\n  });\n\n  useEffect(() => {\n    if (saleId) {\n      fetchPackagingData();\n    }\n  }, [saleId]);\n\n  const fetchPackagingData = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/api/sales/${saleId}/packaging-validation/`);\n      setSale(response.data.sale);\n      setPackagingItems(response.data.packaging_items || []);\n      setAvailableProducts(response.data.available_products || []);\n    } catch (err) {\n      setError('Failed to load packaging data');\n      console.error('Error fetching packaging data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddPackaging = async () => {\n    try {\n      setError('');\n      setSuccess('');\n\n      if (!newPackaging.product || !newPackaging.quantity) {\n        setError('Please fill in all required fields');\n        return;\n      }\n\n      const packagingData = {\n        packaging_items: [{\n          product: parseInt(newPackaging.product),\n          quantity: parseFloat(newPackaging.quantity),\n          unit: parseInt(newPackaging.unit),\n          unit_price: parseFloat(newPackaging.unit_price),\n          status: newPackaging.status,\n          customer_name: newPackaging.customer_name || sale.customer_name,\n          customer_phone: newPackaging.customer_phone || sale.customer_phone,\n          notes: newPackaging.notes\n        }]\n      };\n\n      await api.post(`/api/sales/${saleId}/add-packaging/`, packagingData);\n      setSuccess('Packaging item added successfully');\n      setNewPackaging({\n        product: '',\n        quantity: 1,\n        unit: 1,\n        unit_price: 0,\n        status: 'consignation',\n        customer_name: '',\n        customer_phone: '',\n        notes: ''\n      });\n      setShowAddForm(false);\n      fetchPackagingData();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to add packaging item');\n      console.error('Error adding packaging:', err);\n    }\n  };\n\n  const handleProductChange = (productId) => {\n    const product = availableProducts.find(p => p.id === parseInt(productId));\n    if (product) {\n      setNewPackaging(prev => ({\n        ...prev,\n        product: productId,\n        unit_price: product.packaging_price || 0\n      }));\n    }\n  };\n\n  const handleStatusChange = (packagingId, newStatus) => {\n    setPackagingItems(prev => \n      prev.map(item => \n        item.id === packagingId \n          ? { ...item, status: newStatus }\n          : item\n      )\n    );\n  };\n\n  const handleSettlePackaging = async (packagingId) => {\n    try {\n      setError('');\n      setSuccess('');\n\n      // Update packaging status to 'consignation' (settled)\n      await api.patch(`/api/sales/packaging/${packagingId}/`, {\n        status: 'consignation'\n      });\n\n      setSuccess('Packaging item settled successfully');\n      \n      // Update local state\n      setPackagingItems(prev => \n        prev.map(item => \n          item.id === packagingId \n            ? { ...item, status: 'consignation' }\n            : item\n        )\n      );\n      \n      // Refresh data\n      fetchPackagingData();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to settle packaging item');\n      console.error('Error settling packaging:', err);\n    }\n  };\n\n  const handleCompleteValidation = async () => {\n    try {\n      setError('');\n      setSuccess('');\n\n      // Update packaging statuses if any were changed\n      for (const item of packagingItems) {\n        if (item.status !== 'consignation') {\n          // Update the packaging item status\n          await api.patch(`/api/sales/packaging/${item.id}/`, {\n            status: item.status\n          });\n        }\n      }\n\n      setSuccess('Packaging validation completed successfully');\n      if (onComplete) {\n        onComplete();\n      }\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to complete packaging validation');\n      console.error('Error completing packaging validation:', err);\n    }\n  };\n\n  const calculatePackagingTotal = () => {\n    return packagingItems.reduce((total, item) => {\n      return total + (parseFloat(item.total_price) || 0);\n    }, 0);\n  };\n\n  const generatePrintData = () => {\n    return {\n      sale_number: sale?.sale_number || 'N/A',\n      customer_name: sale?.customer_name || 'Walk-in Customer',\n      customer_phone: sale?.customer_phone || '',\n      customer_email: sale?.customer_email || '',\n      user_name: user?.username || t('app.unknown_user'),\n      user_id: user?.id || 'unknown',\n      created_at: sale?.created_at || new Date().toISOString(),\n      print_timestamp: new Date().toISOString(),\n      print_id: `PACKAGING-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      packaging_items: packagingItems.map(item => ({\n        product_name: item.product_name,\n        quantity: item.quantity,\n        unit_name: item.unit_name,\n        unit_price: item.unit_price,\n        total_price: item.total_price,\n        status: item.status\n      })),\n      packaging_total: calculatePackagingTotal()\n    };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"packaging-validation\">\n        <div className=\"loading\">Loading packaging data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"packaging-validation\">\n      <div className=\"validation-header\">\n        <h2>Packaging Validation</h2>\n        <div className=\"sale-info\">\n          <h3>Sale: {sale?.sale_number}</h3>\n          <p>Customer: {sale?.customer_name || 'Walk-in Customer'}</p>\n          {sale?.customer_phone && <p>Phone: {sale.customer_phone}</p>}\n        </div>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n      {success && <div className=\"success-message\">{success}</div>}\n\n      <div className=\"packaging-summary\">\n        <div className=\"summary-row\">\n          <span>Packaging Items:</span>\n          <span>{packagingItems.length}</span>\n        </div>\n        <div className=\"summary-row\">\n          <span>Packaging Total:</span>\n          <span>{formatCurrency(calculatePackagingTotal())}</span>\n        </div>\n      </div>\n\n      <div className=\"packaging-actions\">\n        <Button \n          onClick={() => setShowAddForm(!showAddForm)}\n          variant=\"primary\"\n          size=\"small\"\n        >\n          {showAddForm ? 'Cancel' : 'Add Packaging'}\n        </Button>\n      </div>\n\n      {showAddForm && (\n        <div className=\"add-packaging-form\">\n          <h4>Add New Packaging Item</h4>\n          <div className=\"form-group\">\n            <label>Product *</label>\n            <select\n              value={newPackaging.product}\n              onChange={(e) => handleProductChange(e.target.value)}\n              required\n            >\n              <option value=\"\">Select Product</option>\n              {availableProducts.map(product => (\n                <option key={product.id} value={product.id}>\n                  {product.name} - {formatCurrency(product.packaging_price)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Quantity *</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0.01\"\n              value={newPackaging.quantity}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, quantity: e.target.value }))}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Unit Price</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0\"\n              value={newPackaging.unit_price}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, unit_price: e.target.value }))}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Status</label>\n            <select\n              value={newPackaging.status}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, status: e.target.value }))}\n            >\n              <option value=\"consignation\">Consignation (Paid)</option>\n              <option value=\"exchange\">Exchange</option>\n              <option value=\"due\">Due (To be returned)</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Customer Name</label>\n            <input\n              type=\"text\"\n              value={newPackaging.customer_name}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, customer_name: e.target.value }))}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Customer Phone</label>\n            <input\n              type=\"text\"\n              value={newPackaging.customer_phone}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, customer_phone: e.target.value }))}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Notes</label>\n            <textarea\n              value={newPackaging.notes}\n              onChange={(e) => setNewPackaging(prev => ({ ...prev, notes: e.target.value }))}\n              rows=\"3\"\n            />\n          </div>\n\n          <div className=\"form-actions\">\n            <Button onClick={handleAddPackaging} variant=\"primary\">\n              Add Packaging\n            </Button>\n            <Button onClick={() => setShowAddForm(false)} variant=\"secondary\">\n              Cancel\n            </Button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"packaging-items\">\n        <h4>Current Packaging Items</h4>\n        {packagingItems.length === 0 ? (\n          <div className=\"no-items\">No packaging items for this sale</div>\n        ) : (\n          <div className=\"packaging-list\">\n            {packagingItems.map(item => (\n              <div key={item.id} className=\"packaging-item\">\n                <div className=\"item-info\">\n                  <div className=\"item-name\">{item.product_name}</div>\n                  <div className=\"item-details\">\n                    {item.quantity} {item.unit_name} Ã— {formatCurrency(item.unit_price)} = {formatCurrency(item.total_price)}\n                  </div>\n                  <div className=\"item-status\">\n                    Status: \n                    <select\n                      value={item.status}\n                      onChange={(e) => handleStatusChange(item.id, e.target.value)}\n                    >\n                      <option value=\"consignation\">Consignation (Paid)</option>\n                      <option value=\"exchange\">Exchange</option>\n                      <option value=\"due\">Due (To be returned)</option>\n                    </select>\n                    {item.status === 'due' && (\n                      <Button \n                        onClick={() => handleSettlePackaging(item.id)}\n                        variant=\"success\"\n                        size=\"small\"\n                        style={{ marginLeft: '10px' }}\n                      >\n                        Settle\n                      </Button>\n                    )}\n                  </div>\n                  {item.customer_name && (\n                    <div className=\"customer-info\">\n                      Customer: {item.customer_name} {item.customer_phone && `(${item.customer_phone})`}\n                    </div>\n                  )}\n                  {item.notes && (\n                    <div className=\"item-notes\">Notes: {item.notes}</div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"validation-actions\">\n        <PrintButton\n          data={generatePrintData()}\n          title=\"Packaging Validation Report\"\n          type=\"packaging_validation\"\n          printText=\"Print Report\"\n          className=\"print-packaging-btn\"\n          showValidateOption={true}\n          onValidate={handleCompleteValidation}\n          validateText=\"Validate & Print\"\n        />\n        <Button onClick={handleCompleteValidation} variant=\"primary\" size=\"large\">\n          Complete Validation\n        </Button>\n        <Button onClick={onCancel} variant=\"secondary\" size=\"large\">\n          Cancel\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default PackagingValidation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}