{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useTranslation}from'react-i18next';import Button from'./Button';import LanguageSelector from'./LanguageSelector';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout,isAuthenticated,isSales}=useAuth();const{t}=useTranslation();const navigate=useNavigate();const[isMenuOpen,setIsMenuOpen]=useState(false);const[activeDropdown,setActiveDropdown]=useState(null);const navbarRef=useRef(null);const handleLogout=()=>{logout();navigate('/login');};const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const toggleDropdown=category=>{setActiveDropdown(activeDropdown===category?null:category);};// Close dropdowns when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(navbarRef.current&&!navbarRef.current.contains(event.target)){setActiveDropdown(null);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Admin App - Only admin management navigation\nconst navigationItems=[{name:t('navigation.inventory'),path:'/inventory',icon:'üì¶'},{name:t('navigation.purchase_orders'),path:'/purchase-orders',icon:'üìã'},{name:t('navigation.suppliers'),path:'/suppliers',icon:'üè¢'},{name:t('navigation.users'),path:'/users',icon:'üë•',adminOnly:true},{name:t('navigation.tax_management'),path:'/tax-management',icon:'üìä',adminOnly:true},{name:t('navigation.system_management'),path:'/system-management',icon:'üîß',adminOnly:true},{name:t('navigation.stock_movement'),path:'/stock-movement',icon:'üì¶',adminOnly:true},{name:t('navigation.all_pages'),path:'/all-pages',icon:'üîó',adminOnly:true}];return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",ref:navbarRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-container\",children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-left\",children:/*#__PURE__*/_jsx(LanguageSelector,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:t('app.title')})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-menu \".concat(isMenuOpen?'active':''),children:navigationItems.map((item,index)=>{// Check if user has permission for this item\nif(item.adminOnly&&!((user===null||user===void 0?void 0:user.role)==='admin'||(user===null||user===void 0?void 0:user.role)==='manager')){return null;}return/*#__PURE__*/_jsxs(Link,{to:item.path,className:\"navbar-link\",onClick:()=>setIsMenuOpen(false),children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-icon\",children:item.icon}),item.name]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-user\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:user===null||user===void 0?void 0:user.role})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"small\",onClick:handleLogout,children:t('navigation.logout')})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"navbar-toggle\",onClick:toggleMenu,\"aria-label\":t('app.toggle_menu'),children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:t('app.title')})})})});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","useAuth","useTranslation","Button","LanguageSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","logout","isAuthenticated","isSales","t","navigate","isMenuOpen","setIsMenuOpen","activeDropdown","setActiveDropdown","navbarRef","handleLogout","toggleMenu","toggleDropdown","category","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","navigationItems","name","path","icon","adminOnly","className","ref","children","to","concat","map","item","index","role","onClick","username","variant","size"],"sources":["/home/el-ifran/WareHouse_Manager/elif-admin-app/beverage_management_system/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useTranslation } from 'react-i18next';\nimport Button from './Button';\nimport LanguageSelector from './LanguageSelector';\nimport './Navbar.css';\n\nconst Navbar = () => {\n  const { user, logout, isAuthenticated, isSales } = useAuth();\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState(null);\n  const navbarRef = useRef(null);\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  const toggleDropdown = (category) => {\n    setActiveDropdown(activeDropdown === category ? null : category);\n  };\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (navbarRef.current && !navbarRef.current.contains(event.target)) {\n        setActiveDropdown(null);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Admin App - Only admin management navigation\n  const navigationItems = [\n    { name: t('navigation.inventory'), path: '/inventory', icon: 'üì¶' },\n    { name: t('navigation.purchase_orders'), path: '/purchase-orders', icon: 'üìã' },\n    { name: t('navigation.suppliers'), path: '/suppliers', icon: 'üè¢' },\n    { name: t('navigation.users'), path: '/users', icon: 'üë•', adminOnly: true },\n    { name: t('navigation.tax_management'), path: '/tax-management', icon: 'üìä', adminOnly: true },\n    { name: t('navigation.system_management'), path: '/system-management', icon: 'üîß', adminOnly: true },\n    { name: t('navigation.stock_movement'), path: '/stock-movement', icon: 'üì¶', adminOnly: true },\n    { name: t('navigation.all_pages'), path: '/all-pages', icon: 'üîó', adminOnly: true }\n  ];\n\n  return (\n    <nav className=\"navbar\" ref={navbarRef}>\n      <div className=\"navbar-container\">\n        {isAuthenticated ? (\n          <>\n            <div className=\"navbar-left\">\n              <LanguageSelector />\n            </div>\n            \n            <div className=\"navbar-center\">\n              <Link to=\"/\" className=\"navbar-brand\">\n                <h1>{t('app.title')}</h1>\n              </Link>\n              <div className={`navbar-menu ${isMenuOpen ? 'active' : ''}`}>\n                {navigationItems.map((item, index) => {\n                  // Check if user has permission for this item\n                  if (item.adminOnly && !(user?.role === 'admin' || user?.role === 'manager')) {\n                    return null;\n                  }\n                  \n                  return (\n                    <Link \n                      key={index}\n                      to={item.path} \n                      className=\"navbar-link\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <span className=\"nav-icon\">{item.icon}</span>\n                      {item.name}\n                    </Link>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"navbar-right\">\n              <div className=\"navbar-user\">\n                <div className=\"user-info\">\n                  <span className=\"user-name\">{user?.username}</span>\n                  <span className=\"user-role\">{user?.role}</span>\n                </div>\n                <Button \n                  variant=\"outline\" \n                  size=\"small\" \n                  onClick={handleLogout}\n                >\n                  {t('navigation.logout')}\n                </Button>\n              </div>\n\n              <button \n                className=\"navbar-toggle\"\n                onClick={toggleMenu}\n                aria-label={t('app.toggle_menu')}\n              >\n                <span></span>\n                <span></span>\n                <span></span>\n              </button>\n            </div>\n          </>\n        ) : (\n          <Link to=\"/\" className=\"navbar-brand\">\n            <h1>{t('app.title')}</h1>\n          </Link>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}