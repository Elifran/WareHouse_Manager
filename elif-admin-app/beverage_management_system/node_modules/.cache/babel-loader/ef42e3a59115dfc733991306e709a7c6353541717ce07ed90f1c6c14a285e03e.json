{"ast":null,"code":"import _objectSpread from\"/home/el-ifran/WareHouse_Manager/elif-admin-app/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{useAuth}from'../contexts/AuthContext';import api from'../services/api';import SaleDetailModal from'../components/SaleDetailModal';import PrintButton from'../components/PrintButton';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,BarChart,Bar}from'recharts';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _dashboardData$sales,_dashboardData$sales2,_dashboardData$sales3,_dashboardData$sales4,_dashboardData$sales5,_dashboardData$orders,_dashboardData$orders2,_dashboardData$orders3,_dashboardData$invent,_dashboardData$users,_dashboardData$suppli,_dashboardData$invent2,_dashboardData$invent3,_dashboardData$invent4,_dashboardData$invent5,_dashboardData$sales6,_dashboardData$sales7,_dashboardData$analyt,_dashboardData$analyt2,_dashboardData$analyt3,_dashboardData$analyt4,_dashboardData$analyt5,_dashboardData$analyt6,_dashboardData$recent,_dashboardData$recent2,_dashboardData$invent6,_dashboardData$invent7,_dashboardData$analyt7;const{t}=useTranslation();const{user}=useAuth();const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[selectedPeriod,setSelectedPeriod]=useState('month');const[selectedSale,setSelectedSale]=useState(null);const[showSaleModal,setShowSaleModal]=useState(false);const[saleDetailLoading,setSaleDetailLoading]=useState(false);const[dailySalesData,setDailySalesData]=useState([]);const[monthlySalesData,setMonthlySalesData]=useState([]);// Check if user is sales team (limited access)\nconst isSalesTeam=(user===null||user===void 0?void 0:user.role)==='sales';// Process chart data from sales\nconst processChartData=salesData=>{if(!Array.isArray(salesData))return;// Group sales by date for chart based on selected period\nconst chartData={};salesData.forEach(sale=>{const saleDate=new Date(sale.created_at);let dateKey;// Determine date key based on selected period\nswitch(selectedPeriod){case'daily':// Group by hour for daily view\ndateKey=\"\".concat(saleDate.toISOString().split('T')[0],\" \").concat(String(saleDate.getHours()).padStart(2,'0'),\":00\");break;case'weekly':// Group by day for weekly view\ndateKey=saleDate.toISOString().split('T')[0];// YYYY-MM-DD\nbreak;case'month':// Group by day for monthly view\ndateKey=saleDate.toISOString().split('T')[0];// YYYY-MM-DD\nbreak;default:dateKey=saleDate.toISOString().split('T')[0];// YYYY-MM-DD\n}const amount=parseFloat(sale.total_amount)||0;let cost=parseFloat(sale.cost_amount)||0;// If cost_amount is not available, try to calculate from items\nif(cost===0&&sale.items&&Array.isArray(sale.items)){cost=sale.items.reduce((itemCost,item)=>{const itemCostPrice=parseFloat(item.cost_price)||0;const itemQuantity=parseFloat(item.quantity)||0;return itemCost+itemCostPrice*itemQuantity;},0);}const profit=amount-cost;if(!chartData[dateKey]){chartData[dateKey]={date:dateKey,sales:0,cost:0,profit:0,count:0};}chartData[dateKey].sales+=amount;chartData[dateKey].cost+=cost;chartData[dateKey].profit+=profit;chartData[dateKey].count+=1;});// Convert to array and sort by date\nconst chartArray=Object.values(chartData).sort((a,b)=>new Date(a.date)-new Date(b.date));setDailySalesData(chartArray);};useEffect(()=>{fetchDashboardData();},[selectedPeriod,isSalesTeam]);// eslint-disable-line react-hooks/exhaustive-deps\nconst fetchDashboardData=async()=>{try{setLoading(true);// Calculate date range based on selected period\nconst now=new Date();let startDate;switch(selectedPeriod){case'daily':startDate=new Date(now.getFullYear(),now.getMonth(),now.getDate());break;case'weekly':startDate=new Date(now.getTime()-7*24*60*60*1000);break;case'month':startDate=new Date(now.getFullYear(),now.getMonth(),1);break;default:startDate=new Date(now.getTime()-30*24*60*60*1000);// Default to 30 days\n}const startDateStr=startDate.toISOString().split('T')[0];// For Admin app, fetch data filtered by time period\nconst[salesResponse,purchaseOrdersResponse,productsResponse,usersResponse,suppliersResponse]=await Promise.all([api.get(\"/api/sales/?ordering=-created_at&created_at__gte=\".concat(startDateStr)),// Filter sales by date\napi.get('/api/purchases/purchase-orders/'),api.get('/api/products/?ordering=-created_at'),// Get products ordered by creation date\napi.get('/api/core/users/'),api.get('/api/purchases/suppliers/')]);// Calculate comprehensive metrics - handle paginated responses\nconst salesData=salesResponse.data.results||salesResponse.data;const ordersData=purchaseOrdersResponse.data.results||purchaseOrdersResponse.data;const productsData=productsResponse.data.results||productsResponse.data;const usersData=usersResponse.data.results||usersResponse.data;const suppliersData=suppliersResponse.data.results||suppliersResponse.data;const totalSales=Array.isArray(salesData)?salesData.length:0;const totalOrders=Array.isArray(ordersData)?ordersData.length:0;const totalProducts=Array.isArray(productsData)?productsData.length:0;const totalUsers=Array.isArray(usersData)?usersData.length:0;const totalSuppliers=Array.isArray(suppliersData)?suppliersData.length:0;// Calculate total sales value\nconst totalSalesValue=Array.isArray(salesData)?salesData.reduce((sum,sale)=>{return sum+(parseFloat(sale.total_amount)||0);},0):0;// Calculate total order value\nconst totalOrderValue=Array.isArray(ordersData)?ordersData.reduce((sum,order)=>{return sum+(parseFloat(order.total_amount)||0);},0):0;// Calculate inventory metrics and product analytics\nlet outOfStockCount=0;let lowStockCount=0;let totalRetailValue=0;let totalCostValue=0;let productSalesCount={};let latestProducts=[];if(Array.isArray(productsData)){productsData.forEach(product=>{if(product.is_out_of_stock){outOfStockCount++;}if(product.is_low_stock){lowStockCount++;}// Calculate retail value (stock * price)\nconst stock=parseFloat(product.stock_quantity)||0;const price=parseFloat(product.price)||0;const costPrice=parseFloat(product.cost_price)||0;totalRetailValue+=stock*price;totalCostValue+=stock*costPrice;});// Get latest 3 products\nlatestProducts=productsData.slice(0,3).map(product=>({id:product.id,name:product.name,price:parseFloat(product.price)||0,stock:parseFloat(product.stock_quantity)||0,created_at:product.created_at}));}// Calculate sales analytics\nlet totalProfit=0;let totalRevenue=0;let totalCost=0;let recentSales=[];if(Array.isArray(salesData)){recentSales=salesData.slice(0,5).map(sale=>({id:sale.id,sale_number:sale.sale_number,customer_name:sale.customer_name||'Walk-in Customer',total_amount:parseFloat(sale.total_amount)||0,payment_method:sale.payment_method,status:sale.status,created_at:sale.created_at,sold_by_name:sale.sold_by_name}));// Calculate profit from sales\nsalesData.forEach(sale=>{const revenue=parseFloat(sale.total_amount)||0;let cost=parseFloat(sale.cost_amount)||0;// If cost_amount is not available, try to calculate from items\nif(cost===0&&sale.items&&Array.isArray(sale.items)){cost=sale.items.reduce((itemCost,item)=>{const itemCostPrice=parseFloat(item.cost_price)||0;const itemQuantity=parseFloat(item.quantity)||0;return itemCost+itemCostPrice*itemQuantity;},0);}totalRevenue+=revenue;totalCost+=cost;totalProfit+=revenue-cost;});}// Find best-selling product (most sold quantity)\nlet bestSellingProduct=null;if(Array.isArray(salesData)){let productSales={};salesData.forEach(sale=>{if(sale.items&&Array.isArray(sale.items)){sale.items.forEach(item=>{const productId=item.product;const quantity=parseFloat(item.quantity)||0;if(!productSales[productId]){productSales[productId]={id:productId,name:item.product_name,totalQuantity:0,totalRevenue:0};}productSales[productId].totalQuantity+=quantity;productSales[productId].totalRevenue+=parseFloat(item.total_price)||0;});}});// Find the product with highest quantity sold\nconst productIds=Object.keys(productSales);if(productIds.length>0){bestSellingProduct=productIds.reduce((best,current)=>productSales[current].totalQuantity>productSales[best].totalQuantity?current:best);bestSellingProduct=productSales[bestSellingProduct];}}setDashboardData({sales:{total_sales:totalSales,total_value:totalSalesValue,total_revenue:totalRevenue,total_cost:totalCost,total_profit:totalProfit,recent_sales:recentSales},orders:{total_orders:totalOrders,total_value:totalOrderValue},inventory:{total_products:totalProducts,out_of_stock:outOfStockCount,low_stock:lowStockCount,retail_value:totalRetailValue,cost_value:totalCostValue,latest_products:latestProducts},analytics:{best_selling_product:bestSellingProduct,profit_margin:totalRevenue>0?totalProfit/totalRevenue*100:0},users:{total_users:totalUsers},suppliers:{total_suppliers:totalSuppliers}});// Process chart data\nprocessChartData(salesData);}catch(err){setError(t('dashboard.failed_to_load'));console.error('Dashboard error:',err);}finally{setLoading(false);}};const handlePeriodChange=period=>{// Only allow period changes for non-sales users\nif(!isSalesTeam){setSelectedPeriod(period);}};const handleSaleClick=async sale=>{try{setSaleDetailLoading(true);setShowSaleModal(true);// Check if sale has an ID\nconst saleId=sale.id||sale.sale_id;if(!saleId){throw new Error(t('errors.not_found'));}// Fetch detailed sale information\nconst response=await api.get(\"/api/sales/\".concat(saleId,\"/\"));setSelectedSale(response.data);}catch(err){console.error('Failed to fetch sale details:',err);setError(\"Failed to load sale details: \".concat(err.message));setShowSaleModal(false);}finally{setSaleDetailLoading(false);}};const handleCloseSaleModal=()=>{setShowSaleModal(false);setSelectedSale(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:t('dashboard.loading')})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-error\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('dashboard.error')}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardData,children:t('common.retry')})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:t('dashboard.title')}),/*#__PURE__*/_jsx(\"p\",{children:t('dashboard.welcome',{username:user===null||user===void 0?void 0:user.username})}),isSalesTeam&&/*#__PURE__*/_jsx(\"p\",{className:\"role-indicator\",children:t('dashboard.sales_team_view')})]}),!isSalesTeam&&/*#__PURE__*/_jsxs(\"div\",{className:\"period-selector\",children:[/*#__PURE__*/_jsx(\"label\",{children:t('dashboard.time_period')}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPeriod,onChange:e=>handlePeriodChange(e.target.value),className:\"period-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:t('dashboard.daily')}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:t('dashboard.weekly')}),/*#__PURE__*/_jsx(\"option\",{value:\"month\",children:t('dashboard.monthly')})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon sales\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Sales\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$sales=dashboardData.sales)===null||_dashboardData$sales===void 0?void 0:_dashboardData$sales.total_sales)||0}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-label\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$sales2=dashboardData.sales)===null||_dashboardData$sales2===void 0?void 0:(_dashboardData$sales3=_dashboardData$sales2.total_value)===null||_dashboardData$sales3===void 0?void 0:_dashboardData$sales3.toFixed(2))||'0.00',\" MGA Total Value\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon cost\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Cost\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$sales4=dashboardData.sales)===null||_dashboardData$sales4===void 0?void 0:(_dashboardData$sales5=_dashboardData$sales4.total_cost)===null||_dashboardData$sales5===void 0?void 0:_dashboardData$sales5.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label\",children:\"Cost of Goods Sold\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon orders\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 7h-1V6a4 4 0 0 0-8 0v1H9a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM12 4a2 2 0 0 1 2 2v1h-4V6a2 2 0 0 1 2-2zm6 15a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$orders=dashboardData.orders)===null||_dashboardData$orders===void 0?void 0:_dashboardData$orders.total_orders)||0}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-label\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$orders2=dashboardData.orders)===null||_dashboardData$orders2===void 0?void 0:(_dashboardData$orders3=_dashboardData$orders2.total_value)===null||_dashboardData$orders3===void 0?void 0:_dashboardData$orders3.toFixed(2))||'0.00',\" MGA Total Value\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon inventory\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L2 7L12 12L22 7L12 2Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2 17L12 22L22 17\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2 12L12 17L22 12\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$invent=dashboardData.inventory)===null||_dashboardData$invent===void 0?void 0:_dashboardData$invent.total_products)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label\",children:\"Active Products\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon users\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16 4C18.2 4 20 5.8 20 8S18.2 12 16 12 12 10.2 12 8 13.8 4 16 4M16 14C20.4 14 24 15.8 24 18V20H8V18C8 15.8 11.6 14 16 14M8 4C10.2 4 12 5.8 12 8S10.2 12 8 12 4 10.2 4 8 5.8 4 8 4M8 14C12.4 14 16 15.8 16 18V20H0V18C0 15.8 3.6 14 8 14Z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$users=dashboardData.users)===null||_dashboardData$users===void 0?void 0:_dashboardData$users.total_users)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label\",children:\"System Users\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon suppliers\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Suppliers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$suppli=dashboardData.suppliers)===null||_dashboardData$suppli===void 0?void 0:_dashboardData$suppli.total_suppliers)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label\",children:\"Active Suppliers\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon retail\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7 4V2c0-.55-.45-1-1-1s-1 .45-1 1v2H3c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H7zM21 4h-2V2c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Retail Value\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$invent2=dashboardData.inventory)===null||_dashboardData$invent2===void 0?void 0:(_dashboardData$invent3=_dashboardData$invent2.retail_value)===null||_dashboardData$invent3===void 0?void 0:_dashboardData$invent3.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-label\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$invent4=dashboardData.inventory)===null||_dashboardData$invent4===void 0?void 0:_dashboardData$invent4.low_stock)||0,\" low stock\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon out-of-stock\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Out of Stock\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$invent5=dashboardData.inventory)===null||_dashboardData$invent5===void 0?void 0:_dashboardData$invent5.out_of_stock)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label\",children:\"products need restocking\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon profit\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Profit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$sales6=dashboardData.sales)===null||_dashboardData$sales6===void 0?void 0:(_dashboardData$sales7=_dashboardData$sales6.total_profit)===null||_dashboardData$sales7===void 0?void 0:_dashboardData$sales7.toFixed(2))||'0.00',\" MGA\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-label\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$analyt=dashboardData.analytics)===null||_dashboardData$analyt===void 0?void 0:(_dashboardData$analyt2=_dashboardData$analyt.profit_margin)===null||_dashboardData$analyt2===void 0?void 0:_dashboardData$analyt2.toFixed(1))||'0.0',\"% margin\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon best-seller\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Best Seller\"}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-value\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$analyt3=dashboardData.analytics)===null||_dashboardData$analyt3===void 0?void 0:(_dashboardData$analyt4=_dashboardData$analyt3.best_selling_product)===null||_dashboardData$analyt4===void 0?void 0:_dashboardData$analyt4.name)||'N/A'}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-label\",children:[(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$analyt5=dashboardData.analytics)===null||_dashboardData$analyt5===void 0?void 0:(_dashboardData$analyt6=_dashboardData$analyt5.best_selling_product)===null||_dashboardData$analyt6===void 0?void 0:_dashboardData$analyt6.totalQuantity)||0,\" units sold\"]})]})]})]}),!isSalesTeam&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Sales Trend (\",selectedPeriod==='daily'?'Today':selectedPeriod==='weekly'?'Last 7 Days':'This Month',\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"sales-chart\",children:dailySalesData.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-bars\",children:dailySalesData.map((day,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chart-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bar-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar sales-bar\",style:{height:\"\".concat(Math.max(5,day.sales/Math.max(...dailySalesData.map(d=>d.sales))*100),\"%\")},title:\"Sales: \".concat(day.sales.toFixed(2),\" MGA\")}),/*#__PURE__*/_jsx(\"div\",{className:\"bar cost-bar\",style:{height:\"\".concat(Math.max(5,day.cost/Math.max(...dailySalesData.map(d=>d.sales))*100),\"%\")},title:\"Cost: \".concat(day.cost.toFixed(2),\" MGA\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-label\",children:new Date(day.date).toLocaleDateString('en-US',{month:'short',day:'numeric'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bar-values\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"value sales\",children:[day.sales.toFixed(0),\" MGA\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"value cost\",children:[day.cost.toFixed(0),\" MGA\"]})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-legend\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color sales\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sales\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color cost\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cost\"})]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No sales data available for the selected period\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('dashboard.recent_sales')}),(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$recent=dashboardData.recent_sales)===null||_dashboardData$recent===void 0?void 0:_dashboardData$recent.length)>0&&/*#__PURE__*/_jsx(PrintButton,{data:_objectSpread(_objectSpread({},dashboardData.recent_sales),{},{user_name:(user===null||user===void 0?void 0:user.username)||t('app.unknown_user'),user_id:(user===null||user===void 0?void 0:user.id)||'unknown',print_timestamp:new Date().toISOString(),print_id:\"PRINT-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9))}),title:t('titles.sales_management_report'),type:\"sales_history\",printText:t('buttons.print_sales_report'),className:\"print-recent-sales-btn\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"recent-sales\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$recent2=dashboardData.recent_sales)===null||_dashboardData$recent2===void 0?void 0:_dashboardData$recent2.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"sales-list\",children:dashboardData.recent_sales.map((sale,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"sale-item clickable\",onClick:()=>handleSaleClick(sale),title:t('dashboard.click_to_view_details'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sale-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:sale.sale_number}),/*#__PURE__*/_jsx(\"p\",{children:sale.customer_name||t('dashboard.walk_in_customer')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sale-amount\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[sale.total_amount.toFixed(2),\" MGA\"]}),/*#__PURE__*/_jsx(\"small\",{children:new Date(sale.created_at).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sale-arrow\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"})})})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No recent sales\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Latest Products\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"latest-products\",children:(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$invent6=dashboardData.inventory)===null||_dashboardData$invent6===void 0?void 0:(_dashboardData$invent7=_dashboardData$invent6.latest_products)===null||_dashboardData$invent7===void 0?void 0:_dashboardData$invent7.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"products-list\",children:dashboardData.inventory.latest_products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Added: \",new Date(product.created_at).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[product.price.toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Stock:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[product.stock,\" units\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Value:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[(product.stock*product.price).toFixed(2),\" MGA\"]})]})]})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No products available\"})})]}),(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$analyt7=dashboardData.analytics)===null||_dashboardData$analyt7===void 0?void 0:_dashboardData$analyt7.best_selling_product)&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Best Selling Product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"best-seller-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-item featured\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:dashboardData.analytics.best_selling_product.name}),/*#__PURE__*/_jsx(\"p\",{children:\"Top performer in sales\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Units Sold:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value highlight\",children:dashboardData.analytics.best_selling_product.totalQuantity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Revenue:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value highlight\",children:[dashboardData.analytics.best_selling_product.totalRevenue.toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Avg. per Sale:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[(dashboardData.analytics.best_selling_product.totalRevenue/dashboardData.analytics.best_selling_product.totalQuantity).toFixed(2),\" MGA\"]})]})]})]})})]}),dailySalesData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Daily Sales Trend (Last 30 Days)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:dailySalesData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",tickFormatter:value=>new Date(value).toLocaleDateString('en-US',{month:'short',day:'numeric'})}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat(value.toLocaleString(),\" MGA\")}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name)=>[\"\".concat(parseFloat(value).toFixed(2),\" MGA\"),name==='sales'?'Sales':name==='cost'?'Cost':'Profit'],labelFormatter:value=>new Date(value).toLocaleDateString()}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"sales\",stroke:\"#3b82f6\",strokeWidth:2,name:\"Sales\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"cost\",stroke:\"#ef4444\",strokeWidth:2,name:\"Cost\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"profit\",stroke:\"#10b981\",strokeWidth:2,name:\"Profit\"})]})})})]}),monthlySalesData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Monthly Sales Overview (Last 12 Months)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:monthlySalesData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\",tickFormatter:value=>new Date(value+'-01').toLocaleDateString('en-US',{month:'short',year:'numeric'})}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat(value.toLocaleString(),\" MGA\")}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name)=>[\"\".concat(parseFloat(value).toFixed(2),\" MGA\"),name==='sales'?'Sales':name==='cost'?'Cost':'Profit'],labelFormatter:value=>new Date(value+'-01').toLocaleDateString('en-US',{month:'long',year:'numeric'})}),/*#__PURE__*/_jsx(Bar,{dataKey:\"sales\",fill:\"#3b82f6\",name:\"Sales\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"cost\",fill:\"#ef4444\",name:\"Cost\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"profit\",fill:\"#10b981\",name:\"Profit\"})]})})})]}),showSaleModal&&/*#__PURE__*/_jsx(SaleDetailModal,{sale:selectedSale,onClose:handleCloseSaleModal,loading:saleDetailLoading})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","useAuth","api","SaleDetailModal","PrintButton","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","BarChart","Bar","jsx","_jsx","jsxs","_jsxs","Dashboard","_dashboardData$sales","_dashboardData$sales2","_dashboardData$sales3","_dashboardData$sales4","_dashboardData$sales5","_dashboardData$orders","_dashboardData$orders2","_dashboardData$orders3","_dashboardData$invent","_dashboardData$users","_dashboardData$suppli","_dashboardData$invent2","_dashboardData$invent3","_dashboardData$invent4","_dashboardData$invent5","_dashboardData$sales6","_dashboardData$sales7","_dashboardData$analyt","_dashboardData$analyt2","_dashboardData$analyt3","_dashboardData$analyt4","_dashboardData$analyt5","_dashboardData$analyt6","_dashboardData$recent","_dashboardData$recent2","_dashboardData$invent6","_dashboardData$invent7","_dashboardData$analyt7","t","user","dashboardData","setDashboardData","loading","setLoading","error","setError","selectedPeriod","setSelectedPeriod","selectedSale","setSelectedSale","showSaleModal","setShowSaleModal","saleDetailLoading","setSaleDetailLoading","dailySalesData","setDailySalesData","monthlySalesData","setMonthlySalesData","isSalesTeam","role","processChartData","salesData","Array","isArray","chartData","forEach","sale","saleDate","Date","created_at","dateKey","concat","toISOString","split","String","getHours","padStart","amount","parseFloat","total_amount","cost","cost_amount","items","reduce","itemCost","item","itemCostPrice","cost_price","itemQuantity","quantity","profit","date","sales","count","chartArray","Object","values","sort","a","b","fetchDashboardData","now","startDate","getFullYear","getMonth","getDate","getTime","startDateStr","salesResponse","purchaseOrdersResponse","productsResponse","usersResponse","suppliersResponse","Promise","all","get","data","results","ordersData","productsData","usersData","suppliersData","totalSales","length","totalOrders","totalProducts","totalUsers","totalSuppliers","totalSalesValue","sum","totalOrderValue","order","outOfStockCount","lowStockCount","totalRetailValue","totalCostValue","productSalesCount","latestProducts","product","is_out_of_stock","is_low_stock","stock","stock_quantity","price","costPrice","slice","map","id","name","totalProfit","totalRevenue","totalCost","recentSales","sale_number","customer_name","payment_method","status","sold_by_name","revenue","bestSellingProduct","productSales","productId","product_name","totalQuantity","total_price","productIds","keys","best","current","total_sales","total_value","total_revenue","total_cost","total_profit","recent_sales","orders","total_orders","inventory","total_products","out_of_stock","low_stock","retail_value","cost_value","latest_products","analytics","best_selling_product","profit_margin","users","total_users","suppliers","total_suppliers","err","console","handlePeriodChange","period","handleSaleClick","saleId","sale_id","Error","response","message","handleCloseSaleModal","className","children","onClick","username","value","onChange","e","target","viewBox","fill","d","toFixed","day","index","style","height","Math","max","title","toLocaleDateString","month","_objectSpread","user_name","user_id","print_timestamp","print_id","random","toString","substr","type","printText","width","strokeDasharray","dataKey","tickFormatter","toLocaleString","formatter","labelFormatter","stroke","strokeWidth","year","onClose"],"sources":["/home/el-ifran/WareHouse_Manager/elif-admin-app/beverage_management_system/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport SaleDetailModal from '../components/SaleDetailModal';\nimport PrintButton from '../components/PrintButton';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n  const { t } = useTranslation();\n  const { user } = useAuth();\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedPeriod, setSelectedPeriod] = useState('month');\n  const [selectedSale, setSelectedSale] = useState(null);\n  const [showSaleModal, setShowSaleModal] = useState(false);\n  const [saleDetailLoading, setSaleDetailLoading] = useState(false);\n  const [dailySalesData, setDailySalesData] = useState([]);\n  const [monthlySalesData, setMonthlySalesData] = useState([]);\n\n  // Check if user is sales team (limited access)\n  const isSalesTeam = user?.role === 'sales';\n\n  // Process chart data from sales\n  const processChartData = (salesData) => {\n    if (!Array.isArray(salesData)) return;\n\n    // Group sales by date for chart based on selected period\n    const chartData = {};\n\n    salesData.forEach(sale => {\n      const saleDate = new Date(sale.created_at);\n      let dateKey;\n      \n      // Determine date key based on selected period\n      switch (selectedPeriod) {\n        case 'daily':\n          // Group by hour for daily view\n          dateKey = `${saleDate.toISOString().split('T')[0]} ${String(saleDate.getHours()).padStart(2, '0')}:00`;\n          break;\n        case 'weekly':\n          // Group by day for weekly view\n          dateKey = saleDate.toISOString().split('T')[0]; // YYYY-MM-DD\n          break;\n        case 'month':\n          // Group by day for monthly view\n          dateKey = saleDate.toISOString().split('T')[0]; // YYYY-MM-DD\n          break;\n        default:\n          dateKey = saleDate.toISOString().split('T')[0]; // YYYY-MM-DD\n      }\n      \n      const amount = parseFloat(sale.total_amount) || 0;\n      let cost = parseFloat(sale.cost_amount) || 0;\n      \n      // If cost_amount is not available, try to calculate from items\n      if (cost === 0 && sale.items && Array.isArray(sale.items)) {\n        cost = sale.items.reduce((itemCost, item) => {\n          const itemCostPrice = parseFloat(item.cost_price) || 0;\n          const itemQuantity = parseFloat(item.quantity) || 0;\n          return itemCost + (itemCostPrice * itemQuantity);\n        }, 0);\n      }\n      \n      const profit = amount - cost;\n\n      if (!chartData[dateKey]) {\n        chartData[dateKey] = { date: dateKey, sales: 0, cost: 0, profit: 0, count: 0 };\n      }\n      chartData[dateKey].sales += amount;\n      chartData[dateKey].cost += cost;\n      chartData[dateKey].profit += profit;\n      chartData[dateKey].count += 1;\n    });\n\n    // Convert to array and sort by date\n    const chartArray = Object.values(chartData)\n      .sort((a, b) => new Date(a.date) - new Date(b.date));\n\n    setDailySalesData(chartArray);\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, [selectedPeriod, isSalesTeam]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Calculate date range based on selected period\n      const now = new Date();\n      let startDate;\n      \n      switch (selectedPeriod) {\n        case 'daily':\n          startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n          break;\n        case 'weekly':\n          startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n          break;\n        case 'month':\n          startDate = new Date(now.getFullYear(), now.getMonth(), 1);\n          break;\n        default:\n          startDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000); // Default to 30 days\n      }\n      \n      const startDateStr = startDate.toISOString().split('T')[0];\n      \n      // For Admin app, fetch data filtered by time period\n      const [salesResponse, purchaseOrdersResponse, productsResponse, usersResponse, suppliersResponse] = await Promise.all([\n        api.get(`/api/sales/?ordering=-created_at&created_at__gte=${startDateStr}`), // Filter sales by date\n        api.get('/api/purchases/purchase-orders/'),\n        api.get('/api/products/?ordering=-created_at'), // Get products ordered by creation date\n        api.get('/api/core/users/'),\n        api.get('/api/purchases/suppliers/')\n      ]);\n      \n      // Calculate comprehensive metrics - handle paginated responses\n      const salesData = salesResponse.data.results || salesResponse.data;\n      const ordersData = purchaseOrdersResponse.data.results || purchaseOrdersResponse.data;\n      const productsData = productsResponse.data.results || productsResponse.data;\n      const usersData = usersResponse.data.results || usersResponse.data;\n      const suppliersData = suppliersResponse.data.results || suppliersResponse.data;\n      \n      const totalSales = Array.isArray(salesData) ? salesData.length : 0;\n      const totalOrders = Array.isArray(ordersData) ? ordersData.length : 0;\n      const totalProducts = Array.isArray(productsData) ? productsData.length : 0;\n      const totalUsers = Array.isArray(usersData) ? usersData.length : 0;\n      const totalSuppliers = Array.isArray(suppliersData) ? suppliersData.length : 0;\n      \n      // Calculate total sales value\n      const totalSalesValue = Array.isArray(salesData) ? salesData.reduce((sum, sale) => {\n        return sum + (parseFloat(sale.total_amount) || 0);\n      }, 0) : 0;\n      \n      // Calculate total order value\n      const totalOrderValue = Array.isArray(ordersData) ? ordersData.reduce((sum, order) => {\n        return sum + (parseFloat(order.total_amount) || 0);\n      }, 0) : 0;\n      \n      // Calculate inventory metrics and product analytics\n      let outOfStockCount = 0;\n      let lowStockCount = 0;\n      let totalRetailValue = 0;\n      let totalCostValue = 0;\n      let productSalesCount = {};\n      let latestProducts = [];\n      \n      if (Array.isArray(productsData)) {\n        productsData.forEach(product => {\n          if (product.is_out_of_stock) {\n            outOfStockCount++;\n          }\n          if (product.is_low_stock) {\n            lowStockCount++;\n          }\n          // Calculate retail value (stock * price)\n          const stock = parseFloat(product.stock_quantity) || 0;\n          const price = parseFloat(product.price) || 0;\n          const costPrice = parseFloat(product.cost_price) || 0;\n          totalRetailValue += stock * price;\n          totalCostValue += stock * costPrice;\n        });\n        \n        // Get latest 3 products\n        latestProducts = productsData.slice(0, 3).map(product => ({\n          id: product.id,\n          name: product.name,\n          price: parseFloat(product.price) || 0,\n          stock: parseFloat(product.stock_quantity) || 0,\n          created_at: product.created_at\n        }));\n      }\n      \n      // Calculate sales analytics\n      let totalProfit = 0;\n      let totalRevenue = 0;\n      let totalCost = 0;\n      let recentSales = [];\n      \n      if (Array.isArray(salesData)) {\n        recentSales = salesData.slice(0, 5).map(sale => ({\n          id: sale.id,\n          sale_number: sale.sale_number,\n          customer_name: sale.customer_name || 'Walk-in Customer',\n          total_amount: parseFloat(sale.total_amount) || 0,\n          payment_method: sale.payment_method,\n          status: sale.status,\n          created_at: sale.created_at,\n          sold_by_name: sale.sold_by_name\n        }));\n        \n        // Calculate profit from sales\n        salesData.forEach(sale => {\n          const revenue = parseFloat(sale.total_amount) || 0;\n          let cost = parseFloat(sale.cost_amount) || 0;\n          \n          // If cost_amount is not available, try to calculate from items\n          if (cost === 0 && sale.items && Array.isArray(sale.items)) {\n            cost = sale.items.reduce((itemCost, item) => {\n              const itemCostPrice = parseFloat(item.cost_price) || 0;\n              const itemQuantity = parseFloat(item.quantity) || 0;\n              return itemCost + (itemCostPrice * itemQuantity);\n            }, 0);\n          }\n          \n          totalRevenue += revenue;\n          totalCost += cost;\n          totalProfit += (revenue - cost);\n        });\n      }\n      \n      // Find best-selling product (most sold quantity)\n      let bestSellingProduct = null;\n      if (Array.isArray(salesData)) {\n        let productSales = {};\n        salesData.forEach(sale => {\n          if (sale.items && Array.isArray(sale.items)) {\n            sale.items.forEach(item => {\n              const productId = item.product;\n              const quantity = parseFloat(item.quantity) || 0;\n              if (!productSales[productId]) {\n                productSales[productId] = {\n                  id: productId,\n                  name: item.product_name,\n                  totalQuantity: 0,\n                  totalRevenue: 0\n                };\n              }\n              productSales[productId].totalQuantity += quantity;\n              productSales[productId].totalRevenue += parseFloat(item.total_price) || 0;\n            });\n          }\n        });\n        \n        // Find the product with highest quantity sold\n        const productIds = Object.keys(productSales);\n        if (productIds.length > 0) {\n          bestSellingProduct = productIds.reduce((best, current) => \n            productSales[current].totalQuantity > productSales[best].totalQuantity ? current : best\n          );\n          bestSellingProduct = productSales[bestSellingProduct];\n        }\n      }\n      \n      setDashboardData({\n        sales: {\n          total_sales: totalSales,\n          total_value: totalSalesValue,\n          total_revenue: totalRevenue,\n          total_cost: totalCost,\n          total_profit: totalProfit,\n          recent_sales: recentSales\n        },\n        orders: {\n          total_orders: totalOrders,\n          total_value: totalOrderValue\n        },\n        inventory: {\n          total_products: totalProducts,\n          out_of_stock: outOfStockCount,\n          low_stock: lowStockCount,\n          retail_value: totalRetailValue,\n          cost_value: totalCostValue,\n          latest_products: latestProducts\n        },\n        analytics: {\n          best_selling_product: bestSellingProduct,\n          profit_margin: totalRevenue > 0 ? ((totalProfit / totalRevenue) * 100) : 0\n        },\n        users: {\n          total_users: totalUsers\n        },\n        suppliers: {\n          total_suppliers: totalSuppliers\n        }\n      });\n\n      // Process chart data\n      processChartData(salesData);\n    } catch (err) {\n      setError(t('dashboard.failed_to_load'));\n      console.error('Dashboard error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePeriodChange = (period) => {\n    // Only allow period changes for non-sales users\n    if (!isSalesTeam) {\n      setSelectedPeriod(period);\n    }\n  };\n\n  const handleSaleClick = async (sale) => {\n    try {\n      setSaleDetailLoading(true);\n      setShowSaleModal(true);\n      \n      // Check if sale has an ID\n      const saleId = sale.id || sale.sale_id;\n      if (!saleId) {\n        throw new Error(t('errors.not_found'));\n      }\n      \n      // Fetch detailed sale information\n      const response = await api.get(`/api/sales/${saleId}/`);\n      setSelectedSale(response.data);\n    } catch (err) {\n      console.error('Failed to fetch sale details:', err);\n      setError(`Failed to load sale details: ${err.message}`);\n      setShowSaleModal(false);\n    } finally {\n      setSaleDetailLoading(false);\n    }\n  };\n\n  const handleCloseSaleModal = () => {\n    setShowSaleModal(false);\n    setSelectedSale(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-loading\">\n          <div className=\"spinner\"></div>\n          <span>{t('dashboard.loading')}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-error\">\n          <h2>{t('dashboard.error')}</h2>\n          <p>{error}</p>\n          <button onClick={fetchDashboardData}>{t('common.retry')}</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <div className=\"header-content\">\n          <div className=\"header-text\">\n            <h1>{t('dashboard.title')}</h1>\n            <p>{t('dashboard.welcome', { username: user?.username })}</p>\n            {isSalesTeam && (\n              <p className=\"role-indicator\">{t('dashboard.sales_team_view')}</p>\n            )}\n          </div>\n          {!isSalesTeam && (\n            <div className=\"period-selector\">\n              <label>{t('dashboard.time_period')}</label>\n              <select \n                value={selectedPeriod} \n                onChange={(e) => handlePeriodChange(e.target.value)}\n                className=\"period-select\"\n              >\n                <option value=\"daily\">{t('dashboard.daily')}</option>\n                <option value=\"weekly\">{t('dashboard.weekly')}</option>\n                <option value=\"month\">{t('dashboard.monthly')}</option>\n              </select>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"dashboard-grid\">\n        {/* Sales Summary Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon sales\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Sales</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.sales?.total_sales || 0}\n            </p>\n            <p className=\"metric-label\">\n              {dashboardData?.sales?.total_value?.toFixed(2) || '0.00'} MGA Total Value\n            </p>\n          </div>\n        </div>\n\n        {/* Total Cost Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon cost\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Cost</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.sales?.total_cost?.toFixed(2) || '0.00'} MGA\n            </p>\n            <p className=\"metric-label\">\n              Cost of Goods Sold\n            </p>\n          </div>\n        </div>\n\n        {/* Orders Summary Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon orders\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 7h-1V6a4 4 0 0 0-8 0v1H9a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM12 4a2 2 0 0 1 2 2v1h-4V6a2 2 0 0 1 2-2zm6 15a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Orders</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.orders?.total_orders || 0}\n            </p>\n            <p className=\"metric-label\">\n              {dashboardData?.orders?.total_value?.toFixed(2) || '0.00'} MGA Total Value\n            </p>\n          </div>\n        </div>\n\n        {/* Inventory Summary Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon inventory\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2L2 7L12 12L22 7L12 2Z\"/>\n              <path d=\"M2 17L12 22L22 17\"/>\n              <path d=\"M2 12L12 17L22 12\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Products</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.inventory?.total_products || 0}\n            </p>\n            <p className=\"metric-label\">\n              Active Products\n            </p>\n          </div>\n        </div>\n\n        {/* Users Summary Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon users\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M16 4C18.2 4 20 5.8 20 8S18.2 12 16 12 12 10.2 12 8 13.8 4 16 4M16 14C20.4 14 24 15.8 24 18V20H8V18C8 15.8 11.6 14 16 14M8 4C10.2 4 12 5.8 12 8S10.2 12 8 12 4 10.2 4 8 5.8 4 8 4M8 14C12.4 14 16 15.8 16 18V20H0V18C0 15.8 3.6 14 8 14Z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Users</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.users?.total_users || 0}\n            </p>\n            <p className=\"metric-label\">\n              System Users\n            </p>\n          </div>\n        </div>\n\n        {/* Suppliers Summary Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon suppliers\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Suppliers</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.suppliers?.total_suppliers || 0}\n            </p>\n            <p className=\"metric-label\">\n              Active Suppliers\n            </p>\n          </div>\n        </div>\n\n\n        {/* Retail Value Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon retail\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M7 4V2c0-.55-.45-1-1-1s-1 .45-1 1v2H3c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H7zM21 4h-2V2c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Retail Value</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.inventory?.retail_value?.toFixed(2) || '0.00'} MGA\n            </p>\n            <p className=\"metric-label\">\n              {dashboardData?.inventory?.low_stock || 0} low stock\n            </p>\n          </div>\n        </div>\n\n        {/* Out of Stock Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon out-of-stock\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Out of Stock</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.inventory?.out_of_stock || 0}\n            </p>\n            <p className=\"metric-label\">\n              products need restocking\n            </p>\n          </div>\n        </div>\n\n        {/* Profit Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon profit\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Total Profit</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.sales?.total_profit?.toFixed(2) || '0.00'} MGA\n            </p>\n            <p className=\"metric-label\">\n              {dashboardData?.analytics?.profit_margin?.toFixed(1) || '0.0'}% margin\n            </p>\n          </div>\n        </div>\n\n        {/* Best Selling Product Card */}\n        <div className=\"metric-card\">\n          <div className=\"metric-icon best-seller\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n            </svg>\n          </div>\n          <div className=\"metric-content\">\n            <h3>Best Seller</h3>\n            <p className=\"metric-value\">\n              {dashboardData?.analytics?.best_selling_product?.name || 'N/A'}\n            </p>\n            <p className=\"metric-label\">\n              {dashboardData?.analytics?.best_selling_product?.totalQuantity || 0} units sold\n            </p>\n          </div>\n        </div>\n\n      </div>\n\n      {/* Sales Chart - Only for Admin/Manager */}\n      {!isSalesTeam && (\n        <div className=\"dashboard-section\">\n          <h2>Sales Trend ({selectedPeriod === 'daily' ? 'Today' : selectedPeriod === 'weekly' ? 'Last 7 Days' : 'This Month'})</h2>\n          <div className=\"sales-chart\">\n            {dailySalesData.length > 0 ? (\n              <div className=\"chart-container\">\n                <div className=\"chart-bars\">\n                  {dailySalesData.map((day, index) => (\n                    <div key={index} className=\"chart-bar\">\n                      <div className=\"bar-group\">\n                        <div \n                          className=\"bar sales-bar\" \n                          style={{ height: `${Math.max(5, (day.sales / Math.max(...dailySalesData.map(d => d.sales))) * 100)}%` }}\n                          title={`Sales: ${day.sales.toFixed(2)} MGA`}\n                        ></div>\n                        <div \n                          className=\"bar cost-bar\" \n                          style={{ height: `${Math.max(5, (day.cost / Math.max(...dailySalesData.map(d => d.sales))) * 100)}%` }}\n                          title={`Cost: ${day.cost.toFixed(2)} MGA`}\n                        ></div>\n                      </div>\n                      <div className=\"bar-label\">\n                        {new Date(day.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                      </div>\n                      <div className=\"bar-values\">\n                        <div className=\"value sales\">{day.sales.toFixed(0)} MGA</div>\n                        <div className=\"value cost\">{day.cost.toFixed(0)} MGA</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"chart-legend\">\n                  <div className=\"legend-item\">\n                    <div className=\"legend-color sales\"></div>\n                    <span>Sales</span>\n                  </div>\n                  <div className=\"legend-item\">\n                    <div className=\"legend-color cost\"></div>\n                    <span>Cost</span>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <p className=\"no-data\">No sales data available for the selected period</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Recent Sales */}\n      <div className=\"dashboard-section\">\n        <div className=\"section-header\">\n          <h2>{t('dashboard.recent_sales')}</h2>\n          {dashboardData?.recent_sales?.length > 0 && (\n            <PrintButton\n              data={{\n                ...dashboardData.recent_sales,\n                user_name: user?.username || t('app.unknown_user'),\n                user_id: user?.id || 'unknown',\n                print_timestamp: new Date().toISOString(),\n                print_id: `PRINT-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n              }}\n              title={t('titles.sales_management_report')}\n              type=\"sales_history\"\n              printText={t('buttons.print_sales_report')}\n              className=\"print-recent-sales-btn\"\n            />\n          )}\n        </div>\n        <div className=\"recent-sales\">\n          {dashboardData?.recent_sales?.length > 0 ? (\n            <div className=\"sales-list\">\n              {dashboardData.recent_sales.map((sale, index) => (\n                <div \n                  key={index} \n                  className=\"sale-item clickable\"\n                  onClick={() => handleSaleClick(sale)}\n                  title={t('dashboard.click_to_view_details')}\n                >\n                  <div className=\"sale-info\">\n                    <h4>{sale.sale_number}</h4>\n                    <p>{sale.customer_name || t('dashboard.walk_in_customer')}</p>\n                  </div>\n                  <div className=\"sale-amount\">\n                    <span>{sale.total_amount.toFixed(2)} MGA</span>\n                    <small>{new Date(sale.created_at).toLocaleDateString()}</small>\n                  </div>\n                  <div className=\"sale-arrow\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"/>\n                    </svg>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"no-data\">No recent sales</p>\n          )}\n        </div>\n      </div>\n\n      {/* Latest Products */}\n      <div className=\"dashboard-section\">\n        <div className=\"section-header\">\n          <h2>Latest Products</h2>\n        </div>\n        <div className=\"latest-products\">\n          {dashboardData?.inventory?.latest_products?.length > 0 ? (\n            <div className=\"products-list\">\n              {dashboardData.inventory.latest_products.map((product, index) => (\n                <div key={index} className=\"product-item\">\n                  <div className=\"product-info\">\n                    <h4>{product.name}</h4>\n                    <p>Added: {new Date(product.created_at).toLocaleDateString()}</p>\n                  </div>\n                  <div className=\"product-stats\">\n                    <div className=\"stat-row\">\n                      <span className=\"stat-label\">Price:</span>\n                      <span className=\"stat-value\">{product.price.toFixed(2)} MGA</span>\n                    </div>\n                    <div className=\"stat-row\">\n                      <span className=\"stat-label\">Stock:</span>\n                      <span className=\"stat-value\">{product.stock} units</span>\n                    </div>\n                    <div className=\"stat-row\">\n                      <span className=\"stat-label\">Value:</span>\n                      <span className=\"stat-value\">{(product.stock * product.price).toFixed(2)} MGA</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"no-data\">No products available</p>\n          )}\n        </div>\n      </div>\n\n      {/* Best Selling Product Details */}\n      {dashboardData?.analytics?.best_selling_product && (\n        <div className=\"dashboard-section\">\n          <div className=\"section-header\">\n            <h2>Best Selling Product</h2>\n          </div>\n          <div className=\"best-seller-details\">\n            <div className=\"product-item featured\">\n              <div className=\"product-info\">\n                <h4>{dashboardData.analytics.best_selling_product.name}</h4>\n                <p>Top performer in sales</p>\n              </div>\n              <div className=\"product-stats\">\n                <div className=\"stat-row\">\n                  <span className=\"stat-label\">Units Sold:</span>\n                  <span className=\"stat-value highlight\">{dashboardData.analytics.best_selling_product.totalQuantity}</span>\n                </div>\n                <div className=\"stat-row\">\n                  <span className=\"stat-label\">Revenue:</span>\n                  <span className=\"stat-value highlight\">{dashboardData.analytics.best_selling_product.totalRevenue.toFixed(2)} MGA</span>\n                </div>\n                <div className=\"stat-row\">\n                  <span className=\"stat-label\">Avg. per Sale:</span>\n                  <span className=\"stat-value\">{(dashboardData.analytics.best_selling_product.totalRevenue / dashboardData.analytics.best_selling_product.totalQuantity).toFixed(2)} MGA</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Daily Sales Chart */}\n      {dailySalesData.length > 0 && (\n        <div className=\"dashboard-section\">\n          <div className=\"section-header\">\n            <h2>Daily Sales Trend (Last 30 Days)</h2>\n          </div>\n          <div className=\"chart-container\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={dailySalesData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis \n                  dataKey=\"date\" \n                  tickFormatter={(value) => new Date(value).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                />\n                <YAxis tickFormatter={(value) => `${value.toLocaleString()} MGA`} />\n                <Tooltip \n                  formatter={(value, name) => [\n                    `${parseFloat(value).toFixed(2)} MGA`, \n                    name === 'sales' ? 'Sales' : name === 'cost' ? 'Cost' : 'Profit'\n                  ]}\n                  labelFormatter={(value) => new Date(value).toLocaleDateString()}\n                />\n                <Line type=\"monotone\" dataKey=\"sales\" stroke=\"#3b82f6\" strokeWidth={2} name=\"Sales\" />\n                <Line type=\"monotone\" dataKey=\"cost\" stroke=\"#ef4444\" strokeWidth={2} name=\"Cost\" />\n                <Line type=\"monotone\" dataKey=\"profit\" stroke=\"#10b981\" strokeWidth={2} name=\"Profit\" />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n\n      {/* Monthly Sales Chart */}\n      {monthlySalesData.length > 0 && (\n        <div className=\"dashboard-section\">\n          <div className=\"section-header\">\n            <h2>Monthly Sales Overview (Last 12 Months)</h2>\n          </div>\n          <div className=\"chart-container\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={monthlySalesData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis \n                  dataKey=\"month\" \n                  tickFormatter={(value) => new Date(value + '-01').toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}\n                />\n                <YAxis tickFormatter={(value) => `${value.toLocaleString()} MGA`} />\n                <Tooltip \n                  formatter={(value, name) => [\n                    `${parseFloat(value).toFixed(2)} MGA`, \n                    name === 'sales' ? 'Sales' : name === 'cost' ? 'Cost' : 'Profit'\n                  ]}\n                  labelFormatter={(value) => new Date(value + '-01').toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\n                />\n                <Bar dataKey=\"sales\" fill=\"#3b82f6\" name=\"Sales\" />\n                <Bar dataKey=\"cost\" fill=\"#ef4444\" name=\"Cost\" />\n                <Bar dataKey=\"profit\" fill=\"#10b981\" name=\"Profit\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n\n      {/* Sale Detail Modal */}\n      {showSaleModal && (\n        <SaleDetailModal\n          sale={selectedSale}\n          onClose={handleCloseSaleModal}\n          loading={saleDetailLoading}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"+JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,CAAAC,eAAe,KAAM,+BAA+B,CAC3D,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,SAAS,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAEC,OAAO,CAAEC,mBAAmB,CAAEC,QAAQ,CAAEC,GAAG,KAAQ,UAAU,CACpH,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,KAAAC,oBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,oBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACtB,KAAM,CAAEC,CAAE,CAAC,CAAG/C,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAEgD,IAAK,CAAC,CAAG/C,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACgD,aAAa,CAAEC,gBAAgB,CAAC,CAAGpD,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuD,KAAK,CAAEC,QAAQ,CAAC,CAAGxD,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyD,cAAc,CAAEC,iBAAiB,CAAC,CAAG1D,QAAQ,CAAC,OAAO,CAAC,CAC7D,KAAM,CAAC2D,YAAY,CAAEC,eAAe,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAC6D,aAAa,CAAEC,gBAAgB,CAAC,CAAG9D,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC+D,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGhE,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACiE,cAAc,CAAEC,iBAAiB,CAAC,CAAGlE,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACmE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpE,QAAQ,CAAC,EAAE,CAAC,CAE5D;AACA,KAAM,CAAAqE,WAAW,CAAG,CAAAnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,IAAI,IAAK,OAAO,CAE1C;AACA,KAAM,CAAAC,gBAAgB,CAAIC,SAAS,EAAK,CACtC,GAAI,CAACC,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,CAAE,OAE/B;AACA,KAAM,CAAAG,SAAS,CAAG,CAAC,CAAC,CAEpBH,SAAS,CAACI,OAAO,CAACC,IAAI,EAAI,CACxB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAACF,IAAI,CAACG,UAAU,CAAC,CAC1C,GAAI,CAAAC,OAAO,CAEX;AACA,OAAQxB,cAAc,EACpB,IAAK,OAAO,CACV;AACAwB,OAAO,IAAAC,MAAA,CAAMJ,QAAQ,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAAF,MAAA,CAAIG,MAAM,CAACP,QAAQ,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,OAAK,CACtG,MACF,IAAK,QAAQ,CACX;AACAN,OAAO,CAAGH,QAAQ,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;AAChD,MACF,IAAK,OAAO,CACV;AACAH,OAAO,CAAGH,QAAQ,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;AAChD,MACF,QACEH,OAAO,CAAGH,QAAQ,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;AACpD,CAEA,KAAM,CAAAI,MAAM,CAAGC,UAAU,CAACZ,IAAI,CAACa,YAAY,CAAC,EAAI,CAAC,CACjD,GAAI,CAAAC,IAAI,CAAGF,UAAU,CAACZ,IAAI,CAACe,WAAW,CAAC,EAAI,CAAC,CAE5C;AACA,GAAID,IAAI,GAAK,CAAC,EAAId,IAAI,CAACgB,KAAK,EAAIpB,KAAK,CAACC,OAAO,CAACG,IAAI,CAACgB,KAAK,CAAC,CAAE,CACzDF,IAAI,CAAGd,IAAI,CAACgB,KAAK,CAACC,MAAM,CAAC,CAACC,QAAQ,CAAEC,IAAI,GAAK,CAC3C,KAAM,CAAAC,aAAa,CAAGR,UAAU,CAACO,IAAI,CAACE,UAAU,CAAC,EAAI,CAAC,CACtD,KAAM,CAAAC,YAAY,CAAGV,UAAU,CAACO,IAAI,CAACI,QAAQ,CAAC,EAAI,CAAC,CACnD,MAAO,CAAAL,QAAQ,CAAIE,aAAa,CAAGE,YAAa,CAClD,CAAC,CAAE,CAAC,CAAC,CACP,CAEA,KAAM,CAAAE,MAAM,CAAGb,MAAM,CAAGG,IAAI,CAE5B,GAAI,CAAChB,SAAS,CAACM,OAAO,CAAC,CAAE,CACvBN,SAAS,CAACM,OAAO,CAAC,CAAG,CAAEqB,IAAI,CAAErB,OAAO,CAAEsB,KAAK,CAAE,CAAC,CAAEZ,IAAI,CAAE,CAAC,CAAEU,MAAM,CAAE,CAAC,CAAEG,KAAK,CAAE,CAAE,CAAC,CAChF,CACA7B,SAAS,CAACM,OAAO,CAAC,CAACsB,KAAK,EAAIf,MAAM,CAClCb,SAAS,CAACM,OAAO,CAAC,CAACU,IAAI,EAAIA,IAAI,CAC/BhB,SAAS,CAACM,OAAO,CAAC,CAACoB,MAAM,EAAIA,MAAM,CACnC1B,SAAS,CAACM,OAAO,CAAC,CAACuB,KAAK,EAAI,CAAC,CAC/B,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,UAAU,CAAGC,MAAM,CAACC,MAAM,CAAChC,SAAS,CAAC,CACxCiC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAA/B,IAAI,CAAC8B,CAAC,CAACP,IAAI,CAAC,CAAG,GAAI,CAAAvB,IAAI,CAAC+B,CAAC,CAACR,IAAI,CAAC,CAAC,CAEtDpC,iBAAiB,CAACuC,UAAU,CAAC,CAC/B,CAAC,CAEDxG,SAAS,CAAC,IAAM,CACd8G,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACtD,cAAc,CAAEY,WAAW,CAAC,CAAC,CAAE;AAEnC,KAAM,CAAA0C,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACFzD,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAA0D,GAAG,CAAG,GAAI,CAAAjC,IAAI,CAAC,CAAC,CACtB,GAAI,CAAAkC,SAAS,CAEb,OAAQxD,cAAc,EACpB,IAAK,OAAO,CACVwD,SAAS,CAAG,GAAI,CAAAlC,IAAI,CAACiC,GAAG,CAACE,WAAW,CAAC,CAAC,CAAEF,GAAG,CAACG,QAAQ,CAAC,CAAC,CAAEH,GAAG,CAACI,OAAO,CAAC,CAAC,CAAC,CACtE,MACF,IAAK,QAAQ,CACXH,SAAS,CAAG,GAAI,CAAAlC,IAAI,CAACiC,GAAG,CAACK,OAAO,CAAC,CAAC,CAAG,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAC7D,MACF,IAAK,OAAO,CACVJ,SAAS,CAAG,GAAI,CAAAlC,IAAI,CAACiC,GAAG,CAACE,WAAW,CAAC,CAAC,CAAEF,GAAG,CAACG,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CAC1D,MACF,QACEF,SAAS,CAAG,GAAI,CAAAlC,IAAI,CAACiC,GAAG,CAACK,OAAO,CAAC,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE;AACpE,CAEA,KAAM,CAAAC,YAAY,CAAGL,SAAS,CAAC9B,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAE1D;AACA,KAAM,CAACmC,aAAa,CAAEC,sBAAsB,CAAEC,gBAAgB,CAAEC,aAAa,CAAEC,iBAAiB,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACpHzH,GAAG,CAAC0H,GAAG,qDAAA5C,MAAA,CAAqDoC,YAAY,CAAE,CAAC,CAAE;AAC7ElH,GAAG,CAAC0H,GAAG,CAAC,iCAAiC,CAAC,CAC1C1H,GAAG,CAAC0H,GAAG,CAAC,qCAAqC,CAAC,CAAE;AAChD1H,GAAG,CAAC0H,GAAG,CAAC,kBAAkB,CAAC,CAC3B1H,GAAG,CAAC0H,GAAG,CAAC,2BAA2B,CAAC,CACrC,CAAC,CAEF;AACA,KAAM,CAAAtD,SAAS,CAAG+C,aAAa,CAACQ,IAAI,CAACC,OAAO,EAAIT,aAAa,CAACQ,IAAI,CAClE,KAAM,CAAAE,UAAU,CAAGT,sBAAsB,CAACO,IAAI,CAACC,OAAO,EAAIR,sBAAsB,CAACO,IAAI,CACrF,KAAM,CAAAG,YAAY,CAAGT,gBAAgB,CAACM,IAAI,CAACC,OAAO,EAAIP,gBAAgB,CAACM,IAAI,CAC3E,KAAM,CAAAI,SAAS,CAAGT,aAAa,CAACK,IAAI,CAACC,OAAO,EAAIN,aAAa,CAACK,IAAI,CAClE,KAAM,CAAAK,aAAa,CAAGT,iBAAiB,CAACI,IAAI,CAACC,OAAO,EAAIL,iBAAiB,CAACI,IAAI,CAE9E,KAAM,CAAAM,UAAU,CAAG5D,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,CAAGA,SAAS,CAAC8D,MAAM,CAAG,CAAC,CAClE,KAAM,CAAAC,WAAW,CAAG9D,KAAK,CAACC,OAAO,CAACuD,UAAU,CAAC,CAAGA,UAAU,CAACK,MAAM,CAAG,CAAC,CACrE,KAAM,CAAAE,aAAa,CAAG/D,KAAK,CAACC,OAAO,CAACwD,YAAY,CAAC,CAAGA,YAAY,CAACI,MAAM,CAAG,CAAC,CAC3E,KAAM,CAAAG,UAAU,CAAGhE,KAAK,CAACC,OAAO,CAACyD,SAAS,CAAC,CAAGA,SAAS,CAACG,MAAM,CAAG,CAAC,CAClE,KAAM,CAAAI,cAAc,CAAGjE,KAAK,CAACC,OAAO,CAAC0D,aAAa,CAAC,CAAGA,aAAa,CAACE,MAAM,CAAG,CAAC,CAE9E;AACA,KAAM,CAAAK,eAAe,CAAGlE,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,CAAGA,SAAS,CAACsB,MAAM,CAAC,CAAC8C,GAAG,CAAE/D,IAAI,GAAK,CACjF,MAAO,CAAA+D,GAAG,EAAInD,UAAU,CAACZ,IAAI,CAACa,YAAY,CAAC,EAAI,CAAC,CAAC,CACnD,CAAC,CAAE,CAAC,CAAC,CAAG,CAAC,CAET;AACA,KAAM,CAAAmD,eAAe,CAAGpE,KAAK,CAACC,OAAO,CAACuD,UAAU,CAAC,CAAGA,UAAU,CAACnC,MAAM,CAAC,CAAC8C,GAAG,CAAEE,KAAK,GAAK,CACpF,MAAO,CAAAF,GAAG,EAAInD,UAAU,CAACqD,KAAK,CAACpD,YAAY,CAAC,EAAI,CAAC,CAAC,CACpD,CAAC,CAAE,CAAC,CAAC,CAAG,CAAC,CAET;AACA,GAAI,CAAAqD,eAAe,CAAG,CAAC,CACvB,GAAI,CAAAC,aAAa,CAAG,CAAC,CACrB,GAAI,CAAAC,gBAAgB,CAAG,CAAC,CACxB,GAAI,CAAAC,cAAc,CAAG,CAAC,CACtB,GAAI,CAAAC,iBAAiB,CAAG,CAAC,CAAC,CAC1B,GAAI,CAAAC,cAAc,CAAG,EAAE,CAEvB,GAAI3E,KAAK,CAACC,OAAO,CAACwD,YAAY,CAAC,CAAE,CAC/BA,YAAY,CAACtD,OAAO,CAACyE,OAAO,EAAI,CAC9B,GAAIA,OAAO,CAACC,eAAe,CAAE,CAC3BP,eAAe,EAAE,CACnB,CACA,GAAIM,OAAO,CAACE,YAAY,CAAE,CACxBP,aAAa,EAAE,CACjB,CACA;AACA,KAAM,CAAAQ,KAAK,CAAG/D,UAAU,CAAC4D,OAAO,CAACI,cAAc,CAAC,EAAI,CAAC,CACrD,KAAM,CAAAC,KAAK,CAAGjE,UAAU,CAAC4D,OAAO,CAACK,KAAK,CAAC,EAAI,CAAC,CAC5C,KAAM,CAAAC,SAAS,CAAGlE,UAAU,CAAC4D,OAAO,CAACnD,UAAU,CAAC,EAAI,CAAC,CACrD+C,gBAAgB,EAAIO,KAAK,CAAGE,KAAK,CACjCR,cAAc,EAAIM,KAAK,CAAGG,SAAS,CACrC,CAAC,CAAC,CAEF;AACAP,cAAc,CAAGlB,YAAY,CAAC0B,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAACR,OAAO,GAAK,CACxDS,EAAE,CAAET,OAAO,CAACS,EAAE,CACdC,IAAI,CAAEV,OAAO,CAACU,IAAI,CAClBL,KAAK,CAAEjE,UAAU,CAAC4D,OAAO,CAACK,KAAK,CAAC,EAAI,CAAC,CACrCF,KAAK,CAAE/D,UAAU,CAAC4D,OAAO,CAACI,cAAc,CAAC,EAAI,CAAC,CAC9CzE,UAAU,CAAEqE,OAAO,CAACrE,UACtB,CAAC,CAAC,CAAC,CACL,CAEA;AACA,GAAI,CAAAgF,WAAW,CAAG,CAAC,CACnB,GAAI,CAAAC,YAAY,CAAG,CAAC,CACpB,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,GAAI,CAAAC,WAAW,CAAG,EAAE,CAEpB,GAAI1F,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,CAAE,CAC5B2F,WAAW,CAAG3F,SAAS,CAACoF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAAChF,IAAI,GAAK,CAC/CiF,EAAE,CAAEjF,IAAI,CAACiF,EAAE,CACXM,WAAW,CAAEvF,IAAI,CAACuF,WAAW,CAC7BC,aAAa,CAAExF,IAAI,CAACwF,aAAa,EAAI,kBAAkB,CACvD3E,YAAY,CAAED,UAAU,CAACZ,IAAI,CAACa,YAAY,CAAC,EAAI,CAAC,CAChD4E,cAAc,CAAEzF,IAAI,CAACyF,cAAc,CACnCC,MAAM,CAAE1F,IAAI,CAAC0F,MAAM,CACnBvF,UAAU,CAAEH,IAAI,CAACG,UAAU,CAC3BwF,YAAY,CAAE3F,IAAI,CAAC2F,YACrB,CAAC,CAAC,CAAC,CAEH;AACAhG,SAAS,CAACI,OAAO,CAACC,IAAI,EAAI,CACxB,KAAM,CAAA4F,OAAO,CAAGhF,UAAU,CAACZ,IAAI,CAACa,YAAY,CAAC,EAAI,CAAC,CAClD,GAAI,CAAAC,IAAI,CAAGF,UAAU,CAACZ,IAAI,CAACe,WAAW,CAAC,EAAI,CAAC,CAE5C;AACA,GAAID,IAAI,GAAK,CAAC,EAAId,IAAI,CAACgB,KAAK,EAAIpB,KAAK,CAACC,OAAO,CAACG,IAAI,CAACgB,KAAK,CAAC,CAAE,CACzDF,IAAI,CAAGd,IAAI,CAACgB,KAAK,CAACC,MAAM,CAAC,CAACC,QAAQ,CAAEC,IAAI,GAAK,CAC3C,KAAM,CAAAC,aAAa,CAAGR,UAAU,CAACO,IAAI,CAACE,UAAU,CAAC,EAAI,CAAC,CACtD,KAAM,CAAAC,YAAY,CAAGV,UAAU,CAACO,IAAI,CAACI,QAAQ,CAAC,EAAI,CAAC,CACnD,MAAO,CAAAL,QAAQ,CAAIE,aAAa,CAAGE,YAAa,CAClD,CAAC,CAAE,CAAC,CAAC,CACP,CAEA8D,YAAY,EAAIQ,OAAO,CACvBP,SAAS,EAAIvE,IAAI,CACjBqE,WAAW,EAAKS,OAAO,CAAG9E,IAAK,CACjC,CAAC,CAAC,CACJ,CAEA;AACA,GAAI,CAAA+E,kBAAkB,CAAG,IAAI,CAC7B,GAAIjG,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,CAAE,CAC5B,GAAI,CAAAmG,YAAY,CAAG,CAAC,CAAC,CACrBnG,SAAS,CAACI,OAAO,CAACC,IAAI,EAAI,CACxB,GAAIA,IAAI,CAACgB,KAAK,EAAIpB,KAAK,CAACC,OAAO,CAACG,IAAI,CAACgB,KAAK,CAAC,CAAE,CAC3ChB,IAAI,CAACgB,KAAK,CAACjB,OAAO,CAACoB,IAAI,EAAI,CACzB,KAAM,CAAA4E,SAAS,CAAG5E,IAAI,CAACqD,OAAO,CAC9B,KAAM,CAAAjD,QAAQ,CAAGX,UAAU,CAACO,IAAI,CAACI,QAAQ,CAAC,EAAI,CAAC,CAC/C,GAAI,CAACuE,YAAY,CAACC,SAAS,CAAC,CAAE,CAC5BD,YAAY,CAACC,SAAS,CAAC,CAAG,CACxBd,EAAE,CAAEc,SAAS,CACbb,IAAI,CAAE/D,IAAI,CAAC6E,YAAY,CACvBC,aAAa,CAAE,CAAC,CAChBb,YAAY,CAAE,CAChB,CAAC,CACH,CACAU,YAAY,CAACC,SAAS,CAAC,CAACE,aAAa,EAAI1E,QAAQ,CACjDuE,YAAY,CAACC,SAAS,CAAC,CAACX,YAAY,EAAIxE,UAAU,CAACO,IAAI,CAAC+E,WAAW,CAAC,EAAI,CAAC,CAC3E,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,UAAU,CAAGtE,MAAM,CAACuE,IAAI,CAACN,YAAY,CAAC,CAC5C,GAAIK,UAAU,CAAC1C,MAAM,CAAG,CAAC,CAAE,CACzBoC,kBAAkB,CAAGM,UAAU,CAAClF,MAAM,CAAC,CAACoF,IAAI,CAAEC,OAAO,GACnDR,YAAY,CAACQ,OAAO,CAAC,CAACL,aAAa,CAAGH,YAAY,CAACO,IAAI,CAAC,CAACJ,aAAa,CAAGK,OAAO,CAAGD,IACrF,CAAC,CACDR,kBAAkB,CAAGC,YAAY,CAACD,kBAAkB,CAAC,CACvD,CACF,CAEAtH,gBAAgB,CAAC,CACfmD,KAAK,CAAE,CACL6E,WAAW,CAAE/C,UAAU,CACvBgD,WAAW,CAAE1C,eAAe,CAC5B2C,aAAa,CAAErB,YAAY,CAC3BsB,UAAU,CAAErB,SAAS,CACrBsB,YAAY,CAAExB,WAAW,CACzByB,YAAY,CAAEtB,WAChB,CAAC,CACDuB,MAAM,CAAE,CACNC,YAAY,CAAEpD,WAAW,CACzB8C,WAAW,CAAExC,eACf,CAAC,CACD+C,SAAS,CAAE,CACTC,cAAc,CAAErD,aAAa,CAC7BsD,YAAY,CAAE/C,eAAe,CAC7BgD,SAAS,CAAE/C,aAAa,CACxBgD,YAAY,CAAE/C,gBAAgB,CAC9BgD,UAAU,CAAE/C,cAAc,CAC1BgD,eAAe,CAAE9C,cACnB,CAAC,CACD+C,SAAS,CAAE,CACTC,oBAAoB,CAAE1B,kBAAkB,CACxC2B,aAAa,CAAEpC,YAAY,CAAG,CAAC,CAAKD,WAAW,CAAGC,YAAY,CAAI,GAAG,CAAI,CAC3E,CAAC,CACDqC,KAAK,CAAE,CACLC,WAAW,CAAE9D,UACf,CAAC,CACD+D,SAAS,CAAE,CACTC,eAAe,CAAE/D,cACnB,CACF,CAAC,CAAC,CAEF;AACAnE,gBAAgB,CAACC,SAAS,CAAC,CAC7B,CAAE,MAAOkI,GAAG,CAAE,CACZlJ,QAAQ,CAACP,CAAC,CAAC,0BAA0B,CAAC,CAAC,CACvC0J,OAAO,CAACpJ,KAAK,CAAC,kBAAkB,CAAEmJ,GAAG,CAAC,CACxC,CAAC,OAAS,CACRpJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAsJ,kBAAkB,CAAIC,MAAM,EAAK,CACrC;AACA,GAAI,CAACxI,WAAW,CAAE,CAChBX,iBAAiB,CAACmJ,MAAM,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAG,KAAO,CAAAjI,IAAI,EAAK,CACtC,GAAI,CACFb,oBAAoB,CAAC,IAAI,CAAC,CAC1BF,gBAAgB,CAAC,IAAI,CAAC,CAEtB;AACA,KAAM,CAAAiJ,MAAM,CAAGlI,IAAI,CAACiF,EAAE,EAAIjF,IAAI,CAACmI,OAAO,CACtC,GAAI,CAACD,MAAM,CAAE,CACX,KAAM,IAAI,CAAAE,KAAK,CAAChK,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACxC,CAEA;AACA,KAAM,CAAAiK,QAAQ,CAAG,KAAM,CAAA9M,GAAG,CAAC0H,GAAG,eAAA5C,MAAA,CAAe6H,MAAM,KAAG,CAAC,CACvDnJ,eAAe,CAACsJ,QAAQ,CAACnF,IAAI,CAAC,CAChC,CAAE,MAAO2E,GAAG,CAAE,CACZC,OAAO,CAACpJ,KAAK,CAAC,+BAA+B,CAAEmJ,GAAG,CAAC,CACnDlJ,QAAQ,iCAAA0B,MAAA,CAAiCwH,GAAG,CAACS,OAAO,CAAE,CAAC,CACvDrJ,gBAAgB,CAAC,KAAK,CAAC,CACzB,CAAC,OAAS,CACRE,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CACF,CAAC,CAED,KAAM,CAAAoJ,oBAAoB,CAAGA,CAAA,GAAM,CACjCtJ,gBAAgB,CAAC,KAAK,CAAC,CACvBF,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,GAAIP,OAAO,CAAE,CACX,mBACEpC,IAAA,QAAKoM,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnM,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrM,IAAA,QAAKoM,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BpM,IAAA,SAAAqM,QAAA,CAAOrK,CAAC,CAAC,mBAAmB,CAAC,CAAO,CAAC,EAClC,CAAC,CACH,CAAC,CAEV,CAEA,GAAIM,KAAK,CAAE,CACT,mBACEtC,IAAA,QAAKoM,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnM,KAAA,QAAKkM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrM,IAAA,OAAAqM,QAAA,CAAKrK,CAAC,CAAC,iBAAiB,CAAC,CAAK,CAAC,cAC/BhC,IAAA,MAAAqM,QAAA,CAAI/J,KAAK,CAAI,CAAC,cACdtC,IAAA,WAAQsM,OAAO,CAAExG,kBAAmB,CAAAuG,QAAA,CAAErK,CAAC,CAAC,cAAc,CAAC,CAAS,CAAC,EAC9D,CAAC,CACH,CAAC,CAEV,CAEA,mBACE9B,KAAA,QAAKkM,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrM,IAAA,QAAKoM,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BnM,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,OAAAqM,QAAA,CAAKrK,CAAC,CAAC,iBAAiB,CAAC,CAAK,CAAC,cAC/BhC,IAAA,MAAAqM,QAAA,CAAIrK,CAAC,CAAC,mBAAmB,CAAE,CAAEuK,QAAQ,CAAEtK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsK,QAAS,CAAC,CAAC,CAAI,CAAC,CAC5DnJ,WAAW,eACVpD,IAAA,MAAGoM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAErK,CAAC,CAAC,2BAA2B,CAAC,CAAI,CAClE,EACE,CAAC,CACL,CAACoB,WAAW,eACXlD,KAAA,QAAKkM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrM,IAAA,UAAAqM,QAAA,CAAQrK,CAAC,CAAC,uBAAuB,CAAC,CAAQ,CAAC,cAC3C9B,KAAA,WACEsM,KAAK,CAAEhK,cAAe,CACtBiK,QAAQ,CAAGC,CAAC,EAAKf,kBAAkB,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpDJ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAEzBrM,IAAA,WAAQwM,KAAK,CAAC,OAAO,CAAAH,QAAA,CAAErK,CAAC,CAAC,iBAAiB,CAAC,CAAS,CAAC,cACrDhC,IAAA,WAAQwM,KAAK,CAAC,QAAQ,CAAAH,QAAA,CAAErK,CAAC,CAAC,kBAAkB,CAAC,CAAS,CAAC,cACvDhC,IAAA,WAAQwM,KAAK,CAAC,OAAO,CAAAH,QAAA,CAAErK,CAAC,CAAC,mBAAmB,CAAC,CAAS,CAAC,EACjD,CAAC,EACN,CACN,EACE,CAAC,CACH,CAAC,cAEN9B,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,2MAA2M,CAAC,CAAC,CAClN,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAA9B,oBAAA,CAAb8B,aAAa,CAAEoD,KAAK,UAAAlF,oBAAA,iBAApBA,oBAAA,CAAsB+J,WAAW,GAAI,CAAC,CACtC,CAAC,cACJjK,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAA7B,qBAAA,CAAb6B,aAAa,CAAEoD,KAAK,UAAAjF,qBAAA,kBAAAC,qBAAA,CAApBD,qBAAA,CAAsB+J,WAAW,UAAA9J,qBAAA,iBAAjCA,qBAAA,CAAmCyM,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,CAAC,kBAC3D,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGN7M,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,uHAAuH,CAAC,CAAC,CAC9H,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBnM,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAA3B,qBAAA,CAAb2B,aAAa,CAAEoD,KAAK,UAAA/E,qBAAA,kBAAAC,qBAAA,CAApBD,qBAAA,CAAsB+J,UAAU,UAAA9J,qBAAA,iBAAhCA,qBAAA,CAAkCuM,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,CAAC,MAC1D,EAAG,CAAC,cACJ/M,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,oBAE5B,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGNnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,0NAA0N,CAAC,CAAC,CACjO,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAzB,qBAAA,CAAbyB,aAAa,CAAEuI,MAAM,UAAAhK,qBAAA,iBAArBA,qBAAA,CAAuBiK,YAAY,GAAI,CAAC,CACxC,CAAC,cACJxK,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAxB,sBAAA,CAAbwB,aAAa,CAAEuI,MAAM,UAAA/J,sBAAA,kBAAAC,sBAAA,CAArBD,sBAAA,CAAuB0J,WAAW,UAAAzJ,sBAAA,iBAAlCA,sBAAA,CAAoCoM,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,CAAC,kBAC5D,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGN7M,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCnM,KAAA,QAAK0M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,eAC1CrM,IAAA,SAAM8M,CAAC,CAAC,4BAA4B,CAAC,CAAC,cACtC9M,IAAA,SAAM8M,CAAC,CAAC,mBAAmB,CAAC,CAAC,cAC7B9M,IAAA,SAAM8M,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAC1B,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAtB,qBAAA,CAAbsB,aAAa,CAAEyI,SAAS,UAAA/J,qBAAA,iBAAxBA,qBAAA,CAA0BgK,cAAc,GAAI,CAAC,CAC7C,CAAC,cACJ5K,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,iBAE5B,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGNnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,0OAA0O,CAAC,CAAC,CACjP,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAArB,oBAAA,CAAbqB,aAAa,CAAEmJ,KAAK,UAAAxK,oBAAA,iBAApBA,oBAAA,CAAsByK,WAAW,GAAI,CAAC,CACtC,CAAC,cACJtL,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,cAE5B,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGNnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,wEAAwE,CAAC,CAAC,CAC/E,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAApB,qBAAA,CAAboB,aAAa,CAAEqJ,SAAS,UAAAzK,qBAAA,iBAAxBA,qBAAA,CAA0B0K,eAAe,GAAI,CAAC,CAC9C,CAAC,cACJxL,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,kBAE5B,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAINnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,mQAAmQ,CAAC,CAAC,CAC1Q,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBnM,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAnB,sBAAA,CAAbmB,aAAa,CAAEyI,SAAS,UAAA5J,sBAAA,kBAAAC,sBAAA,CAAxBD,sBAAA,CAA0BgK,YAAY,UAAA/J,sBAAA,iBAAtCA,sBAAA,CAAwC+L,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,CAAC,MAChE,EAAG,CAAC,cACJ7M,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAjB,sBAAA,CAAbiB,aAAa,CAAEyI,SAAS,UAAA1J,sBAAA,iBAAxBA,sBAAA,CAA0B6J,SAAS,GAAI,CAAC,CAAC,YAC5C,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGN5K,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,uHAAuH,CAAC,CAAC,CAC9H,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAhB,sBAAA,CAAbgB,aAAa,CAAEyI,SAAS,UAAAzJ,sBAAA,iBAAxBA,sBAAA,CAA0B2J,YAAY,GAAI,CAAC,CAC3C,CAAC,cACJ7K,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,0BAE5B,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGNnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,8FAA8F,CAAC,CAAC,CACrG,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBnM,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAf,qBAAA,CAAbe,aAAa,CAAEoD,KAAK,UAAAnE,qBAAA,kBAAAC,qBAAA,CAApBD,qBAAA,CAAsBoJ,YAAY,UAAAnJ,qBAAA,iBAAlCA,qBAAA,CAAoC2L,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,CAAC,MAC5D,EAAG,CAAC,cACJ7M,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAb,qBAAA,CAAba,aAAa,CAAEgJ,SAAS,UAAA7J,qBAAA,kBAAAC,sBAAA,CAAxBD,qBAAA,CAA0B+J,aAAa,UAAA9J,sBAAA,iBAAvCA,sBAAA,CAAyCyL,OAAO,CAAC,CAAC,CAAC,GAAI,KAAK,CAAC,UAChE,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGN7M,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtCrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,8FAA8F,CAAC,CAAC,CACrG,CAAC,CACH,CAAC,cACN5M,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBrM,IAAA,MAAGoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAX,sBAAA,CAAbW,aAAa,CAAEgJ,SAAS,UAAA3J,sBAAA,kBAAAC,sBAAA,CAAxBD,sBAAA,CAA0B4J,oBAAoB,UAAA3J,sBAAA,iBAA9CA,sBAAA,CAAgDsH,IAAI,GAAI,KAAK,CAC7D,CAAC,cACJ5I,KAAA,MAAGkM,SAAS,CAAC,cAAc,CAAAC,QAAA,EACxB,CAAAnK,aAAa,SAAbA,aAAa,kBAAAT,sBAAA,CAAbS,aAAa,CAAEgJ,SAAS,UAAAzJ,sBAAA,kBAAAC,sBAAA,CAAxBD,sBAAA,CAA0B0J,oBAAoB,UAAAzJ,sBAAA,iBAA9CA,sBAAA,CAAgDmI,aAAa,GAAI,CAAC,CAAC,aACtE,EAAG,CAAC,EACD,CAAC,EACH,CAAC,EAEH,CAAC,CAGL,CAACzG,WAAW,eACXlD,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnM,KAAA,OAAAmM,QAAA,EAAI,eAAa,CAAC7J,cAAc,GAAK,OAAO,CAAG,OAAO,CAAGA,cAAc,GAAK,QAAQ,CAAG,aAAa,CAAG,YAAY,CAAC,GAAC,EAAI,CAAC,cAC1HxC,IAAA,QAAKoM,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBrJ,cAAc,CAACqE,MAAM,CAAG,CAAC,cACxBnH,KAAA,QAAKkM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrM,IAAA,QAAKoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBrJ,cAAc,CAAC4F,GAAG,CAAC,CAACoE,GAAG,CAAEC,KAAK,gBAC7B/M,KAAA,QAAiBkM,SAAS,CAAC,WAAW,CAAAC,QAAA,eACpCnM,KAAA,QAAKkM,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrM,IAAA,QACEoM,SAAS,CAAC,eAAe,CACzBc,KAAK,CAAE,CAAEC,MAAM,IAAAlJ,MAAA,CAAKmJ,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGL,GAAG,CAAC1H,KAAK,CAAG8H,IAAI,CAACC,GAAG,CAAC,GAAGrK,cAAc,CAAC4F,GAAG,CAACkE,CAAC,EAAIA,CAAC,CAACxH,KAAK,CAAC,CAAC,CAAI,GAAG,CAAC,KAAI,CAAE,CACxGgI,KAAK,WAAArJ,MAAA,CAAY+I,GAAG,CAAC1H,KAAK,CAACyH,OAAO,CAAC,CAAC,CAAC,QAAO,CACxC,CAAC,cACP/M,IAAA,QACEoM,SAAS,CAAC,cAAc,CACxBc,KAAK,CAAE,CAAEC,MAAM,IAAAlJ,MAAA,CAAKmJ,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGL,GAAG,CAACtI,IAAI,CAAG0I,IAAI,CAACC,GAAG,CAAC,GAAGrK,cAAc,CAAC4F,GAAG,CAACkE,CAAC,EAAIA,CAAC,CAACxH,KAAK,CAAC,CAAC,CAAI,GAAG,CAAC,KAAI,CAAE,CACvGgI,KAAK,UAAArJ,MAAA,CAAW+I,GAAG,CAACtI,IAAI,CAACqI,OAAO,CAAC,CAAC,CAAC,QAAO,CACtC,CAAC,EACJ,CAAC,cACN/M,IAAA,QAAKoM,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB,GAAI,CAAAvI,IAAI,CAACkJ,GAAG,CAAC3H,IAAI,CAAC,CAACkI,kBAAkB,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAER,GAAG,CAAE,SAAU,CAAC,CAAC,CAChF,CAAC,cACN9M,KAAA,QAAKkM,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEW,GAAG,CAAC1H,KAAK,CAACyH,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAK,CAAC,cAC7D7M,KAAA,QAAKkM,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAEW,GAAG,CAACtI,IAAI,CAACqI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAK,CAAC,EACxD,CAAC,GAnBEE,KAoBL,CACN,CAAC,CACC,CAAC,cACN/M,KAAA,QAAKkM,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,oBAAoB,CAAM,CAAC,cAC1CpM,IAAA,SAAAqM,QAAA,CAAM,OAAK,CAAM,CAAC,EACf,CAAC,cACNnM,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrM,IAAA,QAAKoM,SAAS,CAAC,mBAAmB,CAAM,CAAC,cACzCpM,IAAA,SAAAqM,QAAA,CAAM,MAAI,CAAM,CAAC,EACd,CAAC,EACH,CAAC,EACH,CAAC,cAENrM,IAAA,MAAGoM,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,iDAA+C,CAAG,CAC1E,CACE,CAAC,EACH,CACN,cAGDnM,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnM,KAAA,QAAKkM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrM,IAAA,OAAAqM,QAAA,CAAKrK,CAAC,CAAC,wBAAwB,CAAC,CAAK,CAAC,CACrC,CAAAE,aAAa,SAAbA,aAAa,kBAAAP,qBAAA,CAAbO,aAAa,CAAEsI,YAAY,UAAA7I,qBAAA,iBAA3BA,qBAAA,CAA6B0F,MAAM,EAAG,CAAC,eACtCrH,IAAA,CAACX,WAAW,EACVyH,IAAI,CAAA2G,aAAA,CAAAA,aAAA,IACCvL,aAAa,CAACsI,YAAY,MAC7BkD,SAAS,CAAE,CAAAzL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsK,QAAQ,GAAIvK,CAAC,CAAC,kBAAkB,CAAC,CAClD2L,OAAO,CAAE,CAAA1L,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4G,EAAE,GAAI,SAAS,CAC9B+E,eAAe,CAAE,GAAI,CAAA9J,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC,CACzC2J,QAAQ,UAAA5J,MAAA,CAAWH,IAAI,CAACiC,GAAG,CAAC,CAAC,MAAA9B,MAAA,CAAImJ,IAAI,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAC1E,CACFV,KAAK,CAAEtL,CAAC,CAAC,gCAAgC,CAAE,CAC3CiM,IAAI,CAAC,eAAe,CACpBC,SAAS,CAAElM,CAAC,CAAC,4BAA4B,CAAE,CAC3CoK,SAAS,CAAC,wBAAwB,CACnC,CACF,EACE,CAAC,cACNpM,IAAA,QAAKoM,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1B,CAAAnK,aAAa,SAAbA,aAAa,kBAAAN,sBAAA,CAAbM,aAAa,CAAEsI,YAAY,UAAA5I,sBAAA,iBAA3BA,sBAAA,CAA6ByF,MAAM,EAAG,CAAC,cACtCrH,IAAA,QAAKoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBnK,aAAa,CAACsI,YAAY,CAAC5B,GAAG,CAAC,CAAChF,IAAI,CAAEqJ,KAAK,gBAC1C/M,KAAA,QAEEkM,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAEA,CAAA,GAAMT,eAAe,CAACjI,IAAI,CAAE,CACrC0J,KAAK,CAAEtL,CAAC,CAAC,iCAAiC,CAAE,CAAAqK,QAAA,eAE5CnM,KAAA,QAAKkM,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrM,IAAA,OAAAqM,QAAA,CAAKzI,IAAI,CAACuF,WAAW,CAAK,CAAC,cAC3BnJ,IAAA,MAAAqM,QAAA,CAAIzI,IAAI,CAACwF,aAAa,EAAIpH,CAAC,CAAC,4BAA4B,CAAC,CAAI,CAAC,EAC3D,CAAC,cACN9B,KAAA,QAAKkM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnM,KAAA,SAAAmM,QAAA,EAAOzI,IAAI,CAACa,YAAY,CAACsI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAM,CAAC,cAC/C/M,IAAA,UAAAqM,QAAA,CAAQ,GAAI,CAAAvI,IAAI,CAACF,IAAI,CAACG,UAAU,CAAC,CAACwJ,kBAAkB,CAAC,CAAC,CAAQ,CAAC,EAC5D,CAAC,cACNvN,IAAA,QAAKoM,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBrM,IAAA,QAAK4M,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAR,QAAA,cAC1CrM,IAAA,SAAM8M,CAAC,CAAC,wDAAwD,CAAC,CAAC,CAC/D,CAAC,CACH,CAAC,GAjBDG,KAkBF,CACN,CAAC,CACC,CAAC,cAENjN,IAAA,MAAGoM,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAC1C,CACE,CAAC,EACH,CAAC,cAGNnM,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrM,IAAA,QAAKoM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BrM,IAAA,OAAAqM,QAAA,CAAI,iBAAe,CAAI,CAAC,CACrB,CAAC,cACNrM,IAAA,QAAKoM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC7B,CAAAnK,aAAa,SAAbA,aAAa,kBAAAL,sBAAA,CAAbK,aAAa,CAAEyI,SAAS,UAAA9I,sBAAA,kBAAAC,sBAAA,CAAxBD,sBAAA,CAA0BoJ,eAAe,UAAAnJ,sBAAA,iBAAzCA,sBAAA,CAA2CuF,MAAM,EAAG,CAAC,cACpDrH,IAAA,QAAKoM,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BnK,aAAa,CAACyI,SAAS,CAACM,eAAe,CAACrC,GAAG,CAAC,CAACR,OAAO,CAAE6E,KAAK,gBAC1D/M,KAAA,QAAiBkM,SAAS,CAAC,cAAc,CAAAC,QAAA,eACvCnM,KAAA,QAAKkM,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrM,IAAA,OAAAqM,QAAA,CAAKjE,OAAO,CAACU,IAAI,CAAK,CAAC,cACvB5I,KAAA,MAAAmM,QAAA,EAAG,SAAO,CAAC,GAAI,CAAAvI,IAAI,CAACsE,OAAO,CAACrE,UAAU,CAAC,CAACwJ,kBAAkB,CAAC,CAAC,EAAI,CAAC,EAC9D,CAAC,cACNrN,KAAA,QAAKkM,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BnM,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC1CnM,KAAA,SAAMkM,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAEjE,OAAO,CAACK,KAAK,CAACsE,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAM,CAAC,EAC/D,CAAC,cACN7M,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC1CnM,KAAA,SAAMkM,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAEjE,OAAO,CAACG,KAAK,CAAC,QAAM,EAAM,CAAC,EACtD,CAAC,cACNrI,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC1CnM,KAAA,SAAMkM,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAE,CAACjE,OAAO,CAACG,KAAK,CAAGH,OAAO,CAACK,KAAK,EAAEsE,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAM,CAAC,EACjF,CAAC,EACH,CAAC,GAlBEE,KAmBL,CACN,CAAC,CACC,CAAC,cAENjN,IAAA,MAAGoM,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,uBAAqB,CAAG,CAChD,CACE,CAAC,EACH,CAAC,CAGL,CAAAnK,aAAa,SAAbA,aAAa,kBAAAH,sBAAA,CAAbG,aAAa,CAAEgJ,SAAS,UAAAnJ,sBAAA,iBAAxBA,sBAAA,CAA0BoJ,oBAAoB,gBAC7CjL,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrM,IAAA,QAAKoM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BrM,IAAA,OAAAqM,QAAA,CAAI,sBAAoB,CAAI,CAAC,CAC1B,CAAC,cACNrM,IAAA,QAAKoM,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCnM,KAAA,QAAKkM,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCnM,KAAA,QAAKkM,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrM,IAAA,OAAAqM,QAAA,CAAKnK,aAAa,CAACgJ,SAAS,CAACC,oBAAoB,CAACrC,IAAI,CAAK,CAAC,cAC5D9I,IAAA,MAAAqM,QAAA,CAAG,wBAAsB,CAAG,CAAC,EAC1B,CAAC,cACNnM,KAAA,QAAKkM,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BnM,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,cAC/CrM,IAAA,SAAMoM,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEnK,aAAa,CAACgJ,SAAS,CAACC,oBAAoB,CAACtB,aAAa,CAAO,CAAC,EACvG,CAAC,cACN3J,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cAC5CnM,KAAA,SAAMkM,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAEnK,aAAa,CAACgJ,SAAS,CAACC,oBAAoB,CAACnC,YAAY,CAAC+D,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAM,CAAC,EACrH,CAAC,cACN7M,KAAA,QAAKkM,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrM,IAAA,SAAMoM,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,cAClDnM,KAAA,SAAMkM,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAE,CAACnK,aAAa,CAACgJ,SAAS,CAACC,oBAAoB,CAACnC,YAAY,CAAG9G,aAAa,CAACgJ,SAAS,CAACC,oBAAoB,CAACtB,aAAa,EAAEkD,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAM,CAAC,EAC1K,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,CAGA/J,cAAc,CAACqE,MAAM,CAAG,CAAC,eACxBnH,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrM,IAAA,QAAKoM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BrM,IAAA,OAAAqM,QAAA,CAAI,kCAAgC,CAAI,CAAC,CACtC,CAAC,cACNrM,IAAA,QAAKoM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrM,IAAA,CAACJ,mBAAmB,EAACuO,KAAK,CAAC,MAAM,CAAChB,MAAM,CAAE,GAAI,CAAAd,QAAA,cAC5CnM,KAAA,CAACZ,SAAS,EAACwH,IAAI,CAAE9D,cAAe,CAAAqJ,QAAA,eAC9BrM,IAAA,CAACN,aAAa,EAAC0O,eAAe,CAAC,KAAK,CAAE,CAAC,cACvCpO,IAAA,CAACR,KAAK,EACJ6O,OAAO,CAAC,MAAM,CACdC,aAAa,CAAG9B,KAAK,EAAK,GAAI,CAAA1I,IAAI,CAAC0I,KAAK,CAAC,CAACe,kBAAkB,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAER,GAAG,CAAE,SAAU,CAAC,CAAE,CAC3G,CAAC,cACFhN,IAAA,CAACP,KAAK,EAAC6O,aAAa,CAAG9B,KAAK,KAAAvI,MAAA,CAAQuI,KAAK,CAAC+B,cAAc,CAAC,CAAC,QAAO,CAAE,CAAC,cACpEvO,IAAA,CAACL,OAAO,EACN6O,SAAS,CAAEA,CAAChC,KAAK,CAAE1D,IAAI,GAAK,IAAA7E,MAAA,CACvBO,UAAU,CAACgI,KAAK,CAAC,CAACO,OAAO,CAAC,CAAC,CAAC,SAC/BjE,IAAI,GAAK,OAAO,CAAG,OAAO,CAAGA,IAAI,GAAK,MAAM,CAAG,MAAM,CAAG,QAAQ,CAChE,CACF2F,cAAc,CAAGjC,KAAK,EAAK,GAAI,CAAA1I,IAAI,CAAC0I,KAAK,CAAC,CAACe,kBAAkB,CAAC,CAAE,CACjE,CAAC,cACFvN,IAAA,CAACT,IAAI,EAAC0O,IAAI,CAAC,UAAU,CAACI,OAAO,CAAC,OAAO,CAACK,MAAM,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC7F,IAAI,CAAC,OAAO,CAAE,CAAC,cACtF9I,IAAA,CAACT,IAAI,EAAC0O,IAAI,CAAC,UAAU,CAACI,OAAO,CAAC,MAAM,CAACK,MAAM,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC7F,IAAI,CAAC,MAAM,CAAE,CAAC,cACpF9I,IAAA,CAACT,IAAI,EAAC0O,IAAI,CAAC,UAAU,CAACI,OAAO,CAAC,QAAQ,CAACK,MAAM,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC7F,IAAI,CAAC,QAAQ,CAAE,CAAC,EAC/E,CAAC,CACO,CAAC,CACnB,CAAC,EACH,CACN,CAGA5F,gBAAgB,CAACmE,MAAM,CAAG,CAAC,eAC1BnH,KAAA,QAAKkM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrM,IAAA,QAAKoM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BrM,IAAA,OAAAqM,QAAA,CAAI,yCAAuC,CAAI,CAAC,CAC7C,CAAC,cACNrM,IAAA,QAAKoM,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrM,IAAA,CAACJ,mBAAmB,EAACuO,KAAK,CAAC,MAAM,CAAChB,MAAM,CAAE,GAAI,CAAAd,QAAA,cAC5CnM,KAAA,CAACL,QAAQ,EAACiH,IAAI,CAAE5D,gBAAiB,CAAAmJ,QAAA,eAC/BrM,IAAA,CAACN,aAAa,EAAC0O,eAAe,CAAC,KAAK,CAAE,CAAC,cACvCpO,IAAA,CAACR,KAAK,EACJ6O,OAAO,CAAC,OAAO,CACfC,aAAa,CAAG9B,KAAK,EAAK,GAAI,CAAA1I,IAAI,CAAC0I,KAAK,CAAG,KAAK,CAAC,CAACe,kBAAkB,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAEoB,IAAI,CAAE,SAAU,CAAC,CAAE,CACpH,CAAC,cACF5O,IAAA,CAACP,KAAK,EAAC6O,aAAa,CAAG9B,KAAK,KAAAvI,MAAA,CAAQuI,KAAK,CAAC+B,cAAc,CAAC,CAAC,QAAO,CAAE,CAAC,cACpEvO,IAAA,CAACL,OAAO,EACN6O,SAAS,CAAEA,CAAChC,KAAK,CAAE1D,IAAI,GAAK,IAAA7E,MAAA,CACvBO,UAAU,CAACgI,KAAK,CAAC,CAACO,OAAO,CAAC,CAAC,CAAC,SAC/BjE,IAAI,GAAK,OAAO,CAAG,OAAO,CAAGA,IAAI,GAAK,MAAM,CAAG,MAAM,CAAG,QAAQ,CAChE,CACF2F,cAAc,CAAGjC,KAAK,EAAK,GAAI,CAAA1I,IAAI,CAAC0I,KAAK,CAAG,KAAK,CAAC,CAACe,kBAAkB,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEoB,IAAI,CAAE,SAAU,CAAC,CAAE,CACpH,CAAC,cACF5O,IAAA,CAACF,GAAG,EAACuO,OAAO,CAAC,OAAO,CAACxB,IAAI,CAAC,SAAS,CAAC/D,IAAI,CAAC,OAAO,CAAE,CAAC,cACnD9I,IAAA,CAACF,GAAG,EAACuO,OAAO,CAAC,MAAM,CAACxB,IAAI,CAAC,SAAS,CAAC/D,IAAI,CAAC,MAAM,CAAE,CAAC,cACjD9I,IAAA,CAACF,GAAG,EAACuO,OAAO,CAAC,QAAQ,CAACxB,IAAI,CAAC,SAAS,CAAC/D,IAAI,CAAC,QAAQ,CAAE,CAAC,EAC7C,CAAC,CACQ,CAAC,CACnB,CAAC,EACH,CACN,CAGAlG,aAAa,eACZ5C,IAAA,CAACZ,eAAe,EACdwE,IAAI,CAAElB,YAAa,CACnBmM,OAAO,CAAE1C,oBAAqB,CAC9B/J,OAAO,CAAEU,iBAAkB,CAC5B,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}