{"ast":null,"code":"import _objectSpread from\"/home/antatsimo/WareHouse_Manager/elif-admin-app/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{useAuth}from'../contexts/AuthContext';import api from'../services/api';import Button from'../components/Button';import'./PackagingManagement.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PackagingManagement=()=>{const{t}=useTranslation();const{user}=useAuth();const[transactions,setTransactions]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showCreateForm,setShowCreateForm]=useState(false);const[showPaymentForm,setShowPaymentForm]=useState(false);const[showSettleForm,setShowSettleForm]=useState(false);const[selectedTransaction,setSelectedTransaction]=useState(null);const[sales,setSales]=useState([]);const[statistics,setStatistics]=useState({});// Form data\nconst[formData,setFormData]=useState({transaction_type:'consignation',sale:'',customer_name:'',customer_phone:'',customer_email:'',payment_method:'cash',status:'active',notes:'',items:[]});const[paymentData,setPaymentData]=useState({amount:0,payment_method:'cash',notes:''});const[settleData,setSettleData]=useState({settlement_type:'return',notes:''});useEffect(()=>{fetchTransactions();fetchSales();fetchStatistics();},[]);const fetchTransactions=async()=>{try{setLoading(true);const response=await api.get('/api/packaging/transactions/');setTransactions(response.data.results||response.data);}catch(err){setError('Failed to load packaging transactions');console.error('Error fetching transactions:',err);}finally{setLoading(false);}};const fetchSales=async()=>{try{const response=await api.get('/api/sales/');setSales(response.data.results||response.data);}catch(err){console.error('Error fetching sales:',err);}};const fetchStatistics=async()=>{try{const response=await api.get('/api/packaging/statistics/');setStatistics(response.data);}catch(err){console.error('Error fetching statistics:',err);}};const handleCreateTransaction=async()=>{try{setError('');setSuccess('');if(!formData.sale){setError('Please select a sale');return;}if(formData.items.length===0){setError('Please add at least one packaging item');return;}await api.post('/api/packaging/transactions/',formData);setSuccess('Packaging transaction created successfully');setFormData({transaction_type:'consignation',sale:'',customer_name:'',customer_phone:'',customer_email:'',payment_method:'cash',status:'active',notes:'',items:[]});setShowCreateForm(false);fetchTransactions();fetchStatistics();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to create packaging transaction');console.error('Error creating transaction:',err);}};const handleCreateFromSale=async saleId=>{try{setError('');setSuccess('');await api.post(\"/api/packaging/sales/\".concat(saleId,\"/create/\"));setSuccess('Packaging transaction created from sale successfully');fetchTransactions();fetchStatistics();}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to create packaging transaction from sale');console.error('Error creating transaction from sale:',err);}};const handleMakePayment=async()=>{try{setError('');setSuccess('');if(!selectedTransaction||!paymentData.amount){setError('Please select a transaction and enter payment amount');return;}await api.post(\"/api/packaging/transactions/\".concat(selectedTransaction.id,\"/payments/\"),paymentData);setSuccess('Payment processed successfully');setPaymentData({amount:0,payment_method:'cash',notes:''});setShowPaymentForm(false);setSelectedTransaction(null);fetchTransactions();fetchStatistics();}catch(err){var _err$response3,_err$response3$data;setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||'Failed to process payment');console.error('Error processing payment:',err);}};const handleSettleTransaction=async()=>{try{setError('');setSuccess('');if(!selectedTransaction){setError('Please select a transaction to settle');return;}await api.post(\"/api/packaging/transactions/\".concat(selectedTransaction.id,\"/settle/\"),settleData);setSuccess('Packaging transaction settled successfully');setSettleData({settlement_type:'return',notes:''});setShowSettleForm(false);setSelectedTransaction(null);fetchTransactions();fetchStatistics();}catch(err){var _err$response4,_err$response4$data;setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||'Failed to settle transaction');console.error('Error settling transaction:',err);}};const handleSaleChange=saleId=>{const sale=sales.find(s=>s.id===parseInt(saleId));if(sale){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{sale:saleId,customer_name:sale.customer_name||'',customer_phone:sale.customer_phone||'',customer_email:sale.customer_email||''}));}};const addPackagingItem=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{items:[...prev.items,{product:'',quantity:1,unit:'',unit_price:0,notes:''}]}));};const updatePackagingItem=(index,field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{items:prev.items.map((item,i)=>i===index?_objectSpread(_objectSpread({},item),{},{[field]:value}):item)}));};const removePackagingItem=index=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{items:prev.items.filter((_,i)=>i!==index)}));};const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const getStatusBadge=status=>{const statusClasses={active:'status-active',completed:'status-completed',cancelled:'status-cancelled'};return/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(statusClasses[status]||''),children:status});};const getPaymentStatusBadge=paymentStatus=>{const paymentClasses={pending:'payment-pending',partial:'payment-partial',paid:'payment-paid',refunded:'payment-refunded'};const paymentLabels={pending:'Unpaid',partial:'Partial',paid:'Paid',refunded:'Refunded'};return/*#__PURE__*/_jsx(\"span\",{className:\"payment-badge \".concat(paymentClasses[paymentStatus]||''),children:paymentLabels[paymentStatus]||paymentStatus});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"packaging-management\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading packaging transactions...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Packaging Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateForm(true),variant:\"primary\",children:\"Create Transaction\"})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"statistics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Transactions\"}),/*#__PURE__*/_jsx(\"p\",{children:statistics.total_transactions||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Active Transactions\"}),/*#__PURE__*/_jsx(\"p\",{children:statistics.active_transactions||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"p\",{children:formatCurrency(statistics.total_amount||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Paid Amount\"}),/*#__PURE__*/_jsx(\"p\",{children:formatCurrency(statistics.paid_amount||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Remaining Amount\"}),/*#__PURE__*/_jsx(\"p\",{children:formatCurrency(statistics.remaining_amount||0)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transactions-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Packaging Transactions\"}),transactions.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No packaging transactions found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"transactions-list\",children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:transaction.transaction_number}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sale: \",transaction.sale_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Customer: \",transaction.customer_name||'N/A']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-status\",children:[getStatusBadge(transaction.status),getPaymentStatusBadge(transaction.payment_status)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transaction-details\",children:(()=>{const showAmounts=transaction.transaction_type==='consignation';const amountOrDash=val=>showAmounts?formatCurrency(val):'-';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"span\",{children:transaction.transaction_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount:\"}),/*#__PURE__*/_jsx(\"span\",{children:amountOrDash(transaction.total_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Paid Amount:\"}),/*#__PURE__*/_jsx(\"span\",{children:amountOrDash(transaction.paid_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Remaining:\"}),/*#__PURE__*/_jsx(\"span\",{children:amountOrDash(transaction.remaining_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(transaction.created_at)})]})]});})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-actions\",children:[transaction.transaction_type==='consignation'&&transaction.status==='active'&&(transaction.payment_status==='pending'||transaction.payment_status==='partial')&&transaction.remaining_amount>0&&/*#__PURE__*/_jsx(Button,{onClick:()=>{setSelectedTransaction(transaction);setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{amount:transaction.remaining_amount}));setShowPaymentForm(true);},variant:\"primary\",size:\"small\",children:\"Make Payment\"}),transaction.status==='active'&&transaction.transaction_type==='due'&&/*#__PURE__*/_jsx(Button,{onClick:()=>{setSelectedTransaction(transaction);setSettleData({settlement_type:'return',notes:''});setShowSettleForm(true);},variant:\"success\",size:\"small\",children:\"Settle\"}),transaction.transaction_type==='consignation'&&transaction.payment_status==='paid'&&/*#__PURE__*/_jsx(Button,{onClick:()=>{setSelectedTransaction(transaction);setSettleData({settlement_type:'return',notes:''});setShowSettleForm(true);},variant:\"warning\",size:\"small\",children:\"Mark Returned\"}),/*#__PURE__*/_jsx(Button,{onClick:async()=>{try{setError('');setSuccess('');await api.delete(\"/api/packaging/transactions/\".concat(transaction.id,\"/\"));setSuccess('Packaging transaction deleted');fetchTransactions();fetchStatistics();}catch(err){var _err$response5,_err$response5$data;setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||'Failed to delete transaction');}},variant:\"danger\",size:\"small\",children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>{// View details\nconsole.log('View transaction details:',transaction);},variant:\"secondary\",size:\"small\",children:\"View Details\"})]})]},transaction.id))})]}),showCreateForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Packaging Transaction\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateForm(false),className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sale *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.sale,onChange:e=>handleSaleChange(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Sale\"}),sales.map(sale=>/*#__PURE__*/_jsxs(\"option\",{value:sale.id,children:[sale.sale_number,\" - \",sale.customer_name||'Walk-in Customer']},sale.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transaction Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.transaction_type,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{transaction_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"consignation\",children:\"Consignation (Paid)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exchange\",children:\"Exchange\"}),/*#__PURE__*/_jsx(\"option\",{value:\"return\",children:\"Return\"}),/*#__PURE__*/_jsx(\"option\",{value:\"due\",children:\"Due (To be returned)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.customer_name,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{customer_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.customer_phone,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{customer_phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.payment_method,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{payment_method:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"cash\",children:\"Cash\"}),/*#__PURE__*/_jsx(\"option\",{value:\"card\",children:\"Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mobile_money\",children:\"Mobile Money\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_transfer\",children:\"Bank Transfer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-items-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Packaging Items\"}),/*#__PURE__*/_jsx(Button,{onClick:addPackagingItem,variant:\"primary\",size:\"small\",children:\"Add Item\"})]}),formData.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"packaging-item-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product *\"}),/*#__PURE__*/_jsx(\"select\",{value:item.product,onChange:e=>updatePackagingItem(index,'product',e.target.value),required:true,children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Product\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0.01\",value:item.quantity,onChange:e=>updatePackagingItem(index,'quantity',parseFloat(e.target.value)),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:item.unit_price,onChange:e=>updatePackagingItem(index,'unit_price',parseFloat(e.target.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.notes,onChange:e=>updatePackagingItem(index,'notes',e.target.value)})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>removePackagingItem(index),variant:\"danger\",size:\"small\",children:\"Remove\"})]},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleCreateTransaction,variant:\"primary\",children:\"Create Transaction\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateForm(false),variant:\"secondary\",children:\"Cancel\"})]})]})}),showPaymentForm&&selectedTransaction&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Make Payment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPaymentForm(false),className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Transaction:\"}),\" \",selectedTransaction.transaction_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Customer:\"}),\" \",selectedTransaction.customer_name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" \",formatCurrency(selectedTransaction.total_amount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Paid Amount:\"}),\" \",formatCurrency(selectedTransaction.paid_amount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remaining:\"}),\" \",formatCurrency(selectedTransaction.remaining_amount)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payment Amount *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0.01\",max:selectedTransaction.remaining_amount,value:paymentData.amount,onChange:e=>setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{amount:parseFloat(e.target.value)})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentData.payment_method,onChange:e=>setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{payment_method:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"cash\",children:\"Cash\"}),/*#__PURE__*/_jsx(\"option\",{value:\"card\",children:\"Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mobile_money\",children:\"Mobile Money\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_transfer\",children:\"Bank Transfer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:paymentData.notes,onChange:e=>setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),rows:\"3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleMakePayment,variant:\"primary\",children:\"Process Payment\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowPaymentForm(false),variant:\"secondary\",children:\"Cancel\"})]})]})}),showSettleForm&&selectedTransaction&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settle Packaging Transaction\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettleForm(false),className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Transaction:\"}),\" \",selectedTransaction.transaction_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Customer:\"}),\" \",selectedTransaction.customer_name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sale:\"}),\" \",selectedTransaction.sale_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" \",formatCurrency(selectedTransaction.total_amount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Paid Amount:\"}),\" \",formatCurrency(selectedTransaction.paid_amount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remaining:\"}),\" \",formatCurrency(selectedTransaction.remaining_amount)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Settlement Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:settleData.settlement_type,onChange:e=>setSettleData(prev=>_objectSpread(_objectSpread({},prev),{},{settlement_type:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"return\",children:\"Packaging Returned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"refund\",children:\"Deposit Refunded\"})]}),/*#__PURE__*/_jsx(\"small\",{children:settleData.settlement_type==='return'?'Customer returned the packaging items':'Customer received refund for packaging deposit'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:settleData.notes,onChange:e=>setSettleData(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),rows:\"3\",placeholder:\"Additional notes about the settlement...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"settlement-warning\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Warning:\"}),\" This action will mark the packaging transaction as completed and cannot be undone.\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleSettleTransaction,variant:\"success\",children:\"Settle Transaction\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowSettleForm(false),variant:\"secondary\",children:\"Cancel\"})]})]})})]});};export default PackagingManagement;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","useAuth","api","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PackagingManagement","t","user","transactions","setTransactions","loading","setLoading","error","setError","success","setSuccess","showCreateForm","setShowCreateForm","showPaymentForm","setShowPaymentForm","showSettleForm","setShowSettleForm","selectedTransaction","setSelectedTransaction","sales","setSales","statistics","setStatistics","formData","setFormData","transaction_type","sale","customer_name","customer_phone","customer_email","payment_method","status","notes","items","paymentData","setPaymentData","amount","settleData","setSettleData","settlement_type","fetchTransactions","fetchSales","fetchStatistics","response","get","data","results","err","console","handleCreateTransaction","length","post","_err$response","_err$response$data","handleCreateFromSale","saleId","concat","_err$response2","_err$response2$data","handleMakePayment","id","_err$response3","_err$response3$data","handleSettleTransaction","_err$response4","_err$response4$data","handleSaleChange","find","s","parseInt","prev","_objectSpread","addPackagingItem","product","quantity","unit","unit_price","updatePackagingItem","index","field","value","map","item","i","removePackagingItem","filter","_","formatCurrency","Intl","NumberFormat","style","currency","format","formatDate","dateString","Date","toLocaleDateString","getStatusBadge","statusClasses","active","completed","cancelled","className","children","getPaymentStatusBadge","paymentStatus","paymentClasses","pending","partial","paid","refunded","paymentLabels","onClick","variant","total_transactions","active_transactions","total_amount","paid_amount","remaining_amount","transaction","transaction_number","sale_number","payment_status","showAmounts","amountOrDash","val","created_at","size","delete","_err$response5","_err$response5$data","log","onChange","e","target","required","type","rows","step","min","parseFloat","max","placeholder"],"sources":["/home/antatsimo/WareHouse_Manager/elif-admin-app/beverage_management_system/src/pages/PackagingManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport Button from '../components/Button';\nimport './PackagingManagement.css';\n\nconst PackagingManagement = () => {\n  const { t } = useTranslation();\n  const { user } = useAuth();\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showPaymentForm, setShowPaymentForm] = useState(false);\n  const [showSettleForm, setShowSettleForm] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [sales, setSales] = useState([]);\n  const [statistics, setStatistics] = useState({});\n  \n  // Form data\n  const [formData, setFormData] = useState({\n    transaction_type: 'consignation',\n    sale: '',\n    customer_name: '',\n    customer_phone: '',\n    customer_email: '',\n    payment_method: 'cash',\n    status: 'active',\n    notes: '',\n    items: []\n  });\n  \n  const [paymentData, setPaymentData] = useState({\n    amount: 0,\n    payment_method: 'cash',\n    notes: ''\n  });\n\n  const [settleData, setSettleData] = useState({\n    settlement_type: 'return',\n    notes: ''\n  });\n\n  useEffect(() => {\n    fetchTransactions();\n    fetchSales();\n    fetchStatistics();\n  }, []);\n\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/packaging/transactions/');\n      setTransactions(response.data.results || response.data);\n    } catch (err) {\n      setError('Failed to load packaging transactions');\n      console.error('Error fetching transactions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSales = async () => {\n    try {\n      const response = await api.get('/api/sales/');\n      setSales(response.data.results || response.data);\n    } catch (err) {\n      console.error('Error fetching sales:', err);\n    }\n  };\n\n  const fetchStatistics = async () => {\n    try {\n      const response = await api.get('/api/packaging/statistics/');\n      setStatistics(response.data);\n    } catch (err) {\n      console.error('Error fetching statistics:', err);\n    }\n  };\n\n  const handleCreateTransaction = async () => {\n    try {\n      setError('');\n      setSuccess('');\n\n      if (!formData.sale) {\n        setError('Please select a sale');\n        return;\n      }\n\n      if (formData.items.length === 0) {\n        setError('Please add at least one packaging item');\n        return;\n      }\n\n      await api.post('/api/packaging/transactions/', formData);\n      setSuccess('Packaging transaction created successfully');\n      setFormData({\n        transaction_type: 'consignation',\n        sale: '',\n        customer_name: '',\n        customer_phone: '',\n        customer_email: '',\n        payment_method: 'cash',\n        status: 'active',\n        notes: '',\n        items: []\n      });\n      setShowCreateForm(false);\n      fetchTransactions();\n      fetchStatistics();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to create packaging transaction');\n      console.error('Error creating transaction:', err);\n    }\n  };\n\n  const handleCreateFromSale = async (saleId) => {\n    try {\n      setError('');\n      setSuccess('');\n\n      await api.post(`/api/packaging/sales/${saleId}/create/`);\n      setSuccess('Packaging transaction created from sale successfully');\n      fetchTransactions();\n      fetchStatistics();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to create packaging transaction from sale');\n      console.error('Error creating transaction from sale:', err);\n    }\n  };\n\n  const handleMakePayment = async () => {\n    try {\n      setError('');\n      setSuccess('');\n\n      if (!selectedTransaction || !paymentData.amount) {\n        setError('Please select a transaction and enter payment amount');\n        return;\n      }\n\n      await api.post(`/api/packaging/transactions/${selectedTransaction.id}/payments/`, paymentData);\n      setSuccess('Payment processed successfully');\n      setPaymentData({ amount: 0, payment_method: 'cash', notes: '' });\n      setShowPaymentForm(false);\n      setSelectedTransaction(null);\n      fetchTransactions();\n      fetchStatistics();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to process payment');\n      console.error('Error processing payment:', err);\n    }\n  };\n\n  const handleSettleTransaction = async () => {\n    try {\n      setError('');\n      setSuccess('');\n\n      if (!selectedTransaction) {\n        setError('Please select a transaction to settle');\n        return;\n      }\n\n      await api.post(`/api/packaging/transactions/${selectedTransaction.id}/settle/`, settleData);\n      setSuccess('Packaging transaction settled successfully');\n      setSettleData({ settlement_type: 'return', notes: '' });\n      setShowSettleForm(false);\n      setSelectedTransaction(null);\n      fetchTransactions();\n      fetchStatistics();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to settle transaction');\n      console.error('Error settling transaction:', err);\n    }\n  };\n\n  const handleSaleChange = (saleId) => {\n    const sale = sales.find(s => s.id === parseInt(saleId));\n    if (sale) {\n      setFormData(prev => ({\n        ...prev,\n        sale: saleId,\n        customer_name: sale.customer_name || '',\n        customer_phone: sale.customer_phone || '',\n        customer_email: sale.customer_email || ''\n      }));\n    }\n  };\n\n  const addPackagingItem = () => {\n    setFormData(prev => ({\n      ...prev,\n      items: [...prev.items, {\n        product: '',\n        quantity: 1,\n        unit: '',\n        unit_price: 0,\n        notes: ''\n      }]\n    }));\n  };\n\n  const updatePackagingItem = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      items: prev.items.map((item, i) => \n        i === index ? { ...item, [field]: value } : item\n      )\n    }));\n  };\n\n  const removePackagingItem = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      items: prev.items.filter((_, i) => i !== index)\n    }));\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const getStatusBadge = (status) => {\n    const statusClasses = {\n      active: 'status-active',\n      completed: 'status-completed',\n      cancelled: 'status-cancelled'\n    };\n    return <span className={`status-badge ${statusClasses[status] || ''}`}>{status}</span>;\n  };\n\n  const getPaymentStatusBadge = (paymentStatus) => {\n    const paymentClasses = {\n      pending: 'payment-pending',\n      partial: 'payment-partial',\n      paid: 'payment-paid',\n      refunded: 'payment-refunded'\n    };\n    const paymentLabels = {\n      pending: 'Unpaid',\n      partial: 'Partial',\n      paid: 'Paid',\n      refunded: 'Refunded'\n    };\n    return <span className={`payment-badge ${paymentClasses[paymentStatus] || ''}`}>{paymentLabels[paymentStatus] || paymentStatus}</span>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"packaging-management\">\n        <div className=\"loading\">Loading packaging transactions...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"packaging-management\">\n      <div className=\"page-header\">\n        <h1>Packaging Management</h1>\n        <div className=\"header-actions\">\n          <Button onClick={() => setShowCreateForm(true)} variant=\"primary\">\n            Create Transaction\n          </Button>\n        </div>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n      {success && <div className=\"success-message\">{success}</div>}\n\n      {/* Statistics */}\n      <div className=\"statistics-grid\">\n        <div className=\"stat-card\">\n          <h3>Total Transactions</h3>\n          <p>{statistics.total_transactions || 0}</p>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Active Transactions</h3>\n          <p>{statistics.active_transactions || 0}</p>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Total Amount</h3>\n          <p>{formatCurrency(statistics.total_amount || 0)}</p>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Paid Amount</h3>\n          <p>{formatCurrency(statistics.paid_amount || 0)}</p>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Remaining Amount</h3>\n          <p>{formatCurrency(statistics.remaining_amount || 0)}</p>\n        </div>\n      </div>\n\n      {/* Transactions List */}\n      <div className=\"transactions-section\">\n        <h2>Packaging Transactions</h2>\n        {transactions.length === 0 ? (\n          <div className=\"no-data\">No packaging transactions found</div>\n        ) : (\n          <div className=\"transactions-list\">\n            {transactions.map(transaction => (\n              <div key={transaction.id} className=\"transaction-card\">\n                <div className=\"transaction-header\">\n                  <div className=\"transaction-info\">\n                    <h3>{transaction.transaction_number}</h3>\n                    <p>Sale: {transaction.sale_number}</p>\n                    <p>Customer: {transaction.customer_name || 'N/A'}</p>\n                  </div>\n                  <div className=\"transaction-status\">\n                    {getStatusBadge(transaction.status)}\n                    {getPaymentStatusBadge(transaction.payment_status)}\n                  </div>\n                </div>\n                \n                <div className=\"transaction-details\">\n                  {(() => {\n                    const showAmounts = transaction.transaction_type === 'consignation';\n                    const amountOrDash = (val) => showAmounts ? formatCurrency(val) : '-';\n                    return (\n                      <>\n                  <div className=\"detail-row\">\n                    <span>Type:</span>\n                    <span>{transaction.transaction_type}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span>Total Amount:</span>\n                        <span>{amountOrDash(transaction.total_amount)}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span>Paid Amount:</span>\n                        <span>{amountOrDash(transaction.paid_amount)}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span>Remaining:</span>\n                        <span>{amountOrDash(transaction.remaining_amount)}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span>Created:</span>\n                    <span>{formatDate(transaction.created_at)}</span>\n                  </div>\n                      </>\n                    );\n                  })()}\n                </div>\n\n                <div className=\"transaction-actions\">\n                  {(\n                    transaction.transaction_type === 'consignation' &&\n                    transaction.status === 'active' &&\n                    (transaction.payment_status === 'pending' || transaction.payment_status === 'partial') &&\n                    transaction.remaining_amount > 0\n                  ) && (\n                    <Button \n                      onClick={() => {\n                        setSelectedTransaction(transaction);\n                        setPaymentData(prev => ({ ...prev, amount: transaction.remaining_amount }));\n                        setShowPaymentForm(true);\n                      }}\n                      variant=\"primary\"\n                      size=\"small\"\n                    >\n                      Make Payment\n                    </Button>\n                  )}\n                  {(transaction.status === 'active' && (transaction.transaction_type === 'due')) && (\n                    <Button \n                      onClick={() => {\n                        setSelectedTransaction(transaction);\n                        setSettleData({ settlement_type: 'return', notes: '' });\n                        setShowSettleForm(true);\n                      }}\n                      variant=\"success\"\n                      size=\"small\"\n                    >\n                      Settle\n                    </Button>\n                  )}\n                  {(transaction.transaction_type === 'consignation' && transaction.payment_status === 'paid') && (\n                    <Button \n                      onClick={() => {\n                        setSelectedTransaction(transaction);\n                        setSettleData({ settlement_type: 'return', notes: '' });\n                        setShowSettleForm(true);\n                      }}\n                      variant=\"warning\"\n                      size=\"small\"\n                    >\n                      Mark Returned\n                    </Button>\n                  )}\n\n                  {/* Delete action for any packaging transaction */}\n                  <Button \n                    onClick={async () => {\n                      try {\n                        setError('');\n                        setSuccess('');\n                        await api.delete(`/api/packaging/transactions/${transaction.id}/`);\n                        setSuccess('Packaging transaction deleted');\n                        fetchTransactions();\n                        fetchStatistics();\n                      } catch (err) {\n                        setError(err.response?.data?.error || 'Failed to delete transaction');\n                      }\n                    }}\n                    variant=\"danger\"\n                    size=\"small\"\n                  >\n                    Delete\n                  </Button>\n                  <Button \n                    onClick={() => {\n                      // View details\n                      console.log('View transaction details:', transaction);\n                    }}\n                    variant=\"secondary\"\n                    size=\"small\"\n                  >\n                    View Details\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Create Transaction Modal */}\n      {showCreateForm && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>Create Packaging Transaction</h2>\n              <button onClick={() => setShowCreateForm(false)} className=\"close-btn\">&times;</button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"form-group\">\n                <label>Sale *</label>\n                <select\n                  value={formData.sale}\n                  onChange={(e) => handleSaleChange(e.target.value)}\n                  required\n                >\n                  <option value=\"\">Select Sale</option>\n                  {sales.map(sale => (\n                    <option key={sale.id} value={sale.id}>\n                      {sale.sale_number} - {sale.customer_name || 'Walk-in Customer'}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Transaction Type</label>\n                <select\n                  value={formData.transaction_type}\n                  onChange={(e) => setFormData(prev => ({ ...prev, transaction_type: e.target.value }))}\n                >\n                  <option value=\"consignation\">Consignation (Paid)</option>\n                  <option value=\"exchange\">Exchange</option>\n                  <option value=\"return\">Return</option>\n                  <option value=\"due\">Due (To be returned)</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Customer Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.customer_name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, customer_name: e.target.value }))}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Customer Phone</label>\n                <input\n                  type=\"text\"\n                  value={formData.customer_phone}\n                  onChange={(e) => setFormData(prev => ({ ...prev, customer_phone: e.target.value }))}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Payment Method</label>\n                <select\n                  value={formData.payment_method}\n                  onChange={(e) => setFormData(prev => ({ ...prev, payment_method: e.target.value }))}\n                >\n                  <option value=\"cash\">Cash</option>\n                  <option value=\"card\">Card</option>\n                  <option value=\"mobile_money\">Mobile Money</option>\n                  <option value=\"bank_transfer\">Bank Transfer</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Notes</label>\n                <textarea\n                  value={formData.notes}\n                  onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\n                  rows=\"3\"\n                />\n              </div>\n\n              <div className=\"packaging-items-section\">\n                <div className=\"section-header\">\n                  <h3>Packaging Items</h3>\n                  <Button onClick={addPackagingItem} variant=\"primary\" size=\"small\">\n                    Add Item\n                  </Button>\n                </div>\n\n                {formData.items.map((item, index) => (\n                  <div key={index} className=\"packaging-item-form\">\n                    <div className=\"form-group\">\n                      <label>Product *</label>\n                      <select\n                        value={item.product}\n                        onChange={(e) => updatePackagingItem(index, 'product', e.target.value)}\n                        required\n                      >\n                        <option value=\"\">Select Product</option>\n                        {/* Products will be loaded from the selected sale */}\n                      </select>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Quantity *</label>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        min=\"0.01\"\n                        value={item.quantity}\n                        onChange={(e) => updatePackagingItem(index, 'quantity', parseFloat(e.target.value))}\n                        required\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Unit Price</label>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        min=\"0\"\n                        value={item.unit_price}\n                        onChange={(e) => updatePackagingItem(index, 'unit_price', parseFloat(e.target.value))}\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Notes</label>\n                      <input\n                        type=\"text\"\n                        value={item.notes}\n                        onChange={(e) => updatePackagingItem(index, 'notes', e.target.value)}\n                      />\n                    </div>\n\n                    <Button \n                      onClick={() => removePackagingItem(index)}\n                      variant=\"danger\"\n                      size=\"small\"\n                    >\n                      Remove\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"modal-footer\">\n              <Button onClick={handleCreateTransaction} variant=\"primary\">\n                Create Transaction\n              </Button>\n              <Button onClick={() => setShowCreateForm(false)} variant=\"secondary\">\n                Cancel\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Payment Modal */}\n      {showPaymentForm && selectedTransaction && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>Make Payment</h2>\n              <button onClick={() => setShowPaymentForm(false)} className=\"close-btn\">&times;</button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"payment-info\">\n                <p><strong>Transaction:</strong> {selectedTransaction.transaction_number}</p>\n                <p><strong>Customer:</strong> {selectedTransaction.customer_name || 'N/A'}</p>\n                <p><strong>Total Amount:</strong> {formatCurrency(selectedTransaction.total_amount)}</p>\n                <p><strong>Paid Amount:</strong> {formatCurrency(selectedTransaction.paid_amount)}</p>\n                <p><strong>Remaining:</strong> {formatCurrency(selectedTransaction.remaining_amount)}</p>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Payment Amount *</label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0.01\"\n                  max={selectedTransaction.remaining_amount}\n                  value={paymentData.amount}\n                  onChange={(e) => setPaymentData(prev => ({ ...prev, amount: parseFloat(e.target.value) }))}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Payment Method</label>\n                <select\n                  value={paymentData.payment_method}\n                  onChange={(e) => setPaymentData(prev => ({ ...prev, payment_method: e.target.value }))}\n                >\n                  <option value=\"cash\">Cash</option>\n                  <option value=\"card\">Card</option>\n                  <option value=\"mobile_money\">Mobile Money</option>\n                  <option value=\"bank_transfer\">Bank Transfer</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Notes</label>\n                <textarea\n                  value={paymentData.notes}\n                  onChange={(e) => setPaymentData(prev => ({ ...prev, notes: e.target.value }))}\n                  rows=\"3\"\n                />\n              </div>\n            </div>\n\n            <div className=\"modal-footer\">\n              <Button onClick={handleMakePayment} variant=\"primary\">\n                Process Payment\n              </Button>\n              <Button onClick={() => setShowPaymentForm(false)} variant=\"secondary\">\n                Cancel\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Settlement Modal */}\n      {showSettleForm && selectedTransaction && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>Settle Packaging Transaction</h2>\n              <button onClick={() => setShowSettleForm(false)} className=\"close-btn\">&times;</button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"payment-info\">\n                <p><strong>Transaction:</strong> {selectedTransaction.transaction_number}</p>\n                <p><strong>Customer:</strong> {selectedTransaction.customer_name || 'N/A'}</p>\n                <p><strong>Sale:</strong> {selectedTransaction.sale_number}</p>\n                <p><strong>Total Amount:</strong> {formatCurrency(selectedTransaction.total_amount)}</p>\n                <p><strong>Paid Amount:</strong> {formatCurrency(selectedTransaction.paid_amount)}</p>\n                <p><strong>Remaining:</strong> {formatCurrency(selectedTransaction.remaining_amount)}</p>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Settlement Type *</label>\n                <select\n                  value={settleData.settlement_type}\n                  onChange={(e) => setSettleData(prev => ({ ...prev, settlement_type: e.target.value }))}\n                  required\n                >\n                  <option value=\"return\">Packaging Returned</option>\n                  <option value=\"refund\">Deposit Refunded</option>\n                </select>\n                <small>\n                  {settleData.settlement_type === 'return' \n                    ? 'Customer returned the packaging items' \n                    : 'Customer received refund for packaging deposit'}\n                </small>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Notes</label>\n                <textarea\n                  value={settleData.notes}\n                  onChange={(e) => setSettleData(prev => ({ ...prev, notes: e.target.value }))}\n                  rows=\"3\"\n                  placeholder=\"Additional notes about the settlement...\"\n                />\n              </div>\n\n              <div className=\"settlement-warning\">\n                <p><strong> Warning:</strong> This action will mark the packaging transaction as completed and cannot be undone.</p>\n              </div>\n            </div>\n\n            <div className=\"modal-footer\">\n              <Button onClick={handleSettleTransaction} variant=\"success\">\n                Settle Transaction\n              </Button>\n              <Button onClick={() => setShowSettleForm(false)} variant=\"secondary\">\n                Cancel\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PackagingManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}