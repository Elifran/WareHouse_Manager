/*! For license information please see main.a01c46af.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var x=_.prototype=new g;x.constructor=_,f(x,y.prototype),x.isPureReactComponent=!0;var b=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,a){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,r)&&!N.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,b(i)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(i,t,r,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);l+=P(o,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,r,d=s+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},O={transition:null},R={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=i,t.PureComponent=_,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<r&&0>s(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function b(e){if(v=!1,x(e),!f)if(null!==a(c))f=!0,O(j);else{var t=a(d);null!==t&&R(b,t.startTime-e)}}function j(e,n){f=!1,v&&(v=!1,g(S),S=-1),h=!0;var s=m;try{for(x(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!P());){var i=p.callback;if("function"===typeof i){p.callback=null,m=p.priorityLevel;var o=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===a(c)&&r(c),x(n)}else r(c);p=a(c)}if(null!==p)var l=!0;else{var u=a(d);null!==u&&R(b,u.startTime-n),l=!1}return l}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,w=null,S=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function A(){if(null!==w){var e=t.unstable_now();E=e;var n=!0;try{n=w(!0,e)}finally{n?k():(N=!1,w=null)}}else N=!1}if("function"===typeof _)k=function(){_(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,F=T.port2;T.port1.onmessage=A,k=function(){F.postMessage(null)}}else k=function(){y(A,0)};function O(e){w=e,N||(N=!0,k())}function R(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(v?(g(S),S=-1):v=!0,R(b,s-i))):(e.sortIndex=o,n(c,e),f||h||(f=!0,O(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,g);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,g);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,g);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,M=Object.assign;function I(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function q(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case w:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function we(e){if(e=_r(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=br(t),je(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ae=!1;function Te(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Pe(),Ce())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var a=br(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Oe=!1}function Le(e,t,n,a,r,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Me=null,Ie=!1,Ue=null,ze={onError:function(e){De=!0,Me=e}};function qe(e,t,n,a,r,s,i,o,l){De=!1,Me=null,Le.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return He(r),e;if(i===a)return He(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=i;break}if(l===a){o=!0,a=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,a=r;break}if(l===a){o=!0,a=i,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~r;0!==o?a=ut(o):0!==(s&=i)&&(a=ut(s))}else 0!==(i=n&~r)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,jt,kt,Nt,wt,St=!1,Ct=[],Et=null,Pt=null,At=null,Tt=new Map,Ft=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Dt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=gr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void wt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&jt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);xe=a,n.target.dispatchEvent(a),xe=null,t.shift()}return!0}function Ut(e,t,n){It(e)&&n.delete(t)}function zt(){St=!1,null!==Et&&It(Et)&&(Et=null),null!==Pt&&It(Pt)&&(Pt=null),null!==At&&It(At)&&(At=null),Tt.forEach(Ut),Ft.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Pt&&qt(Pt,e),null!==At&&qt(At,e),Tt.forEach(t),Ft.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Bt=x.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,a){var r=_t,s=Bt.transition;Bt.transition=null;try{_t=1,$t(e,t,n,a)}finally{_t=r,Bt.transition=s}}function Wt(e,t,n,a){var r=_t,s=Bt.transition;Bt.transition=null;try{_t=4,$t(e,t,n,a)}finally{_t=r,Bt.transition=s}}function $t(e,t,n,a){if(Ht){var r=Qt(e,t,n,a);if(null===r)Ha(e,t,a,Kt,n),Lt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Et=Dt(Et,e,t,n,a,r),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,a,r),!0;case"mouseover":return At=Dt(At,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Tt.set(s,Dt(Tt.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Ft.set(s,Dt(Ft.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lt(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var s=_r(r);if(null!==s&&bt(s),null===(s=Qt(e,t,n,a))&&Ha(e,t,a,Kt,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Ha(e,t,a,null,n)}}var Kt=null;function Qt(e,t,n,a){if(Kt=null,null!==(e=gr(e=be(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=M({},cn,{view:0,detail:0}),pn=rn(un),mn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(mn),fn=rn(M({},mn,{dataTransfer:0})),vn=rn(M({},un,{relatedTarget:0})),yn=rn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=rn(gn),xn=rn(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function wn(){return Nn}var Sn=M({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(Sn),En=rn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),An=rn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=rn(Tn),On=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Mn=d&&(!Rn||Ln&&8<Ln&&11>=Ln),In=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,a){Se(a),0<(t=Wa(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Wn=null,$n=null;function Kn(e){Ia(e,0)}function Qn(e){if($(xr(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Wn&&(Wn.detachEvent("onpropertychange",na),$n=Wn=null)}function na(e){if("value"===e.propertyName&&Qn($n)){var t=[];Gn(t,$n,e,be(e)),Te(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),$n=n,(Wn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function sa(e,t){if("click"===e)return Qn(t)}function ia(e,t){if("input"===e||"change"===e)return Qn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var i=da(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,va=null,ya=null,ga=null,_a=!1;function xa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_a||null==va||va!==K(a)||("selectionStart"in(a=va)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ga&&la(ga,a)||(ga=a,0<(a=Wa(ya,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},ka={},Na={};function wa(e){if(ka[e])return ka[e];if(!ja[e])return e;var t,n=ja[e];for(t in n)if(n.hasOwnProperty(t)&&t in Na)return ka[e]=n[t];return e}d&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Sa=wa("animationend"),Ca=wa("animationiteration"),Ea=wa("animationstart"),Pa=wa("transitionend"),Aa=new Map,Ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,t){Aa.set(e,t),l(t,[e])}for(var Oa=0;Oa<Ta.length;Oa++){var Ra=Ta[Oa];Fa(Ra.toLowerCase(),"on"+(Ra[0].toUpperCase()+Ra.slice(1)))}Fa(Sa,"onAnimationEnd"),Fa(Ca,"onAnimationIteration"),Fa(Ea,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(Pa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Ma(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,o,l,c){if(qe.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Me;De=!1,Me=null,Ie||(Ie=!0,Ue=d)}}(a,t,void 0,e),e.currentTarget=null}function Ia(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Ma(r,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Ma(r,o,c),s=l}}}if(Ie)throw e=Ue,Ie=!1,Ue=null,e}function Ua(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Ba(t,e,2,!1),n.add(a))}function za(e,t,n){var a=0;t&&(a|=4),Ba(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[qa]){e[qa]=!0,i.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||za(t,!1,e),za(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,za("selectionchange",!1,t))}}function Ba(e,t,n,a){switch(Jt(t)){case 1:var r=Gt;break;case 4:r=Wt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ha(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=gr(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Te(function(){var a=s,r=be(n),i=[];e:{var o=Aa.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Sa:case Ca:case Ea:l=yn;break;case Pa:l=An;break;case"scroll":l=pn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,h=a;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Fe(h,p))&&d.push(Ga(h,f,m)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,n,r),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!gr(c)&&!c[hr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?gr(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?o:xr(l),m=null==c?o:xr(c),(o=new d(f,h+"leave",l,n,r)).target=u,o.relatedTarget=m,f=null,gr(r)===a&&((d=new d(p,h+"enter",c,n,r)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,h=0,m=d=l;m;m=$a(m))h++;for(m=0,f=p;f;f=$a(f))m++;for(;0<h-m;)d=$a(d),h--;for(;0<m-h;)p=$a(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=$a(d),p=$a(p)}d=null}else d=null;null!==l&&Ka(i,o,l,d,!1),null!==c&&null!==u&&Ka(i,u,c,d,!0)}if("select"===(l=(o=a?xr(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Jn;else if(Hn(o))if(Yn)v=ia;else{v=ra;var y=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=sa);switch(v&&(v=v(e,a))?Gn(i,v,n,r):(y&&y(e,o,a),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=a?xr(a):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(va=y,ya=a,ga=null);break;case"focusout":ga=ya=va=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,xa(i,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":xa(i,n,r)}var g;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(g=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Vn=!0)),0<(y=Wa(a,_)).length&&(_=new xn(_,e,null,n,r),i.push({event:_,listeners:y}),g?_.data=g:null!==(g=qn(n))&&(_.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,In);case"textInput":return(e=t.data)===In&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Wa(a,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=g))}Ia(i,t)})}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Fe(e,n))&&a.unshift(Ga(e,s,r)),null!=(s=Fe(e,t))&&a.push(Ga(e,s,r))),e=e.return}return a}function $a(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Fe(n,s))&&i.unshift(Ga(n,l,o)):r||null!=(l=Fe(n,s))&&i.push(Ga(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qa=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace(Qa,"\n").replace(Ja,"")}function Xa(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,mr="__reactProps$"+ur,hr="__reactContainer$"+ur,fr="__reactEvents$"+ur,vr="__reactListeners$"+ur,yr="__reactHandles$"+ur;function gr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[pr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function br(e){return e[mr]||null}var jr=[],kr=-1;function Nr(e){return{current:e}}function wr(e){0>kr||(e.current=jr[kr],jr[kr]=null,kr--)}function Sr(e,t){kr++,jr[kr]=e.current,e.current=t}var Cr={},Er=Nr(Cr),Pr=Nr(!1),Ar=Cr;function Tr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){wr(Pr),wr(Er)}function Rr(e,t,n){if(Er.current!==Cr)throw Error(s(168));Sr(Er,t),Sr(Pr,n)}function Lr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,B(e)||"Unknown",r));return M({},n,a)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Ar=Er.current,Sr(Er,e),Sr(Pr,Pr.current),!0}function Mr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Lr(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,wr(Pr),wr(Er),Sr(Er,e)):wr(Pr),Sr(Pr,n)}var Ir=null,Ur=!1,zr=!1;function qr(e){null===Ir?Ir=[e]:Ir.push(e)}function Vr(){if(!zr&&null!==Ir){zr=!0;var e=0,t=_t;try{var n=Ir;for(_t=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Ir=null,Ur=!1}catch(r){throw null!==Ir&&(Ir=Ir.slice(e+1)),$e(Ze,Vr),r}finally{_t=t,zr=!1}}return null}var Br=[],Hr=0,Gr=null,Wr=0,$r=[],Kr=0,Qr=null,Jr=1,Yr="";function Xr(e,t){Br[Hr++]=Wr,Br[Hr++]=Gr,Gr=e,Wr=t}function Zr(e,t,n){$r[Kr++]=Jr,$r[Kr++]=Yr,$r[Kr++]=Qr,Qr=e;var a=Jr;e=Yr;var r=32-it(a)-1;a&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Jr=1<<32-it(t)+r|n<<r|a,Yr=s+e}else Jr=1<<s|n<<r|a,Yr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Gr;)Gr=Br[--Hr],Br[Hr]=null,Wr=Br[--Hr],Br[Hr]=null;for(;e===Qr;)Qr=$r[--Kr],$r[Kr]=null,Yr=$r[--Kr],$r[Kr]=null,Jr=$r[--Kr],$r[Kr]=null}var ns=null,as=null,rs=!1,ss=null;function is(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:Jr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=as;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var a=ns;t&&os(e,t)?is(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw ps(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?cr(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=as;e;)e=cr(e.nextSibling)}function ms(){as=ns=null,rs=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var fs=x.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gs(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Mc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===k?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===F&&gs(s)===t.type)?((a=r(t,n.props)).ref=vs(e,t,n),a.return=e,a):((a=Rc(n.type,n.key,n.props,null,e.mode,a)).ref=vs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case j:return(t=Ic(t,e.mode,n)).return=e,t;case F:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(e,t,n,a):null;case j:return n.key===r?d(e,t,n,a):null;case F:return m(e,t,(r=n._init)(n._payload),a)}if(te(n)||L(n))return null!==r?null:u(e,t,n,a,null);ys(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case b:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case j:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case F:return h(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||L(a))return u(t,e=e.get(n)||null,a,r,null);ys(t,a)}return null}function f(r,s,o,l){for(var c=null,d=null,u=s,f=s=0,v=null;null!==u&&f<o.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var y=m(r,u,o[f],l);if(null===y){null===u&&(u=v);break}e&&u&&null===y.alternate&&t(r,u),s=i(y,s,f),null===d?c=y:d.sibling=y,d=y,u=v}if(f===o.length)return n(r,u),rs&&Xr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(r,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,f),c}for(u=a(r,u);f<o.length;f++)null!==(v=h(u,r,f,o[f],l))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),s=i(v,s,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(r,e)}),rs&&Xr(r,f),c}function v(r,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,v=o=0,y=null,g=l.next();null!==f&&!g.done;v++,g=l.next()){f.index>v?(y=f,f=null):y=f.sibling;var _=m(r,f,g.value,c);if(null===_){null===f&&(f=y);break}e&&f&&null===_.alternate&&t(r,f),o=i(_,o,v),null===u?d=_:u.sibling=_,u=_,f=y}if(g.done)return n(r,f),rs&&Xr(r,v),d;if(null===f){for(;!g.done;v++,g=l.next())null!==(g=p(r,g.value,c))&&(o=i(g,o,v),null===u?d=g:u.sibling=g,u=g);return rs&&Xr(r,v),d}for(f=a(r,f);!g.done;v++,g=l.next())null!==(g=h(f,r,v,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=i(g,o,v),null===u?d=g:u.sibling=g,u=g);return e&&f.forEach(function(e){return t(r,e)}),rs&&Xr(r,v),d}return function e(a,s,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){n(a,d.sibling),(s=r(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&gs(c)===d.type){n(a,d.sibling),(s=r(d,i.props)).ref=vs(a,d,i),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}i.type===k?((s=Lc(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=Rc(i.type,i.key,i.props,null,a.mode,l)).ref=vs(a,s,i),l.return=a,a=l)}return o(a);case j:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(a,s.sibling),(s=r(s,i.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Ic(i,a.mode,l)).return=a,a=s}return o(a);case F:return e(a,s,(d=i._init)(i._payload),l)}if(te(i))return f(a,s,i,l);if(L(i))return v(a,s,i,l);ys(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,i)).return=a,a=s):(n(a,s),(s=Mc(i,a.mode,l)).return=a,a=s),o(a)):n(a,s)}}var xs=_s(!0),bs=_s(!1),js=Nr(null),ks=null,Ns=null,ws=null;function Ss(){ws=Ns=ks=null}function Cs(e){var t=js.current;wr(js),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){ks=e,ws=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Ts=null;function Fs(e){null===Ts?Ts=[e]:Ts.push(e)}function Os(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Fs(t)):(n.next=r.next,r.next=n),t.interleaved=n,Rs(e,a)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&El)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Rs(e,n)}return null===(r=a.interleaved)?(t.next=t,Fs(a)):(t.next=r.next,r.next=t),a.interleaved=t,Rs(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}function qs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,a){var r=e.updateQueue;Ls=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(i=0,d=c=l=null,o=s;;){var p=o.lane,m=o.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=M({},u,p);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=u}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var Hs={},Gs=Nr(Hs),Ws=Nr(Hs),$s=Nr(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Sr($s,t),Sr(Ws,e),Sr(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wr(Gs),Sr(Gs,t)}function Js(){wr(Gs),wr(Ws),wr($s)}function Ys(e){Ks($s.current);var t=Ks(Gs.current),n=le(t,e.type);t!==n&&(Sr(Ws,e),Sr(Gs,n))}function Xs(e){Ws.current===e&&(wr(Gs),wr(Ws))}var Zs=Nr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=x.ReactCurrentDispatcher,ri=x.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,pi=0;function mi(){throw Error(s(321))}function hi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function fi(e,t,n,a,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Xi:Zi,e=n(a,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=n(a,r)}while(di)}if(ai.current=Yi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function vi(){var e=0!==ui;return ui=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function gi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function _i(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=gi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=oi,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=a):c=c.next=p,ii.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(_o=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Dl|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bi(e){var t=gi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);oa(i,t.memoizedState)||(_o=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function ji(){}function ki(e,t){var n=ii,a=gi(),r=t(),i=!oa(a.memoizedState,r);if(i&&(a.memoizedState=r,_o=!0),a=a.queue,Li(Si.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ai(9,wi.bind(null,n,a,r,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||Ni(n,t,r)}return r}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wi(e,t,n,a){t.value=n,t.getSnapshot=a,Ci(t)&&Ei(e)}function Si(e,t,n){return n(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Ei(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ti(){return gi().memoizedState}function Fi(e,t,n,a){var r=yi();ii.flags|=e,r.memoizedState=Ai(1|t,n,void 0,void 0===a?null:a)}function Oi(e,t,n,a){var r=gi();a=void 0===a?null:a;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==a&&hi(a,i.deps))return void(r.memoizedState=Ai(t,n,s,a))}ii.flags|=e,r.memoizedState=Ai(1|t,n,s,a)}function Ri(e,t){return Fi(8390656,8,e,t)}function Li(e,t){return Oi(2048,8,e,t)}function Di(e,t){return Oi(4,2,e,t)}function Mi(e,t){return Oi(4,4,e,t)}function Ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Ii.bind(null,t,e),n)}function zi(){}function qi(e,t){var n=gi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=gi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Bi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ii.lanes|=n,Dl|=n,e.baseState=!0),t)}function Hi(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var a=ri.transition;ri.transition={};try{e(!1),t()}finally{_t=n,ri.transition=a}}function Gi(){return gi().memoizedState}function Wi(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e))Qi(t,n);else if(null!==(n=Os(e,t,n,a))){nc(n,e,a,ec()),Ji(n,t,a)}}function $i(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Qi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,i)){var l=t.interleaved;return null===l?(r.next=r,Fs(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Os(e,t,r,a))&&(nc(n,e,a,r=ec()),Ji(n,t,a))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Yi={readContext:As,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Xi={readContext:As,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,Ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=yi();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Pi,useDebugValue:zi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ii,r=yi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&si)||Ni(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ri(Si.bind(null,a,i,e),[e]),a.flags|=2048,Ai(9,wi.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=Pl.identifierPrefix;if(rs){var n=Yr;t=":"+t+"R"+(n=(Jr&~(1<<32-it(Jr)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:As,useCallback:qi,useContext:As,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:Mi,useMemo:Vi,useReducer:xi,useRef:Ti,useState:function(){return xi(_i)},useDebugValue:zi,useDeferredValue:function(e){return Bi(gi(),oi.memoizedState,e)},useTransition:function(){return[xi(_i)[0],gi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:qi,useContext:As,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:Mi,useMemo:Vi,useReducer:bi,useRef:Ti,useState:function(){return bi(_i)},useDebugValue:zi,useDeferredValue:function(e){var t=gi();return null===oi?t.memoizedState=e:Bi(t,oi.memoizedState,e)},useTransition:function(){return[bi(_i)[0],gi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Is(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,a),zs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Is(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,a),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Is(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Us(e,r,a))&&(nc(t,e,a,n),zs(t,e,a))}};function ro(e,t,n,a,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,s))}function so(e,t,n){var a=!1,r=Cr,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Fr(t)?Ar:Er.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Tr(e,r):Cr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Fr(t)?Ar:Er.current,r.context=Tr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ao.enqueueReplaceState(r,r.state,null),Vs(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Is(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=a),uo(0,t)},n}function ho(e,t,n){(n=Is(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new po;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=wc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Is(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var go=x.ReactCurrentOwner,_o=!1;function xo(e,t,n,a){t.child=null===e?bs(t,null,n,a):xs(t,e.child,n,a)}function bo(e,t,n,a,r){n=n.render;var s=t.ref;return Ps(t,r),a=fi(e,t,n,a,s,r),n=vi(),null===e||_o?(rs&&n&&es(t),t.flags|=1,xo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function jo(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||Fc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:la)(i,a)&&e.ref===t.ref)return Ho(e,t,r)}return t.flags|=1,(e=Oc(s,a)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(_o=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,Ho(e,t,r);0!==(131072&e.flags)&&(_o=!0)}}return So(e,t,n,a,r)}function No(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Ol,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Ol,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Sr(Ol,Fl),Fl|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Sr(Ol,Fl),Fl|=a;return xo(e,t,r,n),t.child}function wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,a,r){var s=Fr(n)?Ar:Er.current;return s=Tr(t,s),Ps(t,r),n=fi(e,t,n,a,s,r),a=vi(),null===e||_o?(rs&&a&&es(t),t.flags|=1,xo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function Co(e,t,n,a,r){if(Fr(n)){var s=!0;Dr(t)}else s=!1;if(Ps(t,r),null===t.stateNode)Bo(e,t),so(t,n,a),oo(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Tr(t,c=Fr(n)?Ar:Er.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Ls=!1;var p=t.memoizedState;i.state=p,Vs(t,a,i,r),l=t.memoizedState,o!==a||p!==l||Pr.current||Ls?("function"===typeof d&&(no(t,n,d,a),l=t.memoizedState),(o=Ls||ro(t,n,o,a,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Tr(t,l=Fr(n)?Ar:Er.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||p!==l)&&io(t,i,a,l),Ls=!1,p=t.memoizedState,i.state=p,Vs(t,a,i,r);var h=t.memoizedState;o!==u||p!==h||Pr.current||Ls?("function"===typeof m&&(no(t,n,m,a),h=t.memoizedState),(c=Ls||ro(t,n,c,a,p,h,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),i.props=a,i.state=h,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Eo(e,t,n,a,s,r)}function Eo(e,t,n,a,r,s){wo(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&Mr(t,n,!1),Ho(e,t,s);a=t.stateNode,go.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=a.state,r&&Mr(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),Qs(e,t.containerInfo)}function Ao(e,t,n,a,r){return ms(),hs(r),t.flags|=256,xo(e,t,n,a),t.child}var To,Fo,Oo,Ro,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var a,r=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sr(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,r,0,null),e=Lc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):Io(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Dc({mode:"visible",children:a.children},r,0,null),(i=Lc(i,r,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Uo(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(a=Pl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Rs(e,r),nc(a,e,r,-1))}return fc(),Uo(e,t,o,a=co(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,as=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&($r[Kr++]=Jr,$r[Kr++]=Yr,$r[Kr++]=Qr,Jr=e.id,Yr=e.overflow,Qr=t),t=Io(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,i,n);if(o){o=r.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Oc(a,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return e=(o=e.child).sibling,r=Oc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Io(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,a){return null!==a&&hs(a),xs(t,e.child,null,n),(e=Io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,n)}function qo(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Vo(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(xo(e,t,a.children,n),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sr(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qo(t,!0,n,null,s);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $o(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Fr(t.type)&&Or(),Wo(t),null;case 3:return a=t.stateNode,Js(),wr(Pr),wr(Er),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Fo(e,t),Wo(t),null;case 5:Xs(t);var r=Ks($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(Gs.current),us(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[pr]=t,a[mr]=i,e=0!==(1&t.mode),n){case"dialog":Ua("cancel",a),Ua("close",a);break;case"iframe":case"object":case"embed":Ua("load",a);break;case"video":case"audio":for(r=0;r<La.length;r++)Ua(La[r],a);break;case"source":Ua("error",a);break;case"img":case"image":case"link":Ua("error",a),Ua("load",a);break;case"details":Ua("toggle",a);break;case"input":J(a,i),Ua("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ua("invalid",a);break;case"textarea":re(a,i),Ua("invalid",a)}for(var l in ge(n,i),r=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ua("scroll",a)}switch(n){case"input":W(a),Z(a,i,!0);break;case"textarea":W(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[pr]=t,e[mr]=a,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,a),n){case"dialog":Ua("cancel",e),Ua("close",e),r=a;break;case"iframe":case"object":case"embed":Ua("load",e),r=a;break;case"video":case"audio":for(r=0;r<La.length;r++)Ua(La[r],e);r=a;break;case"source":Ua("error",e),r=a;break;case"img":case"image":case"link":Ua("error",e),Ua("load",e),r=a;break;case"details":Ua("toggle",e),r=a;break;case"input":J(e,a),r=Q(e,a),Ua("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=M({},a,{value:void 0}),Ua("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ua("invalid",e)}for(i in ge(n,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ve(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ua("scroll",e):null!=d&&_(e,i,d,l))}switch(n){case"input":W(e),Z(e,a,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=Ks($s.current),Ks(Gs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(i=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Wo(t),null;case 13:if(wr(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ps(),ms(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[pr]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Js(),Fo(e,t),null===e&&Va(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(wr(Zs),null===(i=t.memoizedState))return Wo(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Go(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Go(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Vl&&(t.flags|=128,a=!0,Go(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!rs)return Wo(t),null}else 2*Ye()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Sr(Zs,a?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Fr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),wr(Pr),wr(Er),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(wr(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wr(Zs),null;case 4:return Js(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Oo=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Ks(Gs.current);var s,i=null;switch(n){case"input":r=Q(e,r),a=Q(e,a),i=[];break;case"select":r=M({},r,{value:void 0}),a=M({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ge(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ua("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qo=!1,Jo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Nc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){Nc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,n,s)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[mr],delete t[fr],delete t[vr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var a=dl,r=ul;dl=null,pl(e,t,n),ul=r,null!==(dl=a)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(dl,n.stateNode));break;case 4:a=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),dl=a,ul=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),r=r.next}while(r!==a)}pl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){Nc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(a=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=a):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));ml(i,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Nc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(v){Nc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Nc(e,e.return,v)}}break;case 1:fl(t,e),yl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),yl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(v){Nc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(r,i),_e(l,o);var d=_e(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?ve(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):_(r,u,p,d)}switch(l){case"input":X(r,i);break;case"textarea":se(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(r,!!i.multiple,h,!1):m!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[mr]=i}catch(v){Nc(e,e.return,v)}}break;case 6:if(fl(t,e),yl(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(v){Nc(e,e.return,v)}}break;case 3:if(fl(t,e),yl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Nc(e,e.return,v)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(ql=Ye())),4&a&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(t,e),Jo=d):fl(t,e),yl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(h=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,n=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Nc(a,n,v)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){bl(p);continue}}null!==h?(h.return=m,Xo=h):bl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){Nc(e,e.return,v)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){Nc(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),yl(e),4&a&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Xo=e,_l(e,t,n)}function _l(e,t,n){for(var a=0!==(1&e.mode);null!==Xo;){var r=Xo,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Qo;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var c=Jo;if(Qo=i,(Jo=l)&&!c)for(Xo=r;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?jl(r):null!==l?(l.return=i,Xo=l):jl(r);for(;null!==s;)Xo=s,_l(s,t,n),s=s.sibling;Xo=r,Qo=o,Jo=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Xo=s):xl(e)}}function xl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Jo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Bs(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&rl(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Nc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Nc(t,r,l)}}var s=t.return;try{rl(t)}catch(l){Nc(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,Nl=Math.ceil,wl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,El=0,Pl=null,Al=null,Tl=0,Fl=0,Ol=Nr(0),Rl=0,Ll=null,Dl=0,Ml=0,Il=0,Ul=null,zl=null,ql=0,Vl=1/0,Bl=null,Hl=!1,Gl=null,Wl=null,$l=!1,Kl=null,Ql=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,a){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));yt(e,n,a),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Ml|=n),4===Rl&&oc(e,Tl)),ac(e,a),1===n&&0===El&&0===(1&t.mode)&&(Vl=Ye()+500,Ur&&Vr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&a)||(r[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=pt(e,e===Pl?Tl:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ur=!0,qr(e)}(lc.bind(null,e)):qr(lc.bind(null,e)),ir(function(){0===(6&El)&&Vr()}),n=null;else{switch(xt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var a=pt(e,e===Pl?Tl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=vc(e,a);else{t=a;var r=El;El|=2;var i=hc();for(Pl===e&&Tl===t||(Bl=null,Vl=Ye()+500,pc(e,t));;)try{gc();break}catch(l){mc(e,l)}Ss(),wl.current=i,El=r,null!==Al?t=0:(Pl=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(a=r,t=sc(e,r))),1===t)throw n=Ll,pc(e,0),oc(e,a),ac(e,Ye()),n;if(6===t)oc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!oa(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,a))&&(0!==(i=ht(e))&&(a=i,t=sc(e,i))),1===t))throw n=Ll,pc(e,0),oc(e,a),ac(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,zl,Bl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=ql+500-Ye())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(bc.bind(null,e,zl,Bl),t);break}bc(e,zl,Bl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>r&&(r=o),a&=~i}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Nl(a/1960))-a)){e.timeoutHandle=ar(bc.bind(null,e,zl,Bl),a);break}bc(e,zl,Bl);break;default:throw Error(s(329))}}}return ac(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Il,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&El))throw Error(s(327));jc();var t=pt(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Ll,pc(e,0),oc(e,t),ac(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,zl,Bl),ac(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Vl=Ye()+500,Ur&&Vr())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var n=Cl.transition,a=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=a,Cl.transition=n,0===(6&(El=t))&&Vr()}}function uc(){Fl=Ol.current,wr(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Or();break;case 3:Js(),wr(Pr),wr(Er),ni();break;case 5:Xs(a);break;case 4:Js();break;case 13:case 19:wr(Zs);break;case 10:Cs(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Al=e=Oc(e.current,null),Tl=Fl=t,Rl=0,Ll=null,Il=Ml=Dl=0,zl=Ul=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(a=(n=Ts[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Ts=null}return e}function mc(e,t){for(;;){var n=Al;try{if(Ss(),ai.current=Yi,ci){for(var a=ii.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===n||null===n.return){Rl=1,Ll=t,Al=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vo(o);if(null!==h){h.flags&=-257,yo(h,o,l,0,t),1&h.mode&&fo(i,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var y=vo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),hs(lo(c,l));break e}}i=c=lo(c,l),4!==Rl&&(Rl=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qs(i,mo(0,c,t));break e;case 1:l=c;var g=i.type,_=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t,qs(i,ho(i,l,t));break e}}i=i.return}while(null!==i)}xc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function hc(){var e=wl.current;return wl.current=Yi,null===e?Yi:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Ml)||oc(Pl,Tl)}function vc(e,t){var n=El;El|=2;var a=hc();for(Pl===e&&Tl===t||(Bl=null,pc(e,t));;)try{yc();break}catch(r){mc(e,r)}if(Ss(),El=n,wl.current=a,null!==Al)throw Error(s(261));return Pl=null,Tl=0,Rl}function yc(){for(;null!==Al;)_c(Al)}function gc(){for(;null!==Al&&!Qe();)_c(Al)}function _c(e){var t=kl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$o(n,t,Fl)))return void(Al=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function bc(e,t,n){var a=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,a){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Pl&&(Al=Pl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=_t;_t=1;var l=El;El|=4,Sl.current=null,function(e,t){if(er=Ht,ma(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(l=o+r),p!==i||0!==a&&3!==p.nodeType||(c=o+a),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===r&&(l=o),m===i&&++u===a&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,y=f.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(b){Nc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,n),vl(n,e),ha(tr),Ht=!!er,tr=er=null,e.current=n,gl(n,e,r),Je(),El=l,_t=o,Cl.transition=i}else e.current=n;if($l&&($l=!1,Kl=e,Ql=r),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Ql)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vr()}(e,t,n,a)}finally{Cl.transition=r,_t=a}return null}function jc(){if(null!==Kl){var e=xt(Ql),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Kl)var a=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&El))throw Error(s(331));var r=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var m=(u=Xo).sibling,h=u.return;if(sl(u),u===d){Xo=null;break}if(null!==m){m.return=h,Xo=m;break}Xo=h}}}var f=i.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Xo=g;break e}Xo=i.return}}var _=e.current;for(Xo=_;null!==Xo;){var x=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Xo=x;else e:for(o=_;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){Xo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xo=b;break e}Xo=l.return}}if(El=r,Vr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(j){}a=!0}return a}finally{_t=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Us(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ac(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=Us(t,e=ho(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function wc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>Ye()-ql?pc(e,0):Il|=n),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Rs(e,t))&&(yt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sc(e,n)}function Pc(e,t){return $e(e,t)}function Ac(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,a){return new Ac(e,t,n,a)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,a,r,i){var o=2;if(a=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Lc(n.children,r,i,t);case N:o=8,r|=8;break;case w:return(e=Tc(12,n,t,2|r)).elementType=w,e.lanes=i,e;case P:return(e=Tc(13,n,t,r)).elementType=P,e.lanes=i,e;case A:return(e=Tc(19,n,t,r)).elementType=A,e.lanes=i,e;case O:return Dc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case E:o=11;break e;case T:o=14;break e;case F:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(o,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Lc(e,t,n,a){return(e=Tc(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Tc(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,a,r,s,i,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function qc(e){if(!e)return Cr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Fr(n))return Lr(e,n,t)}return t}function Vc(e,t,n,a,r,s,i,o,l){return(e=zc(n,a,!0,e,0,s,0,o,l)).context=qc(null),n=e.current,(s=Is(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,r),e.current.lanes=r,yt(e,r,a),ac(e,a),e}function Bc(e,t,n,a){var r=t.current,s=ec(),i=tc(r);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Is(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Us(r,t,i))&&(nc(e,r,i,s),zs(e,r,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Po(t),ms();break;case 5:Ys(t);break;case 1:Fr(t.type)&&Dr(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Sr(js,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Sr(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Sr(Zs,1&Zs.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Ho(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bo(e,t),e=t.pendingProps;var r=Tr(t,Er.current);Ps(t,n),r=fi(null,t,a,e,r,n);var i=vi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(a)?(i=!0,Dr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ds(t),r.updater=ao,t.stateNode=r,r._reactInternals=t,oo(t,a,e,n),t=Eo(null,t,a,!0,i,n)):(t.tag=0,rs&&i&&es(t),xo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(a),e=to(a,e),r){case 0:t=So(null,t,a,e,n);break e;case 1:t=Co(null,t,a,e,n);break e;case 11:t=bo(null,t,a,e,n);break e;case 14:t=jo(null,t,a,to(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,So(e,t,a,r=t.elementType===a?r:to(a,r),n);case 1:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:to(a,r),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));a=t.pendingProps,r=(i=t.memoizedState).element,Ms(e,t),Vs(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ao(e,t,a,n,r=lo(Error(s(423)),t));break e}if(a!==r){t=Ao(e,t,a,n,r=lo(Error(s(424)),t));break e}for(as=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=bs(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),a===r){t=Ho(e,t,n);break e}xo(e,t,a,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==i&&nr(a,i)&&(t.flags|=32),wo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=xs(t,null,a,n):xo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,bo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Sr(js,a._currentValue),a._currentValue=o,null!==i)if(oa(i.value,o)){if(i.children===r.children&&!Pr.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Is(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Es(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}xo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ps(t,n),a=a(r=As(r)),t.flags|=1,xo(e,t,a,n),t.child;case 14:return r=to(a=t.type,t.pendingProps),jo(e,t,a,r=to(a.type,r),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:to(a,r),Bo(e,t),t.tag=1,Fr(a)?(e=!0,Dr(t)):e=!1,Ps(t,n),so(t,a,r),oo(t,a,r,n),Eo(null,t,a,!0,e,n);case 19:return Vo(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof r){var o=r;r=function(){var e=Hc(i);o.call(e)}}Bc(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=Hc(i);s.call(e)}}var i=Vc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[hr]=i.current,Va(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=Hc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[hr]=l.current,Va(8===e.nodeType?e.parentNode:e),dc(function(){Bc(t,l,n,a)}),l}(n,t,e,r,a);return Hc(i)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Bc(null,e,null,null)}),t[hr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),ac(t,Ye()),0===(6&El)&&(Vl=Ye()+500,Vr()))}break;case 13:dc(function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Nt=function(){return _t},wt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=br(a);if(!r)throw Error(s(90));$(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[_r,xr,br,Se,Ce,cc]},td={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,a="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,a,r),e[hr]=t.current,Va(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",o=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,i,o),e[hr]=t.current,Va(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,n.d(s,i),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>qt,hasStandardBrowserEnv:()=>Bt,hasStandardBrowserWebWorkerEnv:()=>Ht,navigator:()=>Vt,origin:()=>Gt});var t,a=n(43),r=n.t(a,2),s=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,a){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function h(e,n,a,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,m=s.history,h=t.Pop,f=null,v=y();function y(){return(m.state||{idx:null}).idx}function g(){h=t.Pop;let e=y(),n=null==e?null:e-v;v=e,f&&f({action:h,location:x.location,delta:n})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,m.replaceState(i({},m.state,{idx:v}),""));let x={get action(){return h},get location(){return e(s,m)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(o,g),f=e,()=>{s.removeEventListener(o,g),f=null}},createHref:e=>n(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let r=u(x.location,e,n);a&&a(r,e),v=y()+1;let i=d(r,v),o=x.createHref(r);try{m.pushState(i,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(o)}c&&f&&f({action:h,location:x.location,delta:1})},replace:function(e,n){h=t.Replace;let r=u(x.location,e,n);a&&a(r,e),v=y();let s=d(r,v),i=x.createHref(r);m.replaceState(s,"",i),c&&f&&f({action:h,location:x.location,delta:0})},go:e=>m.go(e)};return x}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,a){let r=T(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let s=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=A(r);i=E(s[o],e,a)}return i}function g(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(l(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=D([a,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),g(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of _(e.path))r(e,t,a);else r(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let i=_(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,b=3,j=2,k=1,N=10,w=-2,S=e=>"*"===e;function C(e,t){let n=e.split("/"),a=n.length;return n.some(S)&&(a+=w),t&&(a+=j),n.filter(e=>!S(e)).reduce((e,t)=>e+(x.test(t)?b:""===t?k:N),a)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:D([s,d.pathname]),pathnameBase:M(D([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=D([s,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function F(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=m(e):(r=i({},e),l(!r.pathname||!r.pathname.includes("?"),F("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),F("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),F("#","search","hash",r)));let s,o=""===e||""===r.pathname,c=o?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!a&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:I(a),hash:U(r)}}(r,s),u=c&&"/"!==c&&c.endsWith("/"),p=(o||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],V=(new Set(q),["get",...q]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B.apply(this,arguments)}const H=a.createContext(null);const G=a.createContext(null);const W=a.createContext(null);const $=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function J(){return null!=a.useContext($)}function Y(){return J()||l(!1),a.useContext($).location}function X(e){a.useContext(W).static||a.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=ce(oe.UseNavigateStable),t=ue(le.UseNavigateStable),n=a.useRef(!1);return X(()=>{n.current=!0}),a.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,B({fromRouteId:t},r)))},[e,t])}():function(){J()||l(!1);let e=a.useContext(H),{basename:t,future:n,navigator:r}=a.useContext(W),{matches:s}=a.useContext(K),{pathname:i}=Y(),o=JSON.stringify(R(s,n.v7_relativeSplatPath)),c=a.useRef(!1);X(()=>{c.current=!0});let d=a.useCallback(function(n,a){if(void 0===a&&(a={}),!c.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:D([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,i,e]);return d}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(W),{matches:s}=a.useContext(K),{pathname:i}=Y(),o=JSON.stringify(R(s,r.v7_relativeSplatPath));return a.useMemo(()=>L(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function te(e,n,r,s){J()||l(!1);let{navigator:i}=a.useContext(W),{matches:o}=a.useContext(K),c=o[o.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,h=Y();if(n){var f;let e="string"===typeof n?m(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),p=e}else p=h;let y=p.pathname||"/",g=y;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=v(e,{pathname:g});let x=ie(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,s);return n&&x?a.createElement($.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},x):x}function ne(){let e=function(){var e;let t=a.useContext(Q),n=de(le.UseRouteError),r=ue(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ae=a.createElement(ne,null);class re extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(K.Provider,{value:t},r)}function ie(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=o.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,l=!1,p=null,m=null;var h;n&&(i=c&&r.route.id?c[r.route.id]:void 0,p=r.route.errorElement||ae,d&&(u<0&&0===s?(h="route-fallback",!1||pe[h]||(pe[h]=!0),l=!0,m=null):u===s&&(l=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),v=()=>{let t;return t=i?p:l?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(se,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(re,{location:n.location,revalidation:n.revalidation,component:p,error:i,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=a.useContext(H);return t||l(!1),t}function de(e){let t=a.useContext(G);return t||l(!1),t}function ue(e){let t=function(){let e=a.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function he(e){let{to:t,replace:n,state:r,relative:s}=e;J()||l(!1);let{future:i,static:o}=a.useContext(W),{matches:c}=a.useContext(K),{pathname:d}=Y(),u=Z(),p=L(t,R(c,i.v7_relativeSplatPath),d,"path"===s),m=JSON.stringify(p);return a.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:s}),[u,m,s,n,r]),null}function fe(e){l(!1)}function ve(e){let{basename:n="/",children:r=null,location:s,navigationType:i=t.Pop,navigator:o,static:c=!1,future:d}=e;J()&&l(!1);let u=n.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:u,navigator:o,static:c,future:B({v7_relativeSplatPath:!1},d)}),[u,d,o,c]);"string"===typeof s&&(s=m(s));let{pathname:h="/",search:f="",hash:v="",state:y=null,key:g="default"}=s,_=a.useMemo(()=>{let e=T(h,u);return null==e?null:{location:{pathname:e,search:f,hash:v,state:y,key:g},navigationType:i}},[u,h,f,v,y,g,i]);return null==_?null:a.createElement(W.Provider,{value:p},a.createElement($.Provider,{children:r,value:_}))}function ye(e){let{children:t,location:n}=e;return te(ge(t),n)}new Promise(()=>{});a.Component;function ge(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,ge(e.props.children,s));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ge(e.props.children,s)),n.push(i)}),n}var _e=n(950),xe=n.t(_e,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},be.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ns){}new Map;const Ne=r.startTransition;xe.flushSync,r.useId;function we(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),h(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return u("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},f=a.useCallback(e=>{m&&Ne?Ne(()=>d(e)):d(e)},[d,m]);return a.useLayoutEffect(()=>l.listen(f),[l,f]),a.useEffect(()=>me(r),[r]),a.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:m,viewTransition:h}=e,f=je(e,ke),{basename:v}=a.useContext(W),y=!1;if("string"===typeof u&&Ce.test(u)&&(n=u,Se))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=T(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Ns){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;J()||l(!1);let{basename:r,navigator:s}=a.useContext(W),{hash:i,pathname:o,search:c}=ee(e,{relative:n}),d=o;return"/"!==r&&(d="/"===o?r:D([r,o])),s.createHref({pathname:d,search:c,hash:i})}(u,{relative:s}),_=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=Z(),d=Y(),u=ee(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(d)===p(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,s,n,e,i,o,l])}(u,{replace:o,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:h});return a.createElement("a",be({},f,{href:n||g,onClick:y||i?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:d}))});var Pe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Te(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fe}=Object.prototype,{getPrototypeOf:Oe}=Object,{iterator:Re,toStringTag:Le}=Symbol,De=(Me=Object.create(null),e=>{const t=Fe.call(e);return Me[t]||(Me[t]=t.slice(8,-1).toLowerCase())});var Me;const Ie=e=>(e=e.toLowerCase(),t=>De(t)===e),Ue=e=>t=>typeof t===e,{isArray:ze}=Array,qe=Ue("undefined");function Ve(e){return null!==e&&!qe(e)&&null!==e.constructor&&!qe(e.constructor)&&Ge(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Be=Ie("ArrayBuffer");const He=Ue("string"),Ge=Ue("function"),We=Ue("number"),$e=e=>null!==e&&"object"===typeof e,Ke=e=>{if("object"!==De(e))return!1;const t=Oe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Le in e)&&!(Re in e)},Qe=Ie("Date"),Je=Ie("File"),Ye=Ie("Blob"),Xe=Ie("FileList"),Ze=Ie("URLSearchParams"),[et,tt,nt,at]=["ReadableStream","Request","Response","Headers"].map(Ie);function rt(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ze(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ve(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(n=0;n<s;n++)i=a[n],t.call(null,e[i],i,e)}}function st(e,t){if(Ve(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ot=e=>!qe(e)&&e!==it;const lt=(ct="undefined"!==typeof Uint8Array&&Oe(Uint8Array),e=>ct&&e instanceof ct);var ct;const dt=Ie("HTMLFormElement"),ut=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pt=Ie("RegExp"),mt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};rt(n,(n,r)=>{let s;!1!==(s=t(n,r,e))&&(a[r]=s||n)}),Object.defineProperties(e,a)};const ht=Ie("AsyncFunction"),ft=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],it.addEventListener("message",e=>{let{source:t,data:r}=e;t===it&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),it.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ge(it.postMessage)),vt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(it):"undefined"!==typeof process&&process.nextTick||ft,yt={isArray:ze,isArrayBuffer:Be,isBuffer:Ve,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ge(e.append)&&("formdata"===(t=De(e))||"object"===t&&Ge(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Be(e.buffer),t},isString:He,isNumber:We,isBoolean:e=>!0===e||!1===e,isObject:$e,isPlainObject:Ke,isEmptyObject:e=>{if(!$e(e)||Ve(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ns){return!1}},isReadableStream:et,isRequest:tt,isResponse:nt,isHeaders:at,isUndefined:qe,isDate:Qe,isFile:Je,isBlob:Ye,isRegExp:pt,isFunction:Ge,isStream:e=>$e(e)&&Ge(e.pipe),isURLSearchParams:Ze,isTypedArray:lt,isFileList:Xe,forEach:rt,merge:function e(){const{caseless:t,skipUndefined:n}=ot(this)&&this||{},a={},r=(r,s)=>{const i=t&&st(a,s)||s;Ke(a[i])&&Ke(r)?a[i]=e(a[i],r):Ke(r)?a[i]=e({},r):ze(r)?a[i]=r.slice():n&&qe(r)||(a[i]=r)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&rt(arguments[s],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rt(t,(t,a)=>{n&&Ge(t)?e[a]=Te(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,s,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&Oe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:De,kindOfTest:Ie,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(ze(e))return e;let t=e.length;if(!We(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Re]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:dt,hasOwnProperty:ut,hasOwnProp:ut,reduceDescriptors:mt,freezeMethods:e=>{mt(e,(t,n)=>{if(Ge(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ge(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return ze(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:st,global:it,isContextDefined:ot,isSpecCompliantForm:function(e){return!!(e&&Ge(e.append)&&"FormData"===e[Le]&&e[Re])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if($e(e)){if(t.indexOf(e)>=0)return;if(Ve(e))return e;if(!("toJSON"in e)){t[a]=e;const r=ze(e)?[]:{};return rt(e,(e,t)=>{const s=n(e,a+1);!qe(s)&&(r[t]=s)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:ht,isThenable:e=>e&&($e(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),setImmediate:ft,asap:vt,isIterable:e=>null!=e&&Ge(e[Re])};function gt(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}yt.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=gt.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}}),Object.defineProperties(gt,xt),Object.defineProperty(_t,"isAxiosError",{value:!0}),gt.from=(e,t,n,a,r,s)=>{const i=Object.create(_t);yt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return gt.call(i,o,l,n,a,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const bt=gt;function jt(e){return yt.isPlainObject(e)||yt.isArray(e)}function kt(e){return yt.endsWith(e,"[]")?e.slice(0,-2):e}function Nt(e,t,n){return e?e.concat(t).map(function(e,t){return e=kt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const wt=yt.toFlatObject(yt,{},null,function(e){return/^is[A-Z]/.test(e)});const St=function(e,t,n){if(!yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yt.isUndefined(t[e])})).metaTokens,r=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yt.isSpecCompliantForm(t);if(!yt.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(yt.isDate(e))return e.toISOString();if(yt.isBoolean(e))return e.toString();if(!o&&yt.isBlob(e))throw new bt("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(e)||yt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(yt.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(yt.isArray(e)&&function(e){return yt.isArray(e)&&!e.some(jt)}(e)||(yt.isFileList(e)||yt.endsWith(n,"[]"))&&(o=yt.toArray(e)))return n=kt(n),o.forEach(function(e,a){!yt.isUndefined(e)&&null!==e&&t.append(!0===i?Nt([n],a,s):null===i?n:n+"[]",l(e))}),!1;return!!jt(e)||(t.append(Nt(r,n,s),l(e)),!1)}const d=[],u=Object.assign(wt,{defaultVisitor:c,convertValue:l,isVisitable:jt});if(!yt.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!yt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),yt.forEach(n,function(n,s){!0===(!(yt.isUndefined(n)||null===n)&&r.call(t,n,yt.isString(s)?s.trim():s,a,u))&&e(n,a?a.concat(s):[s])}),d.pop()}}(e),t};function Ct(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Et(e,t){this._pairs=[],e&&St(e,this,t)}const Pt=Et.prototype;Pt.append=function(e,t){this._pairs.push([e,t])},Pt.toString=function(e){const t=e?function(t){return e.call(this,t,Ct)}:Ct;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const At=Et;function Tt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ft(e,t,n){if(!t)return e;const a=n&&n.encode||Tt;yt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(t,n):yt.isURLSearchParams(t)?t.toString():new At(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ot=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Dt(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Lt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}function Mt(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(t){Mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const zt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:At,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qt="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Bt=qt&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gt=qt&&window.location.href||"http://localhost",Wt=Ut(Ut({},e),zt);const $t=function(e){function t(e,n,a,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=r>=e.length;if(s=!s&&yt.isArray(a)?a.length:s,o)return yt.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!i;a[s]&&yt.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],r)&&yt.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let s;for(a=0;a<r;a++)s=n[a],t[s]=e[s];return t}(a[s])),!i}if(yt.isFormData(e)&&yt.isFunction(e.entries)){const n={};return yt.forEachEntry(e,(e,a)=>{t(function(e){return yt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Kt={transitional:Rt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=yt.isObject(e);r&&yt.isHTMLForm(e)&&(e=new FormData(e));if(yt.isFormData(e))return a?JSON.stringify($t(e)):e;if(yt.isArrayBuffer(e)||yt.isBuffer(e)||yt.isStream(e)||yt.isFile(e)||yt.isBlob(e)||yt.isReadableStream(e))return e;if(yt.isArrayBufferView(e))return e.buffer;if(yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return St(e,new Wt.classes.URLSearchParams,Ut({visitor:function(e,t,n,a){return Wt.isNode&&yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=yt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return St(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(yt.isString(e))try{return(t||JSON.parse)(e),yt.trim(e)}catch(Ns){if("SyntaxError"!==Ns.name)throw Ns}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Kt.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(yt.isResponse(e)||yt.isReadableStream(e))return e;if(e&&yt.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(Ns){if(n){if("SyntaxError"===Ns.name)throw bt.from(Ns,bt.ERR_BAD_RESPONSE,this,null,this.response);throw Ns}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],e=>{Kt.headers[e]={}});const Qt=Kt,Jt=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yt=Symbol("internals");function Xt(e){return e&&String(e).trim().toLowerCase()}function Zt(e){return!1===e||null==e?e:yt.isArray(e)?e.map(Zt):String(e)}function en(e,t,n,a,r){return yt.isFunction(a)?a.call(this,t,n):(r&&(t=n),yt.isString(t)?yt.isString(a)?-1!==t.indexOf(a):yt.isRegExp(a)?a.test(t):void 0:void 0)}class tn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Xt(t);if(!r)throw new Error("header name must be a non-empty string");const s=yt.findKey(a,r);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=Zt(e))}const s=(e,t)=>yt.forEach(e,(e,n)=>r(e,n,t));if(yt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Jt[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(yt.isObject(e)&&yt.isIterable(e)){let n,a,r={};for(const t of e){if(!yt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?yt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Xt(e)){const n=yt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(yt.isFunction(t))return t.call(this,e,n);if(yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xt(e)){const n=yt.findKey(this,e);return!(!n||void 0===this[n]||t&&!en(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Xt(e)){const r=yt.findKey(n,e);!r||t&&!en(0,n[r],r,t)||(delete n[r],a=!0)}}return yt.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!en(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return yt.forEach(this,(a,r)=>{const s=yt.findKey(n,r);if(s)return t[s]=Zt(a),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Zt(a),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yt.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&yt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Yt]=this[Yt]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Xt(e);t[a]||(!function(e,t){const n=yt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return yt.isArray(e)?e.forEach(a):a(e),this}}tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yt.reduceDescriptors(tn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),yt.freezeMethods(tn);const nn=tn;function an(e,t){const n=this||Qt,a=t||n,r=nn.from(a.headers);let s=a.data;return yt.forEach(e,function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function rn(e){return!(!e||!e.__CANCEL__)}function sn(e,t,n){bt.call(this,null==e?"canceled":e,bt.ERR_CANCELED,t,n),this.name="CanceledError"}yt.inherits(sn,bt,{__CANCEL__:!0});const on=sn;function ln(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new bt("Request failed with status code "+n.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const cn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];r||(r=l),n[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-r<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const dn=function(e,t){let n,a,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,a||(a=setTimeout(()=>{a=null,i(n)},s-t)))},()=>n&&i(n)]},un=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=cn(50,250);return dn(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-a,l=r(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},pn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},mn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yt.asap(()=>e(...n))},hn=Wt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,fn=Wt.hasStandardBrowserEnv?{write(e,t,n,a,r,s){const i=[e+"="+encodeURIComponent(t)];yt.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),yt.isString(a)&&i.push("path="+a),yt.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yn=e=>e instanceof nn?Ut({},e):e;function gn(e,t){t=t||{};const n={};function a(e,t,n,a){return yt.isPlainObject(e)&&yt.isPlainObject(t)?yt.merge.call({caseless:a},e,t):yt.isPlainObject(t)?yt.merge({},t):yt.isArray(t)?t.slice():t}function r(e,t,n,r){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function s(e,t){if(!yt.isUndefined(t))return a(void 0,t)}function i(e,t){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,s){return s in t?a(n,r):s in e?a(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>r(yn(e),yn(t),0,!0)};return yt.forEach(Object.keys(Ut(Ut({},e),t)),function(a){const s=l[a]||r,i=s(e[a],t[a],a);yt.isUndefined(i)&&s!==o||(n[a]=i)}),n}const _n=e=>{const t=gn({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=nn.from(i),t.url=Ft(vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yt.isFormData(n))if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(yt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&i.set(n,a)})}if(Wt.hasStandardBrowserEnv&&(a&&yt.isFunction(a)&&(a=a(t)),a||!1!==a&&hn(t.url))){const e=r&&s&&fn.read(s);e&&i.set(r,e)}return t},xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=_n(e);let r=a.data;const s=nn.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=nn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ln(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new bt("Request aborted",bt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new bt(a,bt.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Rt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new bt(t,r.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&yt.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),yt.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([l,d]=un(m,!0),f.addEventListener("progress",l)),p&&f.upload&&([o,c]=un(p),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{f&&(n(!t||t.type?new on(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);y&&-1===Wt.protocols.indexOf(y)?n(new bt("Unsupported protocol "+y+":",bt.ERR_BAD_REQUEST,e)):f.send(r||null)})},bn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof bt?t:new on(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new bt("timeout ".concat(t," of ms exceeded"),bt.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>yt.asap(i),o}};function jn(e,t){this.v=e,this.k=t}function kn(e){return function(){return new Nn(e.apply(this,arguments))}}function Nn(e){var t,n;function a(t,n){try{var s=e[t](n),i=s.value,o=i instanceof jn;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return a(l,n);n=e[l](n).value}r(s.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,i){var o={key:e,arg:r,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function wn(e){return new jn(e,0)}function Sn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new jn(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Cn(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new En(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function En(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return En=function(e){this.s=e,this.n=e.next},En.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new En(e)}Nn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Nn.prototype.next=function(e){return this._invoke("next",e)},Nn.prototype.throw=function(e){return this._invoke("throw",e)},Nn.prototype.return=function(e){return this._invoke("return",e)};const Pn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},An=function(){var e=kn(function*(e,t){var n,a=!1,r=!1;try{for(var s,i=Cn(Tn(e));a=!(s=yield wn(i.next())).done;a=!1){const e=s.value;yield*Sn(Cn(Pn(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=i.return&&(yield wn(i.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=kn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Sn(Cn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield wn(t.read());if(e)break;yield n}}finally{yield wn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Fn=(e,t,n,a)=>{const r=An(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let s=a.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:On}=yt,Rn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(yt.global),{ReadableStream:Ln,TextEncoder:Dn}=yt.global,Mn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Ns){return!1}},In=e=>{e=yt.merge.call({skipUndefined:!0},Rn,e);const{fetch:t,Request:n,Response:a}=e,r=t?On(t):"function"===typeof fetch,s=On(n),i=On(a);if(!r)return!1;const o=r&&On(Ln),l=r&&("function"===typeof Dn?(c=new Dn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&o&&Mn(()=>{let e=!1;const t=new n(Wt.origin,{body:new Ln,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&Mn(()=>yt.isReadableStream(new a("").body)),p={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new bt("Response type '".concat(e,"' is not supported"),bt.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const a=yt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(yt.isBlob(e))return e.size;if(yt.isSpecCompliantForm(e)){const t=new n(Wt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yt.isArrayBufferView(e)||yt.isArrayBuffer(e)?e.byteLength:(yt.isURLSearchParams(e)&&(e+=""),yt.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:i,data:o,signal:l,cancelToken:c,timeout:h,onDownloadProgress:f,onUploadProgress:v,responseType:y,headers:g,withCredentials:_="same-origin",fetchOptions:x}=_n(e),b=t||fetch;y=y?(y+"").toLowerCase():"text";let j=bn([l,c&&c.toAbortSignal()],h),k=null;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let w;try{if(v&&d&&"get"!==i&&"head"!==i&&0!==(w=await m(g,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(yt.isFormData(o)&&(e=t.headers.get("content-type"))&&g.setContentType(e),t.body){const[e,n]=pn(w,un(mn(v)));o=Fn(t.body,65536,e,n)}}yt.isString(_)||(_=_?"include":"omit");const t=s&&"credentials"in n.prototype,l=Ut(Ut({},x),{},{signal:j,method:i.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",credentials:t?_:void 0});k=s&&new n(r,l);let c=await(s?b(k,x):b(r,l));const h=u&&("stream"===y||"response"===y);if(u&&(f||h&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=yt.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&pn(t,un(mn(f),!0))||[];c=new a(Fn(c.body,65536,n,()=>{r&&r(),N&&N()}),e)}y=y||"text";let S=await p[yt.findKey(p,y)||"text"](c,e);return!h&&N&&N(),await new Promise((t,n)=>{ln(t,n,{data:S,headers:nn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(S){if(N&&N(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new bt("Network Error",bt.ERR_NETWORK,e,k),{cause:S.cause||S});throw bt.from(S,S&&S.code,e,k)}}},Un=new Map,zn=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,s=[a,r,n];let i,o,l=s.length,c=Un;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:In(t)),c=o;return o},qn=(zn(),{http:null,xhr:xn,fetch:{get:zn}});yt.forEach(qn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ns){}Object.defineProperty(e,"adapterName",{value:t})}});const Vn=e=>"- ".concat(e),Bn=e=>yt.isFunction(e)||null===e||!1===e,Hn=(e,t)=>{e=yt.isArray(e)?e:[e];const{length:n}=e;let a,r;const s={};for(let i=0;i<n;i++){let n;if(a=e[i],r=a,!Bn(a)&&(r=qn[(n=String(a)).toLowerCase()],void 0===r))throw new bt("Unknown adapter '".concat(n,"'"));if(r&&(yt.isFunction(r)||(r=r.get(t))))break;s[n||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Vn).join("\n"):" "+Vn(e[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Gn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function Wn(e){Gn(e),e.headers=nn.from(e.headers),e.data=an.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Hn(e.adapter||Qt.adapter,e)(e).then(function(t){return Gn(e),t.data=an.call(e,e.transformResponse,t),t.headers=nn.from(t.headers),t},function(t){return rn(t)||(Gn(e),t&&t.response&&(t.response.data=an.call(e,e.transformResponse,t.response),t.response.headers=nn.from(t.response.headers))),Promise.reject(t)})}const $n="1.12.2",Kn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Qn={};Kn.transitional=function(e,t,n){function a(e,t){return"[Axios v"+$n+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new bt(a(r," has been removed"+(t?" in "+t:"")),bt.ERR_DEPRECATED);return t&&!Qn[r]&&(Qn[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},Kn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Jn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const s=a[r],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new bt("option "+s+" must be "+n,bt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new bt("Unknown option "+s,bt.ERR_BAD_OPTION)}},validators:Kn},Yn=Jn.validators;class Xn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ns){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=gn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Jn.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),null!=a&&(yt.isFunction(a)?t.paramsSerializer={serialize:a}:Jn.assertOptions(a,{encode:Yn.function,serialize:Yn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jn.assertOptions(t,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&yt.merge(r.common,r[t.method]);r&&yt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=nn.concat(s,r);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Wn.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=Wn.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ft(vn((e=gn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(e){Xn.prototype[e]=function(t,n){return this.request(gn(n||{},{method:e,url:t,data:(n||{}).data}))}}),yt.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(gn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Xn.prototype[e]=t(),Xn.prototype[e+"Form"]=t(!0)});const Zn=Xn;class ea{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new on(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ea(function(t){e=t});return{token:t,cancel:e}}}const ta=ea;const na={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(na).forEach(e=>{let[t,n]=e;na[n]=t});const aa=na;const ra=function e(t){const n=new Zn(t),a=Te(Zn.prototype.request,n);return yt.extend(a,Zn.prototype,n,{allOwnKeys:!0}),yt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(gn(t,n))},a}(Qt);ra.Axios=Zn,ra.CanceledError=on,ra.CancelToken=ta,ra.isCancel=rn,ra.VERSION=$n,ra.toFormData=St,ra.AxiosError=bt,ra.Cancel=ra.CanceledError,ra.all=function(e){return Promise.all(e)},ra.spread=function(e){return function(t){return e.apply(null,t)}},ra.isAxiosError=function(e){return yt.isObject(e)&&!0===e.isAxiosError},ra.mergeConfig=gn,ra.AxiosHeaders=nn,ra.formToJSON=e=>$t(yt.isHTMLForm(e)?new FormData(e):e),ra.getAdapter=Hn,ra.HttpStatusCode=aa,ra.default=ra;const sa=ra,ia={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:8000/api",oa=sa.create({baseURL:ia});oa.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),oa.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refreshToken"),n=await sa.post("".concat(ia,"/token/refresh/"),{refresh:e}),{access:a}=n.data;return localStorage.setItem("accessToken",a),t.headers.Authorization="Bearer ".concat(a),oa(t)}catch(n){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});const la=oa;var ca=n(579);const da=(0,a.createContext)(),ua=()=>{const e=(0,a.useContext)(da);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pa=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(localStorage.getItem("accessToken"));(0,a.useEffect)(()=>{(async()=>{const e=localStorage.getItem("accessToken");if(e)try{const t=await la.get("/core/profile/");r(t.data),l(e)}catch(t){console.error("Auth initialization failed:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}i(!1)})()},[]);const c={user:n,token:o,loading:s,login:async e=>{try{const t=await la.post("/core/login/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(o){var t,n,a,s,i;return console.error("Login failed:",o),"ECONNREFUSED"===o.code||o.message.includes("Network Error")||o.message.includes("ERR_CONNECTION_REFUSED")?{success:!1,error:"Cannot connect to server. Please check if the backend server is running."}:{success:!1,error:(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.non_field_errors)||void 0===i?void 0:i[0])||"Login failed"}}},register:async e=>{try{const t=await la.post("/core/register/",e),{user:n,tokens:a}=t.data;return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),r(n),l(a.access),{success:!0,user:n}}catch(n){var t;return console.error("Registration failed:",n),{success:!1,error:(null===(t=n.response)||void 0===t?void 0:t.data)||"Registration failed"}}},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(null),l(null)},updateUser:e=>{r(e)},isAuthenticated:!!n,isAdmin:"admin"===(null===n||void 0===n?void 0:n.role),isManager:"manager"===(null===n||void 0===n?void 0:n.role),isSales:"sales"===(null===n||void 0===n?void 0:n.role)};return(0,ca.jsx)(da.Provider,{value:c,children:t})};n(844);Object.create(null);const ma={},ha=(e,t,n,a)=>{ga(n)&&ma[n]||(ga(n)&&(ma[n]=new Date),((e,t,n,a)=>{var r,s,i;const o=[n,Ut({code:t},a||{})];if(null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);ga(o[0])&&(o[0]="react-i18next:: ".concat(o[0])),null!==e&&void 0!==e&&null!==(s=e.services)&&void 0!==s&&null!==(s=s.logger)&&void 0!==s&&s.warn?e.services.logger.warn(...o):null!==(i=console)&&void 0!==i&&i.warn&&console.warn(...o)})(e,t,n,a))},fa=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},va=(e,t,n)=>{e.loadNamespaces(t,fa(e,n))},ya=(e,t,n,a)=>{if(ga(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return va(e,n,a);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,fa(e,a))},ga=e=>"string"===typeof e,_a=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xa={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},ba=e=>xa[e];let ja={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(_a,ba)};let ka;const Na={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ja=Ut(Ut({},ja),e)}(e.options.react),(e=>{ka=e})(e)}},wa=(0,a.createContext)();class Sa{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ca=(e,t,n,a)=>e.getFixedT(t,n,a),Ea=function(e){var t,n,r,s;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:o}=i,{i18n:l,defaultNS:c}=(0,a.useContext)(wa)||{},d=o||l||ka;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Sa),!d){ha(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return ga(t)?t:"object"===typeof(n=t)&&null!==n&&ga(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(t=d.options.react)&&void 0!==t&&t.wait&&ha(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u=Ut(Ut(Ut({},ja),d.options.react),i),{useSuspense:p,keyPrefix:m}=u;let h=e||c||(null===(n=d.options)||void 0===n?void 0:n.defaultNS);h=ga(h)?[h]:h||["translation"],null===(r=(s=d.reportNamespaces).addUsedNamespaces)||void 0===r||r.call(s,h);const f=(d.isInitialized||d.initializedStoreOnce)&&h.every(e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):(ha(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,d,u)),v=((e,t,n,r)=>(0,a.useCallback)(Ca(e,t,n,r),[e,t,n,r]))(d,i.lng||null,"fallback"===u.nsMode?h:h[0],m),y=()=>v,g=()=>Ca(d,i.lng||null,"fallback"===u.nsMode?h:h[0],m),[_,x]=(0,a.useState)(y);let b=h.join();i.lng&&(b="".concat(i.lng).concat(b));const j=((e,t)=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current})(b),k=(0,a.useRef)(!0);(0,a.useEffect)(()=>{const{bindI18n:e,bindI18nStore:t}=u;k.current=!0,f||p||(i.lng?ya(d,i.lng,h,()=>{k.current&&x(g)}):va(d,h,()=>{k.current&&x(g)})),f&&j&&j!==b&&k.current&&x(g);const n=()=>{k.current&&x(g)};return e&&(null===d||void 0===d||d.on(e,n)),t&&(null===d||void 0===d||d.store.on(t,n)),()=>{k.current=!1,d&&e&&(null===e||void 0===e||e.split(" ").forEach(e=>d.off(e,n))),t&&d&&t.split(" ").forEach(e=>d.store.off(e,n))}},[d,b]),(0,a.useEffect)(()=>{k.current&&f&&x(y)},[d,m,f]);const N=[_,d,f];if(N.t=_,N.i18n=d,N.ready=f,f)return N;if(!f&&!p)return N;throw new Promise(e=>{i.lng?ya(d,i.lng,h,()=>e()):va(d,h,()=>e())})};function Pa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Aa=["children","variant","size","disabled","loading","onClick","type","className"],Ta=e=>{let{children:t,variant:n="primary",size:a="medium",disabled:r=!1,loading:s=!1,onClick:i,type:o="button",className:l=""}=e,c=Pa(e,Aa);const d=["btn",{primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",outline:"btn-outline"}[n],{small:"btn-sm",medium:"btn-md",large:"btn-lg"}[a],s?"btn-loading":"",l].filter(Boolean).join(" ");return(0,ca.jsxs)("button",Ut(Ut({type:o,className:d,disabled:r||s,onClick:i},c),{},{children:[s&&(0,ca.jsx)("span",{className:"btn-spinner"}),t]}))},Fa=()=>{const{i18n:e,t:t}=Ea(),[n,r]=(0,a.useState)(!1),s=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"fr",name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"mg",name:"Malagasy",flag:"\ud83c\uddf2\ud83c\uddec"}],i=s.find(t=>t.code===e.language)||s[0];return(0,ca.jsxs)("div",{className:"language-selector",children:[(0,ca.jsxs)("button",{className:"language-selector-button",onClick:()=>{r(!n)},"aria-label":t("language.select_language"),children:[(0,ca.jsx)("span",{className:"language-flag",children:i.flag}),(0,ca.jsx)("span",{className:"language-name",children:i.name}),(0,ca.jsx)("span",{className:"dropdown-arrow ".concat(n?"open":""),children:"\u25bc"})]}),n&&(0,ca.jsx)("div",{className:"language-dropdown",children:s.map(n=>(0,ca.jsxs)("button",{className:"language-option ".concat(e.language===n.code?"active":""),onClick:()=>(n=>{e.changeLanguage(n),r(!1);const a=t("language.language_changed");console.log(a)})(n.code),children:[(0,ca.jsx)("span",{className:"language-flag",children:n.flag}),(0,ca.jsx)("span",{className:"language-name",children:n.name}),e.language===n.code&&(0,ca.jsx)("span",{className:"checkmark",children:"\u2713"})]},n.code))})]})},Oa=()=>{const{user:e,logout:t,isAuthenticated:n,isSales:r}=ua(),{t:s}=Ea(),i=Z(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const p={sales:{title:s("navigation.sales"),icon:"\ud83d\udcb0",items:[{name:s("navigation.pos"),path:"/pos",icon:"\ud83d\uded2"},{name:s("navigation.pending_sales"),path:"/pending-sales",icon:"\u23f3"},{name:s("navigation.sales_management"),path:"/sales-management",icon:"\ud83d\udcca",adminOnly:!0}]},purchases:{title:s("navigation.purchase_orders"),icon:"\ud83d\udce6",items:[{name:s("navigation.purchase_orders"),path:"/purchase-orders",icon:"\ud83d\udccb"},{name:s("navigation.suppliers"),path:"/suppliers",icon:"\ud83c\udfe2"}],salesHidden:!0},inventory:{title:s("navigation.inventory"),icon:"\ud83d\udce6",items:[{name:s("navigation.inventory"),path:"/inventory",icon:"\ud83d\udce6"}],salesHidden:!0},administration:{title:s("navigation.system_management"),icon:"\u2699\ufe0f",items:[{name:s("navigation.users"),path:"/users",icon:"\ud83d\udc65",adminOnly:!0},{name:s("navigation.tax_management"),path:"/tax-management",icon:"\ud83d\udcca",adminOnly:!0},{name:s("navigation.system_management"),path:"/system-management",icon:"\ud83d\udd27",adminOnly:!0},{name:s("navigation.printer_settings"),path:"/printer-settings",icon:"\ud83d\udda8\ufe0f",adminOnly:!0},{name:s("navigation.stock_movement"),path:"/stock-movement",icon:"\ud83d\udce6",adminOnly:!0},{name:s("navigation.reports"),path:"/reports",icon:"\ud83d\udcc8",adminOnly:!0}],salesHidden:!0}};return(0,ca.jsx)("nav",{className:"navbar",ref:u,children:(0,ca.jsx)("div",{className:"navbar-container",children:n?(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("div",{className:"navbar-left",children:(0,ca.jsx)(Fa,{})}),(0,ca.jsxs)("div",{className:"navbar-center",children:[(0,ca.jsx)(Ee,{to:"/",className:"navbar-brand",children:(0,ca.jsx)("h1",{children:s("app.title")})}),(0,ca.jsxs)("div",{className:"navbar-menu ".concat(o?"active":""),children:[(0,ca.jsxs)(Ee,{to:"/dashboard",className:"navbar-link dashboard-link",children:[(0,ca.jsx)("span",{className:"nav-icon",children:"\ud83c\udfe0"}),"Dashboard"]}),Object.entries(p).map(t=>{let[n,a]=t;return r&&a.salesHidden?null:(0,ca.jsxs)("div",{className:"navbar-dropdown",children:[(0,ca.jsxs)("button",{className:"navbar-dropdown-toggle",onClick:()=>(e=>{d(c===e?null:e)})(n),children:[(0,ca.jsx)("span",{className:"nav-icon",children:a.icon}),a.title,(0,ca.jsx)("span",{className:"dropdown-arrow ".concat(c===n?"active":""),children:"\u25bc"})]}),c===n&&(0,ca.jsx)("div",{className:"navbar-dropdown-menu",children:a.items.map((t,n)=>t.adminOnly&&"admin"!==(null===e||void 0===e?void 0:e.role)&&"manager"!==(null===e||void 0===e?void 0:e.role)||t.adminOnly&&"Reports"===t.name&&"admin"!==(null===e||void 0===e?void 0:e.role)?null:(0,ca.jsxs)(Ee,{to:t.path,className:"navbar-dropdown-link",onClick:()=>d(null),children:[(0,ca.jsx)("span",{className:"nav-icon",children:t.icon}),t.name]},n))})]},n)})]})]}),(0,ca.jsxs)("div",{className:"navbar-right",children:[(0,ca.jsxs)("div",{className:"navbar-user",children:[(0,ca.jsxs)("div",{className:"user-info",children:[(0,ca.jsx)("span",{className:"user-name",children:null===e||void 0===e?void 0:e.username}),(0,ca.jsx)("span",{className:"user-role",children:null===e||void 0===e?void 0:e.role})]}),(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>{t(),i("/login")},children:s("navigation.logout")})]}),(0,ca.jsxs)("button",{className:"navbar-toggle",onClick:()=>{l(!o)},"aria-label":s("app.toggle_menu"),children:[(0,ca.jsx)("span",{}),(0,ca.jsx)("span",{}),(0,ca.jsx)("span",{})]})]})]}):(0,ca.jsx)(Ee,{to:"/",className:"navbar-brand",children:(0,ca.jsx)("h1",{children:s("app.title")})})})})},Ra=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!0),s=async()=>{try{r(!0),await la.get("/core/health/",{timeout:5e3}),t(!0)}catch(e){"ECONNREFUSED"===e.code||e.message.includes("Network Error")||e.message.includes("ERR_CONNECTION_REFUSED")||e.message.includes("Failed to fetch")||e.message.includes("Connection refused")?t(!1):e.response&&e.response.status?t(!0):t(!1)}finally{r(!1)}};return(0,a.useEffect)(()=>{s();const e=setInterval(s,3e4);return()=>clearInterval(e)},[]),(0,ca.jsxs)("div",{className:"connection-status",children:[(0,ca.jsx)("div",{className:"status-dot ".concat(e?"connected":"disconnected"," ").concat(n?"checking":""),title:n?"Checking connection...":e?"Server connected":"Server disconnected"}),(0,ca.jsx)("span",{className:"status-text",children:n?"Checking...":e?"Connected":"Disconnected"})]})},La=()=>{const[e,t]=(0,a.useState)({username:"",password:""}),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),{login:o,isAuthenticated:l}=ua(),{t:c}=Ea(),d=Z();(0,a.useEffect)(()=>{l&&d("/dashboard")},[l,d]);const u=n=>{t(Ut(Ut({},e),{},{[n.target.name]:n.target.value})),i("")};return(0,ca.jsxs)("div",{className:"login-container",children:[(0,ca.jsx)("div",{className:"login-language-selector",children:(0,ca.jsx)(Fa,{})}),(0,ca.jsxs)("div",{className:"login-card",children:[(0,ca.jsxs)("div",{className:"login-header",children:[(0,ca.jsx)("h1",{children:c("app.title")}),(0,ca.jsx)("p",{children:c("auth.login")})]}),(0,ca.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0),i("");const n=await o(e);n.success?d("/dashboard"):i(n.error),r(!1)},className:"login-form",children:[s&&(0,ca.jsx)("div",{className:"error-message",children:s}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"username",children:c("auth.username")}),(0,ca.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,required:!0,disabled:n})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"password",children:c("auth.password")}),(0,ca.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,required:!0,disabled:n})]}),(0,ca.jsx)(Ta,{type:"submit",loading:n,className:"login-button",children:c("auth.login")})]}),(0,ca.jsx)("div",{className:"login-footer",children:(0,ca.jsxs)("p",{children:[c("messages.dont_have_account")," ",(0,ca.jsx)(Ee,{to:"/register",className:"register-link",children:c("messages.contact_administrator")})]})})]})]})},Da=(e,t,n,a)=>{console.log("generatePrintContent called with:",{data:e,title:t,type:n});const r=(new Date).toLocaleDateString(),s=(new Date).toLocaleTimeString(),i=(new Date).toISOString(),o=e.print_id||"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));console.log("Generating HTML content for type:",n);let l="\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>".concat(t,'</title>\n      <style>\n        body { \n          font-family: Arial, sans-serif; \n          margin: 20px; \n          color: #333;\n          line-height: 1.4;\n        }\n        .header { \n          text-align: center; \n          border-bottom: 2px solid #333; \n          padding-bottom: 10px; \n          margin-bottom: 20px; \n        }\n        .header h1 { \n          margin: 0; \n          color: #2c3e50; \n          font-size: 24px;\n        }\n        .header .date { \n          color: #666; \n          font-size: 14px; \n          margin-top: 5px;\n        }\n        .header .print-info { \n          color: #888; \n          font-size: 12px; \n          margin-top: 3px;\n          font-family: monospace;\n        }\n        .info-section { \n          margin-bottom: 20px; \n          padding: 15px; \n          background: #f8f9fa; \n          border-radius: 5px; \n        }\n        .info-section h3 { \n          margin: 0 0 10px 0; \n          color: #2c3e50; \n          font-size: 16px;\n        }\n        .info-row { \n          display: flex; \n          justify-content: space-between; \n          margin-bottom: 5px; \n        }\n        .info-label { \n          font-weight: bold; \n          color: #555; \n        }\n        .info-value { \n          color: #333; \n        }\n        table { \n          width: 100%; \n          border-collapse: collapse; \n          margin-top: 10px; \n        }\n        th, td { \n          border: 1px solid #ddd; \n          padding: 8px; \n          text-align: left; \n        }\n        th { \n          background-color: #f2f2f2; \n          font-weight: bold; \n          color: #2c3e50;\n        }\n        .total-row { \n          font-weight: bold; \n          background-color: #e9ecef; \n        }\n        .footer { \n          margin-top: 30px; \n          text-align: center; \n          color: #666; \n          font-size: 12px; \n          border-top: 1px solid #ddd; \n          padding-top: 10px; \n        }\n        @media print {\n          body { margin: 0; }\n          .no-print { display: none; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="header">\n        <h1>').concat(t,'</h1>\n        <div class="date">Generated on ').concat(r," at ").concat(s,'</div>\n        <div class="print-info">Print ID: ').concat(o," | Timestamp: ").concat(i,"</div>\n      </div>\n  ");switch(console.log("Processing switch statement for type:",n),n){case"inventory":console.log("Generating inventory content"),l+=(e=>{console.log("generateInventoryContent - Data received:",e),console.log("generateInventoryContent - Is array?",Array.isArray(e)),console.log("generateInventoryContent - Data keys:",Object.keys(e));let t=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))t=e.results,console.log("Found products in data.results:",t.length);else if(e.data&&Array.isArray(e.data))t=e.data,console.log("Found products in data.data:",t.length);else if(e.items&&Array.isArray(e.items))t=e.items,console.log("Found products in data.items:",t.length);else{const n=Object.keys(e).filter(e=>/^\d+$/.test(e));n.length>0?(t=n.map(t=>e[t]).filter(e=>e&&"object"===typeof e),console.log("Found products in numbered keys:",t.length)):(console.log("No array found in data object"),t=[])}return console.log("Final products array length:",t.length),'\n    <div class="info-section">\n      <h3>{t(\'titles.inventory_summary\')}</h3>\n      <div class="info-row">\n        <span class="info-label">Total Products:</span>\n        <span class="info-value">'.concat(Array.isArray(t)?t.length:0,"</span>\n      </div>\n    </div>\n    <table>\n      <thead>\n        <tr>\n          <th>Product Name</th>\n          <th>SKU</th>\n          <th>Stock Quantity</th>\n          <th>Base Unit</th>\n          <th>Unit Price</th>\n          <th>Category</th>\n        </tr>\n      </thead>\n      <tbody>\n        ").concat(Array.isArray(t)?t.map(e=>{var t,n,a;return"\n          <tr>\n            <td>".concat(e.name||"N/A","</td>\n            <td>").concat(e.sku||"N/A","</td>\n            <td>").concat(e.stock_quantity||0,"</td>\n            <td>").concat((null===(t=e.base_unit)||void 0===t?void 0:t.name)||(null===(n=e.base_unit)||void 0===n?void 0:n.symbol)||"piece","</td>\n            <td>").concat(parseFloat(e.price||0).toFixed(2)," MGA</td>\n            <td>").concat((null===(a=e.category)||void 0===a?void 0:a.name)||"N/A","</td>\n          </tr>\n        ")}).join(""):'<tr><td colspan="6">No products found</td></tr>',"\n      </tbody>\n    </table>\n  ")})(e);break;case"purchase_order":console.log("Generating purchase order content"),l+=(e=>{var t;return'\n    <div class="info-section">\n      <h3>Purchase Order Information</h3>\n      <div class="info-row">\n        <span class="info-label">Order Number:</span>\n        <span class="info-value">'.concat(e.order_number||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Supplier:</span>\n        <span class="info-value">').concat((null===(t=e.supplier)||void 0===t?void 0:t.name)||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Order Date:</span>\n        <span class="info-value">').concat(e.order_date?new Date(e.order_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Status:</span>\n        <span class="info-value">').concat(e.status||"N/A","</span>\n      </div>\n    </div>\n    <table>\n      <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity Ordered</th>\n          <th>Unit</th>\n          <th>Unit Cost</th>\n          <th>Total Cost</th>\n        </tr>\n      </thead>\n      <tbody>\n        ").concat(e.items?e.items.map(e=>{var t,n,a;return"\n          <tr>\n            <td>".concat((null===(t=e.product)||void 0===t?void 0:t.name)||"N/A","</td>\n            <td>").concat(e.quantity_ordered||0,"</td>\n            <td>").concat((null===(n=e.unit)||void 0===n?void 0:n.name)||(null===(a=e.unit)||void 0===a?void 0:a.symbol)||"piece","</td>\n            <td>").concat(parseFloat(e.unit_cost||0).toFixed(2)," MGA</td>\n            <td>").concat(parseFloat((e.quantity_ordered||0)*(e.unit_cost||0)).toFixed(2)," MGA</td>\n          </tr>\n        ")}).join(""):"",'\n      </tbody>\n      <tfoot>\n        <tr class="total-row">\n          <td colspan="4">Total Amount:</td>\n          <td>').concat(parseFloat(e.total_amount||0).toFixed(2)," MGA</td>\n        </tr>\n      </tfoot>\n    </table>\n  ")})(e);break;case"delivery":console.log("Generating delivery content"),l+=(e=>{var t;return'\n    <div class="info-section">\n      <h3>Delivery Information</h3>\n      <div class="info-row">\n        <span class="info-label">Delivery Number:</span>\n        <span class="info-value">'.concat(e.delivery_number||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Purchase Order:</span>\n        <span class="info-value">').concat((null===(t=e.purchase_order)||void 0===t?void 0:t.order_number)||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Delivery Date:</span>\n        <span class="info-value">').concat(e.delivery_date?new Date(e.delivery_date).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Status:</span>\n        <span class="info-value">').concat(e.status||"N/A","</span>\n      </div>\n    </div>\n    <table>\n      <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity Received</th>\n          <th>Unit</th>\n          <th>Unit Cost</th>\n          <th>Total Cost</th>\n        </tr>\n      </thead>\n      <tbody>\n        ").concat(e.items?e.items.map(e=>{var t,n,a;return"\n          <tr>\n            <td>".concat((null===(t=e.product)||void 0===t?void 0:t.name)||"N/A","</td>\n            <td>").concat(e.quantity_received||0,"</td>\n            <td>").concat((null===(n=e.unit)||void 0===n?void 0:n.name)||(null===(a=e.unit)||void 0===a?void 0:a.symbol)||"piece","</td>\n            <td>").concat(parseFloat(e.unit_cost||0).toFixed(2)," MGA</td>\n            <td>").concat(parseFloat((e.quantity_received||0)*(e.unit_cost||0)).toFixed(2)," MGA</td>\n          </tr>\n        ")}).join(""):"",'\n      </tbody>\n      <tfoot>\n        <tr class="total-row">\n          <td colspan="4">Total Amount:</td>\n          <td>').concat(parseFloat(e.total_amount||0).toFixed(2)," MGA</td>\n        </tr>\n      </tfoot>\n    </table>\n  ")})(e);break;case"sale":console.log("Generating sale content"),l+=((e,t)=>{console.log("generateSaleContent - Data received:",e),console.log("generateSaleContent - Payment status:",e.payment_status),console.log("generateSaleContent - Paid amount:",e.paid_amount),console.log("generateSaleContent - Remaining amount:",e.remaining_amount),console.log("generateSaleContent - Items array:",e.items),console.log("generateSaleContent - Items length:",e.items?e.items.length:"No items");let n=e.items;if(!n){const t=Object.keys(e).filter(e=>/^\d+$/.test(e));t.length>0&&(n=t.map(t=>e[t]).filter(e=>e&&"object"===typeof e),console.log("Found items in numbered keys:",n.length))}return console.log("Final items array length:",n?n.length:0),'\n    <div class="info-section">\n      <h3>Sale Information</h3>\n      <div class="info-row">\n        <span class="info-label">Sale Number:</span>\n        <span class="info-value">'.concat(e.sale_number||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Customer:</span>\n        <span class="info-value">').concat(e.customer_name||"Walk-in Customer","</span>\n      </div>\n      ").concat(e.customer_phone?'\n        <div class="info-row">\n          <span class="info-label">Phone:</span>\n          <span class="info-value">'.concat(e.customer_phone,"</span>\n        </div>\n      "):"",'\n      <div class="info-row">\n        <span class="info-label">Date:</span>\n        <span class="info-value">').concat(e.created_at?new Date(e.created_at).toLocaleDateString():"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Status:</span>\n        <span class="info-value">').concat(e.status||"N/A",'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Payment Status:</span>\n        <span class="info-value">').concat("paid"===e.payment_status?t("payment_status.paid"):"partial"===e.payment_status?t("payment_status.partial_payment"):"pending"===e.payment_status?t("payment_status.pending_payment"):t("payment_status.unknown"),'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Total Amount:</span>\n        <span class="info-value">').concat(parseFloat(e.total_amount||0).toFixed(2),' MGA</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Paid Amount:</span>\n        <span class="info-value">').concat(parseFloat(e.paid_amount||0).toFixed(2)," MGA</span>\n      </div>\n      ").concat("partial"===e.payment_status?'\n        <div class="info-row payment-warning">\n          <span class="info-label">Remaining Amount:</span>\n          <span class="info-value">'.concat(parseFloat(e.remaining_amount||0).toFixed(2),' MGA</span>\n        </div>\n        <div class="info-row payment-warning">\n          <span class="info-label">Due Date:</span>\n          <span class="info-value">').concat(e.due_date||t("payment_status.to_be_determined"),"</span>\n        </div>\n      "):"","\n    </div>\n    <table>\n      <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity</th>\n          <th>Unit</th>\n          <th>Unit Price</th>\n          <th>Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        ").concat(n&&Array.isArray(n)?n.map(e=>"\n          <tr>\n            <td>".concat(e.product_name||"N/A","</td>\n            <td>").concat(e.quantity_display||e.quantity||0,"</td>\n            <td>").concat(e.unit_name||"piece","</td>\n            <td>").concat(parseFloat(e.unit_price||0).toFixed(2)," MGA</td>\n            <td>").concat(parseFloat(e.total_price||0).toFixed(2)," MGA</td>\n          </tr>\n        ")).join(""):'<tr><td colspan="5">No items found</td></tr>','\n      </tbody>\n      <tfoot>\n        <tr class="total-row">\n          <td colspan="4">Total Amount:</td>\n          <td>').concat(parseFloat(e.total_amount||0).toFixed(2)," MGA</td>\n        </tr>\n      </tfoot>\n    </table>\n  ")})(e,a);break;case"sales_history":console.log("Generating sales history content"),l+=(e=>{console.log("generateSalesHistoryContent - Data received:",e),console.log("generateSalesHistoryContent - Is array?",Array.isArray(e)),console.log("generateSalesHistoryContent - Data keys:",Object.keys(e));let t=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))t=e.results,console.log("Found sales in data.results:",t.length);else if(e.data&&Array.isArray(e.data))t=e.data,console.log("Found sales in data.data:",t.length);else if(e.items&&Array.isArray(e.items))t=e.items,console.log("Found sales in data.items:",t.length);else{const n=Object.keys(e).filter(e=>/^\d+$/.test(e));n.length>0?(t=n.map(t=>e[t]).filter(e=>e&&"object"===typeof e),console.log("Found sales in numbered keys:",t.length)):(console.log("No array found in data object"),t=[])}return console.log("Final sales array length:",t.length),'\n    <div class="info-section">\n      <h3>Sales Report Summary</h3>\n      <div class="info-row">\n        <span class="info-label">Total Sales:</span>\n        <span class="info-value">'.concat(Array.isArray(t)?t.length:0,'</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Total Revenue:</span>\n        <span class="info-value">').concat(Array.isArray(t)?t.reduce((e,t)=>e+parseFloat(t.total_amount||0),0).toFixed(2):"0.00"," MGA</span>\n      </div>\n    </div>\n    <table>\n      <thead>\n        <tr>\n          <th>Sale Number</th>\n          <th>Customer</th>\n          <th>Date</th>\n          <th>Total Amount</th>\n          <th>Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        ").concat(Array.isArray(t)?t.map(e=>"\n          <tr>\n            <td>".concat(e.sale_number||"N/A","</td>\n            <td>").concat(e.customer_name||"Walk-in Customer","</td>\n            <td>").concat(e.created_at?new Date(e.created_at).toLocaleDateString():"N/A","</td>\n            <td>").concat(parseFloat(e.total_amount||0).toFixed(2)," MGA</td>\n            <td>").concat(e.status||"N/A","</td>\n          </tr>\n        ")).join(""):"","\n      </tbody>\n    </table>\n  ")})(e);break;default:console.log("Using default content generator"),l+=(e=>'\n    <div class="info-section">\n      <h3>Document Information</h3>\n      <div class="info-row">\n        <span class="info-label">Document Type:</span>\n        <span class="info-value">General Document</span>\n      </div>\n      <div class="info-row">\n        <span class="info-label">Generated:</span>\n        <span class="info-value">'.concat((new Date).toLocaleString(),'</span>\n      </div>\n    </div>\n    <div class="info-section">\n      <h3>Content</h3>\n      <pre>').concat(JSON.stringify(e,null,2),"</pre>\n    </div>\n  "))(e)}return console.log("Content generated, length:",l.length),l+='\n      <div class="footer">\n        <p>Generated by Beverage Management System</p>\n        <p>Print ID: '.concat(o," | Generated: ").concat(i,"</p>\n        <p>Document Type: ").concat(n.toUpperCase()," | User: ").concat(e.user_name||"System","</p>\n      </div>\n    </body>\n    </html>\n  "),l},Ma=e=>{let{data:t,title:n,type:r="default",onValidate:s=null,validateText:i="Validate & Print",printText:o="Print",className:l="",disabled:c=!1,showValidateOption:d=!1}=e;const{t:u}=Ea(),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),v=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(console.log("=== PRINT DEBUGGING START ==="),console.log("Print data:",t),console.log("Print title:",n),console.log("Print type:",r),e&&s)try{await s()}catch(a){return void console.error("Validation failed:",a)}m(!0);try{console.log("Generating print content...");const e=Da(t,n,r,u);console.log("Generated print content length:",e.length),console.log("Generated print content preview:",e.substring(0,500)+"..."),console.log("Opening print window...");const a=window.open("","_blank","width=800,height=600");if(!a)throw new Error("Failed to open print window. Please check popup blockers.");console.log("Writing content to print window..."),a.document.write(e),a.document.close();const s=()=>{console.log("Print window loaded, starting print..."),a.focus(),a.print(),setTimeout(()=>{a.close(),console.log("Print completed")},1e3)};"complete"===a.document.readyState?s():a.onload=s,setTimeout(()=>{a.closed||(console.log("Print window still open after timeout, closing..."),a.close())},5e3)}catch(a){console.error("Print error:",a),alert("Failed to print. Please try again. Error: "+a.message)}finally{m(!1),f(!1),console.log("=== PRINT DEBUGGING END ===")}};return d&&s?(0,ca.jsxs)("div",{className:"print-button-container ".concat(l),children:[(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>f(!h),disabled:c,children:h?"Hide Options":"Show Options"}),h&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)(Ta,{variant:"primary",size:"small",onClick:()=>v(!0),disabled:c||p,children:p?"Processing...":i}),(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>v(!1),disabled:c||p,children:p?"Preparing...":o})]})]}):(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>v(!1),disabled:c||p,className:l,children:p?"Printing...":o})},Ia=e=>{var t;let{sale:n,onClose:a,loading:r=!1}=e;const{t:s}=Ea();if(!n&&!r)return null;if(n&&!n.sale_number)return(0,ca.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:s("modals.sale_details")}),(0,ca.jsx)("button",{className:"modal-close",onClick:a,children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsx)("div",{className:"modal-body",children:(0,ca.jsx)("div",{className:"error-state",children:(0,ca.jsx)("p",{children:"Unable to load sale details. The sale data appears to be incomplete."})})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)("button",{className:"btn-secondary",onClick:a,children:s("modals.close")})})]})});const i=e=>"".concat(parseFloat(e).toFixed(2)," MGA");return(0,ca.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:s("modals.sale_details")}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Ma,{data:n,title:s("titles.sale_receipt"),type:"sale",printText:s("buttons.print_receipt"),className:"print-sale-receipt-btn"}),(0,ca.jsx)("button",{className:"modal-close",onClick:a,children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]}),(0,ca.jsx)("div",{className:"modal-body",children:r?(0,ca.jsxs)("div",{className:"loading-state",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("p",{children:s("modals.loading_sale_details")})]}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"sale-info-section",children:[(0,ca.jsx)("h3",{children:s("modals.sale_information")}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("table_headers.sale_number"),":"]}),(0,ca.jsx)("span",{className:"sale-number",children:n.sale_number})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("common.status"),":"]}),(0,ca.jsx)("span",{className:"status status-".concat(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("common.date"),":"]}),(0,ca.jsx)("span",{children:(o=n.created_at,new Date(o).toLocaleString())})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("table_headers.sold_by"),":"]}),(0,ca.jsx)("span",{children:n.sold_by_name||s("app.unknown_user")})]})]})]}),(0,ca.jsxs)("div",{className:"customer-info-section",children:[(0,ca.jsx)("h3",{children:s("modals.customer_information")}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("common.name"),":"]}),(0,ca.jsx)("span",{children:n.customer_name||s("dashboard.walk_in_customer")})]}),n.customer_phone&&(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("common.phone"),":"]}),(0,ca.jsx)("span",{children:n.customer_phone})]}),n.customer_email&&(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsxs)("label",{children:[s("common.email"),":"]}),(0,ca.jsx)("span",{children:n.customer_email})]})]})]}),(0,ca.jsxs)("div",{className:"items-section",children:[(0,ca.jsxs)("h3",{children:[s("table_headers.items")," (",(null===(t=n.items)||void 0===t?void 0:t.length)||0,")"]}),n.items&&n.items.length>0?(0,ca.jsxs)("div",{className:"items-table",children:[(0,ca.jsxs)("div",{className:"table-header",children:[(0,ca.jsx)("div",{className:"col-product",children:s("common.name")}),(0,ca.jsx)("div",{className:"col-sku",children:"SKU"}),(0,ca.jsx)("div",{className:"col-quantity",children:s("common.quantity")}),(0,ca.jsx)("div",{className:"col-unit",children:s("common.unit")}),(0,ca.jsx)("div",{className:"col-price",children:s("common.price")}),(0,ca.jsx)("div",{className:"col-mode",children:s("common.type")}),(0,ca.jsx)("div",{className:"col-total",children:s("common.total")})]}),n.items.map((e,t)=>(0,ca.jsxs)("div",{className:"table-row",children:[(0,ca.jsx)("div",{className:"col-product",children:(0,ca.jsx)("div",{className:"product-name",children:e.product_name})}),(0,ca.jsx)("div",{className:"col-sku",children:e.product_sku}),(0,ca.jsx)("div",{className:"col-quantity",children:e.quantity_display||e.quantity}),(0,ca.jsx)("div",{className:"col-unit",children:e.unit_name?"".concat(e.unit_name," (").concat(e.unit_symbol||"",")"):"N/A"}),(0,ca.jsx)("div",{className:"col-price",children:i(e.unit_price)}),(0,ca.jsx)("div",{className:"col-mode",children:(0,ca.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?s("common.wholesale"):s("common.retail")})}),(0,ca.jsx)("div",{className:"col-total",children:i(e.total_price)})]},t))]}):(0,ca.jsx)("p",{className:"no-items",children:"No items found"})]}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsx)("h3",{children:s("modals.payment_summary")}),(0,ca.jsxs)("div",{className:"payment-summary",children:[(0,ca.jsxs)("div",{className:"payment-row",children:[(0,ca.jsxs)("label",{children:[s("table_headers.total_amount"),":"]}),(0,ca.jsx)("span",{children:i(n.subtotal)})]}),n.cost_amount&&n.cost_amount>0&&(0,ca.jsxs)("div",{className:"payment-row cost-breakdown",children:[(0,ca.jsx)("label",{children:"Cost (excl. tax):"}),(0,ca.jsx)("span",{children:i(n.cost_amount)})]}),n.tax_amount>0&&(0,ca.jsxs)("div",{className:"payment-row tax-breakdown",children:[(0,ca.jsxs)("label",{children:[s("modals.tax_included"),":"]}),(0,ca.jsx)("span",{children:i(n.tax_amount)})]}),n.discount_amount>0&&(0,ca.jsxs)("div",{className:"payment-row discount",children:[(0,ca.jsxs)("label",{children:[s("modals.discount"),":"]}),(0,ca.jsxs)("span",{children:["-",i(n.discount_amount)]})]}),(0,ca.jsxs)("div",{className:"payment-row total",children:[(0,ca.jsxs)("label",{children:[s("common.total"),":"]}),(0,ca.jsx)("span",{children:i(n.total_amount)})]}),(0,ca.jsxs)("div",{className:"payment-row",children:[(0,ca.jsxs)("label",{children:[s("table_headers.payment_method"),":"]}),(0,ca.jsx)("span",{className:"payment-method",children:n.payment_method.charAt(0).toUpperCase()+n.payment_method.slice(1)})]})]})]}),n.notes&&(0,ca.jsxs)("div",{className:"notes-section",children:[(0,ca.jsx)("h3",{children:s("common.notes")}),(0,ca.jsx)("div",{className:"notes-content",children:n.notes})]})]})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)("button",{className:"btn-secondary",onClick:a,children:s("modals.close")})})]})});var o},Ua=()=>{var e,t,n,r,s,i,o,l,c,d,u,p,m,h,f,v,y,g,_,x,b;const{t:j}=Ea(),{user:k}=ua(),[N,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(!0),[E,P]=(0,a.useState)(""),[A,T]=(0,a.useState)("month"),[F,O]=(0,a.useState)(null),[R,L]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),I="sales"===(null===k||void 0===k?void 0:k.role);(0,a.useEffect)(()=>{U()},[A,I]);const U=async()=>{try{C(!0);const e=I?"/reports/dashboard/":"/reports/dashboard/?period=".concat(A),t=await la.get(e);w(t.data)}catch(e){P(j("dashboard.failed_to_load")),console.error("Dashboard error:",e)}finally{C(!1)}};return S?(0,ca.jsx)("div",{className:"dashboard",children:(0,ca.jsxs)("div",{className:"dashboard-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:j("dashboard.loading")})]})}):E?(0,ca.jsx)("div",{className:"dashboard",children:(0,ca.jsxs)("div",{className:"dashboard-error",children:[(0,ca.jsx)("h2",{children:j("dashboard.error")}),(0,ca.jsx)("p",{children:E}),(0,ca.jsx)("button",{onClick:U,children:j("common.retry")})]})}):(0,ca.jsxs)("div",{className:"dashboard",children:[(0,ca.jsx)("div",{className:"dashboard-header",children:(0,ca.jsxs)("div",{className:"header-content",children:[(0,ca.jsxs)("div",{className:"header-text",children:[(0,ca.jsx)("h1",{children:j("dashboard.title")}),(0,ca.jsx)("p",{children:j("dashboard.welcome",{username:null===k||void 0===k?void 0:k.username})}),I&&(0,ca.jsx)("p",{className:"role-indicator",children:j("dashboard.sales_team_view")})]}),!I&&(0,ca.jsxs)("div",{className:"period-selector",children:[(0,ca.jsx)("label",{children:j("dashboard.time_period")}),(0,ca.jsxs)("select",{value:A,onChange:e=>{return t=e.target.value,void(I||T(t));var t},className:"period-select",children:[(0,ca.jsx)("option",{value:"daily",children:j("dashboard.daily")}),(0,ca.jsx)("option",{value:"weekly",children:j("dashboard.weekly")}),(0,ca.jsx)("option",{value:"month",children:j("dashboard.monthly")})]})]})]})}),(0,ca.jsxs)("div",{className:"dashboard-grid",children:[(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon sales",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.total_revenue")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===N||void 0===N||null===(e=N.sales)||void 0===e||null===(t=e.total_sales)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===N||void 0===N||null===(n=N.sales)||void 0===n?void 0:n.total_count)||0," ",j("dashboard.transactions")]})]})]}),!I&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon cost",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.total_cost")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===N||void 0===N||null===(r=N.sales)||void 0===r||null===(s=r.total_cost)||void 0===s?void 0:s.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("p",{className:"metric-label",children:j("dashboard.cost_of_goods_sold")})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon profit",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j("dashboard.profit")}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===N||void 0===N||null===(i=N.sales)||void 0===i||null===(o=i.profit)||void 0===o?void 0:o.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===N||void 0===N||null===(l=N.sales)||void 0===l||null===(c=l.profit_margin)||void 0===c?void 0:c.toFixed(1))||"0.0","% ",j("dashboard.margin")]})]})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon inventory",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:j(I?"dashboard.total_products":"dashboard.inventory_value")}),(0,ca.jsx)("p",{className:"metric-value",children:I?(null===N||void 0===N||null===(d=N.inventory)||void 0===d?void 0:d.total_products)||0:"".concat((null===N||void 0===N||null===(u=N.inventory)||void 0===u||null===(p=u.total_inventory_value)||void 0===p?void 0:p.toFixed(2))||"0.00"," MGA")}),(0,ca.jsx)("p",{className:"metric-label",children:I?j("dashboard.available_products"):"".concat((null===N||void 0===N||null===(m=N.inventory)||void 0===m?void 0:m.total_products)||0," ").concat(j("dashboard.products"))})]})]}),!I&&(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon retail",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M7 4V2c0-.55-.45-1-1-1s-1 .45-1 1v2H3c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H7zM21 4h-2V2c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:"Retail Value"}),(0,ca.jsxs)("p",{className:"metric-value",children:[(null===N||void 0===N||null===(h=N.inventory)||void 0===h||null===(f=h.total_retail_value)||void 0===f?void 0:f.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("p",{className:"metric-label",children:[(null===N||void 0===N||null===(v=N.inventory)||void 0===v?void 0:v.low_stock_count)||0," low stock"]})]})]}),(0,ca.jsxs)("div",{className:"metric-card",children:[(0,ca.jsx)("div",{className:"metric-icon alert",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})})}),(0,ca.jsxs)("div",{className:"metric-content",children:[(0,ca.jsx)("h3",{children:"Out of Stock"}),(0,ca.jsx)("p",{className:"metric-value",children:(null===N||void 0===N||null===(y=N.inventory)||void 0===y?void 0:y.out_of_stock_count)||0}),(0,ca.jsx)("p",{className:"metric-label",children:"products need restocking"})]})]})]}),!I&&(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsx)("h2",{children:j("dashboard.sales_trend")}),(0,ca.jsx)("div",{className:"sales-chart",children:(null===N||void 0===N||null===(g=N.chart_data)||void 0===g?void 0:g.length)>0?(0,ca.jsxs)("div",{className:"chart-container",children:[(0,ca.jsx)("div",{className:"chart-bars",children:N.chart_data.map((e,t)=>(0,ca.jsxs)("div",{className:"chart-bar",children:[(0,ca.jsxs)("div",{className:"bar-group",children:[(0,ca.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,e.sales/Math.max(...N.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(j("dashboard.sales"),": ").concat(e.sales.toFixed(2)," MGA")}),(0,ca.jsx)("div",{className:"bar cost-bar",style:{height:"".concat(Math.max(5,e.cost/Math.max(...N.chart_data.map(e=>e.sales))*100),"%")},title:"".concat(j("dashboard.cost"),": ").concat(e.cost.toFixed(2)," MGA")})]}),(0,ca.jsx)("div",{className:"bar-label",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,ca.jsxs)("div",{className:"bar-values",children:[(0,ca.jsxs)("div",{className:"value sales",children:[e.sales.toFixed(0)," MGA"]}),(0,ca.jsxs)("div",{className:"value cost",children:[e.cost.toFixed(0)," MGA"]})]})]},t))}),(0,ca.jsxs)("div",{className:"chart-legend",children:[(0,ca.jsxs)("div",{className:"legend-item",children:[(0,ca.jsx)("div",{className:"legend-color sales"}),(0,ca.jsx)("span",{children:j("dashboard.sales")})]}),(0,ca.jsxs)("div",{className:"legend-item",children:[(0,ca.jsx)("div",{className:"legend-color cost"}),(0,ca.jsx)("span",{children:j("dashboard.cost")})]})]})]}):(0,ca.jsx)("p",{className:"no-data",children:j("dashboard.no_sales_data")})})]}),(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h2",{children:j("dashboard.recent_sales")}),(null===N||void 0===N||null===(_=N.recent_sales)||void 0===_?void 0:_.length)>0&&(0,ca.jsx)(Ma,{data:Ut(Ut({},N.recent_sales),{},{user_name:(null===k||void 0===k?void 0:k.username)||j("app.unknown_user"),user_id:(null===k||void 0===k?void 0:k.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:j("titles.sales_management_report"),type:"sales_history",printText:j("buttons.print_sales_report"),className:"print-recent-sales-btn"})]}),(0,ca.jsx)("div",{className:"recent-sales",children:(null===N||void 0===N||null===(x=N.recent_sales)||void 0===x?void 0:x.length)>0?(0,ca.jsx)("div",{className:"sales-list",children:N.recent_sales.map((e,t)=>(0,ca.jsxs)("div",{className:"sale-item clickable",onClick:()=>(async e=>{try{M(!0),L(!0);const t=e.id||e.sale_id;if(!t)throw new Error(j("errors.not_found"));const n=await la.get("/sales/".concat(t,"/"));O(n.data)}catch(t){console.error("Failed to fetch sale details:",t),P("Failed to load sale details: ".concat(t.message)),L(!1)}finally{M(!1)}})(e),title:j("dashboard.click_to_view_details"),children:[(0,ca.jsxs)("div",{className:"sale-info",children:[(0,ca.jsx)("h4",{children:e.sale_number}),(0,ca.jsx)("p",{children:e.customer_name||j("dashboard.walk_in_customer")})]}),(0,ca.jsxs)("div",{className:"sale-amount",children:[(0,ca.jsxs)("span",{children:[e.total_amount.toFixed(2)," MGA"]}),(0,ca.jsx)("small",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,ca.jsx)("div",{className:"sale-arrow",children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})})]},t))}):(0,ca.jsx)("p",{className:"no-data",children:"No recent sales"})})]}),(0,ca.jsxs)("div",{className:"dashboard-section",children:[(0,ca.jsx)("h2",{children:j("dashboard.top_selling_products")}),(0,ca.jsx)("div",{className:"top-products",children:(null===N||void 0===N||null===(b=N.top_products)||void 0===b?void 0:b.length)>0?(0,ca.jsx)("div",{className:"products-list",children:N.top_products.map((e,t)=>{var n,a,r;return(0,ca.jsxs)("div",{className:"product-item",children:[(0,ca.jsxs)("div",{className:"product-info",children:[(0,ca.jsx)("h4",{children:e.product__name}),(0,ca.jsx)("p",{children:e.product__sku})]}),(0,ca.jsxs)("div",{className:"product-stats",children:[(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.sold"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[e.total_sold," ",e.unit_symbol||"piece"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.revenue"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[e.total_revenue.toFixed(2)," MGA"]})]}),!I&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.cost"),":"]}),(0,ca.jsxs)("span",{className:"stat-value",children:[(null===(n=e.total_cost)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.profit"),":"]}),(0,ca.jsxs)("span",{className:"stat-value profit",children:[(null===(a=e.profit)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"stat-row",children:[(0,ca.jsxs)("span",{className:"stat-label",children:[j("dashboard.margin"),":"]}),(0,ca.jsxs)("span",{className:"stat-value margin",children:[(null===(r=e.profit_margin)||void 0===r?void 0:r.toFixed(1))||"0.0","%"]})]})]})]})]},t)})}):(0,ca.jsx)("p",{className:"no-data",children:"No sales data available"})})]}),R&&(0,ca.jsx)(Ia,{sale:F,onClose:()=>{L(!1),O(null)},loading:D})]})},za=()=>{const{t:e}=Ea(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[g,_]=(0,a.useState)({name:"",description:"",category:"",base_unit:"",price:"",wholesale_price:"",cost_price:"",stock_quantity:"",min_stock_level:"",max_stock_level:"",tax_class:"",is_active:!0}),[x,b]=(0,a.useState)([]),[j,k]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),[S,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)(""),[A,T]=(0,a.useState)(""),[F,O]=(0,a.useState)(""),[R,L]=(0,a.useState)("all"),[D,M]=(0,a.useState)([]),I=(0,a.useCallback)(async()=>{try{o(!0);const e=await la.get("/products/");n(e.data.results||e.data)}catch(e){console.error("Error fetching products:",e),c("Failed to fetch products")}finally{o(!1)}},[]),U=(0,a.useCallback)(async()=>{try{const e=await la.get("/products/categories/");s(e.data.results||e.data)}catch(e){console.error("Error fetching categories:",e)}},[]),z=(0,a.useCallback)(async()=>{try{let e=[],t="/products/units/";for(;t;){const n=(await la.get(t)).data;n.results?(e=[...e,...n.results],t=n.next):(e=n,t=null)}b(e)}catch(e){console.error("Error fetching units:",e)}},[]),q=(0,a.useCallback)(async()=>{try{const e=await la.get("/products/tax-classes/");k(e.data.results||e.data)}catch(e){console.error("Error fetching tax classes:",e)}},[]),V=(0,a.useCallback)(async e=>{try{const t=await la.get("/products/".concat(e,"/compatible-units/"));w(t.data.compatible_units||[])}catch(t){console.error("Error fetching compatible units:",t),w([])}},[]),B=(0,a.useCallback)(async e=>{try{const t=await la.get("/products/".concat(e,"/available-units/"));M(t.data.available_units||[])}catch(t){console.error("Error fetching available units:",t),M([])}},[]);(0,a.useEffect)(()=>{I(),U(),z(),q()},[I,U,z,q]);const H=()=>{var e,t;if(!v||!p||!p.base_unit)return(null===v||void 0===v?void 0:v.name)||v||"";const n=(null===(e=p.base_unit)||void 0===e?void 0:e.id)||p.base_unit,a=(null===v||void 0===v?void 0:v.id)||v;if(n===a)return"base unit";const r=null===(t=p.available_units)||void 0===t?void 0:t.find(e=>e.id===a);if(r&&r.conversion_factor){const e=parseFloat(r.conversion_factor);return e>1?"\xd7".concat(e):e<1?"\xf7".concat(Math.round(1/e)):"\xd7".concat(e)}const s=v.name,i=s.match(/(\d+)-Pack/);if(i&&i[1]){const e=parseInt(i[1],10);return"\xd7".concat(e)}return s||""},G=t.filter(e=>{const t=e.name.toLowerCase().includes(A.toLowerCase()),n=!F||e.category===parseInt(F),a="all"===R||"low"===R&&e.stock_quantity<=e.min_stock_level||"out"===R&&0===e.stock_quantity;return t&&n&&a});return i?(0,ca.jsx)("div",{className:"inventory",children:(0,ca.jsx)("div",{className:"loading",children:"Loading products..."})}):(0,ca.jsxs)("div",{className:"inventory",children:[(0,ca.jsxs)("div",{className:"inventory-header",children:[(0,ca.jsx)("h1",{children:e("titles.inventory_management")}),(0,ca.jsx)(Ta,{onClick:()=>{m(null),_({name:"",sku:"",description:"",category:"",base_unit:"",price:"",cost_price:"",stock_quantity:"",min_stock_level:"",max_stock_level:"",tax_class:"",is_active:!0}),w([]),u(!0)},children:"Add Product"})]}),l&&(0,ca.jsxs)("div",{className:"error-message",children:[l,(0,ca.jsx)("button",{onClick:()=>c(null),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"inventory-filters",children:[(0,ca.jsx)("input",{type:"text",placeholder:"Search products...",value:A,onChange:e=>T(e.target.value),className:"search-input"}),(0,ca.jsxs)("select",{value:F,onChange:e=>O(e.target.value),className:"filter-select",children:[(0,ca.jsx)("option",{value:"",children:"All Categories"}),r.map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ca.jsxs)("select",{value:R,onChange:e=>L(e.target.value),className:"filter-select",children:[(0,ca.jsx)("option",{value:"all",children:"All Stock"}),(0,ca.jsx)("option",{value:"low",children:"Low Stock"}),(0,ca.jsx)("option",{value:"out",children:"Out of Stock"})]})]}),(0,ca.jsx)("div",{className:"products-table",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Name"}),(0,ca.jsx)("th",{children:"SKU"}),(0,ca.jsx)("th",{children:"Category"}),(0,ca.jsx)("th",{children:"Default Unit"}),(0,ca.jsx)("th",{children:"Price"}),(0,ca.jsx)("th",{children:"Stock"}),(0,ca.jsx)("th",{children:"Status"}),(0,ca.jsx)("th",{children:"Actions"})]})}),(0,ca.jsx)("tbody",{children:G.map(e=>{var t,n,a,r,s,i;const o=null===(t=e.compatible_units)||void 0===t?void 0:t.find(e=>e.is_default),l=o?"".concat(o.unit_name||(null===(n=o.unit)||void 0===n?void 0:n.name)||"N/A"," (").concat(o.unit_symbol||(null===(a=o.unit)||void 0===a?void 0:a.symbol)||"",")"):"".concat(e.base_unit_name||(null===(r=e.base_unit)||void 0===r?void 0:r.name)||"N/A"," (").concat(e.base_unit_symbol||(null===(s=e.base_unit)||void 0===s?void 0:s.symbol)||"",")");return(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:e.name}),(0,ca.jsx)("td",{children:e.sku||"N/A"}),(0,ca.jsx)("td",{children:e.category_name||(null===(i=e.category)||void 0===i?void 0:i.name)||"N/A"}),(0,ca.jsx)("td",{children:l}),(0,ca.jsx)("td",{children:e.price?"MGA ".concat(parseFloat(e.price).toFixed(2)):"N/A"}),(0,ca.jsx)("td",{children:e.stock_quantity||0}),(0,ca.jsx)("td",{children:(0,ca.jsx)("span",{className:"status ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})}),(0,ca.jsxs)("td",{children:[(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>(async e=>{try{var t;const n=(await la.get("/products/".concat(e.id,"/"))).data;m(n),f({price:n.price,wholesale_price:n.wholesale_price,cost_price:n.cost_price,stock_quantity:n.stock_quantity,base_unit:n.base_unit}),_({name:n.name,sku:n.sku||"",description:n.description||"",category:n.category||"",base_unit:n.base_unit||"",price:n.price||"",wholesale_price:n.wholesale_price||"",cost_price:n.cost_price||"",stock_quantity:n.stock_quantity||"",min_stock_level:n.min_stock_level||"",max_stock_level:n.max_stock_level||"",tax_class:n.tax_class||"",is_active:!1!==n.is_active}),await V(n.id),await B(n.id);const a=null===(t=n.compatible_units)||void 0===t?void 0:t.find(e=>e.is_default);y(a?a.unit:n.base_unit),_(e=>Ut(Ut({},e),{},{price:n.price,wholesale_price:n.wholesale_price,cost_price:n.cost_price,stock_quantity:n.stock_quantity,min_stock_level:n.min_stock_level,max_stock_level:n.max_stock_level})),u(!0)}catch(n){console.error("Error fetching product data:",n),c("Failed to load product data")}})(e),children:"Edit"}),(0,ca.jsx)(Ta,{variant:"danger",size:"small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await la.delete("/products/".concat(e,"/")),I()}catch(t){console.error("Error deleting product:",t),c("Failed to delete product")}})(e.id),children:"Delete"})]})]},e.id)})})]})}),d&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal inventory-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:p?"Edit Product":"Add Product"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:"\xd7"})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ut(Ut({},g),{},{price:parseFloat(g.price)||0,wholesale_price:g.wholesale_price?parseFloat(g.wholesale_price):null,cost_price:parseFloat(g.cost_price)||0,stock_quantity:parseFloat(g.stock_quantity)||0,min_stock_level:parseFloat(g.min_stock_level)||0,max_stock_level:parseFloat(g.max_stock_level)||0});p?await la.put("/products/".concat(p.id,"/"),e):await la.post("/products/",e),u(!1),I()}catch(n){var t;console.error("Error saving product:",n),console.error("Error details:",null===(t=n.response)||void 0===t?void 0:t.data),c("Failed to save product")}},className:"product-form",children:[(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"name",children:"Product Name *"}),(0,ca.jsx)("input",{type:"text",id:"name",value:g.name,onChange:e=>_(Ut(Ut({},g),{},{name:e.target.value})),required:!0})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"sku",children:"SKU *"}),(0,ca.jsx)("input",{type:"text",id:"sku",value:g.sku,onChange:e=>_(Ut(Ut({},g),{},{sku:e.target.value})),required:!0})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,ca.jsxs)("select",{id:"category",value:g.category,onChange:e=>_(Ut(Ut({},g),{},{category:e.target.value})),required:!0,children:[(0,ca.jsx)("option",{value:"",children:"Select Category"}),r.map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"base_unit",children:"Base Unit *"}),(0,ca.jsxs)("select",{id:"base_unit",value:g.base_unit,onChange:e=>_(Ut(Ut({},g),{},{base_unit:e.target.value})),required:!0,children:[(0,ca.jsx)("option",{value:"",children:"Select Base Unit"}),x.filter(e=>e.is_base_unit).map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.symbol,")"]},e.id))]})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"description",children:"Description"}),(0,ca.jsx)("textarea",{id:"description",value:g.description,onChange:e=>_(Ut(Ut({},g),{},{description:e.target.value})),rows:"3"})]}),(0,ca.jsx)("div",{className:"form-row",children:(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_class",children:"Tax Class"}),(0,ca.jsxs)("select",{id:"tax_class",value:g.tax_class,onChange:e=>_(Ut(Ut({},g),{},{tax_class:e.target.value})),children:[(0,ca.jsx)("option",{value:"",children:"No Tax"}),j.map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.tax_rate,"%)"]},e.id))]})]})}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"price",children:"Price (MGA) *"}),(0,ca.jsxs)("div",{className:"input-with-unit",children:[(0,ca.jsx)("input",{type:"number",id:"price",value:g.price,onChange:e=>_(Ut(Ut({},g),{},{price:e.target.value})),required:!0,min:"0",step:"0.01"}),v&&(0,ca.jsx)("span",{className:"unit-indicator",children:H()})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"wholesale_price",children:"Wholesale Price (MGA)"}),(0,ca.jsxs)("div",{className:"input-with-unit",children:[(0,ca.jsx)("input",{type:"number",id:"wholesale_price",value:g.wholesale_price||"",onChange:e=>_(Ut(Ut({},g),{},{wholesale_price:e.target.value})),min:"0",step:"0.01",placeholder:"Optional"}),v&&(0,ca.jsx)("span",{className:"unit-indicator",children:H()})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"cost_price",children:"Cost Price (MGA)"}),(0,ca.jsxs)("div",{className:"input-with-unit",children:[(0,ca.jsx)("input",{type:"number",id:"cost_price",value:g.cost_price,onChange:e=>_(Ut(Ut({},g),{},{cost_price:e.target.value})),min:"0",step:"0.01"}),v&&(0,ca.jsx)("span",{className:"unit-indicator",children:H()})]})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"stock_quantity",children:"Stock Quantity"}),(0,ca.jsxs)("div",{className:"input-with-unit",children:[(0,ca.jsx)("input",{type:"number",id:"stock_quantity",value:g.stock_quantity,onChange:e=>_(Ut(Ut({},g),{},{stock_quantity:e.target.value})),min:"0",step:"0.01"}),v&&(0,ca.jsx)("span",{className:"unit-indicator",children:H()})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"min_stock_level",children:"Min Stock Level"}),(0,ca.jsxs)("div",{className:"input-with-unit",children:[(0,ca.jsx)("input",{type:"number",id:"min_stock_level",value:g.min_stock_level,onChange:e=>_(Ut(Ut({},g),{},{min_stock_level:e.target.value})),min:"0",step:"0.01"}),v&&(0,ca.jsx)("span",{className:"unit-indicator",children:H()})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"max_stock_level",children:"Max Stock Level"}),(0,ca.jsx)("input",{type:"number",id:"max_stock_level",value:g.max_stock_level,onChange:e=>_(Ut(Ut({},g),{},{max_stock_level:e.target.value})),min:"0",step:"0.01"})]})]}),p&&(0,ca.jsxs)("div",{className:"compatible-units-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h3",{children:"Compatible Units"}),(0,ca.jsx)(Ta,{type:"button",variant:"outline",size:"small",onClick:()=>C(!0),children:"+ Add Compatible Unit"})]}),(0,ca.jsx)("div",{className:"compatible-units-list",children:(N||[]).map(e=>{var t,n,a,r;return(0,ca.jsxs)("div",{className:"compatible-unit-item",children:[(0,ca.jsxs)("span",{className:"unit-name",children:[e.unit_name||(null===(t=e.unit)||void 0===t?void 0:t.name),"(",e.unit_symbol||(null===(n=e.unit)||void 0===n?void 0:n.symbol),")"]}),(0,ca.jsxs)("div",{className:"unit-badges",children:[e.is_default&&(0,ca.jsx)("span",{className:"base-badge",children:"DEFAULT"}),p&&(e.unit||e.unit_id)===p.base_unit&&(0,ca.jsx)("span",{className:"base-unit-badge",children:"BASE UNIT"})]}),(0,ca.jsx)("div",{className:"unit-actions",children:!e.is_default&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)(Ta,{type:"button",variant:"primary",size:"small",onClick:()=>(async e=>{if(p&&h)try{var t;const n=N.find(t=>t.id===e);if(!n)return;await la.patch("/products/".concat(p.id,"/units/").concat(e,"/"),{is_default:!0});const a=(null===(t=n.unit)||void 0===t?void 0:t.id)||n.unit_id;y(a);const r=(await la.get("/products/".concat(p.id,"/"))).data;_(e=>Ut(Ut({},e),{},{price:r.price,wholesale_price:r.wholesale_price,cost_price:r.cost_price,stock_quantity:r.stock_quantity,min_stock_level:r.min_stock_level,max_stock_level:r.max_stock_level})),V(p.id),B(p.id)}catch(n){console.error("Error setting default unit:",n)}})(e.id),children:"Set as Default"}),p&&((null===(a=e.unit)||void 0===a?void 0:a.id)||e.unit_id)!==((null===(r=p.base_unit)||void 0===r?void 0:r.id)||p.base_unit)&&(0,ca.jsx)(Ta,{type:"button",variant:"danger",size:"small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this unit?"))try{await la.delete("/products/".concat(p.id,"/units/").concat(e,"/")),V(p.id),B(p.id)}catch(t){console.error("Error removing compatible unit:",t)}})(e.id),children:"Remove"})]})})]},e.id)})})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:g.is_active,onChange:e=>_(Ut(Ut({},g),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[p?"Update":"Create"," Product"]})]})]})]})}),S&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h3",{children:"Add Compatible Unit"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>C(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"selectedUnit",children:"Select Unit"}),(0,ca.jsxs)("select",{id:"selectedUnit",value:E,onChange:e=>P(e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"Select Unit"}),D.filter(e=>e.is_active).filter(e=>!N.some(t=>t.unit===e.id)).map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.symbol,")"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,ca.jsx)(Ta,{type:"button",onClick:async()=>{if(E&&p)try{await la.post("/products/".concat(p.id,"/units/"),{unit:E,is_default:!1}),V(p.id),B(p.id),P(""),C(!1)}catch(e){console.error("Error adding compatible unit:",e)}},disabled:!E,children:"Add Unit"})]})]})})]})},qa=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({name:"",phone:"",email:""}),[u,p]=(0,a.useState)("cash"),[m,h]=(0,a.useState)("full"),[f,v]=(0,a.useState)(0),[y,g]=(0,a.useState)(!0),[_,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(""),[k,N]=(0,a.useState)({}),[w,S]=(0,a.useState)({category:"",search:""}),[C,E]=(0,a.useState)(""),[P,A]=(0,a.useState)(null),[T,F]=(0,a.useState)(""),[O,R]=(0,a.useState)({}),L=(0,a.useRef)(null),D=(0,a.useRef)(null),[M,I]=(0,a.useState)(!1),[U,z]=(0,a.useState)("standard"),[q,V]=(0,a.useState)("complete"),[B,H]=(0,a.useState)(!0),G=e=>"wholesale"===U&&e.wholesale_price?parseFloat(e.wholesale_price):parseFloat(e.price),W=()=>o.reduce((e,t)=>e+(t.unit_price||0)*t.quantity,0);(0,a.useEffect)(()=>{const e=W();"full"===m?v(e):"partial"===m&&f===e&&v(0)},[m,o]);const $=(e,t)=>{if(null===t||void 0===t||!t.price)return 0;if("standard"===U)return t.price;if("wholesale"===U&&e.wholesale_price){const n=parseFloat(e.price),a=parseFloat(e.wholesale_price);if(!n||n<=0)return console.warn("Invalid standard base price:",n),t.price;const r=a/n,s=t.price*r,i=Math.round(100*s)/100;return isNaN(i)||i<0?t.price:i}return t.price};(0,a.useEffect)(()=>{(async()=>{await X(),await Y()})()},[]),(0,a.useEffect)(()=>{s.length>0&&n.length>0&&(console.log("Categories loaded, re-filtering products to apply sellable filtering"),Y(w))},[s.length]),(0,a.useEffect)(()=>(D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{if(C!==w.search){const e=Ut(Ut({},w),{},{search:C});S(e),Y(e)}},500),()=>{D.current&&clearTimeout(D.current)}),[C,w]),(0,a.useEffect)(()=>{n.length>0&&K();const e={};n.forEach(t=>{if(t.compatible_units&&t.compatible_units.length>1){let a=t.compatible_units.find(e=>e.is_default);var n;if(a||(a=t.compatible_units.find(e=>e.unit.is_base_unit)),a||(a=t.compatible_units[0]),a)e[t.id]=(null===(n=a.unit)||void 0===n?void 0:n.id)||a.unit}}),R(e)},[n]);const K=async()=>{try{const e=n.map(e=>e.id),t=await la.post("/products/bulk-stock-availability/",{product_ids:e}),a={};Object.values(t.data).forEach(e=>{a[e.product_id]=e.available_units}),N(a)}catch(e){console.error("Bulk stock availability error:",e),n.forEach(e=>{Z(e.id)})}},Q=()=>{n.length>0&&K()},J=e=>{const t=k[e];if(!t)return null;const n=o.filter(t=>t.id===e).reduce((e,n)=>{const a=t.find(e=>e.id===n.unit_id);return a&&a.conversion_factor?e+n.quantity*a.conversion_factor:a&&a.is_base_unit?e+n.quantity:e},0),a=t.find(e=>e.is_base_unit),r=a?a.available_quantity:0,s=Math.max(0,r-n);return t.map(e=>{let t=0,n=!1;return e.is_base_unit?(t=s,n=s>0):e.conversion_factor&&(t=Math.floor(s/e.conversion_factor),n=t>0),Ut(Ut({},e),{},{available_quantity:t,is_available:n})})},Y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{g(!0);const t=new URLSearchParams;t.append("is_active","true"),e.category&&t.append("category",e.category),e.search&&t.append("search",e.search);const n="/products/".concat(t.toString()?"?"+t.toString():""),a=await la.get(n),i=a.data.results||a.data;if(i.length>0&&(console.log("First product structure:",i[0]),console.log("Categories loaded:",s.length)),0===s.length)return console.warn("Categories not loaded yet, showing all products (filtering will be applied once categories load)"),void r(i);const o=i.filter(e=>{let t=!1;if(e.category&&void 0!==e.category.is_sellable)t=e.category.is_sellable;else if(e.category_name){const n=s.find(t=>t.name===e.category_name);t=!!n&&n.is_sellable}else if(e.category&&"number"===typeof e.category){const n=s.find(t=>t.id===e.category);t=!!n&&n.is_sellable}else t=!1;return t||console.log("Filtering out product: ".concat(e.name," (category: ").concat(e.category_name||e.category,")")),t});if(e.category){const t=s.find(t=>t.id===parseInt(e.category));if(t&&!t.is_sellable)return void r([])}r(o)}catch(t){j("Failed to load products"),console.error("Products error:",t)}finally{g(!1)}},X=async()=>{try{const e=await la.get("/products/categories/");i(e.data.results||e.data)}catch(e){console.error("Categories error:",e)}},Z=async e=>{try{const t=await la.get("/products/".concat(e,"/stock-availability/"));N(n=>Ut(Ut({},n),{},{[e]:t.data.available_units}))}catch(t){console.error("Stock availability error:",t)}},ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t&&e.compatible_units&&e.compatible_units[0]){var n,a,r;const s=e.compatible_units[0];t={id:(null===(n=s.unit)||void 0===n?void 0:n.id)||s.unit,name:s.unit_name||(null===(a=s.unit)||void 0===a?void 0:a.name)||"Piece",symbol:s.unit_symbol||(null===(r=s.unit)||void 0===r?void 0:r.symbol)||"piece"}}var s;t||(t={id:(null===(s=e.base_unit)||void 0===s?void 0:s.id)||e.base_unit,name:"Piece",symbol:"piece"});if("complete"===q){if(!k[e.id])return void j("Loading stock information... Please try again.");const n=J(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(!a)return void j("Unit ".concat(t.name," not found in stock information"));if(!a.is_available)return void j("".concat(t.name," is out of stock"));if(a.available_quantity<=0)return void j("No ".concat(t.name," stock left"))}const i=o.find(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===U);if(i){if("complete"===q){const n=J(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(a&&i.quantity+1>a.available_quantity)return void j("Not enough ".concat(t.name," available. Only ").concat(a.available_quantity," left."))}l(o.map(n=>n.id===e.id&&n.unit_id===t.id&&n.price_mode===U?Ut(Ut({},n),{},{quantity:n.quantity+1}):n))}else{if("complete"===q){const n=J(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id);if(a&&1>a.available_quantity)return void j("Not enough ".concat(t.name," available. Only ").concat(a.available_quantity," left."))}const n=J(e.id),a=null===n||void 0===n?void 0:n.find(e=>e.id===t.id),r=Ut(Ut({},e),{},{quantity:1,unit_id:t.id,unit_name:t.name,unit_symbol:t.symbol,unit_price:$(e,a)||G(e),price_mode:U});l([...o,r])}j("")},te=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n<=0)l(o.filter(n=>!(n.id===e&&n.unit_id===t&&n.price_mode===a)));else{if("complete"===q){const r=J(e),s=null===r||void 0===r?void 0:r.find(e=>e.id===t);if(!s||!s.is_available)return void j("Unit is out of stock");const i=o.filter(n=>n.id===e&&n.unit_id===t&&n.price_mode===a).reduce((e,t)=>e+t.quantity,0),l=s.available_quantity+i;if(n>l)return void j("Not enough stock available. Max: ".concat(l))}l(o.map(r=>r.id===e&&r.unit_id===t&&r.price_mode===a?Ut(Ut({},r),{},{quantity:n}):r)),j("")}},ne=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(o.filter(a=>!(a.id===e&&a.unit_id===t&&a.price_mode===n)))},ae=()=>o.reduce((e,t)=>e+t.quantity*t.unit_price,0),re=async function(n,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"completed";try{const a=ae(),s=a-f,i={sale_number:n,customer_name:c.name||"Walk-in Customer",customer_phone:c.phone||"",customer_email:c.email||"",user_name:(null===t||void 0===t?void 0:t.username)||"Unknown User",user_id:(null===t||void 0===t?void 0:t.id)||"unknown",created_at:(new Date).toISOString(),print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:r,total_amount:a,paid_amount:f,remaining_amount:s,payment_status:s>0?"partial":"paid",due_date:s>0?new Date(Date.now()+2592e6).toLocaleDateString():null,items:o.map(e=>{var t;return{product_name:e.name,product_sku:e.sku,quantity:e.quantity,unit_name:e.unit_name||(null===(t=e.unit)||void 0===t?void 0:t.name)||"piece",unit_price:e.unit_price,total_price:e.unit_price*e.quantity}})},l=Da(i,"Sale Receipt","sale",e),d=window.open("","_blank","width=800,height=600");d.document.write(l),d.document.close();const u=()=>{d.focus(),d.print(),setTimeout(()=>{d.close()},1e3)};"complete"===d.document.readyState?u():d.onload=u}catch(b){console.error("Auto-print error:",b)}},se=(e,t)=>{if("search"===e)E(t);else{const n=Ut(Ut({},w),{},{[e]:t});S(n),Y(n)}},ie=e=>{const t=e.target.value;(""===t||/^\d+$/.test(t))&&F(t)},oe=e=>{const t=parseFloat(T);if(""===T||isNaN(t)||t<0)return j("Please enter a valid quantity"),void A(null);if("complete"===q){const n=J(e.id),a=null===n||void 0===n?void 0:n.find(t=>t.id===e.unit_id);if(!a||!a.is_available)return j("Unit is out of stock"),void A(null);const r=o.filter(t=>t.id===e.id&&t.unit_id===e.unit_id&&t.price_mode===e.price_mode).reduce((e,t)=>e+t.quantity,0),s=a.available_quantity+r;if(t>s)return j("Not enough stock available. Max: ".concat(s)),void A(null)}0===t?ne(e.id,e.unit_id,e.price_mode):te(e.id,e.unit_id,t,e.price_mode),A(null),F(""),j("")},le=(e,t)=>{"Enter"===e.key?oe(t):"Escape"===e.key&&(A(null),F(""))};return y?(0,ca.jsx)("div",{className:"pos",children:(0,ca.jsxs)("div",{className:"pos-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading products..."})]})}):(0,ca.jsxs)("div",{className:"pos",children:[(0,ca.jsxs)("div",{className:"pos-header",children:[(0,ca.jsx)("h1",{children:e("titles.point_of_sale")}),(0,ca.jsx)("div",{className:"pos-user",children:(0,ca.jsxs)("span",{children:["Cashier: ",null===t||void 0===t?void 0:t.username]})})]}),(0,ca.jsxs)("div",{className:"pos-content",children:[(0,ca.jsxs)("div",{className:"pos-products",children:[(0,ca.jsx)("h2",{children:"Products"}),(0,ca.jsxs)("form",{className:"pos-filters",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Category:"}),(0,ca.jsxs)("select",{value:w.category,onChange:e=>se("category",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Categories"}),s.filter(e=>e.is_sellable).map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ca.jsxs)(Ta,{variant:"outline",size:"small",onClick:()=>I(!M),style:{marginTop:"0.5rem"},children:[M?"Hide":"Manage"," Categories"]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Price Mode:"}),(0,ca.jsxs)("div",{className:"price-mode-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"price-mode-btn ".concat("standard"===U?"active":""),onClick:()=>z("standard"),children:"Standard"}),(0,ca.jsx)("button",{type:"button",className:"price-mode-btn ".concat("wholesale"===U?"active":""),onClick:()=>z("wholesale"),children:"Wholesale"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Sale Mode:"}),(0,ca.jsxs)("div",{className:"sale-mode-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("complete"===q?"active":""),onClick:()=>V("complete"),title:e("alerts.sale_will_be_completed"),children:"Complete"}),(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn ".concat("pending"===q?"active":""),onClick:()=>V("pending"),title:e("alerts.sale_will_be_created_pending"),children:"Pending"})]})]}),(0,ca.jsxs)("div",{className:"filter-group print-receipt-group",children:[(0,ca.jsx)("label",{children:"Print Receipt:"}),(0,ca.jsxs)("div",{className:"sale-mode-toggle print-receipt-toggle",children:[(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(B?"active":""),onClick:()=>H(!0),title:e("alerts.print_receipt_after_sale"),children:"Yes"}),(0,ca.jsx)("button",{type:"button",className:"sale-mode-btn print-receipt-btn ".concat(B?"":"active"),onClick:()=>H(!1),title:"Don't print receipt",children:"No"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Search:"}),(0,ca.jsx)("input",{ref:L,type:"text",placeholder:"Search products...",value:C,onChange:e=>se("search",e.target.value)})]}),(0,ca.jsx)("div",{className:"filter-group",children:(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>{const e={category:"",search:""};S(e),E(""),Y(e)},children:"Clear"})})]}),M&&(0,ca.jsxs)("div",{className:"category-management",style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[(0,ca.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem",fontWeight:"600"},children:"Manage Sellable Categories"}),(0,ca.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:s.map(e=>(0,ca.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",backgroundColor:"white",borderRadius:"0.375rem",border:"1px solid #e5e7eb"},children:[(0,ca.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e.name}),(0,ca.jsx)("button",{onClick:()=>(async(e,t)=>{try{await la.patch("/products/categories/".concat(e,"/"),{is_sellable:!t}),await X(),Y(w)}catch(n){console.error("Error updating category sellable status:",n),j("Failed to update category status")}})(e.id,e.is_sellable),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",borderRadius:"0.25rem",border:"1px solid",cursor:"pointer",backgroundColor:e.is_sellable?"#dcfce7":"#fee2e2",borderColor:e.is_sellable?"#16a34a":"#dc2626",color:e.is_sellable?"#15803d":"#dc2626"},children:e.is_sellable?"Sellable":"Not Sellable"})]},e.id))})]}),(0,ca.jsx)("div",{className:"products-info",children:(0,ca.jsxs)("p",{className:"products-count",children:[n.length," product",1!==n.length?"s":""," found"]})}),(0,ca.jsx)("div",{className:"products-grid",children:n.map(e=>{var t;return(0,ca.jsx)("div",{className:"product-card ".concat(e.stock_quantity<=0&&"complete"===q?"out-of-stock":""," clickable"),onClick:()=>(e=>{if(!("complete"===q&&e.stock_quantity<=0))if(e.compatible_units&&e.compatible_units.length>1){const n=O[e.id];if(n){const a=e.compatible_units.find(e=>{var t;return((null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit)===n});if(a){var t;const n=J(e.id),r=null===n||void 0===n?void 0:n.find(e=>{var t;return e.id===((null===(t=a.unit)||void 0===t?void 0:t.id)||a.unit)}),s=$(e,r)||G(e),i={id:(null===(t=a.unit)||void 0===t?void 0:t.id)||a.unit,name:a.unit_name,symbol:a.unit_symbol,price:s};ee(e,i)}}}else ee(e)})(e),children:(0,ca.jsxs)("div",{className:"product-info",children:[(0,ca.jsx)("h3",{children:e.name}),(0,ca.jsx)("p",{className:"product-sku",children:e.sku}),(0,ca.jsxs)("p",{className:"product-price",children:[G(e).toFixed(2)," MGA",e.compatible_units&&e.compatible_units.length>1&&" (base unit: ".concat((null===(t=e.compatible_units.find(e=>e.unit.is_base_unit))||void 0===t?void 0:t.unit.symbol)||"piece",")")]}),(0,ca.jsxs)("p",{className:"product-stock",children:["Stock: ",e.stock_quantity," ",e.unit,k[e.id]&&e.compatible_units&&e.compatible_units.length>1&&(0,ca.jsx)("span",{className:"stock-details",children:(()=>{const t=J(e.id);return e.compatible_units.map(e=>{var n,a;const r=null===t||void 0===t?void 0:t.find(t=>{var n;return t.id===((null===(n=e.unit)||void 0===n?void 0:n.id)||e.unit)});if(!r)return null;const s=(null===r||void 0===r?void 0:r.name)||(null===(n=e.unit)||void 0===n?void 0:n.name)||e.unit_name;return(0,ca.jsxs)("span",{className:"unit-stock ".concat(r.is_available?"available":"unavailable"),children:[s,": ",r.available_quantity]},(null===(a=e.unit)||void 0===a?void 0:a.id)||e.unit)}).filter(Boolean)})()})]}),e.compatible_units&&e.compatible_units.length>1&&(0,ca.jsxs)("div",{className:"unit-selection",children:[(0,ca.jsx)("label",{children:"Unit:"}),(0,ca.jsxs)("select",{className:"unit-select",value:O[e.id]||"",onChange:t=>{const n=parseInt(t.target.value);((e,t)=>{R(n=>Ut(Ut({},n),{},{[e]:t}))})(e.id,n)},onClick:e=>e.stopPropagation(),children:[(0,ca.jsx)("option",{value:"",children:"Select Unit"}),e.compatible_units.map((t,n)=>{var a,r,s,i;const o=J(e.id),l=null===o||void 0===o?void 0:o.find(e=>{var n;return e.id===((null===(n=t.unit)||void 0===n?void 0:n.id)||t.unit)}),c=!!l&&l.is_available,d=l?l.available_quantity:0,u=(null===l||void 0===l?void 0:l.name)||(null===(a=t.unit)||void 0===a?void 0:a.name)||t.unit_name,p=(null===l||void 0===l?void 0:l.symbol)||(null===(r=t.unit)||void 0===r?void 0:r.symbol)||t.unit_symbol;return(0,ca.jsxs)("option",{value:(null===(i=t.unit)||void 0===i?void 0:i.id)||t.unit,disabled:"complete"===q&&!c,children:[u," (",p,") - ",$(e,l).toFixed(2)," MGA",c||"complete"!==q?" - ".concat(d," available"):" - OUT OF STOCK"]},(null===(s=t.unit)||void 0===s?void 0:s.id)||t.unit)})]})]}),(!e.compatible_units||e.compatible_units.length<=1)&&(0,ca.jsx)(Ta,{variant:"primary",size:"small",onClick:()=>ee(e),disabled:"pending"!==q&&(!k[e.id]||e.stock_quantity<=0),className:"add-to-cart-btn",children:k[e.id]?"pending"===q?"Add to Cart":e.stock_quantity<=0?"Out of Stock":"Add to Cart":"Loading..."}),e.available_units&&e.available_units.length>1&&(0,ca.jsx)("div",{className:"unit-instruction",children:(0,ca.jsx)("p",{children:"Click card or select unit to add to cart"})})]})},e.id)})})]}),(0,ca.jsxs)("div",{className:"pos-cart",children:[(0,ca.jsxs)("div",{className:"cart-header",children:[(0,ca.jsx)("h2",{children:"Shopping Cart"}),o.length>0&&(0,ca.jsx)(Ta,{variant:"outline",size:"small",onClick:()=>{l([]),j("")},children:"Clear Cart"})]}),b&&(0,ca.jsx)("div",{className:"error-message",children:b}),(0,ca.jsx)("div",{className:"cart-items",children:0===o.length?(0,ca.jsxs)("div",{className:"empty-cart",children:[(0,ca.jsx)("p",{children:"Cart is empty"}),(0,ca.jsx)("p",{className:"empty-cart-hint",children:"Add items from the product list to start a sale"})]}):(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"cart-table-header",children:[(0,ca.jsx)("div",{className:"header-product",children:"Product"}),(0,ca.jsx)("div",{className:"header-unit",children:"Unit"}),(0,ca.jsx)("div",{className:"header-price",children:"Price"}),(0,ca.jsx)("div",{className:"header-quantity",children:"Qty"}),(0,ca.jsx)("div",{className:"header-total",children:"Total"}),(0,ca.jsx)("div",{className:"header-actions",children:"Actions"})]}),o.map(t=>(0,ca.jsxs)("div",{className:"cart-item",children:[(0,ca.jsxs)("div",{className:"item-product",children:[(0,ca.jsx)("h4",{children:t.name}),(0,ca.jsxs)("p",{className:"item-sku",children:["SKU: ",t.sku]}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat(t.price_mode),children:"wholesale"===t.price_mode?"WS":"STD"})]}),(0,ca.jsx)("div",{className:"item-unit",children:t.unit_symbol||"piece"}),(0,ca.jsxs)("div",{className:"item-price",children:[parseFloat(t.unit_price).toFixed(2)," MGA"]}),(0,ca.jsx)("div",{className:"item-quantity",children:(0,ca.jsxs)("div",{className:"quantity-controls",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>te(t.id,t.unit_id,t.quantity-1,t.price_mode),children:"-"}),P==="".concat(t.id,"-").concat(t.unit_id)?(0,ca.jsx)("div",{className:"quantity-edit",children:(0,ca.jsx)("input",{type:"number",value:T,onChange:ie,onKeyPress:e=>le(e,t),onBlur:()=>oe(t),className:"quantity-input",min:"0",max:t.stock_quantity,autoFocus:!0})}):(0,ca.jsx)("span",{className:"quantity clickable",onClick:()=>(e=>{A("".concat(e.id,"-").concat(e.unit_id)),F(e.quantity.toString())})(t),title:e("alerts.click_to_edit_quantity"),children:t.quantity}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>te(t.id,t.unit_id,t.quantity+1,t.price_mode),disabled:(()=>{if("pending"===q)return!1;const e=J(t.id),n=null===e||void 0===e?void 0:e.find(e=>e.id===t.unit_id),a=o.filter(e=>e.id===t.id&&e.unit_id===t.unit_id&&e.price_mode===t.price_mode).reduce((e,t)=>e+t.quantity,0),r=((null===n||void 0===n?void 0:n.available_quantity)||0)+a;return t.quantity>=r})(),children:"+"})]})}),(0,ca.jsxs)("div",{className:"item-total",children:[(t.quantity*t.unit_price).toFixed(2)," MGA"]}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>ne(t.id,t.unit_id,t.price_mode),title:e("alerts.remove_item"),children:"\xd7"})})]},"".concat(t.id,"-").concat(t.unit_id,"-").concat(t.price_mode)))]})}),o.length>0&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"cart-summary",children:[(0,ca.jsxs)("div",{className:"summary-row",children:[(0,ca.jsx)("span",{children:"Total Amount:"}),(0,ca.jsxs)("span",{children:[ae().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row cost-breakdown",children:[(0,ca.jsx)("span",{children:"Cost (excl. tax):"}),(0,ca.jsxs)("span",{children:[(()=>{let e=0;return o.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*100/(100+t.tax_rate);e+=n}else e+=t.quantity*t.unit_price}),e})().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row tax-breakdown",children:[(0,ca.jsx)("span",{children:"Tax included:"}),(0,ca.jsxs)("span",{children:[(()=>{let e=0;return o.forEach(t=>{if(t.tax_rate&&t.tax_rate>0){const n=t.quantity*t.unit_price*t.tax_rate/(100+t.tax_rate);e+=n}}),e})().toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-row total",children:[(0,ca.jsx)("span",{children:"Total:"}),(0,ca.jsxs)("span",{children:[ae().toFixed(2)," MGA"]})]})]}),(0,ca.jsxs)("form",{className:"checkout-form",children:[(0,ca.jsxs)("div",{className:"customer-info",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"text",placeholder:"partial"===m?"Customer Name (Required for Partial Payment)":"Customer Name (Optional)",value:c.name,onChange:e=>d(Ut(Ut({},c),{},{name:e.target.value})),className:"partial"!==m||c.name?"":"required-field"})}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"tel",placeholder:"Phone Number (Optional)",value:c.phone,onChange:e=>d(Ut(Ut({},c),{},{phone:e.target.value}))})}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsx)("input",{type:"email",placeholder:"Email (Optional)",value:c.email,onChange:e=>d(Ut(Ut({},c),{},{email:e.target.value}))})})]}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsx)("h3",{children:"Payment Method"}),(0,ca.jsx)("div",{className:"payment-methods",children:["cash","card","mobile_money","bank_transfer"].map(e=>(0,ca.jsxs)("label",{className:"payment-method",children:[(0,ca.jsx)("input",{type:"radio",name:"payment",value:e,checked:u===e,onChange:e=>p(e.target.value)}),(0,ca.jsx)("span",{children:e.replace("_"," ").toUpperCase()})]},e))}),(0,ca.jsx)("h3",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===m,onChange:e=>h(e.target.value)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===m,onChange:e=>h(e.target.value)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===m&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:W(),value:f||0,onChange:e=>{const t=parseFloat(e.target.value)||0;v(t)},placeholder:e("forms.enter_amount_to_pay")}),(0,ca.jsxs)("small",{children:["Total: $",W().toFixed(2)," | Remaining: $",(W()-(f||0)).toFixed(2)]})]})]})]}),(0,ca.jsx)("div",{className:"checkout-actions",children:(0,ca.jsxs)(Ta,{onClick:async()=>{if(0===o.length)return void j("Cart is empty. Please add items to the cart before completing the sale.");if(x(!0),j(""),"partial"===m&&(!c.name||!c.name.trim()))return j("Customer name is required for partial payments"),void x(!1);const t=W();if(f>t)return j("Paid amount cannot exceed the total amount"),void x(!1);if(f<0)return j("Paid amount cannot be negative"),void x(!1);try{const t={sale_type:"sale",customer_name:c.name,customer_phone:c.phone,customer_email:c.email,payment_method:u,paid_amount:f,items:o.map(e=>{let t=e.unit_id;return"object"===typeof t&&null!==t&&(t=t.id||t),{product:e.id,quantity:parseFloat(e.quantity),unit:parseInt(t),unit_price:parseFloat(e.unit_price),price_mode:e.price_mode||"standard"}})},r=await la.post("/sales/",t),s=r.data.id,i=r.data.sale_number;if("complete"===q)try{await la.post("/sales/".concat(s,"/complete/")),B&&await re(i,r.data,"completed"),l([]),d({name:"",phone:"",email:""}),z("standard"),await new Promise(e=>setTimeout(e,1e3)),await Y(),await new Promise(e=>setTimeout(e,500)),Q(),alert("Sale completed successfully! Sale Number: ".concat(i))}catch(b){var n,a;console.error("Sale completion error:",b),j("Sale created (".concat(i,") but completion failed: ").concat((null===(n=b.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||b.message)),l([]),d({name:"",phone:"",email:""}),await new Promise(e=>setTimeout(e,1e3)),await Y(),await new Promise(e=>setTimeout(e,500)),Q()}else B&&await re(i,r.data,"pending"),l([]),d({name:"",phone:"",email:""}),z("standard"),alert(e("messages.pending_sale_created",{saleNumber:i}))}catch(k){var r,s,i,p,h,v,y,g,_;console.error("Sale creation error:",k),console.error("Error response:",null===(r=k.response)||void 0===r?void 0:r.data),null!==(s=k.response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.error?j(k.response.data.error):null!==(p=k.response)&&void 0!==p&&null!==(h=p.data)&&void 0!==h&&h.detail?j(k.response.data.detail):null!==(v=k.response)&&void 0!==v&&null!==(y=v.data)&&void 0!==y&&y.customer_name?j(k.response.data.customer_name[0]):null!==(g=k.response)&&void 0!==g&&null!==(_=g.data)&&void 0!==_&&_.paid_amount?j(k.response.data.paid_amount[0]):j("Failed to create sale. Please check the console for details.")}finally{x(!1)}},loading:_,className:"validate-button",size:"large",variant:"primary",disabled:0===o.length,children:["complete"===q?"Complete Sale":"Create Pending Sale",B&&" & Print Receipt"]})})]})]})]})]})},Va=["data","columns","loading","emptyMessage","className","onRowClick"],Ba=e=>{let{data:t=[],columns:n=[],loading:a=!1,emptyMessage:r,className:s="",onRowClick:i}=e,o=Pa(e,Va);const{t:l}=Ea(),c=r||l("app.no_data_available");return a?(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("div",{className:"table-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]})}):0===t.length?(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsx)("div",{className:"table-empty",children:(0,ca.jsx)("span",{children:c})})}):(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",Ut(Ut({className:"table ".concat(s)},o),{},{children:[(0,ca.jsx)("thead",{children:(0,ca.jsx)("tr",{children:n.map((e,t)=>(0,ca.jsx)("th",{className:"table-header",children:e.header},t))})}),(0,ca.jsx)("tbody",{children:t.map((e,t)=>(0,ca.jsx)("tr",{className:"table-row ".concat(i?"clickable":""),onClick:()=>i&&i(e,t),children:n.map((n,a)=>(0,ca.jsx)("td",{className:"table-cell",children:n.render?n.render(e[n.key],e,t):e[n.key]},a))},t))})]}))})},Ha=e=>{var t;let{user:n,onClose:r,onSave:s}=e;const{user:i}=ua(),[o,l]=(0,a.useState)({username:(null===n||void 0===n?void 0:n.username)||"",email:(null===n||void 0===n?void 0:n.email)||"",first_name:(null===n||void 0===n?void 0:n.first_name)||"",last_name:(null===n||void 0===n?void 0:n.last_name)||"",role:(null===n||void 0===n?void 0:n.role)||"sales",phone_number:(null===n||void 0===n?void 0:n.phone_number)||"",is_active:null===(t=null===n||void 0===n?void 0:n.is_active)||void 0===t||t,password:"",password_confirm:""}),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),f=e=>{const{name:t,value:n,type:a,checked:r}=e.target;"showPasswordFields"===t?(h(r),r||l(Ut(Ut({},o),{},{password:"",password_confirm:""}))):l(Ut(Ut({},o),{},{[t]:"checkbox"===a?r:n}))};return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:n?"Edit User":"Add User"}),(0,ca.jsx)("button",{className:"modal-close",onClick:r,children:"\xd7"})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(!0),p(""),m){if(!o.password||!o.password_confirm)return p("Both password fields are required when changing password"),void d(!1);if(o.password!==o.password_confirm)return p("Passwords do not match"),void d(!1);if(o.password.length<8)return p("Password must be at least 8 characters long"),void d(!1)}try{if(n){const e=Ut({},o);if(m){if(!e.password||!e.password_confirm)return p("Both password fields are required when changing password"),void d(!1)}else delete e.password,delete e.password_confirm;await la.put("/core/users/".concat(n.id,"/"),e)}else{const e=Ut(Ut({},o),{},{password:o.password||"password123",password_confirm:o.password_confirm||"password123"});await la.post("/core/register/",e)}s()}catch(u){var t,a,r,i,l,c;console.error("Save error details:",u),console.error("Error response:",u.response),console.error("Error response data:",null===(t=u.response)||void 0===t?void 0:t.data),console.error("Error response status:",null===(a=u.response)||void 0===a?void 0:a.status);const e=(null===(r=u.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.detail)||(null===(l=u.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)||"Failed to save user";console.error("Setting error message:",e),p(e)}finally{d(!1)}},className:"modal-form",children:[u&&(0,ca.jsx)("div",{className:"error-message",children:u}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Username *"}),(0,ca.jsx)("input",{type:"text",name:"username",value:o.username,onChange:f,required:!0})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Email *"}),(0,ca.jsx)("input",{type:"email",name:"email",value:o.email,onChange:f,required:!0})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"First Name"}),(0,ca.jsx)("input",{type:"text",name:"first_name",value:o.first_name,onChange:f})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Last Name"}),(0,ca.jsx)("input",{type:"text",name:"last_name",value:o.last_name,onChange:f})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Role *"}),(0,ca.jsxs)("select",{name:"role",value:o.role,onChange:f,required:!0,children:[(0,ca.jsx)("option",{value:"sales",children:"Sales"}),(0,ca.jsx)("option",{value:"manager",children:"Manager"}),(0,ca.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Phone Number"}),(0,ca.jsx)("input",{type:"tel",name:"phone_number",value:o.phone_number,onChange:f})]})]}),(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsxs)("label",{children:[(0,ca.jsx)("input",{type:"checkbox",name:"is_active",checked:o.is_active,onChange:f}),"Active"]})}),"admin"===(null===i||void 0===i?void 0:i.role)&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsxs)("label",{children:[(0,ca.jsx)("input",{type:"checkbox",name:"showPasswordFields",checked:m,onChange:f}),n?"Change Password":"Set Password"]})}),m&&(0,ca.jsx)(ca.Fragment,{children:(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Password *"}),(0,ca.jsx)("input",{type:"password",name:"password",value:o.password,onChange:f,required:m,minLength:"8",placeholder:"Minimum 8 characters"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Confirm Password *"}),(0,ca.jsx)("input",{type:"password",name:"password_confirm",value:o.password_confirm,onChange:f,required:m,minLength:"8",placeholder:"Confirm password"})]})]})})]}),!n&&!m&&(0,ca.jsx)("div",{className:"form-group",children:(0,ca.jsxs)("p",{className:"password-note",children:[(0,ca.jsx)("strong",{children:"Note:"})," New users will be created with the default password: ",(0,ca.jsx)("code",{children:"password123"})]})}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,ca.jsx)(Ta,{type:"submit",loading:c,children:n?"Update":"Create"})]})]})]})})},Ga=()=>{const{t:e}=Ea(),{user:t,isAdmin:n}=ua(),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{n&&h()},[n]);const h=async()=>{try{o(!0);const e=await la.get("/core/users/");s(e.data.results||e.data)}catch(t){c(e("messages.failed_to_load_users")),console.error("Users error:",t)}finally{o(!1)}},f=[{key:"username",header:e("table_headers.username"),render:(e,t)=>(0,ca.jsxs)("div",{children:[(0,ca.jsx)("div",{className:"user-name",children:e}),(0,ca.jsx)("div",{className:"user-email",children:t.email})]})},{key:"first_name",header:e("table_headers.full_name"),render:(e,t)=>"".concat(t.first_name," ").concat(t.last_name).trim()||"N/A"},{key:"role",header:e("table_headers.role"),render:e=>(0,ca.jsx)("span",{className:"role-badge role-".concat(e),children:e.charAt(0).toUpperCase()+e.slice(1)})},{key:"phone_number",header:e("table_headers.phone"),render:e=>e||"N/A"},{key:"is_active",header:e("table_headers.status"),render:t=>(0,ca.jsx)("span",{className:"status-badge ".concat(t?"active":"inactive"),children:e(t?"status_labels.active":"status_labels.inactive")})},{key:"actions",header:e("table_headers.actions"),render:(n,a)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>(e=>{m(e),u(!0)})(a),children:"Edit"}),a.id!==(null===t||void 0===t?void 0:t.id)&&(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete ".concat(t.username,"?")))try{await la.delete("/core/users/".concat(t.id,"/")),h()}catch(n){c(e("messages.failed_to_delete_user")),console.error("Delete error:",n)}})(a),children:"Delete"})]})}];return n?(0,ca.jsxs)("div",{className:"users",children:[(0,ca.jsxs)("div",{className:"users-header",children:[(0,ca.jsx)("h1",{children:"User Management"}),(0,ca.jsx)(Ta,{onClick:()=>{m(null),u(!0)},children:"Add User"})]}),l&&(0,ca.jsx)("div",{className:"error-message",children:l}),(0,ca.jsxs)("div",{className:"users-filters",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Role:"}),(0,ca.jsxs)("select",{children:[(0,ca.jsx)("option",{value:"",children:"All Roles"}),(0,ca.jsx)("option",{value:"admin",children:"Admin"}),(0,ca.jsx)("option",{value:"manager",children:"Manager"}),(0,ca.jsx)("option",{value:"sales",children:"Sales"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Status:"}),(0,ca.jsxs)("select",{children:[(0,ca.jsx)("option",{value:"",children:"All"}),(0,ca.jsx)("option",{value:"true",children:"Active"}),(0,ca.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,ca.jsx)(Ba,{data:r,columns:f,loading:i,emptyMessage:"No users found"}),d&&(0,ca.jsx)(Ha,{user:p,onClose:()=>u(!1),onSave:()=>{u(!1),h()}})]}):(0,ca.jsx)("div",{className:"users",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to view this page."})]})})},Wa=()=>la,$a=()=>{const{user:e}=ua(),t=Wa(),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)({name:"",description:"",tax_rate:"",is_active:!0}),f="admin"===(null===e||void 0===e?void 0:e.role)||"manager"===(null===e||void 0===e?void 0:e.role);(0,a.useEffect)(()=>{f&&v()},[f]);const v=async()=>{try{i(!0);const e=await t.get("/products/tax-classes/");r(e.data.results||e.data)}catch(e){l("Failed to load tax classes"),console.error("Tax classes error:",e)}finally{i(!1)}},y=()=>{d(!1),p(null),h({name:"",description:"",tax_rate:"",is_active:!0}),l("")},g=[{key:"name",label:"Name"},{key:"description",label:"Description"},{key:"tax_rate",label:"Tax Rate (%)",render:e=>"".concat(e,"%")},{key:"products_count",label:"Products"},{key:"is_active",label:"Status",render:e=>e?"Active":"Inactive"},{key:"actions",label:"Actions",render:(e,n)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>(e=>{p(e),h({name:e.name,description:e.description,tax_rate:e.tax_rate.toString(),is_active:e.is_active}),d(!0)})(n),children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await t.delete("/products/tax-classes/".concat(e.id,"/")),v()}catch(n){l("Failed to delete tax class"),console.error("Delete error:",n)}})(n),children:"Delete"})]})}];return f?(0,ca.jsxs)("div",{className:"tax-management",children:[(0,ca.jsxs)("div",{className:"tax-header",children:[(0,ca.jsx)("h1",{children:"Tax Class Management"}),(0,ca.jsx)(Ta,{onClick:()=>{p(null),h({name:"",description:"",tax_rate:"",is_active:!0}),d(!0)},children:"Add New Tax Class"})]}),o&&(0,ca.jsx)("div",{className:"error-message",children:o}),(0,ca.jsxs)("div",{className:"tax-content",children:[(0,ca.jsxs)("div",{className:"tax-info",children:[(0,ca.jsx)("h3",{children:"Tax Classes"}),(0,ca.jsx)("p",{children:"Manage tax rates for different product categories. Tax rates are applied automatically during sales calculations."})]}),(0,ca.jsx)(Ba,{data:n,columns:g,loading:s,emptyMessage:"No tax classes found"})]}),c&&(0,ca.jsx)("div",{className:"modal-overlay",onClick:y,children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:u?"Edit Tax Class":"Add New Tax Class"}),(0,ca.jsx)("button",{className:"modal-close",onClick:y,children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l("");try{u?await t.put("/products/tax-classes/".concat(u.id,"/"),m):await t.post("/products/tax-classes/",m),d(!1),p(null),h({name:"",description:"",tax_rate:"",is_active:!0}),v()}catch(r){var n,a;l((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Failed to save tax class"),console.error("Save error:",r)}},className:"tax-form",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,ca.jsx)("input",{type:"text",id:"name",value:m.name,onChange:e=>h(Ut(Ut({},m),{},{name:e.target.value})),required:!0,placeholder:"e.g., Standard Rate"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"description",children:"Description"}),(0,ca.jsx)("textarea",{id:"description",value:m.description,onChange:e=>h(Ut(Ut({},m),{},{description:e.target.value})),placeholder:"Brief description of this tax class",rows:"3"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_rate",children:"Tax Rate (%) *"}),(0,ca.jsx)("input",{type:"number",id:"tax_rate",value:m.tax_rate,onChange:e=>h(Ut(Ut({},m),{},{tax_rate:e.target.value})),required:!0,min:"0",max:"100",step:"0.01",placeholder:"18.00"})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:m.is_active,onChange:e=>h(Ut(Ut({},m),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:y,children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[u?"Update":"Create"," Tax Class"]})]})]})]})})]}):(0,ca.jsx)("div",{className:"tax-management",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to manage tax classes. Only managers and administrators can access this page."})]})})},Ka=()=>{const{t:e}=Ea(),{user:t}=ua(),n=Wa(),[r,s]=(0,a.useState)("taxes"),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[v,y]=(0,a.useState)({name:"",description:"",tax_rate:"",is_active:!0}),[g,_]=(0,a.useState)([]),[x,b]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,w]=(0,a.useState)({name:"",description:"",is_active:!0}),[S,C]=(0,a.useState)([]),[E,P]=(0,a.useState)([]),[A,T]=(0,a.useState)(""),[F,O]=(0,a.useState)(!1),[R,L]=(0,a.useState)(null),[D,M]=(0,a.useState)({name:"",symbol:"",is_base_unit:!1,is_active:!0}),[I,U]=(0,a.useState)([]),[z,q]=(0,a.useState)([]),[V,B]=(0,a.useState)(""),[H,G]=(0,a.useState)(!1),[W,$]=(0,a.useState)(null),[K,Q]=(0,a.useState)({from_unit:"",to_unit:"",conversion_factor:"",is_active:!0}),J="admin"===(null===t||void 0===t?void 0:t.role)||"manager"===(null===t||void 0===t?void 0:t.role);(0,a.useEffect)(()=>{J&&Y()},[J]),(0,a.useEffect)(()=>{if(V.trim()){const e=I.filter(e=>{const t=V.toLowerCase();return e.from_unit_name&&e.from_unit_name.toLowerCase().includes(t)||e.from_unit_symbol&&e.from_unit_symbol.toLowerCase().includes(t)||e.to_unit_name&&e.to_unit_name.toLowerCase().includes(t)||e.to_unit_symbol&&e.to_unit_symbol.toLowerCase().includes(t)||e.conversion_factor.toString().includes(t)});q(e)}else q(I)},[I,V]),(0,a.useEffect)(()=>{if(A.trim()){const e=S.filter(e=>{const t=A.toLowerCase();return e.name&&e.name.toLowerCase().includes(t)||e.symbol&&e.symbol.toLowerCase().includes(t)||e.is_base_unit&&"base unit".includes(t)||e.is_active&&"active".includes(t)||!e.is_active&&"inactive".includes(t)});P(e)}else P(S)},[S,A]);const Y=async()=>{o(!0);try{await Promise.all([X(),Z(),ee(),te()])}catch(e){c("Failed to load data")}finally{o(!1)}},X=async()=>{try{const e=await n.get("/products/tax-classes/");u(e.data.results||e.data)}catch(e){console.error("Tax classes error:",e)}},Z=async()=>{try{const e=await n.get("/products/categories/");_(e.data.results||e.data)}catch(e){console.error("Categories error:",e)}},ee=async()=>{try{let e=[],t="/products/units/";for(;t;){const a=(await n.get(t)).data;a.results?(e=[...e,...a.results],t=a.next):(e=a,t=null)}C(e)}catch(e){console.error("Units error:",e)}},te=async()=>{try{let e=[],t="/products/unit-conversions/";for(;t;){const a=(await n.get(t)).data;a.results?(e=[...e,...a.results],t=a.next):(e=a,t=null)}U(e)}catch(e){console.error("Unit conversions error:",e)}},ne=async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t.name,'"?')))try{const a={tax:"/products/tax-classes/".concat(t.id,"/"),category:"/products/categories/".concat(t.id,"/"),unit:"/products/units/".concat(t.id,"/"),conversion:"/products/unit-conversions/".concat(t.id,"/")};switch(await n.delete(a[e]),e){case"tax":X();break;case"category":Z();break;case"unit":ee();break;case"conversion":te();break;default:console.warn("Unknown delete type:",e)}}catch(a){c("Failed to delete ".concat(e))}},ae=[{key:"name",label:"Name"},{key:"description",label:"Description"},{key:"tax_rate",label:"Tax Rate (%)",render:e=>"".concat(e,"%")},{key:"products_count",label:"Products"},{key:"is_active",label:"Status",render:e=>e?"Active":"Inactive"},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>{f(t),y({name:t.name,description:t.description,tax_rate:t.tax_rate.toString(),is_active:t.is_active}),m(!0)},children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>ne("tax",t),children:"Delete"})]})}],re=[{key:"name",label:"Name"},{key:"description",label:"Description"},{key:"products_count",label:"Products"},{key:"is_active",label:"Status",render:e=>e?"Active":"Inactive"},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>{k(t),w({name:t.name,description:t.description,is_active:t.is_active}),b(!0)},children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>ne("category",t),children:"Delete"})]})}],se=[{key:"name",label:"Name"},{key:"symbol",label:"Symbol"},{key:"is_base_unit",label:"Base Unit",render:e=>e?"Yes":"No"},{key:"products_count",label:"Products"},{key:"is_active",label:"Status",render:e=>e?"Active":"Inactive"},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>{L(t),M({name:t.name,symbol:t.symbol,is_base_unit:t.is_base_unit,is_active:t.is_active}),O(!0)},children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>ne("unit",t),children:"Delete"})]})}],ie=[{key:"from_unit_name",label:"From Unit",render:(e,t)=>t.from_unit_name?"".concat(t.from_unit_name," (").concat(t.from_unit_symbol,")"):"N/A"},{key:"to_unit_name",label:"To Unit",render:(e,t)=>t.to_unit_name?"".concat(t.to_unit_name," (").concat(t.to_unit_symbol,")"):"N/A"},{key:"conversion_factor",label:"Conversion Factor"},{key:"is_active",label:"Status",render:e=>e?"Active":"Inactive"},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>{$(t),Q({from_unit:t.from_unit||"",to_unit:t.to_unit||"",conversion_factor:t.conversion_factor.toString(),is_active:t.is_active}),G(!0)},children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>ne("conversion",t),children:"Delete"})]})}];return J?(0,ca.jsxs)("div",{className:"system-management",children:[(0,ca.jsxs)("div",{className:"system-header",children:[(0,ca.jsx)("h1",{children:e("titles.system_management")}),(0,ca.jsx)("p",{children:"Manage taxes, categories, units, and unit conversions"})]}),l&&(0,ca.jsx)("div",{className:"error-message",children:l}),(0,ca.jsxs)("div",{className:"system-tabs",children:[(0,ca.jsx)("button",{className:"tab-button ".concat("taxes"===r?"active":""),onClick:()=>s("taxes"),children:"Tax Classes"}),(0,ca.jsx)("button",{className:"tab-button ".concat("categories"===r?"active":""),onClick:()=>s("categories"),children:"Categories"}),(0,ca.jsx)("button",{className:"tab-button ".concat("units"===r?"active":""),onClick:()=>s("units"),children:"Units"}),(0,ca.jsx)("button",{className:"tab-button ".concat("conversions"===r?"active":""),onClick:()=>s("conversions"),children:"Unit Conversions"})]}),(0,ca.jsxs)("div",{className:"system-content",children:["taxes"===r&&(0,ca.jsxs)("div",{className:"tab-content",children:[(0,ca.jsxs)("div",{className:"content-header",children:[(0,ca.jsx)("h2",{children:"Tax Classes"}),(0,ca.jsx)(Ta,{onClick:()=>{f(null),y({name:"",description:"",tax_rate:"",is_active:!0}),m(!0)},children:"Add New Tax Class"})]}),(0,ca.jsx)(Ba,{data:d,columns:ae,loading:i,emptyMessage:"No tax classes found"})]}),"categories"===r&&(0,ca.jsxs)("div",{className:"tab-content",children:[(0,ca.jsxs)("div",{className:"content-header",children:[(0,ca.jsx)("h2",{children:"Product Categories"}),(0,ca.jsx)(Ta,{onClick:()=>{k(null),w({name:"",description:"",is_active:!0}),b(!0)},children:"Add New Category"})]}),(0,ca.jsx)(Ba,{data:g,columns:re,loading:i,emptyMessage:"No categories found"})]}),"units"===r&&(0,ca.jsxs)("div",{className:"tab-content",children:[(0,ca.jsxs)("div",{className:"content-header",children:[(0,ca.jsx)("h2",{children:"Units"}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsxs)("div",{className:"search-container",children:[(0,ca.jsx)("input",{type:"text",placeholder:"Search units...",value:A,onChange:e=>T(e.target.value),className:"search-input"}),(0,ca.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,ca.jsx)(Ta,{onClick:()=>{L(null),M({name:"",symbol:"",is_base_unit:!1,is_active:!0}),O(!0)},children:"Add New Unit"})]})]}),(0,ca.jsx)(Ba,{data:E,columns:se,loading:i,emptyMessage:A?"No units found matching your search":"No units found"})]}),"conversions"===r&&(0,ca.jsxs)("div",{className:"tab-content",children:[(0,ca.jsxs)("div",{className:"content-header",children:[(0,ca.jsx)("h2",{children:"Unit Conversions"}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsxs)("div",{className:"search-container",children:[(0,ca.jsx)("input",{type:"text",placeholder:"Search conversions...",value:V,onChange:e=>B(e.target.value),className:"search-input"}),(0,ca.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,ca.jsx)(Ta,{onClick:()=>{$(null),Q({from_unit:"",to_unit:"",conversion_factor:"",is_active:!0}),G(!0)},children:"Add New Conversion"})]})]}),(0,ca.jsx)(Ba,{data:z,columns:ie,loading:i,emptyMessage:V?"No conversions found matching your search":"No unit conversions found"})]})]}),p&&(0,ca.jsx)("div",{className:"modal-overlay",onClick:()=>m(!1),children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:h?"Edit Tax Class":"Add New Tax Class"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>m(!1),children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c("");try{const e=(e=>{const t=[];if(e.name&&""!==e.name.trim()||t.push("Tax class name is required"),e.tax_rate&&""!==e.tax_rate){const n=parseFloat(e.tax_rate);isNaN(n)?t.push("Tax rate must be a valid number"):n<0?t.push("Tax rate cannot be negative"):n>100&&t.push("Tax rate cannot exceed 100%")}else t.push("Tax rate is required");h||d.find(t=>t.name.toLowerCase()===e.name.toLowerCase())&&t.push("A tax class with this name already exists");return t})(v);if(e.length>0)return void c(e.join(". "));h?await n.put("/products/tax-classes/".concat(h.id,"/"),v):await n.post("/products/tax-classes/",v),m(!1),f(null),y({name:"",description:"",tax_rate:"",is_active:!0}),X()}catch(a){var t;const e=null===(t=a.response)||void 0===t?void 0:t.data;let n="Failed to save tax class";if(e)if(e.detail)n=e.detail;else if(e.non_field_errors)n=e.non_field_errors.join(". ");else if(e.name)n="Name: ".concat(e.name.join(". "));else if(e.tax_rate)n="Tax rate: ".concat(e.tax_rate.join(". "));else{const t=Object.values(e)[0];Array.isArray(t)?n=t.join(". "):"string"===typeof t&&(n=t)}c(n)}},className:"system-form",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_name",children:"Name *"}),(0,ca.jsx)("input",{type:"text",id:"tax_name",value:v.name,onChange:e=>y(Ut(Ut({},v),{},{name:e.target.value})),required:!0,placeholder:"e.g., Standard Rate"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_description",children:"Description"}),(0,ca.jsx)("textarea",{id:"tax_description",value:v.description,onChange:e=>y(Ut(Ut({},v),{},{description:e.target.value})),placeholder:"Brief description of this tax class",rows:"3"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_rate",children:"Tax Rate (%) *"}),(0,ca.jsx)("input",{type:"number",id:"tax_rate",value:v.tax_rate,onChange:e=>y(Ut(Ut({},v),{},{tax_rate:e.target.value})),required:!0,min:"0",max:"100",step:"0.01",placeholder:"18.00"})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:v.is_active,onChange:e=>y(Ut(Ut({},v),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[h?"Update":"Create"," Tax Class"]})]})]})]})}),x&&(0,ca.jsx)("div",{className:"modal-overlay",onClick:()=>b(!1),children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:j?"Edit Category":"Add New Category"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>b(!1),children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c("");try{const e=(e=>{const t=[];e.name&&""!==e.name.trim()||t.push("Category name is required"),j||g.find(t=>t.name.toLowerCase()===e.name.toLowerCase())&&t.push("A category with this name already exists");return t})(N);if(e.length>0)return void c(e.join(". "));j?await n.put("/products/categories/".concat(j.id,"/"),N):await n.post("/products/categories/",N),b(!1),k(null),w({name:"",description:"",is_active:!0}),Z()}catch(a){var t;const e=null===(t=a.response)||void 0===t?void 0:t.data;let n="Failed to save category";if(e)if(e.detail)n=e.detail;else if(e.non_field_errors)n=e.non_field_errors.join(". ");else if(e.name)n="Name: ".concat(e.name.join(". "));else{const t=Object.values(e)[0];Array.isArray(t)?n=t.join(". "):"string"===typeof t&&(n=t)}c(n)}},className:"system-form",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"category_name",children:"Name *"}),(0,ca.jsx)("input",{type:"text",id:"category_name",value:N.name,onChange:e=>w(Ut(Ut({},N),{},{name:e.target.value})),required:!0,placeholder:"e.g., Beverages"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"category_description",children:"Description"}),(0,ca.jsx)("textarea",{id:"category_description",value:N.description,onChange:e=>w(Ut(Ut({},N),{},{description:e.target.value})),placeholder:"Brief description of this category",rows:"3"})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:N.is_active,onChange:e=>w(Ut(Ut({},N),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[j?"Update":"Create"," Category"]})]})]})]})}),F&&(0,ca.jsx)("div",{className:"modal-overlay",onClick:()=>O(!1),children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:R?"Edit Unit":"Add New Unit"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>O(!1),children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c("");try{const e=(e=>{const t=[];e.name&&""!==e.name.trim()||t.push("Unit name is required"),e.symbol&&""!==e.symbol.trim()||t.push("Unit symbol is required"),R||S.find(t=>t.name.toLowerCase()===e.name.toLowerCase())&&t.push("A unit with this name already exists");R||S.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase())&&t.push("A unit with this symbol already exists");e.is_base_unit&&!R&&S.find(e=>e.is_base_unit)&&t.push("Only one base unit is allowed. Please uncheck the existing base unit first.");return t})(D);if(e.length>0)return void c(e.join(". "));R?await n.put("/products/units/".concat(R.id,"/"),D):await n.post("/products/units/",D),O(!1),L(null),M({name:"",symbol:"",is_base_unit:!1,is_active:!0}),ee()}catch(a){var t;const e=null===(t=a.response)||void 0===t?void 0:t.data;let n="Failed to save unit";if(e)if(e.detail)n=e.detail;else if(e.non_field_errors)n=e.non_field_errors.join(". ");else if(e.name)n="Name: ".concat(e.name.join(". "));else if(e.symbol)n="Symbol: ".concat(e.symbol.join(". "));else{const t=Object.values(e)[0];Array.isArray(t)?n=t.join(". "):"string"===typeof t&&(n=t)}c(n)}},className:"system-form",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"unit_name",children:"Name *"}),(0,ca.jsx)("input",{type:"text",id:"unit_name",value:D.name,onChange:e=>M(Ut(Ut({},D),{},{name:e.target.value})),required:!0,placeholder:"e.g., Kilogram"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"unit_symbol",children:"Symbol *"}),(0,ca.jsx)("input",{type:"text",id:"unit_symbol",value:D.symbol,onChange:e=>M(Ut(Ut({},D),{},{symbol:e.target.value})),required:!0,placeholder:"e.g., kg"})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:D.is_base_unit,onChange:e=>M(Ut(Ut({},D),{},{is_base_unit:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Base Unit"]})}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:D.is_active,onChange:e=>M(Ut(Ut({},D),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[R?"Update":"Create"," Unit"]})]})]})]})}),H&&(0,ca.jsx)("div",{className:"modal-overlay",onClick:()=>G(!1),children:(0,ca.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:W?"Edit Unit Conversion":"Add New Unit Conversion"}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>G(!1),children:(0,ca.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,ca.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c("");try{const e=Ut(Ut({},K),{},{from_unit:parseInt(K.from_unit),to_unit:parseInt(K.to_unit),conversion_factor:parseFloat(K.conversion_factor)}),t=(e=>{const t=[];e.from_unit===e.to_unit&&t.push("From unit and To unit cannot be the same"),e.conversion_factor<=0&&t.push("Conversion factor must be greater than 0"),e.conversion_factor>1e4&&t.push("Conversion factor is too large (max: 10,000)"),e.conversion_factor<1e-4&&t.push("Conversion factor is too small (min: 0.0001)");const n=S.find(t=>t.id===parseInt(e.from_unit)),a=S.find(t=>t.id===parseInt(e.to_unit));n&&a&&!n.is_base_unit&&!a.is_base_unit&&t.push("At least one of the units must be a base unit"),W||I.find(t=>t.from_unit===e.from_unit&&t.to_unit===e.to_unit||t.from_unit===e.to_unit&&t.to_unit===e.from_unit)&&t.push("A conversion between these units already exists");I.some(t=>(!W||t.id!==W.id)&&t.from_unit===e.to_unit&&t.to_unit===e.from_unit)&&t.push("This would create a circular conversion (reverse conversion already exists)"),n&&a&&(n.is_base_unit||I.find(e=>{if(W&&e.id===W.id)return!1;const t=S.find(t=>t.id===e.from_unit);return t&&t.is_base_unit&&e.to_unit===n.id})&&t.push("".concat(n.name," already has a conversion from a base unit")),a.is_base_unit||I.find(e=>{if(W&&e.id===W.id)return!1;const t=S.find(t=>t.id===e.from_unit);return t&&t.is_base_unit&&e.to_unit===a.id})&&t.push("".concat(a.name," already has a conversion from a base unit")));return t})(e);if(t.length>0)return void c(t.join(". "));W?await n.put("/products/unit-conversions/".concat(W.id,"/"),e):await n.post("/products/unit-conversions/",e),G(!1),$(null),Q({from_unit:"",to_unit:"",conversion_factor:"",is_active:!0}),te()}catch(a){var t;const e=null===(t=a.response)||void 0===t?void 0:t.data;let n="Failed to save unit conversion";if(e)if(e.detail)n=e.detail;else if(e.non_field_errors)n=e.non_field_errors.join(". ");else if(e.from_unit)n="From unit: ".concat(e.from_unit.join(". "));else if(e.to_unit)n="To unit: ".concat(e.to_unit.join(". "));else if(e.conversion_factor)n="Conversion factor: ".concat(e.conversion_factor.join(". "));else{const t=Object.values(e)[0];Array.isArray(t)?n=t.join(". "):"string"===typeof t&&(n=t)}c(n)}},className:"system-form",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"from_unit",children:"From Unit *"}),(0,ca.jsxs)("select",{id:"from_unit",value:K.from_unit,onChange:e=>Q(Ut(Ut({},K),{},{from_unit:e.target.value})),required:!0,children:[(0,ca.jsx)("option",{value:"",children:"Select From Unit"}),S.sort((e,t)=>e.is_base_unit&&!t.is_base_unit?-1:!e.is_base_unit&&t.is_base_unit?1:e.name.localeCompare(t.name)).map(e=>(0,ca.jsxs)("option",{value:e.id,disabled:!e.is_active,children:[e.name," (",e.symbol,")",e.is_base_unit?" - BASE UNIT":"",e.is_active?"":" - INACTIVE"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"to_unit",children:"To Unit *"}),(0,ca.jsxs)("select",{id:"to_unit",value:K.to_unit,onChange:e=>Q(Ut(Ut({},K),{},{to_unit:e.target.value})),required:!0,children:[(0,ca.jsx)("option",{value:"",children:"Select To Unit"}),S.sort((e,t)=>e.is_base_unit&&!t.is_base_unit?-1:!e.is_base_unit&&t.is_base_unit?1:e.name.localeCompare(t.name)).map(e=>(0,ca.jsxs)("option",{value:e.id,disabled:!e.is_active,children:[e.name," (",e.symbol,")",e.is_base_unit?" - BASE UNIT":"",e.is_active?"":" - INACTIVE"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"conversion_factor",children:"Conversion Factor *"}),(0,ca.jsx)("input",{type:"number",id:"conversion_factor",value:K.conversion_factor,onChange:e=>Q(Ut(Ut({},K),{},{conversion_factor:e.target.value})),required:!0,min:"0.001",step:"0.001",placeholder:"e.g., 20 (for 1 carton = 20 pieces)"}),(0,ca.jsx)("small",{children:'How many "to units" equal 1 "from unit"'})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",checked:K.is_active,onChange:e=>Q(Ut(Ut({},K),{},{is_active:e.target.checked}))}),(0,ca.jsx)("span",{className:"checkmark"}),"Active"]})}),(0,ca.jsxs)("div",{className:"form-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{type:"submit",children:[W?"Update":"Create"," Conversion"]})]})]})]})})]}):(0,ca.jsx)("div",{className:"system-management",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to manage system settings. Only managers and administrators can access this page."})]})})},Qa=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)({name:"",type:"network",ip_address:"",port:"9100",model:"",location:"",is_default:!1,is_active:!0}),[f,v]=(0,a.useState)([]);(0,a.useEffect)(()=>{!t||"admin"!==t.role&&"manager"!==t.role||y()},[t]);const y=async()=>{try{r(!0);const e=[{id:1,name:"Office Printer HP",type:"network",ip_address:"192.168.1.100",port:"9100",model:"HP LaserJet Pro",location:"Office",is_default:!0,is_active:!0,status:"online",last_used:(new Date).toISOString()},{id:2,name:"Receipt Printer",type:"usb",ip_address:"",port:"",model:"Epson TM-T20",location:"Cash Register",is_default:!1,is_active:!0,status:"online",last_used:new Date(Date.now()-36e5).toISOString()},{id:3,name:"Warehouse Printer",type:"network",ip_address:"192.168.1.101",port:"9100",model:"Canon PIXMA",location:"Warehouse",is_default:!1,is_active:!1,status:"offline",last_used:new Date(Date.now()-864e5).toISOString()}];l(e),d(e.find(e=>e.is_default)||e[0])}catch(e){i("Failed to fetch printers"),console.error("Fetch printers error:",e)}finally{r(!1)}},g=async(e,t)=>{try{l(n=>n.map(n=>n.id===e?Ut(Ut({},n),t):n))}catch(n){i("Failed to update printer"),console.error("Update printer error:",n)}},_=async()=>{try{if("navigator"in window&&"serviceWorker"in navigator)try{await navigator.serviceWorker.ready,console.log("Web Printing API available")}catch(Ns){console.log("Web Printing API not available")}v([{name:"Microsoft Print to PDF",type:"local",model:"PDF Printer",location:"Local System",is_system:!0},{name:"HP LaserJet Pro (Default)",type:"local",model:"HP LaserJet Pro",location:"Local System",is_system:!0},{name:"Canon PIXMA G3110",type:"usb",model:"Canon PIXMA G3110",location:"USB Port",is_system:!0},{name:"EPSON L3150",type:"network",model:"EPSON L3150",ip_address:"192.168.1.150",port:"9100",location:"Network",is_system:!0}]),await x()}catch(e){console.error("System printer detection error:",e),i("Failed to detect system printers")}},x=async()=>{try{const e=[{name:"Office Printer HP",type:"network",model:"HP LaserJet Pro",ip_address:"192.168.1.100",port:"9100",location:"Office Network",is_system:!0},{name:"Reception Canon",type:"network",model:"Canon PIXMA",ip_address:"192.168.1.101",port:"9100",location:"Reception Network",is_system:!0}];v(t=>[...t,...e])}catch(e){console.error("Network printer detection error:",e)}},b=[{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"model",label:"Model"},{key:"location",label:"Location"},{key:"status",label:"Status",render:e=>(0,ca.jsx)("span",{className:"status-badge ".concat(e),children:e})},{key:"is_default",label:"Default",render:e=>e?"Yes":"No"},{key:"is_active",label:"Active",render:e=>e?"Yes":"No"},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>(async e=>{try{const t='\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Printer Test</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }\n            .info { margin: 20px 0; }\n            .success { color: green; font-weight: bold; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Printer Test Document</h1>\n          </div>\n          <div class="info">\n            <p><strong>Printer:</strong> '.concat(e.name,"</p>\n            <p><strong>Type:</strong> ").concat(e.type,"</p>\n            <p><strong>Model:</strong> ").concat(e.model,"</p>\n            <p><strong>Location:</strong> ").concat(e.location,"</p>\n            <p><strong>Test Date:</strong> ").concat((new Date).toLocaleString(),'</p>\n          </div>\n          <div class="success">\n            <p>\u2705 Printer test successful!</p>\n            <p>This document was sent to: ').concat(e.name,"</p>\n          </div>\n        </body>\n        </html>\n      "),n=window.open("","_blank","width=600,height=400");n.document.write(t),n.document.close(),n.onload=()=>{n.focus(),n.print(),n.close()},g(e.id,{last_used:(new Date).toISOString()})}catch(t){i("Failed to test print"),console.error("Test print error:",t)}})(t),children:"Test"}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>{h({name:t.name,type:t.type,ip_address:t.ip_address,port:t.port,model:t.model,location:t.location,is_default:t.is_default,is_active:t.is_active}),p(!0)},children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this printer?"))try{l(t=>t.filter(t=>t.id!==e)),c&&c.id===e&&d(o.find(t=>t.id!==e)||null)}catch(t){i("Failed to delete printer"),console.error("Delete printer error:",t)}})(t.id),children:"Delete"})]})}];return"admin"!==(null===t||void 0===t?void 0:t.role)&&"manager"!==(null===t||void 0===t?void 0:t.role)?(0,ca.jsx)("div",{className:"printer-settings",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to access printer settings."})]})}):(0,ca.jsxs)("div",{className:"printer-settings",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:e("titles.printer_settings")}),(0,ca.jsx)("p",{children:"Manage network and local printers for the system"})]}),s&&(0,ca.jsxs)("div",{className:"error-message",children:[s,(0,ca.jsx)("button",{onClick:()=>i(""),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"printer-controls",children:[(0,ca.jsxs)("div",{className:"control-group",children:[(0,ca.jsx)(Ta,{onClick:()=>{p(!0),_()},children:"Add Printer"}),(0,ca.jsx)(Ta,{variant:"outline",onClick:async()=>{try{r(!0),await _(),alert("Found ".concat(f.length," available printer(s) on the system"))}catch(e){i("Failed to scan for printers"),console.error("Scan printers error:",e)}finally{r(!1)}},disabled:n,children:n?"Scanning...":"Scan Network"})]}),(0,ca.jsxs)("div",{className:"selected-printer",children:[(0,ca.jsx)("label",{children:"Default Printer:"}),(0,ca.jsxs)("select",{value:(null===c||void 0===c?void 0:c.id)||"",onChange:e=>{const t=o.find(t=>t.id===parseInt(e.target.value));d(t),t&&(g(t.id,{is_default:!0}),o.forEach(e=>{e.id!==t.id&&e.is_default&&g(e.id,{is_default:!1})}))},children:[(0,ca.jsx)("option",{value:"",children:"Select Default Printer"}),o.filter(e=>e.is_active).map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.location,")"]},e.id))]})]})]}),(0,ca.jsx)(Ba,{data:o,columns:b,loading:n,emptyMessage:e("empty_messages.no_printers_found")}),u&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h3",{children:"Add/Edit Printer"}),(0,ca.jsx)("button",{onClick:()=>p(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[f.length>0&&(0,ca.jsxs)("div",{className:"available-printers-section",children:[(0,ca.jsx)("h4",{children:"Available System Printers"}),(0,ca.jsx)("div",{className:"available-printers-list",children:f.map((e,t)=>(0,ca.jsxs)("div",{className:"available-printer-item",children:[(0,ca.jsxs)("div",{className:"printer-info",children:[(0,ca.jsx)("strong",{children:e.name}),(0,ca.jsx)("span",{className:"printer-type",children:e.type.toUpperCase()}),(0,ca.jsx)("span",{className:"printer-model",children:e.model}),(0,ca.jsx)("span",{className:"printer-location",children:e.location}),e.ip_address&&(0,ca.jsxs)("span",{className:"printer-ip",children:[e.ip_address,":",e.port]})]}),(0,ca.jsx)(Ta,{size:"small",onClick:()=>(e=>{const t={id:Date.now(),name:e.name,type:e.type,ip_address:e.ip_address||"",port:e.port||"9100",model:e.model,location:e.location,is_default:!1,is_active:!0,status:"online",last_used:(new Date).toISOString()};l(e=>[...e,t]),v(t=>t.filter(t=>t.name!==e.name)),alert("Added ".concat(e.name," to your printer list"))})(e),children:"Add to List"})]},t))})]}),(0,ca.jsx)("div",{className:"form-divider",children:(0,ca.jsx)("span",{children:"Or Add Manually"})}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Printer Name:"}),(0,ca.jsx)("input",{type:"text",value:m.name,onChange:e=>h(Ut(Ut({},m),{},{name:e.target.value})),placeholder:e("forms.enter_printer_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Type:"}),(0,ca.jsxs)("select",{value:m.type,onChange:e=>h(Ut(Ut({},m),{},{type:e.target.value})),children:[(0,ca.jsx)("option",{value:"network",children:"Network Printer"}),(0,ca.jsx)("option",{value:"usb",children:"USB Printer"}),(0,ca.jsx)("option",{value:"local",children:"Local Printer"})]})]}),"network"===m.type&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"IP Address:"}),(0,ca.jsx)("input",{type:"text",value:m.ip_address,onChange:e=>h(Ut(Ut({},m),{},{ip_address:e.target.value})),placeholder:"192.168.1.100"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Port:"}),(0,ca.jsx)("input",{type:"text",value:m.port,onChange:e=>h(Ut(Ut({},m),{},{port:e.target.value})),placeholder:"9100"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Model:"}),(0,ca.jsx)("input",{type:"text",value:m.model,onChange:e=>h(Ut(Ut({},m),{},{model:e.target.value})),placeholder:"Enter printer model"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Location:"}),(0,ca.jsx)("input",{type:"text",value:m.location,onChange:e=>h(Ut(Ut({},m),{},{location:e.target.value})),placeholder:"Enter printer location"})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{children:[(0,ca.jsx)("input",{type:"checkbox",checked:m.is_default,onChange:e=>h(Ut(Ut({},m),{},{is_default:e.target.checked}))}),"Set as default printer"]})}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{children:[(0,ca.jsx)("input",{type:"checkbox",checked:m.is_active,onChange:e=>h(Ut(Ut({},m),{},{is_active:e.target.checked}))}),"Active"]})})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Ta,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,ca.jsx)(Ta,{onClick:async()=>{try{const e=Ut(Ut({id:Date.now()},m),{},{status:"online",last_used:(new Date).toISOString()});l(t=>[...t,e]),p(!1),h({name:"",type:"network",ip_address:"",port:"9100",model:"",location:"",is_default:!1,is_active:!0})}catch(e){i("Failed to add printer"),console.error("Add printer error:",e)}},children:"Save Printer"})]})]})})]})},Ja=()=>{const{t:e}=Ea(),{user:t}=ua(),n=Wa(),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)({product:"",movement_type:"",date_from:"",date_to:"",search:""}),h="admin"===(null===t||void 0===t?void 0:t.role)||"manager"===(null===t||void 0===t?void 0:t.role);(0,a.useEffect)(()=>{h&&(f(),v())},[h]);const f=async()=>{try{c(!0);const e=new URLSearchParams;p.product&&e.append("product",p.product),p.movement_type&&e.append("movement_type",p.movement_type),p.date_from&&e.append("date_from",p.date_from),p.date_to&&e.append("date_to",p.date_to),p.search&&e.append("search",p.search);const t=await n.get("/products/stock-movements/?".concat(e.toString()));s(t.data.results||t.data)}catch(e){u("Failed to load stock movements"),console.error("Stock movements error:",e)}finally{c(!1)}},v=async()=>{try{const e=await n.get("/products/");o(e.data.results||e.data)}catch(e){console.error("Products error:",e)}},y=(e,t)=>{m(n=>Ut(Ut({},n),{},{[e]:t}))},g=e=>{switch(e){case"in":return"text-green-600 bg-green-100";case"out":return"text-red-600 bg-red-100";case"adjustment":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},_=e=>{switch(e){case"in":return"Stock In";case"out":return"Stock Out";case"adjustment":return"Adjustment";default:return e}},x=[{key:"created_at",label:"Date & Time",render:e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"product",label:"Product",render:e=>(null===e||void 0===e?void 0:e.name)||"N/A"},{key:"movement_type",label:"Type",render:e=>(0,ca.jsx)("span",{className:"movement-type-badge ".concat(g(e)),children:_(e)})},{key:"quantity",label:"Quantity",render:(e,t)=>{var n;const a="in"===t.movement_type?"+":"-";return(0,ca.jsxs)("span",{className:"quantity ".concat("in"===t.movement_type?"positive":"negative"),children:[a,e," ",(null===(n=t.unit)||void 0===n?void 0:n.symbol)||""]})}},{key:"reference_number",label:"Reference",render:e=>e||"-"},{key:"notes",label:"Notes",render:e=>e||"-"},{key:"created_by",label:"Created By",render:e=>(null===e||void 0===e?void 0:e.username)||"System"}];return h?(0,ca.jsxs)("div",{className:"stock-movement",children:[(0,ca.jsxs)("div",{className:"stock-header",children:[(0,ca.jsx)("h1",{children:e("titles.stock_movement_history")}),(0,ca.jsx)("p",{children:"Track all stock movements including purchases, sales, and adjustments"})]}),d&&(0,ca.jsx)("div",{className:"error-message",children:d}),(0,ca.jsxs)("div",{className:"stock-filters",children:[(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Product:"}),(0,ca.jsxs)("select",{value:p.product,onChange:e=>y("product",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Products"}),i.map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Movement Type:"}),(0,ca.jsxs)("select",{value:p.movement_type,onChange:e=>y("movement_type",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:"All Types"}),(0,ca.jsx)("option",{value:"in",children:"Stock In"}),(0,ca.jsx)("option",{value:"out",children:"Stock Out"}),(0,ca.jsx)("option",{value:"adjustment",children:"Adjustment"})]})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Date From:"}),(0,ca.jsx)("input",{type:"date",value:p.date_from,onChange:e=>y("date_from",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Date To:"}),(0,ca.jsx)("input",{type:"date",value:p.date_to,onChange:e=>y("date_to",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Search:"}),(0,ca.jsx)("input",{type:"text",placeholder:"Search by reference or notes...",value:p.search,onChange:e=>y("search",e.target.value)})]})]}),(0,ca.jsxs)("div",{className:"filter-actions",children:[(0,ca.jsx)(Ta,{onClick:()=>{f()},children:"Apply Filters"}),(0,ca.jsx)(Ta,{variant:"outline",onClick:()=>{m({product:"",movement_type:"",date_from:"",date_to:"",search:""})},children:"Clear Filters"})]})]}),(0,ca.jsxs)("div",{className:"stock-content",children:[(0,ca.jsxs)("div",{className:"content-header",children:[(0,ca.jsx)("h2",{children:e("titles.stock_movements")}),(0,ca.jsx)("div",{className:"movement-summary",children:(0,ca.jsxs)("div",{className:"summary-item",children:[(0,ca.jsx)("span",{className:"summary-label",children:"Total Movements:"}),(0,ca.jsx)("span",{className:"summary-value",children:r.length})]})})]}),(0,ca.jsx)(Ba,{data:r,columns:x,loading:l,emptyMessage:"No stock movements found"})]})]}):(0,ca.jsx)("div",{className:"stock-movement",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to view stock movements. Only managers and administrators can access this page."})]})})},Ya=()=>{const{t:e}=Ea(),{user:t}=ua(),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[y,g]=(0,a.useState)(!1),[_,x]=(0,a.useState)({customer_name:"",start_date:"",end_date:"",status:"completed"}),[b,j]=(0,a.useState)({items:[],payment_type:"full",paid_amount:0}),[k,N]=(0,a.useState)([]),[w,S]=(0,a.useState)({status:"",customer_name:"",start_date:"",end_date:""}),C=(0,a.useCallback)(async()=>{try{i(!0),l("");const e=new URLSearchParams;w.status&&e.append("status",w.status),w.customer_name&&e.append("search",w.customer_name),w.start_date&&e.append("created_at__date__gte",w.start_date),w.end_date&&e.append("created_at__date__lte",w.end_date);const t=await la.get("/sales/?".concat(e.toString())),n=t.data.results||t.data;if(!Array.isArray(n))return console.error("Sales data is not an array:",n),void r([]);r(n)}catch(n){var e,t;l("Failed to fetch sales: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message)),console.error("Sales fetch error:",n)}finally{i(!1)}},[w]);(0,a.useEffect)(()=>{C(),E()},[C]);const E=async()=>{try{const e=await la.get("/products/?is_active=true");N(e.data.results||e.data)}catch(e){console.error("Products fetch error:",e)}},P=e=>{const{name:t,value:n}=e.target;S(e=>Ut(Ut({},e),{},{[t]:n}))},A=e=>{const{name:t,value:n}=e.target;x(e=>Ut(Ut({},e),{},{[t]:n}))},T=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),F=e=>new Date(e).toLocaleDateString(),O=e=>(0,ca.jsx)("span",{className:"status-badge ".concat({pending:"status-pending",completed:"status-completed",cancelled:"status-cancelled",returned:"status-returned",refunded:"status-refunded"}[e]||""),children:e}),R=()=>b.items.reduce((e,t)=>e+parseFloat(t.unit_price||0)*parseFloat(t.quantity||0),0);(0,a.useEffect)(()=>{"full"===b.payment_type&&j(e=>Ut(Ut({},e),{},{paid_amount:R()}))},[b.payment_type,b.items]);return"admin"===(null===t||void 0===t?void 0:t.role)||"manager"===(null===t||void 0===t?void 0:t.role)?(0,ca.jsxs)("div",{className:"sales-management",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:e("titles.sales_management")}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Ma,{data:Ut(Ut({},n),{},{user_name:(null===t||void 0===t?void 0:t.username)||e("app.unknown_user"),user_id:(null===t||void 0===t?void 0:t.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:e("titles.sales_management_report"),type:"sales_history",printText:e("buttons.print_sales_report"),className:"print-sales-report-btn"}),(0,ca.jsx)(Ta,{variant:"danger",onClick:()=>d(!0),children:"Delete Sales"})]})]}),o&&(0,ca.jsxs)("div",{className:"error-message",children:[o,(0,ca.jsx)("button",{onClick:()=>l(""),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsx)("h3",{children:"Filters"}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{name:"status",value:w.status,onChange:P,children:[(0,ca.jsx)("option",{value:"",children:"All Statuses"}),(0,ca.jsx)("option",{value:"pending",children:"Pending"}),(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ca.jsx)("option",{value:"returned",children:"Returned"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",name:"customer_name",value:w.customer_name,onChange:P,placeholder:e("forms.search_by_customer_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",name:"start_date",value:w.start_date,onChange:P})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",name:"end_date",value:w.end_date,onChange:P})]})]}),(0,ca.jsx)("div",{className:"filter-actions",children:(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>{S({status:"",customer_name:"",start_date:"",end_date:""})},children:"Clear Filters"})})]}),(0,ca.jsx)("div",{className:"table-section",children:s?(0,ca.jsx)("div",{className:"loading",children:"Loading sales..."}):(0,ca.jsx)(Ba,{data:n,columns:[{key:"sale_number",header:e("table_headers.sale_number"),render:(e,t)=>(0,ca.jsx)("span",{className:"sale-number",children:e})},{key:"customer_name",header:e("table_headers.customer"),render:e=>e||"N/A"},{key:"status",header:e("table_headers.status"),render:(e,t)=>(0,ca.jsx)("div",{className:"status-container",children:(0,ca.jsx)("div",{className:"sale-status",children:O(e)})})},{key:"payment_status",header:e("table_headers.payment"),render:(t,n)=>{const a={pending:e("status_labels.pending"),partial:e("status_labels.partial"),paid:e("status_labels.paid")};return(0,ca.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[t]||""),children:a[t]||t})}},{key:"items",header:e("table_headers.items"),render:(e,t)=>e&&0!==e.length?(0,ca.jsxs)("div",{className:"sale-items",children:[e.slice(0,2).map((e,t)=>(0,ca.jsxs)("div",{className:"sale-item-row",children:[(0,ca.jsxs)("span",{className:"item-name",children:[e.product_name,(0,ca.jsx)("span",{className:"price-mode-badge ".concat(e.price_mode||"standard"),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("span",{className:"item-details",children:[e.quantity_display||e.quantity," ",e.unit_symbol||"pcs"," \xd7 ",T(e.unit_price)]})]},t)),e.length>2&&(0,ca.jsxs)("div",{className:"more-items",children:["+",e.length-2," more items"]})]}):(0,ca.jsx)("span",{className:"no-items",children:"No items"})},{key:"total_amount",header:e("table_headers.total_amount"),render:(e,t)=>(0,ca.jsx)("div",{className:"amount-container",children:(0,ca.jsx)("div",{className:"total-amount",children:T(e)})})},{key:"created_at",header:e("table_headers.date"),render:e=>F(e)},{key:"sold_by_name",header:e("table_headers.sold_by"),render:e=>e||"N/A"},{key:"payment_method",header:e("table_headers.payment_method"),render:(t,n)=>{if("pending"===n.status)return(0,ca.jsxs)("select",{value:t||"cash",onChange:e=>(async(e,t)=>{try{l(""),await la.patch("/sales/".concat(e,"/payment-method/"),{payment_method:t}),r(n=>n.map(n=>n.id===e?Ut(Ut({},n),{},{payment_method:t}):n))}catch(s){var n,a;l((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to update payment method"),console.error("Payment method update error:",s)}})(n.id,e.target.value),className:"payment-method-select",children:[(0,ca.jsx)("option",{value:"cash",children:"Cash"}),(0,ca.jsx)("option",{value:"card",children:"Card"}),(0,ca.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ca.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]});const a={cash:e("payment_methods.cash"),card:e("payment_methods.card"),mobile_money:e("payment_methods.mobile_money"),bank_transfer:e("payment_methods.bank_transfer")};return(0,ca.jsx)("span",{className:"payment-method-display",children:a[t]||t||"Cash"})}},{key:"paid_amount",header:e("table_headers.paid_amount"),render:(e,t)=>{const n=parseFloat(e)||0;return(0,ca.jsx)("div",{className:"payment-amount-container",children:(0,ca.jsx)("div",{className:"paid-amount",children:T(n)})})}},{key:"actions",header:e("table_headers.actions"),render:(n,a)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ma,{data:Ut(Ut({},a),{},{user_name:(null===t||void 0===t?void 0:t.username)||e("app.unknown_user"),user_id:(null===t||void 0===t?void 0:t.id)||"unknown",print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}),title:e("titles.sale_receipt"),type:"sale",printText:e("buttons.print"),className:"print-sale-btn"}),!("completed"===a.status&&"paid"===a.payment_status)&&"refunded"!==a.status&&(0,ca.jsx)(Ta,{variant:"primary",size:"small",onClick:()=>(async e=>{try{g(!0),l("");const t=(await la.get("/sales/".concat(e.id,"/"))).data;v(t),j({items:t.items.map(e=>{var t;return{product:e.product,quantity:e.quantity,unit:(null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit||"",unit_price:e.unit_price,price_mode:e.price_mode||"standard"}}),payment_type:"paid"===t.payment_status?"full":"partial"===t.payment_status?"partial":"full",paid_amount:t.paid_amount||0}),p(!0)}catch(t){l("Failed to load sale details"),console.error("Sale fetch error:",t)}finally{g(!1)}})(a),loading:y,disabled:y,children:"Edit"}),("pending"===a.status||"completed"===a.status)&&"refunded"!==a.status&&"return"!==a.sale_type&&(0,ca.jsx)(Ta,{variant:"danger",size:"small",onClick:()=>{window.confirm("Are you sure you want to cancel this ".concat(a.status," sale?"))&&(async e=>{try{l("");const t=await la.post("/sales/".concat(e,"/cancel/"));"Sale cancelled and stock restored"===t.data.message?t.data.refund_amount&&t.data.refund_amount>0?alert("Sale cancelled and stock restored successfully!\n\nRefund Information:\nOriginal Sale: ".concat(t.data.original_sale_number,"\nRefund Amount: $").concat(t.data.refund_amount.toFixed(2),"\n\nPlease process the refund to the customer.")):alert("Sale cancelled and stock restored successfully"):alert("Sale cancelled successfully"),C(),E()}catch(a){var t,n;l((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to cancel sale"),console.error("Cancel sale error:",a)}})(a.id)},children:"Cancel"})]})}]})}),c&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Delete Sales"}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>d(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsx)("p",{children:"Select criteria to delete sales:"}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name (optional)"}),(0,ca.jsx)("input",{type:"text",name:"customer_name",value:_.customer_name,onChange:A,placeholder:e("forms.leave_empty_to_delete_all")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Start Date (optional)"}),(0,ca.jsx)("input",{type:"date",name:"start_date",value:_.start_date,onChange:A})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"End Date (optional)"}),(0,ca.jsx)("input",{type:"date",name:"end_date",value:_.end_date,onChange:A})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Status"}),(0,ca.jsxs)("select",{name:"status",value:_.status,onChange:A,children:[(0,ca.jsx)("option",{value:"completed",children:"Completed"}),(0,ca.jsx)("option",{value:"pending",children:"Pending"}),(0,ca.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ca.jsx)("option",{value:"returned",children:"Returned"}),(0,ca.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),(0,ca.jsx)(Ta,{variant:"danger",onClick:async()=>{try{l("");const e=await la.delete("/sales/delete/",{data:_});alert("Successfully deleted ".concat(e.data.deleted_count," sales")),d(!1),x({customer_name:"",start_date:"",end_date:"",status:"completed"}),C(),E()}catch(n){var e,t;l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete sales"),console.error("Delete sales error:",n)}},children:"Delete Sales"})]})]})]})}),u&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content large-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?e("modals.view_sale"):e("modals.edit_sale"),": ",(null===f||void 0===f?void 0:f.sale_number)||e("app.loading"),"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)&&(0,ca.jsx)("span",{className:"view-only-badge",children:e("modals.view_only")})]}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>p(!1),children:"\xd7"})]}),(0,ca.jsx)("div",{className:"modal-body",children:y?(0,ca.jsx)("div",{className:"loading",children:"Loading sale details..."}):f?(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsxs)("div",{className:"edit-sale-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",f.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Date:"})," ",F(f.created_at)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Status:"})," ",O(f.status)]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Payment Status:"})," ",(L=f.payment_status,(0,ca.jsx)("span",{className:"payment-badge ".concat({pending:"payment-pending",partial:"payment-partial",paid:"payment-paid"}[L]||""),children:{pending:"Unpaid",partial:"Partial",paid:"Paid"}[L]||L}))]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," $",f.total_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," $",f.paid_amount]}),"partial"===f.payment_status&&(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining Amount:"})," $",f.remaining_amount]}),f.due_date&&(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Due Date:"})," ",F(f.due_date)]})]}),(0,ca.jsx)("h3",{children:"Sale Items"}),(0,ca.jsx)("div",{className:"edit-items",children:b.items.map((t,n)=>{var a;const r=null===f||void 0===f||null===(a=f.items)||void 0===a?void 0:a.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);return(0,ca.jsxs)("div",{className:"edit-item",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Product"}),(0,ca.jsx)("input",{type:"text",value:(null===r||void 0===r?void 0:r.product_name)||e("app.unknown_product"),readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Unit"}),(0,ca.jsx)("input",{type:"text",value:null!==r&&void 0!==r&&r.unit_name?"".concat(r.unit_name," (").concat(r.unit_symbol,")"):"N/A",readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Price Mode"}),(0,ca.jsx)("input",{type:"text",value:"wholesale"===t.price_mode?"Wholesale (WS)":"Standard (STD)",readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Unit Price"}),(0,ca.jsx)("input",{type:"text",value:T(t.unit_price),readOnly:!0,className:"readonly-field"})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Quantity"}),(0,ca.jsx)("input",{type:"number",min:"0",value:t.quantity,onChange:e=>((e,t,n)=>{j(a=>Ut(Ut({},a),{},{items:a.items.map((a,r)=>r===e?Ut(Ut({},a),{},{[t]:n}):a)}))})(n,"quantity",parseFloat(e.target.value)||0),readOnly:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status),className:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?"read-only-input":""})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Total"}),(0,ca.jsx)("input",{type:"text",value:T(t.quantity*t.unit_price),readOnly:!0,className:"readonly-field"})]}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsx)(Ta,{variant:"danger",size:"small",onClick:()=>(e=>{j(t=>Ut(Ut({},t),{},{items:t.items.filter((t,n)=>n!==e)}))})(n),children:"Remove"})]},n)})}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)("h3",{children:"Payment Options"}),(0,ca.jsxs)("div",{className:"payment-section",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"editPaymentType",value:"full",checked:"full"===b.payment_type,onChange:e=>j(t=>Ut(Ut({},t),{},{payment_type:e.target.value,paid_amount:"full"===e.target.value?R():t.paid_amount})),disabled:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"editPaymentType",value:"partial",checked:"partial"===b.payment_type,onChange:e=>j(t=>Ut(Ut({},t),{},{payment_type:e.target.value})),disabled:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]})]}),"partial"===b.payment_type&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:R(),value:b.paid_amount||0,onChange:e=>{const t=parseFloat(e.target.value)||0;j(e=>Ut(Ut({},e),{},{paid_amount:t}))},placeholder:e("forms.enter_amount_to_pay"),readOnly:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status),className:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?"read-only-input":""}),(0,ca.jsxs)("small",{children:["Total: $",R().toFixed(2)," | Remaining: $",(R()-(b.paid_amount||0)).toFixed(2)]})]}),"full"===b.payment_type&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:R(),readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"Full payment for the total amount."})]})]})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>p(!1),children:"completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status)?e("modals.close"):e("modals.cancel")}),!("completed"===(null===f||void 0===f?void 0:f.status)&&"paid"===(null===f||void 0===f?void 0:f.payment_status))&&(0,ca.jsx)(Ta,{variant:"primary",onClick:async()=>{try{l("");const e={items:b.items,paid_amount:b.paid_amount};await la.put("/sales/".concat(f.id,"/edit/"),e),alert("Sale updated successfully"),p(!1),v(null),j({items:[],payment_type:"full",paid_amount:0}),C(),E()}catch(n){var e,t;l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update sale"),console.error("Edit sale error:",n)}},disabled:!(()=>{if(!b.items||0===b.items.length)return!1;for(const t of b.items){var e;const n=parseFloat(t.quantity);if(isNaN(n)||n<0)return!1;const a=null===f||void 0===f||null===(e=f.items)||void 0===e?void 0:e.find(e=>e.product===t.product&&e.unit===t.unit&&e.price_mode===t.price_mode);if(a){const e=n-parseFloat(a.quantity);if(e>0){const n=k.find(e=>e.id===parseInt(t.product));if(n){const t=e;if(n.stock_quantity<t)return!1}}}}if("partial"===b.payment_type){const e=R(),t=parseFloat(b.paid_amount)||0;if(t>=e||t<=0)return!1}else if("full"===b.payment_type){const e=R();if((parseFloat(b.paid_amount)||0)!==e)return!1}return!0})(),children:"Update Sale"})]})]}):(0,ca.jsx)("div",{className:"error-message",children:"Failed to load sale details"})})]})}),m&&f&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Make Payment - ",f.sale_number]}),(0,ca.jsx)("button",{className:"close-button",onClick:()=>h(!1),children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"payment-info",children:[(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Customer:"})," ",f.customer_name||"N/A"]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Total Amount:"})," $",f.total_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Paid Amount:"})," $",f.paid_amount]}),(0,ca.jsxs)("p",{children:[(0,ca.jsx)("strong",{children:"Remaining Amount:"})," $",f.remaining_amount]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Amount (Full Payment Only)"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:f.remaining_amount,readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"This will be a full payment for the remaining amount."})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),(0,ca.jsxs)(Ta,{variant:"success",onClick:()=>(async(e,t)=>{try{l(""),await la.post("/sales/".concat(e,"/payment/"),{payment_amount:t,is_full_payment:!0}),alert("Payment processed successfully"),h(!1),C()}catch(r){var n,a;l((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to process payment"),console.error("Payment error:",r)}})(f.id,f.remaining_amount),children:["Process Payment ($",f.remaining_amount,")"]})]})]})]})})]}):(0,ca.jsx)("div",{className:"sales-management",children:(0,ca.jsxs)("div",{className:"access-denied",children:[(0,ca.jsx)("h2",{children:"Access Denied"}),(0,ca.jsx)("p",{children:"You don't have permission to manage sales."})]})});var L},Xa=e=>null===e||void 0===e?"0.00":"".concat(parseFloat(e).toFixed(2)," MGA"),Za=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}},er=()=>{var e,t,n,r,s,i,o,l,c;const{t:d}=Ea(),{user:u,loading:p}=ua(),[m,h]=(0,a.useState)([]),[f,v]=(0,a.useState)(!0),[y,g]=(0,a.useState)(!1),[_,x]=(0,a.useState)(null),[b,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(null),[w,S]=(0,a.useState)({}),[C,E]=(0,a.useState)(null),[P,A]=(0,a.useState)({}),[T,F]=(0,a.useState)("full"),[O,R]=(0,a.useState)(0);(0,a.useEffect)(()=>{!p&&u&&L()},[p,u]),(0,a.useEffect)(()=>{m.length>0&&D()},[m]);const L=async()=>{try{v(!0),console.log("Fetching pending sales from:","/sales/pending/");const e=localStorage.getItem("accessToken");console.log("Auth token exists:",!!e),console.log("Auth token:",e?e.substring(0,20)+"...":"None");const t=await la.get("/sales/pending/");console.log("Pending sales response:",t.data),h(t.data)}catch(i){var e,t,n,a,r,s;if(console.error("Error fetching pending sales:",i),console.error("Error details:",{message:i.message,response:null===(e=i.response)||void 0===e?void 0:e.data,status:null===(t=i.response)||void 0===t?void 0:t.status,statusText:null===(n=i.response)||void 0===n?void 0:n.statusText}),401===(null===(a=i.response)||void 0===a?void 0:a.status))alert("Authentication required. Please log in again."),window.location.href="/login";else alert("Error fetching pending sales: "+((null===(r=i.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||i.message))}finally{v(!1)}},D=async()=>{const e={};for(const n of m){let a=!1;for(const e of n.items||[])try{const t=(await la.get("/products/".concat(e.product,"/stock-availability/"))).data;if(t.available_units){const n=t.available_units.find(t=>t.id===e.unit);if(n&&n.available_quantity<e.quantity_display){a=!0;break}}}catch(t){console.error("Error checking stock for product ".concat(e.product,":"),t)}e[n.id]={hasInsufficientStock:a}}A(e)},M=async e=>{try{E(e);const t=m.find(t=>t.id===e),n=[];for(const e of t.items||[])try{const t=(await la.get("/products/".concat(e.product,"/stock-availability/"))).data;if(t.available_units){const a=t.available_units.find(t=>t.id===e.unit);a&&a.available_quantity<e.quantity_display&&n.push("".concat(e.product_name,": Required ").concat(e.quantity_display," ").concat(e.unit_name,", but only ").concat(a.available_quantity," available"))}}catch(a){console.error("Error checking stock for product ".concat(e.product,":"),a),n.push("".concat(e.product_name,": Unable to check stock availability"))}if(n.length>0)return void alert("Cannot complete sale due to insufficient stock:\n"+n.join("\n"));await la.post("/sales/".concat(e,"/complete/"));const r=Ut(Ut({},t),{},{status:"completed"});I(r),h(t=>t.filter(t=>t.id!==e)),g(!1),x(null),alert("Sale completed successfully!")}catch(a){var t,n;console.error("Error completing sale:",a),alert("Error completing sale: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}finally{E(null)}},I=e=>{try{var t;const n={sale_number:e.sale_number,customer_name:e.customer_name||"Walk-in Customer",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",user_name:(null===u||void 0===u?void 0:u.username)||d("app.unknown_user"),user_id:(null===u||void 0===u?void 0:u.id)||"unknown",created_at:e.created_at,print_timestamp:(new Date).toISOString(),print_id:"PRINT-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),status:"completed"===e.status?"completed":"pending",total_amount:e.total_amount||e.subtotal,subtotal:e.subtotal,discount_amount:e.discount_amount||0,tax_amount:e.tax_amount||0,items:(null===(t=e.items)||void 0===t?void 0:t.map(e=>({product_name:e.product_name,product_sku:e.product_sku,quantity:e.quantity,quantity_display:e.quantity_display,unit_name:e.unit_name,unit_price:e.unit_price,total_price:e.total_price})))||[]},a=Da(n,d("titles.sale_receipt"),"sale",d),r=window.open("","_blank","width=800,height=600");if(!r)throw new Error("Failed to open print window. Please check popup blockers.");r.document.write(a),r.document.close();const s=()=>{r.focus(),r.print(),setTimeout(()=>{r.close()},1e3)};"complete"===r.document.readyState?s():r.onload=s}catch(n){console.error("Print error:",n),alert("Failed to print receipt. Please try again. Error: "+n.message)}},U=e=>{var t;N(e);const n=(null===(t=e.items)||void 0===t?void 0:t.map(e=>{const t=parseFloat(e.quantity_display||e.quantity)||0,n=parseFloat(e.unit_price)||0,a=t*n;return console.log("Item calculation:",{product_name:e.product_name,quantity_display:e.quantity_display,quantity:e.quantity,unit_price:e.unit_price,calculated_total_price:a,stored_total_price:e.total_price}),Ut(Ut({},e),{},{quantity:t,unit_price:n,total_price:a})}))||[],a=n.reduce((e,t)=>e+t.total_price,0),r=a+(parseFloat(e.tax_amount||0)||0)-(parseFloat(e.discount_amount||0)||0),s=a,i=r;console.log("Edit Sale Debug:",{sale:e,items:n,calculatedSubtotal:a,calculatedTotal:r,saleSubtotal:e.subtotal,saleTotalAmount:e.total_amount,finalSubtotal:s,finalTotalAmount:i,tax_amount:e.tax_amount,discount_amount:e.discount_amount});const o={customer_name:e.customer_name||"",customer_phone:e.customer_phone||"",customer_email:e.customer_email||"",payment_method:e.payment_method||"cash",items:n,subtotal:s,total_amount:i,tax_amount:e.tax_amount||0,discount_amount:e.discount_amount||0};console.log("Setting EditFormData:",o),S(o);const l=parseFloat(e.paid_amount)||0,c=parseFloat(e.total_amount)||0;l>=c?(F("full"),R(c)):l>0?(F("partial"),R(l)):(F("full"),R(c)),j(!0),g(!1)},z=()=>{var e;return(null===(e=w.items)||void 0===e?void 0:e.reduce((e,t)=>e+parseFloat(t.unit_price||0)*parseFloat(t.quantity||0),0))||0};(0,a.useEffect)(()=>{"full"===T&&R(z())},[T,w.items]);return p||f?(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsx)("div",{className:"page-header",children:(0,ca.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ca.jsx)("div",{className:"loading-message",children:"Loading pending sales..."})]}):u?(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:d("titles.pending_sales")}),(0,ca.jsx)("p",{children:"Manage and validate pending sales before completion"})]}),0===m.length?(0,ca.jsxs)("div",{className:"no-pending-sales",children:[(0,ca.jsx)("div",{className:"no-sales-icon",children:"\ud83d\udccb"}),(0,ca.jsx)("h3",{children:d("titles.no_pending_sales")}),(0,ca.jsx)("p",{children:"All sales have been completed or there are no pending sales at the moment."})]}):(0,ca.jsx)("div",{className:"pending-sales-grid",children:m.map(e=>{var t,n,a,r,s,i;return(0,ca.jsxs)("div",{className:"pending-sale-card",children:[(0,ca.jsxs)("div",{className:"sale-header",children:[(0,ca.jsx)("div",{className:"sale-number",children:e.sale_number}),(0,ca.jsx)("div",{className:"sale-date",children:Za(e.created_at)})]}),(0,ca.jsx)("div",{className:"sale-customer",children:(0,ca.jsx)("strong",{children:e.customer_name||"Walk-in Customer"})}),(0,ca.jsxs)("div",{className:"sale-items",children:[(0,ca.jsxs)("div",{className:"items-count",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,ca.jsxs)("div",{className:"items-preview",children:[null===(n=e.items)||void 0===n?void 0:n.slice(0,3).map((e,t)=>(0,ca.jsxs)("div",{className:"item-preview",children:[(0,ca.jsx)("span",{className:"item-name",children:e.product_name}),(0,ca.jsxs)("span",{className:"item-quantity",children:[e.quantity_display||e.quantity," ",e.unit_name]}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]},t)),(null===(a=e.items)||void 0===a?void 0:a.length)>3&&(0,ca.jsxs)("div",{className:"more-items",children:["+",e.items.length-3," more items"]})]})]}),(0,ca.jsx)("div",{className:"sale-total",children:(0,ca.jsx)("strong",{children:Xa(e.total_amount)})}),(0,ca.jsx)("div",{className:"stock-status",children:null!==(r=P[e.id])&&void 0!==r&&r.hasInsufficientStock?(0,ca.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ca.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})}),(0,ca.jsxs)("div",{className:"sale-actions",children:[(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:async()=>{try{const t=await la.get("/sales/".concat(e.id,"/"));x(t.data),g(!0)}catch(t){console.error("Error fetching sale details:",t),x(e),g(!0)}},children:"View Details"}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>I(e),children:"\ud83d\udda8\ufe0f Print"}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>U(e),children:"\u270f\ufe0f Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"primary",disabled:null===(s=P[e.id])||void 0===s?void 0:s.hasInsufficientStock,onClick:()=>M(e.id),loading:C===e.id,children:null!==(i=P[e.id])&&void 0!==i&&i.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]},e.id)})}),y&&_&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal sale-details-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Sale Details - ",_.sale_number]}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>{g(!1),x(null)},children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"info-section",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Name:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_name||"Walk-in Customer"})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Phone:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_phone||"N/A"})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Email:"}),(0,ca.jsx)("span",{className:"info-value",children:_.customer_email||"N/A"})]})]})]}),(0,ca.jsxs)("div",{className:"info-section",children:[(0,ca.jsx)("h3",{children:"Sale Information"}),(0,ca.jsxs)("div",{className:"info-grid",children:[(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Date:"}),(0,ca.jsx)("span",{className:"info-value",children:Za(_.created_at)})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Payment Method:"}),(0,ca.jsx)("span",{className:"info-value",children:null===(e=_.payment_method)||void 0===e?void 0:e.replace("_"," ").toUpperCase()})]}),(0,ca.jsxs)("div",{className:"info-item",children:[(0,ca.jsx)("span",{className:"info-label",children:"Status:"}),(0,ca.jsx)("span",{className:"status-badge pending",children:"Pending"})]})]})]}),(0,ca.jsxs)("div",{className:"items-section",children:[(0,ca.jsxs)("h3",{children:["Items (",(null===(t=_.items)||void 0===t?void 0:t.length)||0,")"]}),(0,ca.jsx)("div",{className:"items-container",style:{minHeight:"".concat(Math.max(200,120*((null===(n=_.items)||void 0===n?void 0:n.length)||0)),"px"),maxHeight:"500px"},children:null===(r=_.items)||void 0===r?void 0:r.map((e,t)=>(0,ca.jsxs)("div",{className:"item-card",style:{marginBottom:"12px"},children:[(0,ca.jsxs)("div",{className:"item-header",children:[(0,ca.jsx)("div",{className:"item-name",children:e.product_name}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("div",{className:"item-details",children:[(0,ca.jsxs)("div",{className:"item-quantity",children:[(0,ca.jsx)("span",{className:"quantity",children:e.quantity_display||e.quantity||"N/A"}),(0,ca.jsx)("span",{className:"unit",children:e.unit_name||"N/A"})]}),(0,ca.jsxs)("div",{className:"item-price",children:[(0,ca.jsxs)("span",{className:"unit-price",children:[e.unit_price?Xa(e.unit_price):"N/A"," each"]}),(0,ca.jsx)("span",{className:"total-price",children:e.total_price?Xa(e.total_price):"N/A"})]})]})]},t))})]}),(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsx)("h3",{children:"Totals"}),(0,ca.jsxs)("div",{className:"totals-grid",children:[(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ca.jsx)("span",{className:"total-value",children:Xa(_.subtotal)})]}),_.discount_amount>0&&(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Discount:"}),(0,ca.jsxs)("span",{className:"total-value",children:["-",Xa(_.discount_amount)]})]}),_.tax_amount>0&&(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Tax:"}),(0,ca.jsx)("span",{className:"total-value",children:Xa(_.tax_amount)})]}),(0,ca.jsxs)("div",{className:"total-item total-final",children:[(0,ca.jsx)("span",{className:"total-label",children:"Total:"}),(0,ca.jsx)("span",{className:"total-value",children:Xa(_.total_amount)})]})]})]}),(0,ca.jsxs)("div",{className:"stock-section",children:[(0,ca.jsx)("h3",{children:"Stock Status"}),(0,ca.jsx)("div",{className:"stock-status",children:null!==(s=P[_.id])&&void 0!==s&&s.hasInsufficientStock?(0,ca.jsx)("div",{className:"stock-insufficient",children:"\u26a0\ufe0f Insufficient Stock"}):(0,ca.jsx)("div",{className:"stock-sufficient",children:"\u2705 Stock Available"})})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>{g(!1),x(null)},children:"Close"}),(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>I(_),children:"\ud83d\udda8\ufe0f Print Receipt"}),(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>U(_),children:"\u270f\ufe0f Edit"}),(0,ca.jsx)(Ta,{variant:"success",disabled:null===(i=P[_.id])||void 0===i?void 0:i.hasInsufficientStock,onClick:()=>M(_.id),children:null!==(o=P[_.id])&&void 0!==o&&o.hasInsufficientStock?d("buttons.insufficient_stock"):d("buttons.complete_sale")})]})]})}),b&&k&&(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal edit-sale-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsxs)("h2",{children:["Edit Sale - ",k.sale_number]}),(0,ca.jsx)("button",{className:"modal-close",onClick:()=>{j(!1),N(null),S({})},children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"modal-body",children:[(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:"Customer Information"}),(0,ca.jsxs)("div",{className:"form-grid",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",value:w.customer_name||"",onChange:e=>S(Ut(Ut({},w),{},{customer_name:e.target.value})),placeholder:d("forms.customer_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Phone"}),(0,ca.jsx)("input",{type:"text",value:w.customer_phone||"",onChange:e=>S(Ut(Ut({},w),{},{customer_phone:e.target.value})),placeholder:d("forms.phone_number")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Email"}),(0,ca.jsx)("input",{type:"email",value:w.customer_email||"",onChange:e=>S(Ut(Ut({},w),{},{customer_email:e.target.value})),placeholder:d("forms.email_address")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Payment Method"}),(0,ca.jsxs)("select",{value:w.payment_method||"cash",onChange:e=>S(Ut(Ut({},w),{},{payment_method:e.target.value})),children:[(0,ca.jsx)("option",{value:"cash",children:"Cash"}),(0,ca.jsx)("option",{value:"card",children:"Card"}),(0,ca.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,ca.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:"Payment Type"}),(0,ca.jsxs)("div",{className:"payment-types",children:[(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"full",checked:"full"===T,onChange:e=>F(e.target.value)}),(0,ca.jsx)("span",{children:"Full Payment (100%)"})]}),(0,ca.jsxs)("label",{className:"payment-type",children:[(0,ca.jsx)("input",{type:"radio",name:"paymentType",value:"partial",checked:"partial"===T,onChange:e=>F(e.target.value)}),(0,ca.jsx)("span",{children:"Partial Payment (0-99.99%)"})]})]}),"partial"===T&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",min:"0",max:z(),value:O||0,onChange:e=>{const t=parseFloat(e.target.value)||0;R(t)},placeholder:d("forms.enter_amount_to_pay")}),(0,ca.jsxs)("small",{children:["Total: ",Xa(z())," | Remaining: ",Xa(z()-(O||0))]})]}),"full"===T&&(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{children:"Amount to Pay"}),(0,ca.jsx)("input",{type:"number",step:"0.01",value:z(),readOnly:!0,className:"form-control"}),(0,ca.jsx)("small",{children:"Full payment for the total amount."})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsxs)("h3",{children:["Items (",(null===(l=w.items)||void 0===l?void 0:l.length)||0,")"]}),(0,ca.jsx)("div",{className:"items-edit-container",children:null===(c=w.items)||void 0===c?void 0:c.map((e,t)=>(0,ca.jsxs)("div",{className:"edit-item-card",children:[(0,ca.jsxs)("div",{className:"item-header",children:[(0,ca.jsx)("div",{className:"item-name",children:e.product_name}),(0,ca.jsx)("span",{className:"price-mode-badge ".concat("wholesale"===e.price_mode?"wholesale":""),children:"wholesale"===e.price_mode?"WS":"STD"})]}),(0,ca.jsxs)("div",{className:"item-details",children:[(0,ca.jsx)("div",{className:"item-unit",children:e.unit_name}),(0,ca.jsxs)("div",{className:"item-price",children:[Xa(e.unit_price)," each"]})]}),(0,ca.jsxs)("div",{className:"item-controls",children:[(0,ca.jsxs)("div",{className:"control-group",children:[(0,ca.jsx)("label",{children:"Quantity:"}),(0,ca.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.quantity,onChange:e=>((e,t)=>{const n=[...w.items];n[e].quantity=parseFloat(t)||0,n[e].total_price=n[e].quantity*parseFloat(n[e].unit_price)||0;const a=n.reduce((e,t)=>e+t.total_price,0);console.log("Quantity Change Debug:",{itemIndex:e,newQuantity:t,unitPrice:n[e].unit_price,totalPrice:n[e].total_price,subtotal:a});const r=parseFloat(void 0!==w.tax_amount?w.tax_amount:(null===k||void 0===k?void 0:k.tax_amount)||0)||0,s=parseFloat(void 0!==w.discount_amount?w.discount_amount:(null===k||void 0===k?void 0:k.discount_amount)||0)||0,i=a+r-s;console.log("Quantity Change Debug - Totals:",{subtotal:a,taxAmount:r,discountAmount:s,newTotalAmount:i,editFormDataTax:w.tax_amount,editFormDataDiscount:w.discount_amount}),S(Ut(Ut({},w),{},{items:n,subtotal:a,total_amount:i}))})(t,e.target.value)})]}),(0,ca.jsxs)("div",{className:"control-group",children:[(0,ca.jsx)("label",{children:"Price Mode:"}),(0,ca.jsxs)("select",{value:e.price_mode,disabled:!0,style:{backgroundColor:"#f5f5f5",color:"#666"},children:[(0,ca.jsx)("option",{value:"standard",children:"Standard"}),(0,ca.jsx)("option",{value:"wholesale",children:"Wholesale"})]})]}),(0,ca.jsx)("div",{className:"item-total",children:Xa(e.total_price)}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(e=>{const t=w.items.filter((t,n)=>n!==e),n=t.reduce((e,t)=>e+t.total_price,0),a=n+(parseFloat(void 0!==w.tax_amount?w.tax_amount:(null===k||void 0===k?void 0:k.tax_amount)||0)||0)-(parseFloat(void 0!==w.discount_amount?w.discount_amount:(null===k||void 0===k?void 0:k.discount_amount)||0)||0);S(Ut(Ut({},w),{},{items:t,subtotal:n,total_amount:a}))})(t),children:"Remove"})})]})]},t))})]}),(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsx)("h3",{children:"Totals"}),(0,ca.jsxs)("div",{className:"totals-grid",children:[(0,ca.jsxs)("div",{className:"total-item",children:[(0,ca.jsx)("span",{className:"total-label",children:"Subtotal:"}),(0,ca.jsx)("span",{className:"total-value",children:Xa(w.subtotal||0)})]}),(0,ca.jsxs)("div",{className:"total-item total-final",children:[(0,ca.jsx)("span",{className:"total-label",children:"Total:"}),(0,ca.jsx)("span",{className:"total-value",children:Xa(w.total_amount||0)})]})]})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Ta,{variant:"secondary",onClick:()=>{j(!1),N(null),S({})},children:"Cancel"}),(0,ca.jsx)(Ta,{variant:"primary",onClick:async()=>{try{const e={customer_name:w.customer_name,customer_phone:w.customer_phone,customer_email:w.customer_email,payment_method:w.payment_method,paid_amount:O,items:w.items.map(e=>({id:e.id,quantity:e.quantity,unit_price:e.unit_price}))};console.log("Saving edited sale:",{saleId:k.id,updateData:e,editFormData:w});const t=await la.patch("/sales/".concat(k.id,"/"),e);console.log("Save response:",t.data),j(!1),N(null),S({}),L(),alert("Sale updated successfully!")}catch(n){var e,t;console.error("Error updating sale:",n),alert("Error updating sale: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}},children:"Save Changes"})]})]})})]}):(0,ca.jsxs)("div",{className:"pending-sales-page",children:[(0,ca.jsx)("div",{className:"page-header",children:(0,ca.jsx)("h1",{children:d("titles.pending_sales")})}),(0,ca.jsx)("div",{className:"loading-message",children:"Please log in to view pending sales."})]})},tr=e=>{let{suppliers:t,onClose:n,onSubmit:r}=e;const{t:s}=Ea(),[i,o]=(0,a.useState)({supplier_id:"",expected_delivery_date:"",notes:"",items:[]}),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(!1),h=Wa();(0,a.useEffect)(()=>{f()},[]);const f=async()=>{try{const[e,t]=await Promise.all([h.get("/products/"),h.get("/products/tax-classes/")]),n=e.data.results||e.data,a=await Promise.all(n.map(async e=>{try{const t=await h.get("/products/".concat(e.id,"/unit-costs/"));return Ut(Ut({},e),{},{unit_costs:t.data.unit_costs||[]})}catch(t){return console.error("Error fetching unit costs for product ".concat(e.id,":"),t),Ut(Ut({},e),{},{unit_costs:[]})}}));c(a),u(t.data.results||t.data)}catch(e){console.error("Error fetching products and tax classes:",e)}},v=e=>{const{name:t,value:n}=e.target;o(e=>Ut(Ut({},e),{},{[t]:n}))},y=(e,t,n)=>{o(a=>Ut(Ut({},a),{},{items:a.items.map((a,r)=>{if(r===e){const e=Ut(Ut({},a),{},{[t]:n});if("product_id"===t&&n){var s;const t=l.find(e=>e.id===parseInt(n));if((null===t||void 0===t||null===(s=t.compatible_units)||void 0===s?void 0:s.length)>0){let n=t.compatible_units.find(e=>e.is_default);if(n||(n=t.compatible_units.find(e=>{var t;return(null===(t=e.unit)||void 0===t?void 0:t.is_base_unit)||e.unit_is_base})),n||(n=t.compatible_units[0]),n){const a=n.unit||n,r=(null===a||void 0===a?void 0:a.id)||a,s="number"===typeof r?r:(null===a||void 0===a?void 0:a.id)||r;if(s){var i;e.unit_id=s;const n=null===t||void 0===t||null===(i=t.unit_costs)||void 0===i?void 0:i.find(e=>e.id===s);e.unit_cost=n?parseFloat(n.cost_price).toFixed(2):parseFloat((null===t||void 0===t?void 0:t.cost_price)||0).toFixed(2)}}}}return e}return a})}))},g=async e=>{if(e.preventDefault(),!i.supplier_id||0===i.items.length)return void alert(s("modals.please_select_supplier_add_item"));if(i.items.filter(e=>!e.product_id||!e.quantity_ordered||!e.unit_cost).length>0)return void alert("Please fill in all required fields for all items (product, quantity, unit cost)");const t=Ut(Ut({},i),{},{supplier_id:parseInt(i.supplier_id),items:i.items.map(e=>Ut(Ut({},e),{},{product_id:parseInt(e.product_id),quantity_ordered:parseFloat(e.quantity_ordered),unit_id:e.unit_id?parseInt(e.unit_id):null,unit_cost:parseFloat(e.unit_cost),tax_class_id:e.tax_class_id?parseInt(e.tax_class_id):null}))});m(!0);try{await r(t)}catch(n){console.error("Error submitting purchase order:",n)}finally{m(!1)}},_=e=>(parseFloat(e.quantity_ordered)||0)*(parseFloat(e.unit_cost)||0),x=e=>{const t=_(e),n=d.find(t=>t.id===parseInt(e.tax_class_id));return n?t*(n.tax_rate/100):0},b=(()=>{const e=i.items.reduce((e,t)=>e+_(t),0),t=i.items.reduce((e,t)=>e+x(t),0);return{subtotal:e,taxAmount:t,total:e+t}})();return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content purchase-order-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:s("modals.create_purchase_order")}),(0,ca.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,ca.jsxs)("form",{onSubmit:g,className:"modal-body",children:[(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:s("modals.order_details")}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsxs)("label",{htmlFor:"supplier_id",children:[s("modals.supplier")," *"]}),(0,ca.jsxs)("select",{id:"supplier_id",name:"supplier_id",value:i.supplier_id,onChange:v,required:!0,children:[(0,ca.jsx)("option",{value:"",children:s("modals.select_supplier")}),t.map(e=>(0,ca.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"expected_delivery_date",children:s("modals.expected_delivery_date")}),(0,ca.jsx)("input",{type:"date",id:"expected_delivery_date",name:"expected_delivery_date",value:i.expected_delivery_date,onChange:v})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"notes",children:s("common.notes")}),(0,ca.jsx)("textarea",{id:"notes",name:"notes",value:i.notes,onChange:v,rows:"3",placeholder:"Additional notes for this purchase order..."})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsxs)("div",{className:"section-header",children:[(0,ca.jsx)("h3",{children:s("modals.order_items")}),(0,ca.jsx)(Ta,{type:"button",variant:"secondary",onClick:()=>{o(e=>Ut(Ut({},e),{},{items:[...e.items,{product_id:"",quantity_ordered:1,unit_id:"",unit_cost:0,tax_class_id:"",notes:""}]}))},children:s("modals.add_item")})]}),0===i.items.length?(0,ca.jsx)("div",{className:"empty-items",children:(0,ca.jsx)("p",{children:s("modals.no_items_added_yet")})}):(0,ca.jsx)("div",{className:"items-list",children:i.items.map((e,t)=>(0,ca.jsxs)("div",{className:"item-row",children:[(0,ca.jsxs)("div",{className:"item-product",children:[(0,ca.jsxs)("label",{children:[s("common.name")," *"]}),(0,ca.jsxs)("select",{value:e.product_id,onChange:e=>y(t,"product_id",e.target.value),required:!0,children:[(0,ca.jsx)("option",{value:"",children:s("modals.select_product")}),l.map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"item-quantity",children:[(0,ca.jsxs)("label",{children:[s("common.quantity")," *"]}),(0,ca.jsx)("input",{type:"number",min:"1",value:e.quantity_ordered,onChange:e=>y(t,"quantity_ordered",e.target.value),required:!0})]}),(0,ca.jsxs)("div",{className:"item-unit",children:[(0,ca.jsx)("label",{children:s("common.unit")}),(0,ca.jsxs)("select",{value:e.unit_id,onChange:n=>{const a=n.target.value;if(y(t,"unit_id",a),a){const n=l.find(t=>t.id===parseInt(e.product_id));if(null!==n&&void 0!==n&&n.unit_costs){const e=n.unit_costs.find(e=>e.id===parseInt(a));e&&y(t,"unit_cost",parseFloat(e.cost_price).toFixed(2))}}},children:[(0,ca.jsx)("option",{value:"",children:s("modals.select_unit")}),(()=>{const t=l.find(t=>t.id===parseInt(e.product_id));return null!==t&&void 0!==t&&t.compatible_units&&0!==t.compatible_units.length?t.compatible_units.map(e=>{var n;const a=e.unit||e,r=(null===a||void 0===a?void 0:a.id)||a,s=(null===a||void 0===a?void 0:a.name)||e.unit_name,i=(null===a||void 0===a?void 0:a.symbol)||e.unit_symbol,o="number"===typeof r?r:(null===a||void 0===a?void 0:a.id)||r;if(!s||!i)return console.warn("Invalid unit data:",e),null;const l=null===t||void 0===t||null===(n=t.unit_costs)||void 0===n?void 0:n.find(e=>e.id===o),c=l?l.cost_price:0;return(0,ca.jsxs)("option",{value:o,children:[s," (",i,") - ",parseFloat(c).toFixed(2)," MGA"]},o)}).filter(Boolean):(0,ca.jsx)("option",{value:"",children:s("modals.no_compatible_units")})})()]})]}),(0,ca.jsxs)("div",{className:"item-cost",children:[(0,ca.jsxs)("label",{children:[s("modals.unit_cost")," *"]}),(0,ca.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.unit_cost,onChange:e=>y(t,"unit_cost",e.target.value),required:!0})]}),(0,ca.jsxs)("div",{className:"item-tax",children:[(0,ca.jsx)("label",{children:s("modals.tax_class")}),(0,ca.jsxs)("select",{value:e.tax_class_id,onChange:e=>y(t,"tax_class_id",e.target.value),children:[(0,ca.jsx)("option",{value:"",children:s("modals.no_tax")}),d.map(e=>(0,ca.jsxs)("option",{value:e.id,children:[e.name," (",e.tax_rate,"%)"]},e.id))]})]}),(0,ca.jsxs)("div",{className:"item-total",children:[(0,ca.jsx)("label",{children:s("modals.line_total")}),(0,ca.jsxs)("div",{className:"total-display",children:[_(e).toFixed(2)," MGA",e.tax_class_id&&(0,ca.jsxs)("span",{className:"tax-amount",children:["+ ",x(e).toFixed(2)," MGA ",s("modals.tax")]})]})]}),(0,ca.jsx)("div",{className:"item-actions",children:(0,ca.jsx)("button",{type:"button",className:"remove-button",onClick:()=>(e=>{o(t=>Ut(Ut({},t),{},{items:t.items.filter((t,n)=>n!==e)}))})(t),children:s("modals.remove")})})]},t))})]}),i.items.length>0&&(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsxs)("div",{className:"totals-row",children:[(0,ca.jsxs)("span",{children:[s("modals.subtotal"),":"]}),(0,ca.jsxs)("span",{children:[b.subtotal.toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"totals-row",children:[(0,ca.jsxs)("span",{children:[s("modals.tax_amount"),":"]}),(0,ca.jsxs)("span",{children:[b.taxAmount.toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"totals-row total-row",children:[(0,ca.jsxs)("span",{children:[s("modals.total_amount"),":"]}),(0,ca.jsxs)("span",{children:[b.total.toFixed(2)," MGA"]})]})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)("div",{className:"footer-left",children:(0,ca.jsx)(Ma,{data:i,title:s("titles.purchase_order"),type:"purchase_order",printText:s("buttons.print_order"),validateText:s("modals.validate_print"),showValidateOption:!0,onValidate:g,disabled:!i.supplier_id||0===i.items.length})}),(0,ca.jsxs)("div",{className:"footer-right",children:[(0,ca.jsx)(Ta,{type:"button",variant:"secondary",onClick:n,children:s("modals.cancel")}),(0,ca.jsx)(Ta,{type:"submit",variant:"primary",onClick:g,disabled:p||!i.supplier_id||0===i.items.length,children:s(p?"modals.creating":"modals.create_purchase_order")})]})]})]})})},nr=e=>{let{purchaseOrder:t,action:n="create",onClose:r,onSubmit:s}=e;const{t:i}=Ea(),[o,l]=(0,a.useState)({notes:"",items:((null===t||void 0===t?void 0:t.items)||[]).map(e=>{var t,n;return{purchase_order_item_id:e.id,product_id:e.product.id,quantity_received:e.quantity_display||e.quantity_ordered,unit_id:(null===(t=e.unit)||void 0===t?void 0:t.id)||e.unit||"",unit_cost:e.unit_cost,tax_class_id:(null===(n=e.tax_class)||void 0===n?void 0:n.id)||"",condition_notes:""}})}),[c,d]=(0,a.useState)(!1),u=(e,t,n)=>{l(a=>Ut(Ut({},a),{},{items:a.items.map((a,r)=>r===e?Ut(Ut({},a),{},{[t]:n}):a)}))},p=async e=>{e.preventDefault();if(o.items.some(e=>e.quantity_received>0)){d(!0);try{const e={purchase_order_id:parseInt(t.id),notes:o.notes,items:o.items.filter(e=>e.quantity_received>0).map(e=>Ut(Ut({},e),{},{purchase_order_item_id:parseInt(e.purchase_order_item_id),product_id:parseInt(e.product_id),quantity_received:parseFloat(e.quantity_received),unit_id:e.unit_id?parseInt(e.unit_id):null,unit_cost:parseFloat(e.unit_cost),tax_class_id:e.tax_class_id?parseInt(e.tax_class_id):null}))};await s(e)}catch(n){console.error("Error submitting delivery:",n)}finally{d(!1)}}else alert(i("modals.please_specify_quantities"))},m=e=>(parseFloat(e.quantity_received)||0)*(parseFloat(e.unit_cost)||0),h=e=>{var n;const a=m(e),r=null===(n=t.items.find(t=>t.id===e.purchase_order_item_id))||void 0===n?void 0:n.tax_class;return r?a*(r.tax_rate/100):0},f=(()=>{const e=o.items.reduce((e,t)=>e+m(t),0),t=o.items.reduce((e,t)=>e+h(t),0);return{subtotal:e,taxAmount:t,total:e+t}})();return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content delivery-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:i("create_and_archive"===n?"modals.create_delivery_archive":"modals.create_delivery")}),(0,ca.jsx)("button",{className:"close-button",onClick:r,children:"\xd7"})]}),(0,ca.jsxs)("div",{className:"delivery-info",children:[(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsxs)("span",{className:"label",children:[i("modals.purchase_order"),":"]}),(0,ca.jsx)("span",{className:"value",children:t.order_number})]}),(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsxs)("span",{className:"label",children:[i("modals.supplier"),":"]}),(0,ca.jsx)("span",{className:"value",children:t.supplier.name})]}),(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsxs)("span",{className:"label",children:[i("modals.order_date"),":"]}),(0,ca.jsx)("span",{className:"value",children:new Date(t.order_date).toLocaleDateString()})]})]}),"create_and_archive"===n&&(0,ca.jsxs)("div",{className:"warning-message",children:[(0,ca.jsx)("strong",{children:"\u2139\ufe0f Information:"})," This action will create a delivery and then archive the purchase order. The order will be preserved but marked as archived."]}),(0,ca.jsxs)("form",{onSubmit:p,className:"modal-body",children:[(0,ca.jsx)("div",{className:"form-section",children:(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"notes",children:i("modals.delivery_notes")}),(0,ca.jsx)("textarea",{id:"notes",name:"notes",value:o.notes,onChange:e=>{const{name:t,value:n}=e.target;l(e=>Ut(Ut({},e),{},{[t]:n}))},rows:"3",placeholder:i("modals.delivery_notes_placeholder")})]})}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:i("modals.received_items")}),(0,ca.jsx)("p",{className:"section-description",children:i("modals.quantities_prefilled_description")}),(0,ca.jsx)("div",{className:"items-list",children:o.items.map((e,n)=>{var a;const r=t.items.find(t=>t.id===e.purchase_order_item_id);return(0,ca.jsxs)("div",{className:"item-row",children:[(0,ca.jsxs)("div",{className:"item-product",children:[(0,ca.jsx)("label",{children:i("common.name")}),(0,ca.jsxs)("div",{className:"product-info",children:[(0,ca.jsx)("div",{className:"product-name",children:r.product.name}),(0,ca.jsxs)("div",{className:"product-sku",children:["SKU: ",r.product.sku]}),(0,ca.jsxs)("div",{className:"ordered-quantity",children:[i("modals.ordered"),": ",r.quantity_display||r.quantity_ordered," ",(null===(a=r.unit)||void 0===a?void 0:a.name)||i("modals.units")]})]})]}),(0,ca.jsxs)("div",{className:"item-quantity",children:[(0,ca.jsxs)("label",{children:[i("modals.quantity_received")," *"]}),(0,ca.jsx)("input",{type:"number",min:"0",max:r.quantity_display||r.quantity_ordered,value:e.quantity_received,onChange:e=>u(n,"quantity_received",e.target.value),placeholder:"Max: ".concat(r.quantity_display||r.quantity_ordered),required:!0})]}),(0,ca.jsxs)("div",{className:"item-unit",children:[(0,ca.jsx)("label",{children:i("common.unit")}),(0,ca.jsx)("div",{className:"readonly-field",children:((e,t)=>{const n=(null===(e=r.unit)||void 0===e?void 0:e.name)||i("modals.unknown_unit"),a=(null===(t=r.unit)||void 0===t?void 0:t.symbol)||"";return"".concat(n," (").concat(a,")")})()})]}),(0,ca.jsxs)("div",{className:"item-cost",children:[(0,ca.jsxs)("label",{children:[i("modals.unit_cost")," *"]}),(0,ca.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.unit_cost,onChange:e=>u(n,"unit_cost",e.target.value),required:!0})]}),(0,ca.jsxs)("div",{className:"item-total",children:[(0,ca.jsx)("label",{children:i("modals.line_total")}),(0,ca.jsxs)("div",{className:"total-display",children:[m(e).toFixed(2)," MGA",r.tax_class&&(0,ca.jsxs)("span",{className:"tax-amount",children:["+ ",h(e).toFixed(2)," MGA ",i("modals.tax")]})]})]}),(0,ca.jsxs)("div",{className:"item-condition",children:[(0,ca.jsx)("label",{children:i("modals.condition_notes")}),(0,ca.jsx)("textarea",{value:e.condition_notes,onChange:e=>u(n,"condition_notes",e.target.value),rows:"2",placeholder:i("modals.condition_notes_placeholder")})]})]},n)})})]}),o.items.some(e=>e.quantity_received>0)&&(0,ca.jsxs)("div",{className:"totals-section",children:[(0,ca.jsxs)("div",{className:"totals-row",children:[(0,ca.jsxs)("span",{children:[i("modals.subtotal"),":"]}),(0,ca.jsxs)("span",{children:[f.subtotal.toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"totals-row",children:[(0,ca.jsxs)("span",{children:[i("modals.tax_amount"),":"]}),(0,ca.jsxs)("span",{children:[f.taxAmount.toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"totals-row total-row",children:[(0,ca.jsxs)("span",{children:[i("modals.total_amount"),":"]}),(0,ca.jsxs)("span",{children:[f.total.toFixed(2)," MGA"]})]})]})]}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)("div",{className:"footer-left",children:(0,ca.jsx)(Ma,{data:Ut(Ut({},t),{},{items:o.items.map(e=>{var n,a,r,s,o,l,c,d,u,p,m;return Ut(Ut({},e),{},{product_name:null===t||void 0===t||null===(n=t.items)||void 0===n||null===(a=n.find(t=>t.id===e.purchase_order_item_id))||void 0===a||null===(r=a.product)||void 0===r?void 0:r.name,product_sku:null===t||void 0===t||null===(s=t.items)||void 0===s||null===(o=s.find(t=>t.id===e.purchase_order_item_id))||void 0===o||null===(l=o.product)||void 0===l?void 0:l.sku,unit_name:null===t||void 0===t||null===(c=t.items)||void 0===c||null===(d=c.find(t=>t.id===e.purchase_order_item_id))||void 0===d||null===(u=d.unit)||void 0===u?void 0:u.name,ordered_quantity:null===t||void 0===t||null===(p=t.items)||void 0===p||null===(m=p.find(t=>t.id===e.purchase_order_item_id))||void 0===m?void 0:m.quantity_ordered,delivered_quantity:e.quantity_received,status:e.quantity_received>0?i("modals.delivered"):i("modals.pending")})})}),title:i("titles.delivery_receipt"),type:"delivery",printText:i("buttons.print_receipt"),validateText:i("modals.validate_print"),showValidateOption:!0,onValidate:p,disabled:!o.items.some(e=>e.quantity_received>0)})}),(0,ca.jsxs)("div",{className:"footer-right",children:[(0,ca.jsx)(Ta,{type:"button",variant:"secondary",onClick:r,children:i("modals.cancel")}),(0,ca.jsx)(Ta,{type:"submit",variant:"primary",onClick:p,disabled:c||!o.items.some(e=>e.quantity_received>0),children:i(c?"create_and_archive"===n?"modals.creating_archiving":"modals.creating":"create_and_archive"===n?"modals.create_delivery_archive":"modals.create_delivery")})]})]})]})})},ar=e=>{var t,n,r;let{delivery:s,onClose:i,onSubmit:o}=e;const{t:l}=Ea(),[c,d]=(0,a.useState)({notes:s.notes||"",items:(s.items||[]).map(e=>{var t;return{id:e.id,product_id:e.product.id,quantity_received:e.quantity_received,unit_cost:e.unit_cost,tax_class_id:(null===(t=e.tax_class)||void 0===t?void 0:t.id)||"",condition_notes:e.condition_notes||""}})}),[u,p]=(0,a.useState)(!1),m=(e,t,n)=>{d(a=>Ut(Ut({},a),{},{items:a.items.map((a,r)=>r===e?Ut(Ut({},a),{},{[t]:n}):a)}))},h=e=>(parseFloat(e.quantity_received)||0)*(parseFloat(e.unit_cost)||0),f=e=>{const t=h(e),n=s.items.find(t=>t.id===e.id);return null!==n&&void 0!==n&&n.tax_class?t*(parseFloat(n.tax_class.tax_rate)/100):0},v=(()=>{let e=0,t=0;c.items.forEach(n=>{e+=h(n),t+=f(n)});return{subtotal:e,taxAmount:t,total:e+t}})();return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content delivery-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Edit Delivery"}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Ma,{data:s,title:"Delivery Receipt",type:"delivery",printText:"Print Receipt",className:"print-edit-delivery-btn"}),(0,ca.jsx)("button",{className:"close-button",onClick:i,children:"\xd7"})]})]}),(0,ca.jsxs)("form",{onSubmit:async e=>{e.preventDefault();if(c.items.some(e=>e.quantity_received>0)){p(!0);try{const e={notes:c.notes,items:c.items.filter(e=>e.quantity_received>0).map(e=>({id:e.id,product_id:parseInt(e.product_id),quantity_received:parseFloat(e.quantity_received),unit_cost:parseFloat(e.unit_cost),tax_class_id:e.tax_class_id?parseInt(e.tax_class_id):null,condition_notes:e.condition_notes}))};await o(e)}catch(t){console.error("Error updating delivery:",t)}finally{p(!1)}}else alert("Please specify quantities for at least one item")},children:[(0,ca.jsxs)("div",{className:"delivery-info",children:[(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsx)("span",{className:"label",children:"Delivery Number:"}),(0,ca.jsx)("span",{className:"value",children:s.delivery_number})]}),(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsx)("span",{className:"label",children:"Purchase Order:"}),(0,ca.jsx)("span",{className:"value",children:null===(t=s.purchase_order)||void 0===t?void 0:t.order_number})]}),(0,ca.jsxs)("div",{className:"info-row",children:[(0,ca.jsx)("span",{className:"label",children:"Supplier:"}),(0,ca.jsx)("span",{className:"value",children:null===(n=s.purchase_order)||void 0===n||null===(r=n.supplier)||void 0===r?void 0:r.name})]}),(0,ca.jsxs)("div",{className:"form-group full-width",children:[(0,ca.jsx)("label",{htmlFor:"notes",children:"Delivery Notes"}),(0,ca.jsx)("textarea",{id:"notes",name:"notes",value:c.notes,onChange:e=>{const{name:t,value:n}=e.target;d(e=>Ut(Ut({},e),{},{[t]:n}))}})]})]}),(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsx)("h3",{children:"Items to Receive"}),(0,ca.jsxs)("div",{className:"delivery-items-header",children:[(0,ca.jsx)("span",{children:"Product"}),(0,ca.jsx)("span",{children:"Received"}),(0,ca.jsx)("span",{children:"Unit Cost"}),(0,ca.jsx)("span",{children:"Tax Rate"}),(0,ca.jsx)("span",{children:"Condition Notes"}),(0,ca.jsx)("span",{children:"Line Total"}),(0,ca.jsx)("span",{children:"Tax Amount"})]}),c.items.map((e,t)=>{const n=s.items.find(t=>t.id===e.id),a=null===n||void 0===n?void 0:n.product,r=null===n||void 0===n?void 0:n.tax_class;return(0,ca.jsxs)("div",{className:"delivery-item-row",children:[(0,ca.jsxs)("span",{children:[null===a||void 0===a?void 0:a.name," (",null===a||void 0===a?void 0:a.sku,")"]}),(0,ca.jsx)("input",{type:"number",value:e.quantity_received,onChange:e=>m(t,"quantity_received",e.target.value),min:"0",required:!0}),(0,ca.jsx)("input",{type:"number",value:e.unit_cost,onChange:e=>m(t,"unit_cost",e.target.value),step:"0.01",min:"0",required:!0}),(0,ca.jsx)("span",{children:r?"".concat(r.name," (").concat(r.tax_rate,"%)"):"N/A"}),(0,ca.jsx)("input",{type:"text",value:e.condition_notes,onChange:e=>m(t,"condition_notes",e.target.value)}),(0,ca.jsxs)("span",{children:[h(e).toFixed(2)," MGA"]}),(0,ca.jsxs)("span",{children:[f(e).toFixed(2)," MGA"]})]},e.id)})]}),(0,ca.jsxs)("div",{className:"order-summary",children:[(0,ca.jsxs)("div",{children:["Subtotal: ",v.subtotal.toFixed(2)," MGA"]}),(0,ca.jsxs)("div",{children:["Tax: ",v.taxAmount.toFixed(2)," MGA"]}),(0,ca.jsxs)("div",{className:"total-amount",children:["Total: ",v.total.toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"modal-actions",children:[(0,ca.jsx)(Ta,{type:"button",variant:"secondary",onClick:i,disabled:u,children:"Cancel"}),(0,ca.jsx)(Ta,{type:"submit",variant:"primary",disabled:u,children:u?"Updating...":"Update Delivery"})]})]})]})})},rr=e=>{var t,n,a;let{order:r,onClose:s}=e;const{t:i}=Ea();return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content view-order-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:"Purchase Order Details"}),(0,ca.jsxs)("div",{className:"header-actions",children:[(0,ca.jsx)(Ma,{data:r,title:i("titles.purchase_order"),type:"purchase_order",printText:i("buttons.print_order"),className:"print-view-order-btn"}),(0,ca.jsx)("button",{className:"close-button",onClick:s,children:"\xd7"})]})]}),(0,ca.jsx)("div",{className:"modal-body",children:(0,ca.jsxs)("div",{className:"order-details",children:[(0,ca.jsxs)("div",{className:"detail-section",children:[(0,ca.jsx)("h3",{children:"Order Information"}),(0,ca.jsxs)("div",{className:"detail-grid",children:[(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Order Number:"}),(0,ca.jsx)("span",{children:r.order_number})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Supplier:"}),(0,ca.jsx)("span",{children:null===(t=r.supplier)||void 0===t?void 0:t.name})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Status:"}),(0,ca.jsx)("span",{className:"status-badge status-".concat(r.status),children:r.status.replace("_"," ").toUpperCase()})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Order Date:"}),(0,ca.jsx)("span",{children:new Date(r.order_date).toLocaleDateString()})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Expected Delivery:"}),(0,ca.jsx)("span",{children:r.expected_delivery_date?new Date(r.expected_delivery_date).toLocaleDateString():"Not specified"})]}),(0,ca.jsxs)("div",{className:"detail-item",children:[(0,ca.jsx)("label",{children:"Created By:"}),(0,ca.jsx)("span",{children:(null===(n=r.created_by)||void 0===n?void 0:n.username)||"Unknown"})]})]})]}),r.notes&&(0,ca.jsxs)("div",{className:"detail-section",children:[(0,ca.jsx)("h3",{children:"Notes"}),(0,ca.jsx)("div",{className:"notes-content",children:r.notes})]}),(0,ca.jsxs)("div",{className:"detail-section",children:[(0,ca.jsx)("h3",{children:"Order Items"}),(0,ca.jsxs)("div",{className:"items-table",children:[(0,ca.jsxs)("div",{className:"items-header",children:[(0,ca.jsx)("span",{children:"Product"}),(0,ca.jsx)("span",{children:"SKU"}),(0,ca.jsx)("span",{children:"Quantity"}),(0,ca.jsx)("span",{children:"Unit Cost"}),(0,ca.jsx)("span",{children:"Tax"}),(0,ca.jsx)("span",{children:"Line Total"})]}),null===(a=r.items)||void 0===a?void 0:a.map((e,t)=>{var n,a;return(0,ca.jsxs)("div",{className:"item-row",children:[(0,ca.jsx)("span",{children:null===(n=e.product)||void 0===n?void 0:n.name}),(0,ca.jsx)("span",{children:null===(a=e.product)||void 0===a?void 0:a.sku}),(0,ca.jsx)("span",{children:e.quantity_ordered}),(0,ca.jsxs)("span",{children:[parseFloat(e.unit_cost).toFixed(2)," MGA"]}),(0,ca.jsx)("span",{children:e.tax_class?"".concat(e.tax_class.name," (").concat(e.tax_class.tax_rate,"%)"):"No Tax"}),(0,ca.jsxs)("span",{children:[parseFloat(e.line_total).toFixed(2)," MGA"]})]},t)})]})]}),(0,ca.jsxs)("div",{className:"detail-section",children:[(0,ca.jsx)("h3",{children:"Order Summary"}),(0,ca.jsxs)("div",{className:"summary-grid",children:[(0,ca.jsxs)("div",{className:"summary-item",children:[(0,ca.jsx)("label",{children:"Subtotal:"}),(0,ca.jsxs)("span",{children:[parseFloat(r.subtotal).toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-item",children:[(0,ca.jsx)("label",{children:"Tax Amount:"}),(0,ca.jsxs)("span",{children:[parseFloat(r.tax_amount).toFixed(2)," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-item total",children:[(0,ca.jsx)("label",{children:"Total Amount:"}),(0,ca.jsxs)("span",{children:[parseFloat(r.total_amount).toFixed(2)," MGA"]})]})]})]})]})}),(0,ca.jsx)("div",{className:"modal-footer",children:(0,ca.jsx)(Ta,{variant:"secondary",onClick:s,children:"Close"})})]})})},sr=()=>{const{t:e}=Ea(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null),[h,f]=(0,a.useState)("create"),[v,y]=(0,a.useState)(!1),[g,_]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[S,C]=(0,a.useState)([]),[E,P]=(0,a.useState)("orders"),[A,T]=(0,a.useState)("active"),F=Wa();(0,a.useEffect)(()=>{O()},[]);const O=async()=>{try{o(!0);const[e,t,a,r]=await Promise.all([F.get("/purchases/purchase-orders/"),F.get("/purchases/suppliers/"),F.get("/purchases/deliveries/pending/"),F.get("/purchases/deliveries/")]);n(e.data.results||e.data),s(t.data.results||t.data),C(a.data.results||a.data),w(r.data.results||r.data)}catch(e){console.error("Error fetching data:",e)}finally{o(!1)}},R=e=>{_(e),y(!0)},L=e=>(0,ca.jsx)("span",{className:"status-badge ".concat({draft:"status-draft",sent:"status-sent",confirmed:"status-confirmed",partially_delivered:"status-partial",delivered:"status-delivered",cancelled:"status-cancelled",archived:"status-archived"}[e]||"status-default"),children:e.replace("_"," ").toUpperCase()}),D=[{key:"order_number",label:"Order Number",render:(e,t)=>{var n;return(0,ca.jsxs)("div",{children:[(0,ca.jsx)("div",{className:"order-number",children:e}),(0,ca.jsx)("div",{className:"supplier-name",children:null===(n=t.supplier)||void 0===n?void 0:n.name})]})}},{key:"status",label:"Status",render:e=>L(e)},{key:"order_date",label:"Order Date",render:e=>new Date(e).toLocaleDateString()},{key:"expected_delivery_date",label:"Expected Delivery",render:e=>e?new Date(e).toLocaleDateString():"-"},{key:"total_amount",label:"Total Amount",render:e=>"".concat(parseFloat(e).toFixed(2)," MGA")},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ma,{data:t,title:"Purchase Order",type:"purchase_order",printText:"Print",className:"print-po-btn"}),(0,ca.jsx)(Ta,{size:"small",variant:"secondary",onClick:()=>{m(t),f("create"),u(!0)},disabled:"cancelled"===t.status||"delivered"===t.status||"archived"===t.status,children:"Create Delivery"}),(0,ca.jsx)(Ta,{size:"small",variant:"primary",onClick:()=>{m(t),f("create_and_archive"),u(!0)},disabled:"cancelled"===t.status||"delivered"===t.status||"archived"===t.status,children:"Create & Archive Order"}),(0,ca.jsx)(Ta,{size:"small",variant:"secondary",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to archive this purchase order?"))try{await F.patch("/purchases/purchase-orders/".concat(e,"/"),{status:"archived"}),O(),alert("Purchase order archived successfully!")}catch(a){var t,n;console.error("Error archiving purchase order:",a),alert("Error archiving purchase order: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}})(t.id),disabled:"delivered"===t.status||"archived"===t.status,children:"Archive Order"}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>R(t),children:"View Order"}),"archived"===t.status&&(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to permanently delete this archived purchase order? This action cannot be undone."))try{await F.delete("/purchases/purchase-orders/".concat(e,"/")),O(),alert("Purchase order deleted successfully")}catch(a){var t,n;console.error("Error deleting purchase order:",a),alert("Error deleting purchase order: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}})(t.id),children:"Delete"})]})}],M=[{key:"delivery_number",label:"Delivery Number",render:(e,t)=>{var n;return(0,ca.jsxs)("div",{children:[(0,ca.jsx)("div",{className:"delivery-number",children:e}),(0,ca.jsxs)("div",{className:"order-number",children:["PO: ",null===(n=t.purchase_order)||void 0===n?void 0:n.order_number]})]})}},{key:"status",label:"Status",render:e=>L(e)},{key:"delivery_date",label:"Delivery Date",render:e=>new Date(e).toLocaleDateString()},{key:"total_amount",label:"Total Amount",render:e=>"".concat(parseFloat(e).toFixed(2)," MGA")},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ma,{data:t,title:"Delivery Receipt",type:"delivery",printText:"Print",className:"print-delivery-btn"}),"pending"===t.status&&(0,ca.jsxs)(ca.Fragment,{children:[(0,ca.jsx)(Ta,{size:"small",variant:"primary",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to confirm this delivery? This will update the stock quantities."))try{await F.post("/purchases/deliveries/confirm/",{delivery_id:e}),O(),alert("Delivery confirmed and stock updated successfully!")}catch(a){var t,n;console.error("Error confirming delivery:",a),alert("Error confirming delivery: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}})(t.id),children:"Confirm & Update Stock"}),(0,ca.jsx)(Ta,{size:"small",variant:"secondary",onClick:()=>(k(t),void b(!0)),children:"Edit Delivery"})]}),"completed"===t.status&&(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>R(t.purchase_order),children:"View Order"})]})}],I=[{key:"delivery_number",label:"Delivery Number",render:(e,t)=>{var n;return(0,ca.jsxs)("div",{children:[(0,ca.jsx)("div",{className:"delivery-number",children:e}),(0,ca.jsxs)("div",{className:"order-number",children:["PO: ",null===(n=t.purchase_order)||void 0===n?void 0:n.order_number]})]})}},{key:"status",label:"Status",render:e=>L(e)},{key:"delivery_date",label:"Delivery Date",render:e=>new Date(e).toLocaleDateString()},{key:"received_date",label:"Received Date",render:e=>e?(0,ca.jsx)("span",{className:"received-date",children:new Date(e).toLocaleDateString()}):(0,ca.jsx)("span",{className:"received-date empty",children:"Not received"})},{key:"total_amount",label:"Total Amount",render:e=>"".concat(parseFloat(e).toFixed(2)," MGA")},{key:"received_by",label:"Received By",render:e=>e?(0,ca.jsx)("span",{className:"received-by",children:e}):(0,ca.jsx)("span",{className:"received-by",children:"-"})},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ma,{data:t,title:"Delivery Receipt",type:"delivery",printText:"Print",className:"print-delivery-history-btn"}),(0,ca.jsx)(Ta,{size:"small",variant:"outline",onClick:()=>R(t.purchase_order),children:"View Order"})]})}];if(i)return(0,ca.jsxs)("div",{className:"page-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading purchase orders..."})]});const U=(()=>{switch(E){case"orders":const n="archived"===A?t.filter(e=>"archived"===e.status):t.filter(e=>"archived"!==e.status);return{data:n,columns:D,emptyMessage:e("archived"===A?"empty_messages.no_archived_purchase_orders":"empty_messages.no_active_purchase_orders")};case"pending":return{data:S,columns:M,emptyMessage:e("empty_messages.no_pending_deliveries")};case"history":return{data:N,columns:I,emptyMessage:e("empty_messages.no_delivery_history")};default:return{data:[],columns:[],emptyMessage:e("app.no_data_available")}}})();return(0,ca.jsxs)("div",{className:"purchase-orders",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:e("titles.purchase_orders_delivery")}),(0,ca.jsx)("div",{className:"header-actions",children:(0,ca.jsx)(Ta,{variant:"primary",onClick:()=>c(!0),children:"Create Purchase Order"})})]}),(0,ca.jsxs)("div",{className:"management-layout",children:[(0,ca.jsx)("div",{className:"mini-navbar",children:(0,ca.jsxs)("div",{className:"nav-tabs",children:[(0,ca.jsxs)("button",{className:"nav-tab ".concat("orders"===E?"active":""),onClick:()=>P("orders"),children:[(0,ca.jsx)("span",{className:"tab-icon",children:"\ud83d\udccb"}),e("titles.purchase_orders"),(0,ca.jsxs)("span",{className:"tab-count",children:["(",t.length,")"]})]}),(0,ca.jsxs)("button",{className:"nav-tab ".concat("pending"===E?"active":""),onClick:()=>P("pending"),children:[(0,ca.jsx)("span",{className:"tab-icon",children:"\u23f3"}),"Pending Deliveries",(0,ca.jsxs)("span",{className:"tab-count",children:["(",S.length,")"]})]}),(0,ca.jsxs)("button",{className:"nav-tab ".concat("history"===E?"active":""),onClick:()=>P("history"),children:[(0,ca.jsx)("span",{className:"tab-icon",children:"\ud83d\udce6"}),"Delivery History",(0,ca.jsxs)("span",{className:"tab-count",children:["(",N.length,")"]})]})]})}),(0,ca.jsxs)("div",{className:"main-content",children:[(0,ca.jsx)("div",{className:"content-header",children:(0,ca.jsxs)("h2",{children:["orders"===E&&e("titles.purchase_orders"),"pending"===E&&"Pending Deliveries","history"===E&&"Delivery History"]})}),"orders"===E&&(0,ca.jsxs)("div",{className:"order-filter-section",children:[(0,ca.jsxs)("div",{className:"filter-buttons",children:[(0,ca.jsxs)("button",{type:"button",className:"filter-btn ".concat("active"===A?"active":""),onClick:()=>T("active"),children:[(0,ca.jsx)("span",{className:"filter-icon",children:"\ud83d\udccb"}),"Active Orders",(0,ca.jsxs)("span",{className:"filter-count",children:["(",t.filter(e=>"archived"!==e.status).length,")"]})]}),(0,ca.jsxs)("button",{type:"button",className:"filter-btn ".concat("archived"===A?"active":""),onClick:()=>T("archived"),children:[(0,ca.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc1"}),"Archived Orders",(0,ca.jsxs)("span",{className:"filter-count",children:["(",t.filter(e=>"archived"===e.status).length,")"]})]})]}),"archived"===A&&t.filter(e=>"archived"===e.status).length>0&&(0,ca.jsx)("div",{className:"bulk-actions",children:(0,ca.jsx)(Ta,{variant:"danger",size:"small",onClick:async()=>{const e=t.filter(e=>"archived"===e.status);if(0===e.length)return void alert("No archived orders to delete");const n="Are you sure you want to permanently delete ALL ".concat(e.length," archived purchase orders? This action cannot be undone.");if(window.confirm(n))try{const t=e.map(e=>F.delete("/purchases/purchase-orders/".concat(e.id,"/")));await Promise.all(t),O(),alert("Successfully deleted ".concat(e.length," archived purchase orders"))}catch(s){var a,r;console.error("Error deleting archived orders:",s),alert("Error deleting archived orders: "+((null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||s.message))}},children:"\ud83d\uddd1\ufe0f Delete All Archived"})})]}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsx)(Ba,{data:U.data,columns:U.columns,emptyMessage:U.emptyMessage})})]})]}),l&&(0,ca.jsx)(tr,{suppliers:r,onClose:()=>c(!1),onSubmit:async e=>{try{await F.post("/purchases/purchase-orders/",e),O(),c(!1)}catch(a){var t,n;console.error("Error creating purchase order:",a),alert("Error creating purchase order: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}}}),d&&p&&(0,ca.jsx)(nr,{purchaseOrder:p,action:h,onClose:()=>{u(!1),m(null),f("create")},onSubmit:"create_and_archive"===h?async e=>{try{await F.post("/purchases/deliveries/",e),await F.patch("/purchases/purchase-orders/".concat(p.id,"/"),{status:"archived"}),O(),u(!1),m(null),alert("Delivery created and purchase order archived successfully!")}catch(a){var t,n;console.error("Error creating delivery and archiving order:",a),alert("Error: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}}:async e=>{try{await F.post("/purchases/deliveries/",e),O(),u(!1),m(null)}catch(a){var t,n;console.error("Error creating delivery:",a),alert("Error creating delivery: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}}}),v&&g&&(0,ca.jsx)(rr,{order:g,onClose:()=>{y(!1),_(null)}}),x&&j&&(0,ca.jsx)(ar,{delivery:j,onClose:()=>{b(!1),k(null)},onSubmit:async e=>{try{await F.patch("/purchases/deliveries/".concat(j.id,"/"),e),O(),b(!1),k(null),alert("Delivery updated successfully!")}catch(a){var t,n;console.error("Error updating delivery:",a),alert("Error updating delivery: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}}})]})},ir=e=>{let{supplier:t,onClose:n,onSubmit:r}=e;const{t:s}=Ea(),[i,o]=(0,a.useState)({name:"",contact_person:"",email:"",phone:"",address:"",tax_number:"",payment_terms:"",is_active:!0}),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&o({name:t.name||"",contact_person:t.contact_person||"",email:t.email||"",phone:t.phone||"",address:t.address||"",tax_number:t.tax_number||"",payment_terms:t.payment_terms||"",is_active:void 0===t.is_active||t.is_active})},[t]);const d=e=>{const{name:t,value:n,type:a,checked:r}=e.target;o(e=>Ut(Ut({},e),{},{[t]:"checkbox"===a?r:n}))},u=async e=>{if(e.preventDefault(),i.name.trim()){c(!0);try{await r(i)}catch(t){console.error("Error submitting supplier:",t)}finally{c(!1)}}else alert(s("modals.please_enter_supplier_name"))};return(0,ca.jsx)("div",{className:"modal-overlay",children:(0,ca.jsxs)("div",{className:"modal-content supplier-modal",children:[(0,ca.jsxs)("div",{className:"modal-header",children:[(0,ca.jsx)("h2",{children:s(t?"modals.edit_supplier":"modals.add_new_supplier")}),(0,ca.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,ca.jsx)("form",{onSubmit:u,className:"modal-body",children:(0,ca.jsxs)("div",{className:"form-section",children:[(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsxs)("label",{htmlFor:"name",children:[s("modals.supplier_name")," *"]}),(0,ca.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:d,required:!0,placeholder:s("modals.enter_supplier_name")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"contact_person",children:s("modals.contact_person")}),(0,ca.jsx)("input",{type:"text",id:"contact_person",name:"contact_person",value:i.contact_person,onChange:d,placeholder:s("modals.enter_contact_person_name")})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"email",children:s("common.email")}),(0,ca.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:d,placeholder:s("modals.enter_email_address")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"phone",children:s("common.phone")}),(0,ca.jsx)("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:d,placeholder:s("modals.enter_phone_number")})]})]}),(0,ca.jsxs)("div",{className:"form-row",children:[(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"tax_number",children:s("modals.tax_number")}),(0,ca.jsx)("input",{type:"text",id:"tax_number",name:"tax_number",value:i.tax_number,onChange:d,placeholder:s("modals.enter_tax_number")})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"payment_terms",children:s("modals.payment_terms")}),(0,ca.jsx)("input",{type:"text",id:"payment_terms",name:"payment_terms",value:i.payment_terms,onChange:d,placeholder:"e.g., Net 30, COD"})]})]}),(0,ca.jsxs)("div",{className:"form-group",children:[(0,ca.jsx)("label",{htmlFor:"address",children:s("modals.address")}),(0,ca.jsx)("textarea",{id:"address",name:"address",value:i.address,onChange:d,rows:"3",placeholder:s("modals.enter_supplier_address")})]}),(0,ca.jsx)("div",{className:"form-group checkbox-group",children:(0,ca.jsxs)("label",{className:"checkbox-label",children:[(0,ca.jsx)("input",{type:"checkbox",name:"is_active",checked:i.is_active,onChange:d}),(0,ca.jsx)("span",{className:"checkbox-text",children:s("modals.active_supplier")})]})})]})}),(0,ca.jsxs)("div",{className:"modal-footer",children:[(0,ca.jsx)(Ta,{type:"button",variant:"secondary",onClick:n,children:s("modals.cancel")}),(0,ca.jsx)(Ta,{type:"submit",variant:"primary",onClick:u,disabled:l||!i.name.trim(),children:s(l?t?"modals.updating":"modals.creating":t?"modals.update_supplier":"modals.create_supplier")})]})]})})},or=()=>{const{t:e}=Ea(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),d=Wa();(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{s(!0);const e=await d.get("/purchases/suppliers/");n(e.data.results||e.data)}catch(e){console.error("Error fetching suppliers:",e)}finally{s(!1)}},p=[{key:"name",label:"Supplier Name",render:(e,t)=>(0,ca.jsxs)("div",{children:[(0,ca.jsx)("div",{className:"supplier-name",children:e}),t.contact_person&&(0,ca.jsx)("div",{className:"contact-person",children:t.contact_person})]})},{key:"email",label:"Email",render:e=>e||"-"},{key:"phone",label:"Phone",render:e=>e||"-"},{key:"payment_terms",label:"Payment Terms",render:e=>e||"-"},{key:"is_active",label:"Status",render:e=>(0,ca.jsx)("span",{className:"status-badge ".concat(e?"status-active":"status-inactive"),children:e?"Active":"Inactive"})},{key:"actions",label:"Actions",render:(e,t)=>(0,ca.jsxs)("div",{className:"action-buttons",children:[(0,ca.jsx)(Ta,{size:"small",variant:"secondary",onClick:()=>c(t),children:"Edit"}),(0,ca.jsx)(Ta,{size:"small",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await d.delete("/purchases/suppliers/".concat(e,"/")),u()}catch(t){console.error("Error deleting supplier:",t)}})(t.id),children:"Delete"})]})}];return r?(0,ca.jsxs)("div",{className:"page-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading suppliers..."})]}):(0,ca.jsxs)("div",{className:"suppliers",children:[(0,ca.jsxs)("div",{className:"page-header",children:[(0,ca.jsx)("h1",{children:e("titles.suppliers_management")}),(0,ca.jsx)("div",{className:"header-actions",children:(0,ca.jsx)(Ta,{variant:"primary",onClick:()=>o(!0),children:"Add New Supplier"})})]}),(0,ca.jsx)("div",{className:"content-section",children:(0,ca.jsx)(Ba,{data:t,columns:p,emptyMessage:"No suppliers found"})}),i&&(0,ca.jsx)(ir,{onClose:()=>o(!1),onSubmit:async e=>{try{await d.post("/purchases/suppliers/",e),u(),o(!1)}catch(t){console.error("Error creating supplier:",t)}}}),l&&(0,ca.jsx)(ir,{supplier:l,onClose:()=>c(null),onSubmit:async e=>{try{await d.put("/purchases/suppliers/".concat(l.id,"/"),e),u(),c(null)}catch(t){console.error("Error updating supplier:",t)}}})]})},lr=()=>{var e;const{t:t}=Ea(),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)({start_date:"",end_date:"",product_id:"",category_id:"",customer_name:""}),[f,v]=(0,a.useState)(null),[y,g]=(0,a.useState)(!1),_=[{id:"sales",name:"Sales Report",description:"Detailed sales analysis with revenue, cost, and profit breakdown",icon:"\ud83d\udcb0",color:"#10b981"},{id:"inventory",name:"Inventory Report",description:"Current inventory status, stock levels, and valuation",icon:"\ud83d\udce6",color:"#8b5cf6"},{id:"profit_loss",name:"Profit & Loss Report",description:"Financial performance analysis with profit margins",icon:"\ud83d\udcca",color:"#3b82f6"},{id:"stock_movement",name:"Stock Movement Report",description:"Track all stock movements, purchases, and sales",icon:"\ud83d\udcc8",color:"#f59e0b"},{id:"customer",name:"Customer Report",description:"Customer analysis and purchase behavior",icon:"\ud83d\udc65",color:"#06b6d4"}];(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{r(!0);const e=await la.get("/reports/");d(e.data)}catch(e){i("Failed to load reports"),console.error("Reports error:",e)}finally{r(!1)}},b=(e,t)=>{h(n=>Ut(Ut({},n),{},{[e]:t}))},j=async e=>{if(f)try{var t;r(!0),i("");const n={name:"".concat(null===(t=_.find(e=>e.id===u))||void 0===t?void 0:t.name," - ").concat((new Date).toLocaleDateString()),report_type:u,description:"Generated report with filters: ".concat(JSON.stringify(m)),parameters:m};await la.post("/reports/",n);let a="",s="",o="";"pdf"===e?(a="".concat(u,"_report_").concat((new Date).toISOString().split("T")[0],".txt"),s=k(f),o="text/plain"):"excel"===e&&(a="".concat(u,"_report_").concat((new Date).toISOString().split("T")[0],".csv"),s=N(f),o="text/csv"),w(s,a,o),l("Report exported as ".concat(e.toUpperCase()," successfully!")),x()}catch(s){var n,a;i("Failed to export report: ".concat((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||s.message)),console.error("Export error:",s)}finally{r(!1)}else i("No report to export")},k=e=>{var t,n,a,r,s,i,o,l,c,d,u,p;const{type:m,data:h}=e;let f="".concat(null===(t=_.find(e=>e.id===m))||void 0===t?void 0:t.name,"\n");switch(f+="Generated: ".concat(S(e.generated_at),"\n"),f+="=====================================\n\n",m){case"sales":f+="SUMMARY:\n",f+="Total Sales: ".concat((null===(n=h.summary)||void 0===n||null===(a=n.total_sales)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA\n"),f+="Total Transactions: ".concat((null===(r=h.summary)||void 0===r?void 0:r.total_count)||0,"\n"),f+="Total Items Sold: ".concat((null===(s=h.summary)||void 0===s?void 0:s.total_items)||0,"\n"),f+="Average Sale: ".concat(null!==(i=h.summary)&&void 0!==i&&i.total_sales&&null!==(o=h.summary)&&void 0!==o&&o.total_count?(h.summary.total_sales/h.summary.total_count).toFixed(2):"0.00"," MGA\n\n"),h.details&&h.details.length>0&&(f+="SALES DETAILS:\n",f+="Sale Number | Customer | Amount | Items | Sold By | Date\n",f+="------------|----------|--------|-------|---------|-----\n",h.details.forEach(e=>{var t;f+="".concat(e.sale_number," | ").concat(e.customer_name||"Walk-in"," | ").concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat(e.items_count," | ").concat(e.sold_by||"-"," | ").concat(S(e.created_at),"\n")}));break;case"inventory":f+="SUMMARY:\n",f+="Total Products: ".concat((null===(l=h.summary)||void 0===l?void 0:l.total_products)||0,"\n"),f+="Total Value: ".concat((null===(c=h.summary)||void 0===c||null===(d=c.total_value)||void 0===d?void 0:d.toFixed(2))||"0.00"," MGA\n"),f+="Low Stock Items: ".concat((null===(u=h.summary)||void 0===u?void 0:u.low_stock_count)||0,"\n"),f+="Out of Stock: ".concat((null===(p=h.summary)||void 0===p?void 0:p.out_of_stock_count)||0,"\n\n"),h.products&&h.products.length>0&&(f+="PRODUCT DETAILS:\n",f+="Product | SKU | Category | Stock | Cost Price | Selling Price | Stock Value | Status\n",f+="--------|-----|----------|-------|------------|---------------|-------------|-------\n",h.products.forEach(e=>{var t,n,a;const r=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";f+="".concat(e.name," | ").concat(e.sku," | ").concat(e.category," | ").concat(e.stock_quantity," | ").concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00"," MGA | ").concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA | ").concat((null===(a=e.stock_value)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA | ").concat(r,"\n")}));break;case"stock_movement":h.summary&&h.summary.length>0&&(f+="MOVEMENT SUMMARY:\n",h.summary.forEach(e=>{f+="".concat(e.movement_type,": ").concat(e.total_quantity," units (").concat(e.count," movements)\n")}),f+="\n"),h.movements&&h.movements.length>0&&(f+="MOVEMENT DETAILS:\n",f+="Date | Product | SKU | Type | Quantity | Reference | Notes | User\n",f+="-----|---------|-----|------|----------|-----------|-------|-----\n",h.movements.forEach(e=>{f+="".concat(S(e.created_at)," | ").concat(e.product_name," | ").concat(e.product_sku," | ").concat(e.movement_type," | ").concat(e.quantity," | ").concat(e.reference_number||"-"," | ").concat(e.notes||"-"," | ").concat(e.created_by||"-","\n")}));break;default:f+="Report data:\n".concat(JSON.stringify(h,null,2))}return f},N=e=>{const{type:t,data:n}=e;let a="";switch(t){case"sales":n.details&&n.details.length>0&&(a+="Sale Number,Customer,Amount,Items,Sold By,Date\n",n.details.forEach(e=>{var t;a+='"'.concat(e.sale_number,'","').concat(e.customer_name||"Walk-in",'","').concat((null===(t=e.total_amount)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat(e.items_count,'","').concat(e.sold_by||"-",'","').concat(S(e.created_at),'"\n')}));break;case"inventory":n.products&&n.products.length>0&&(a+="Product,SKU,Category,Stock,Cost Price,Selling Price,Stock Value,Status\n",n.products.forEach(e=>{var t,n,r;const s=e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock";a+='"'.concat(e.name,'","').concat(e.sku,'","').concat(e.category,'","').concat(e.stock_quantity,'","').concat((null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00",' MGA","').concat((null===(n=e.selling_price)||void 0===n?void 0:n.toFixed(2))||"0.00",' MGA","').concat((null===(r=e.stock_value)||void 0===r?void 0:r.toFixed(2))||"0.00",' MGA","').concat(s,'"\n')}));break;case"stock_movement":n.movements&&n.movements.length>0&&(a+="Date,Product,SKU,Type,Quantity,Reference,Notes,User\n",n.movements.forEach(e=>{a+='"'.concat(S(e.created_at),'","').concat(e.product_name,'","').concat(e.product_sku,'","').concat(e.movement_type,'","').concat(e.quantity,'","').concat(e.reference_number||"-",'","').concat(e.notes||"-",'","').concat(e.created_by||"-",'"\n')}));break;default:a="Report data not available for CSV export"}return a},w=(e,t,n)=>{const a=new Blob([e],{type:n}),r=window.URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(r)},S=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!f?(0,ca.jsx)("div",{className:"reports",children:(0,ca.jsxs)("div",{className:"reports-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading reports..."})]})}):(0,ca.jsxs)("div",{className:"reports",children:[(0,ca.jsxs)("div",{className:"reports-header",children:[(0,ca.jsx)("h1",{children:t("titles.reports")}),(0,ca.jsx)("p",{children:"Generate detailed reports and export them for analysis"})]}),s&&(0,ca.jsxs)("div",{className:"alert alert-error",children:[(0,ca.jsx)("span",{children:"\u26a0\ufe0f"}),s]}),o&&(0,ca.jsxs)("div",{className:"alert alert-success",children:[(0,ca.jsx)("span",{children:"\u2705"}),o]}),(0,ca.jsxs)("div",{className:"reports-content",children:[(0,ca.jsxs)("div",{className:"report-types-section",children:[(0,ca.jsx)("h2",{children:"Select Report Type"}),(0,ca.jsx)("div",{className:"report-types-grid",children:_.map(e=>(0,ca.jsxs)("div",{className:"report-type-card ".concat(u===e.id?"selected":""),onClick:()=>(e=>{p(e),g(!0),v(null),i(""),l("")})(e.id),children:[(0,ca.jsx)("div",{className:"report-type-icon",style:{backgroundColor:e.color},children:e.icon}),(0,ca.jsxs)("div",{className:"report-type-content",children:[(0,ca.jsx)("h3",{children:e.name}),(0,ca.jsx)("p",{children:e.description})]})]},e.id))})]}),y&&(0,ca.jsxs)("div",{className:"filters-section",children:[(0,ca.jsx)("h2",{children:"Report Filters"}),(0,ca.jsxs)("div",{className:"filters-grid",children:[(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Start Date"}),(0,ca.jsx)("input",{type:"date",value:m.start_date,onChange:e=>b("start_date",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"End Date"}),(0,ca.jsx)("input",{type:"date",value:m.end_date,onChange:e=>b("end_date",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Product ID"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter product ID",value:m.product_id,onChange:e=>b("product_id",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Category ID"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter category ID",value:m.category_id,onChange:e=>b("category_id",e.target.value)})]}),(0,ca.jsxs)("div",{className:"filter-group",children:[(0,ca.jsx)("label",{children:"Customer Name"}),(0,ca.jsx)("input",{type:"text",placeholder:"Enter customer name",value:m.customer_name,onChange:e=>b("customer_name",e.target.value)})]})]}),(0,ca.jsxs)("div",{className:"filters-actions",children:[(0,ca.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(u)try{r(!0),i(""),l("");let e={};m.start_date&&(e.start_date=m.start_date),m.end_date&&(e.end_date=m.end_date);let t="";switch(u){case"sales":t="/reports/sales/",e={start_date:m.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0],include_details:!0,group_by:"day"};break;case"inventory":t="/reports/inventory/",e={start_date:m.start_date||(new Date).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0],include_low_stock:!0,include_out_of_stock:!0};break;case"stock_movement":t="/reports/stock-movements/",e={start_date:m.start_date||new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:m.end_date||(new Date).toISOString().split("T")[0]},m.product_id&&(e.product=m.product_id);break;default:return void i("Report type not implemented yet")}const n=await la.post(t,e);v({type:u,data:n.data,generated_at:(new Date).toISOString()}),l("Report generated successfully!")}catch(n){var e,t;i("Failed to generate report: ".concat((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message)),console.error("Report generation error:",n)}finally{r(!1)}else i("Please select a report type")},disabled:n,children:n?"Generating...":"Generate Report"}),(0,ca.jsx)("button",{className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"})]})]}),f&&(0,ca.jsxs)("div",{className:"generated-report-section",children:[(0,ca.jsxs)("div",{className:"report-header",children:[(0,ca.jsxs)("h2",{children:[null===(e=_.find(e=>e.id===u))||void 0===e?void 0:e.name,(0,ca.jsxs)("span",{className:"report-date",children:["Generated: ",S(f.generated_at)]})]}),(0,ca.jsxs)("div",{className:"report-actions",children:[(0,ca.jsx)("button",{className:"btn btn-success",onClick:()=>j("pdf"),disabled:n,children:"\ud83d\udcc4 Export Text"}),(0,ca.jsx)("button",{className:"btn btn-info",onClick:()=>j("excel"),disabled:n,children:"\ud83d\udcca Export CSV"})]})]}),(()=>{var e,n,a,r,s,i,o,l,c,d,u;if(!f)return null;const{type:p,data:m}=f;switch(p){case"sales":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:"Sales Report Data"}),(0,ca.jsxs)("div",{className:"sales-summary",children:[(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Sales"}),(0,ca.jsxs)("p",{children:[(null===(e=m.summary)||void 0===e||null===(n=e.total_sales)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Transactions"}),(0,ca.jsx)("p",{children:(null===(a=m.summary)||void 0===a?void 0:a.total_count)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Items Sold"}),(0,ca.jsx)("p",{children:(null===(r=m.summary)||void 0===r?void 0:r.total_items)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Average Sale"}),(0,ca.jsxs)("p",{children:[null!==(s=m.summary)&&void 0!==s&&s.total_sales&&null!==(i=m.summary)&&void 0!==i&&i.total_count?(m.summary.total_sales/m.summary.total_count).toFixed(2):"0.00"," MGA"]})]})]}),m.chart_data&&m.chart_data.length>0&&(0,ca.jsxs)("div",{className:"sales-chart",children:[(0,ca.jsx)("h4",{children:"Sales Trend"}),(0,ca.jsx)("div",{className:"chart-container",children:(0,ca.jsx)("div",{className:"chart-bars",children:m.chart_data.map((e,t)=>(0,ca.jsxs)("div",{className:"chart-bar",children:[(0,ca.jsx)("div",{className:"bar-group",children:(0,ca.jsx)("div",{className:"bar sales-bar",style:{height:"".concat(Math.max(5,e.total/Math.max(...m.chart_data.map(e=>e.total))*100),"%")},title:"Sales: ".concat(e.total.toFixed(2)," MGA")})}),(0,ca.jsx)("div",{className:"bar-label",children:e.date}),(0,ca.jsx)("div",{className:"bar-values",children:(0,ca.jsxs)("div",{className:"value sales",children:[e.total.toFixed(0)," MGA"]})})]},t))})})]}),m.details&&m.details.length>0&&(0,ca.jsxs)("div",{className:"sales-details",children:[(0,ca.jsx)("h4",{children:"Sales Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Sale Number"}),(0,ca.jsx)("th",{children:"Customer"}),(0,ca.jsx)("th",{children:"Amount"}),(0,ca.jsx)("th",{children:"Items"}),(0,ca.jsx)("th",{children:"Sold By"}),(0,ca.jsx)("th",{children:"Date"})]})}),(0,ca.jsx)("tbody",{children:m.details.map((e,t)=>{var n;return(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:e.sale_number}),(0,ca.jsx)("td",{children:e.customer_name||"Walk-in"}),(0,ca.jsxs)("td",{children:[(null===(n=e.total_amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("td",{children:e.items_count}),(0,ca.jsx)("td",{children:e.sold_by||"-"}),(0,ca.jsx)("td",{children:S(e.created_at)})]},t)})})]})})]})]});case"inventory":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:t("titles.inventory_report_data")}),(0,ca.jsxs)("div",{className:"inventory-summary",children:[(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Products"}),(0,ca.jsx)("p",{children:(null===(o=m.summary)||void 0===o?void 0:o.total_products)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Total Value"}),(0,ca.jsxs)("p",{children:[(null===(l=m.summary)||void 0===l||null===(c=l.total_value)||void 0===c?void 0:c.toFixed(2))||"0.00"," MGA"]})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Low Stock Items"}),(0,ca.jsx)("p",{children:(null===(d=m.summary)||void 0===d?void 0:d.low_stock_count)||0})]}),(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:"Out of Stock"}),(0,ca.jsx)("p",{children:(null===(u=m.summary)||void 0===u?void 0:u.out_of_stock_count)||0})]})]}),m.products&&m.products.length>0&&(0,ca.jsxs)("div",{className:"inventory-details",children:[(0,ca.jsx)("h4",{children:"Product Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Product"}),(0,ca.jsx)("th",{children:"SKU"}),(0,ca.jsx)("th",{children:"Category"}),(0,ca.jsx)("th",{children:"Stock"}),(0,ca.jsx)("th",{children:"Min Level"}),(0,ca.jsx)("th",{children:"Cost Price"}),(0,ca.jsx)("th",{children:"Selling Price"}),(0,ca.jsx)("th",{children:"Stock Value"}),(0,ca.jsx)("th",{children:"Status"})]})}),(0,ca.jsx)("tbody",{children:m.products.map((e,t)=>{var n,a,r;return(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:e.name}),(0,ca.jsx)("td",{children:e.sku}),(0,ca.jsx)("td",{children:e.category}),(0,ca.jsx)("td",{children:e.stock_quantity}),(0,ca.jsx)("td",{children:e.min_stock_level}),(0,ca.jsxs)("td",{children:[(null===(n=e.cost_price)||void 0===n?void 0:n.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("td",{children:[(null===(a=e.selling_price)||void 0===a?void 0:a.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsxs)("td",{children:[(null===(r=e.stock_value)||void 0===r?void 0:r.toFixed(2))||"0.00"," MGA"]}),(0,ca.jsx)("td",{children:(0,ca.jsx)("span",{className:"status ".concat(e.is_out_of_stock?"out-of-stock":e.is_low_stock?"low-stock":"in-stock"),children:e.is_out_of_stock?"Out of Stock":e.is_low_stock?"Low Stock":"In Stock"})})]},t)})})]})})]})]});case"stock_movement":return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("h3",{children:t("titles.stock_movement_report_data")}),m.summary&&m.summary.length>0&&(0,ca.jsxs)("div",{className:"movement-summary",children:[(0,ca.jsx)("h4",{children:"Movement Summary"}),(0,ca.jsx)("div",{className:"summary-cards",children:m.summary.map((e,t)=>(0,ca.jsxs)("div",{className:"summary-card",children:[(0,ca.jsx)("h4",{children:e.movement_type}),(0,ca.jsxs)("p",{children:["Quantity: ",e.total_quantity]}),(0,ca.jsxs)("p",{children:["Count: ",e.count]})]},t))})]}),m.movements&&m.movements.length>0&&(0,ca.jsxs)("div",{className:"stock-movements",children:[(0,ca.jsx)("h4",{children:"Movement Details"}),(0,ca.jsx)("div",{className:"table-container",children:(0,ca.jsxs)("table",{children:[(0,ca.jsx)("thead",{children:(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("th",{children:"Date"}),(0,ca.jsx)("th",{children:"Product"}),(0,ca.jsx)("th",{children:"SKU"}),(0,ca.jsx)("th",{children:"Type"}),(0,ca.jsx)("th",{children:"Quantity"}),(0,ca.jsx)("th",{children:"Reference"}),(0,ca.jsx)("th",{children:"Notes"}),(0,ca.jsx)("th",{children:"User"})]})}),(0,ca.jsx)("tbody",{children:m.movements.map((e,t)=>(0,ca.jsxs)("tr",{children:[(0,ca.jsx)("td",{children:S(e.created_at)}),(0,ca.jsx)("td",{children:e.product_name}),(0,ca.jsx)("td",{children:e.product_sku}),(0,ca.jsx)("td",{children:(0,ca.jsx)("span",{className:"movement-type ".concat(e.movement_type),children:e.movement_type})}),(0,ca.jsx)("td",{children:e.quantity}),(0,ca.jsx)("td",{children:e.reference_number||"-"}),(0,ca.jsx)("td",{children:e.notes||"-"}),(0,ca.jsx)("td",{children:e.created_by||"-"})]},t))})]})})]})]});default:return(0,ca.jsxs)("div",{className:"report-data",children:[(0,ca.jsx)("p",{children:"Report data format not implemented yet."}),(0,ca.jsx)("pre",{children:JSON.stringify(m,null,2)})]})}})()]}),(0,ca.jsxs)("div",{className:"previous-reports-section",children:[(0,ca.jsx)("h2",{children:t("titles.previous_reports")}),c.length>0?(0,ca.jsx)("div",{className:"reports-list",children:c.map(e=>(0,ca.jsxs)("div",{className:"report-item",children:[(0,ca.jsxs)("div",{className:"report-info",children:[(0,ca.jsx)("h4",{children:e.name}),(0,ca.jsx)("p",{children:e.description}),(0,ca.jsxs)("div",{className:"report-meta",children:[(0,ca.jsxs)("span",{children:["Type: ",e.report_type]}),(0,ca.jsxs)("span",{children:["Generated: ",S(e.generated_at)]}),(0,ca.jsxs)("span",{children:["By: ",e.generated_by_name]})]})]}),(0,ca.jsx)("div",{className:"report-actions",children:e.file_path&&(0,ca.jsx)("button",{className:"btn btn-sm btn-outline",children:"\ud83d\udce5 Download"})})]},e.id))}):(0,ca.jsx)("p",{className:"no-data",children:"No previous reports found"})]})]})]})},cr=e=>"string"===typeof e,dr=()=>{let e,t;const n=new Promise((n,a)=>{e=n,t=a});return n.resolve=e,n.reject=t,n},ur=e=>null==e?"":""+e,pr=/###/g,mr=e=>e&&e.indexOf("###")>-1?e.replace(pr,"."):e,hr=e=>!e||cr(e),fr=(e,t,n)=>{const a=cr(t)?t.split("."):t;let r=0;for(;r<a.length-1;){if(hr(e))return{};const t=mr(a[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return hr(e)?{}:{obj:e,k:mr(a[r])}},vr=(e,t,n)=>{const{obj:a,k:r}=fr(e,t,Object);if(void 0!==a||1===t.length)return void(a[r]=n);let s=t[t.length-1],i=t.slice(0,t.length-1),o=fr(e,i,Object);for(;void 0===o.obj&&i.length;){var l;s="".concat(i[i.length-1],".").concat(s),i=i.slice(0,i.length-1),o=fr(e,i,Object),null!==(l=o)&&void 0!==l&&l.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(s)]&&(o.obj=void 0)}o.obj["".concat(o.k,".").concat(s)]=n},yr=(e,t)=>{const{obj:n,k:a}=fr(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},gr=(e,t,n)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?cr(e[a])||e[a]instanceof String||cr(t[a])||t[a]instanceof String?n&&(e[a]=t[a]):gr(e[a],t[a],n):e[a]=t[a]);return e},_r=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const br=e=>cr(e)?e.replace(/[&<>"'\/]/g,e=>xr[e]):e;const jr=[" ",",","?","!",";"],kr=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Nr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const a=t.split(n);let r=e;for(let s=0;s<a.length;){if(!r||"object"!==typeof r)return;let e,t="";for(let i=s;i<a.length;++i)if(i!==s&&(t+=n),t+=a[i],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<a.length-1)continue;s+=i-s+1;break}r=e}return r},wr=e=>null===e||void 0===e?void 0:e.replace("_","-"),Sr={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,a;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(a=n.apply)||void 0===a||a.call(n,console,t)}};class Cr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Sr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:(cr(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Cr(this.logger,Ut(Ut({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Cr(this.logger,e)}}var Er=new Cr;class Pr{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,a]=e;for(let r=0;r<a;r++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[a,r]=t;for(let s=0;s<r;s++)a.apply(a,[e,...n])})}}}class Ar extends Pr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):cr(n)&&s?o.push(...n.split(s)):o.push(n)));const l=yr(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),!l&&i&&cr(n)?Nr(null===(a=this.data)||void 0===a||null===(a=a[e])||void 0===a?void 0:a[t],n,s):l}addResource(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(i=e.split("."),a=t,t=i[1]),this.addNamespaces(t),vr(this.data,i,a),r.silent||this.emit("added",e,t,n,a)}addResources(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(cr(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),a=n,n=t,t=i[1]),this.addNamespaces(t);let o=yr(this.data,i)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?gr(o,n,r):o=Ut(Ut({},o),n),vr(this.data,i,o),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Tr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,a,r){return e.forEach(e=>{var s,i;t=null!==(s=null===(i=this.processors[e])||void 0===i?void 0:i.process(t,n,a,r))&&void 0!==s?s:t}),t}};const Fr=Symbol("i18next/PATH_KEY");function Or(e,t){var n;const{[Fr]:a}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(a,r)=>{var s,i;return null===(s=n)||void 0===s||null===(i=s.revoke)||void 0===i||i.call(s),r===Fr?e:(e.push(r),n=Proxy.revocable(a,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return a.join(null!==(n=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==n?n:".")}const Rr={},Lr=e=>!cr(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Dr extends Pr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Er.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=Ut({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,i=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const a=jr.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===a.length)return!0;const r=kr.getRegExp("(".concat(a.map(e=>"?"===e?"\\?":e).join("|"),")"));let s=!r.test(e);if(!s){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(s=!0)}return s})(e,n,a);if(s&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:cr(r)?[r]:r};const s=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),e=s.join(a)}return{key:e,namespaces:cr(r)?[r]:r}}translate(e,t,n){let a="object"===typeof t?Ut({},t):t;if("object"!==typeof a&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof a&&(a=Ut({},a)),a||(a={}),null==e)return"";"function"===typeof e&&(e=Or(e,Ut(Ut({},this.options),a))),Array.isArray(e)||(e=[String(e)]);const r=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,s=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],a),l=o[o.length-1];let c=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=a.lng||this.language,u=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return u?r?{res:"".concat(l).concat(c).concat(i),usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:"".concat(l).concat(c).concat(i):r?{res:i,usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:i;const p=this.resolve(e,a);let m=null===p||void 0===p?void 0:p.res;const h=(null===p||void 0===p?void 0:p.usedKey)||i,f=(null===p||void 0===p?void 0:p.exactUsedKey)||i,v=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,g=void 0!==a.count&&!cr(a.count),_=Dr.hasDefaultValue(a),x=g?this.pluralResolver.getSuffix(d,a.count,a):"",b=a.ordinal&&g?this.pluralResolver.getSuffix(d,a.count,{ordinal:!1}):"",j=g&&!a.ordinal&&0===a.count,k=j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]||a["defaultValue".concat(x)]||a["defaultValue".concat(b)]||a.defaultValue;let N=m;y&&!m&&_&&(N=k);const w=Lr(N),S=Object.prototype.toString.apply(N);if(!(y&&N&&w&&["[object Number]","[object Function]","[object RegExp]"].indexOf(S)<0)||cr(v)&&Array.isArray(N))if(y&&cr(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,a,n));else{let t=!1,r=!1;!this.isValidLookup(m)&&_&&(t=!0,m=k),this.isValidLookup(m)||(r=!0,m=i);const o=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:m,u=_&&k!==m&&this.options.updateMissing;if(r||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,i,u?k:m),s){const e=this.resolve(i,Ut(Ut({},a),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;a<t.length;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(a.lng||this.language):e.push(a.lng||this.language);const n=(e,t,n)=>{var r;const s=_&&n!==m?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,s,u,a):null!==(r=this.backendConnector)&&void 0!==r&&r.saveMissing&&this.backendConnector.saveMissing(e,l,t,s,u,a),this.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&g?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,a);j&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{n([e],i+t,a["defaultValue".concat(t)]||k)})}):n(e,i,k))}m=this.extendTranslation(m,e,a,p,n),r&&m===i&&this.options.appendNamespaceToMissingKey&&(m="".concat(l).concat(c).concat(i)),(r||t)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(c).concat(i):i,t?m:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,N,Ut(Ut({},a),{},{ns:o})):"key '".concat(i," (").concat(this.language,")' returned an object instead of string.");return r?(p.res=e,p.usedParams=this.getUsedParamsDetails(a),p):e}if(s){const e=Array.isArray(N),t=e?[]:{},n=e?f:h;for(const r in N)if(Object.prototype.hasOwnProperty.call(N,r)){const e="".concat(n).concat(s).concat(r);t[r]=_&&!m?this.translate(e,Ut(Ut({},a),{},{defaultValue:Lr(k)?k[r]:void 0},{joinArrays:!1,ns:o})):this.translate(e,Ut(Ut({},a),{joinArrays:!1,ns:o})),t[r]===e&&(t[r]=N[r])}m=t}}return r?(p.res=m,p.usedParams=this.getUsedParamsDetails(a),p):m}extendTranslation(e,t,n,a,r){var s,i=this;if(null!==(s=this.i18nFormat)&&void 0!==s&&s.parse)e=this.i18nFormat.parse(e,Ut(Ut({},this.options.interpolation.defaultVariables),n),n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){var o;n.interpolation&&this.interpolator.init(Ut(Ut({},n),{interpolation:Ut(Ut({},this.options.interpolation),n.interpolation)}));const s=cr(e)&&(void 0!==(null===n||void 0===n||null===(o=n.interpolation)||void 0===o?void 0:o.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(s){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!cr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Ut(Ut({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language||a.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(null===r||void 0===r?void 0:r[0])!==a[0]||n.context?i.translate(...a,t):(i.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=cr(l)?[l]:l;return null!=e&&null!==c&&void 0!==c&&c.length&&!1!==n.applyPostProcessor&&(e=Tr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?Ut({i18nResolved:Ut(Ut({},a),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,a,r,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cr(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,i),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==i.count&&!cr(i.count),u=d&&!i.ordinal&&0===i.count,p=void 0!==i.context&&(cr(i.context)||"number"===typeof i.context)&&""!==i.context,m=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(t)||(s=e,Rr["".concat(m[0],"-").concat(e)]||null===(o=this.utils)||void 0===o||!o.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(s)||(Rr["".concat(m[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(n=>{var s;if(this.isValidLookup(t))return;r=n;const o=[l];if(null!==(s=this.i18nFormat)&&void 0!==s&&s.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,i);else{let e;d&&(e=this.pluralResolver.getSuffix(n,i.count,i));const t="".concat(this.options.pluralSeparator,"zero"),a="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(i.ordinal&&0===e.indexOf(a)&&o.push(l+e.replace(a,this.options.pluralSeparator)),o.push(l+e),u&&o.push(l+t)),p){const n="".concat(l).concat(this.options.contextSeparator||"_").concat(i.context);o.push(n),d&&(i.ordinal&&0===e.indexOf(a)&&o.push(n+e.replace(a,this.options.pluralSeparator)),o.push(n+e),u&&o.push(n+t))}}let c;for(;c=o.pop();)this.isValidLookup(t)||(a=c,t=this.getResource(n,e,c,i))}))})}),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:s}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(a=this.i18nFormat)&&void 0!==a&&a.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!cr(e.replace);let a=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=Ut(Ut({},this.options.interpolation.defaultVariables),a)),!n){a=Ut({},a);for(const e of t)delete a[e]}return a}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Mr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Er.create("languageUtils")}getScriptPartFromCode(e){if(!(e=wr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=wr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(cr(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(Ns){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const a=this.getLanguagePartFromCode(e);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(e=>e===a?e:e.indexOf("-")<0&&a.indexOf("-")<0?void 0:e.indexOf("-")>0&&a.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===a||0===e.indexOf(a)&&a.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),cr(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),a=[],r=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return cr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):cr(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{a.indexOf(e)<0&&r(this.formatLanguageCode(e))}),a}}const Ir={zero:0,one:1,two:2,few:3,many:4,other:5},Ur={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class zr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Er.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=wr("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:a});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let s;try{s=new Intl.PluralRules(n,{type:a})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ur;if(!e.match(/-|_/))return Ur;const n=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(n,t)}return this.pluralRulesCache[r]=s,s}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),(null===(t=a)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>Ir[e]-Ir[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.getRule(e,n);return a?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(a.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const qr=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const a=yr(e,n);return void 0!==a?a:yr(t,n)})(e,t,n);return!s&&r&&cr(n)&&(s=Nr(e,n,a),void 0===s&&(s=Nr(t,n,a))),s},Vr=e=>e.replace(/\$/g,"$$$$");class Br{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Er.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:a,prefix:r,prefixEscaped:s,suffix:i,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:f,maxReplaces:v,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:br,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==a&&a,this.prefix=r?_r(r):s||"{{",this.suffix=i?_r(i):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?_r(u):p||_r("$t("),this.nestingSuffix=m?_r(m):h||_r(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,n,a){var r;let s,i,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=qr(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,Ut(Ut(Ut({},a),t),{},{interpolationkey:e})):r}const r=e.split(this.formatSeparator),s=r.shift().trim(),i=r.join(this.formatSeparator).trim();return this.format(qr(t,l,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,Ut(Ut(Ut({},a),t),{},{interpolationkey:s}))};this.resetRegExp();const d=(null===a||void 0===a?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=void 0!==(null===a||void 0===a||null===(r=a.interpolation)||void 0===r?void 0:r.skipOnVariables)?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Vr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Vr(this.escape(e)):Vr(e)}].forEach(t=>{for(o=0;s=t.regex.exec(e);){const n=s[1].trim();if(i=c(n),void 0===i)if("function"===typeof d){const t=d(e,s,a);i=cr(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,n))i="";else{if(u){i=s[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else cr(i)||this.useRawValueToEscape||(i=ur(i));const r=t.safeValue(i);if(e=e.replace(s[0],r),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n,a,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(e,t)=>{var n;const a=this.nestingOptionsSeparator;if(e.indexOf(a)<0)return e;const s=e.split(new RegExp("".concat(a,"[ ]*{")));let i="{".concat(s[1]);e=s[0],i=this.interpolate(i,r);const o=i.match(/'/g),l=i.match(/"/g);((null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r=Ut(Ut({},t),r))}catch(Ns){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),Ns),"".concat(e).concat(a).concat(i)}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];r=Ut({},s),r=r.replace&&!cr(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(o=n[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),a=t(i.call(this,n[1].trim(),r),r),a&&n[0]===e&&!cr(a))return a;cr(a)||(a=ur(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),o.length&&(a=o.reduce((e,t)=>this.format(e,t,s.lng,Ut(Ut({},s),{},{interpolationkey:n[1].trim()})),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Hr=e=>{const t={};return(n,a,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s=Ut(Ut({},s),{},{[r.interpolationkey]:void 0}));const i=a+JSON.stringify(s);let o=t[i];return o||(o=e(wr(a),r),t[i]=o),o(n)}},Gr=e=>(t,n,a)=>e(wr(n),a)(t);class Wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Er.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?Hr:Gr;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,Ut({},t));return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,Ut(Ut({},t),{},{style:"currency"}));return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,Ut({},t));return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,Ut({},t));return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,Ut({},t));return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Hr(t)}format(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce((e,t)=>{const{formatName:r,formatOptions:s}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),r=a.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=r),"false"===r&&(n[s]=!1),"true"===r&&(n[s]=!0),isNaN(r)||(n[s]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{var i;const o=(null===a||void 0===a||null===(i=a.formatParams)||void 0===i?void 0:i[a.interpolationkey])||{},l=o.locale||o.lng||a.locale||a.lng||n;t=this.formats[r](e,l,Ut(Ut(Ut({},s),a),o))}catch(o){this.logger.warn(o)}return t}return this.logger.warn("there was no format function for ".concat(r)),e},e)}}class $r extends Pr{constructor(e,t,n){var a,r;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Er.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],null===(a=this.backend)||void 0===a||null===(r=a.init)||void 0===r||r.call(a,n,s.backend,s)}queueLoad(e,t,n,a){const r={},s={},i={},o={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const i="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===s[i]&&(s[i]=!0):(this.state[i]=1,a=!1,void 0===s[i]&&(s[i]=!0),void 0===r[i]&&(r[i]=!0),void 0===o[t]&&(o[t]=!0)))}),a||(i[e]=!0)}),(Object.keys(r).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(r),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const a=e.split("|"),r=a[0],s=a[1];t&&this.emit("failedLoading",r,s,t),!t&&n&&this.store.addResourceBundle(r,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:a,k:r}=fr(e,t,Object);a[r]=a[r]||[],a[r].push(n)})(n.loaded,[r],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{i[e]||(i[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:r,callback:s});this.readingCalls++;const i=(i,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&o&&a<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,a+1,2*r,s)},r):s(i,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,i);try{const n=o(e,t);n&&"function"===typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(l){i(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();cr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),cr(t)&&(t=[t]);const r=this.queueLoad(e,t,n,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),a=n[0],r=n[1];this.read(a,r,"read",void 0,void 0,(n,s)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(r," for language ").concat(a," failed"),n),!n&&s&&this.logger.log("".concat(t,"loaded namespace ").concat(r," for language ").concat(a),s),this.loaded(e,n,s)})}saveMissing(e,t,n,a,r){var s,i,o;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(s=this.services)||void 0===s||null===(s=s.utils)||void 0===s||!s.hasLoadedNamespace||null!==(i=this.services)&&void 0!==i&&null!==(i=i.utils)&&void 0!==i&&i.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(o=this.backend)&&void 0!==o&&o.create){const s=Ut(Ut({},l),{},{isUpdate:r}),i=this.backend.create.bind(this.backend);if(i.length<6)try{let r;r=5===i.length?i(e,t,n,a,s):i(e,t,n,a),r&&"function"===typeof r.then?r.then(e=>c(null,e)).catch(c):c(null,r)}catch(d){c(d)}else i(e,t,n,a,c,s)}e&&e[0]&&this.store.addResource(e[0],t,n,a)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Kr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),cr(e[1])&&(t.defaultValue=e[1]),cr(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Qr=e=>{var t,n;return cr(e.ns)&&(e.ns=[e.ns]),cr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),cr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Jr=()=>{};class Yr extends Pr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Qr(e),this.services={},this.logger=Er,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(cr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=Kr();this.options=Ut(Ut(Ut({},a),this.options),Qr(t)),this.options.interpolation=Ut(Ut({},a.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Er.init(r(this.modules.logger),this.options):Er.init(null,this.options),t=this.modules.formatter?this.modules.formatter:Wr;const n=new Mr(this.options);this.store=new Ar(this.options.resources,this.options);const s=this.services;s.logger=Er,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new zr(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(s.formatter=r(t),s.formatter.init&&s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Br(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new $r(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Dr(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Jr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const s=dr(),i=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;const n=cr(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var a,r;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],s=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)s(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>s(e))}null===(a=this.options.preload)||void 0===a||null===(r=a.forEach)||void 0===r||r.call(a,e=>s(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const a=dr();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Jr),this.services.backendConnector.reload(e,t,e=>{a.resolve(),n(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Tr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const a=dr();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(s,i)=>{i?this.isLanguageChangingTo===e&&(r(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),t&&t(s,function(){return n.t(...arguments)})},i=t=>{e||t||!this.services.languageDetector||(t=[]);const n=cr(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(cr(t)?[t]:t);var i,o;a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),null===(i=this.services.languageDetector)||void 0===i||null===(o=i.cacheUserLanguage)||void 0===o||o.call(i,a));this.loadResources(a,e=>{s(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),a}getFixedT(e,t,n){var a=this;const r=function(e,t){let s;if("object"!==typeof t){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];s=a.options.overloadTranslationOptionHandler([e,t].concat(o))}else s=Ut({},t);s.lng=s.lng||r.lng,s.lngs=s.lngs||r.lngs,s.ns=s.ns||r.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||r.keyPrefix);const c=a.options.keySeparator||".";let d;return s.keyPrefix&&Array.isArray(e)?d=e.map(e=>("function"===typeof e&&(e=Or(e,Ut(Ut({},a.options),t))),"".concat(s.keyPrefix).concat(c).concat(e))):("function"===typeof e&&(e=Or(e,Ut(Ut({},a.options),t))),d=s.keyPrefix?"".concat(s.keyPrefix).concat(c).concat(e):e),a.t(d,s)};return cr(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||a&&!s(r,e)))}loadNamespaces(e,t){const n=dr();return this.options.ns?(cr(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=dr();cr(e)&&(e=[e]);const a=this.options.preload||[],r=e.filter(e=>a.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=a.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(Ns){}const a=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new Mr(Kr());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Yr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a=Ut(Ut(Ut({},this.options),e),{isClone:!0}),r=new Yr(a);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));if(["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services=Ut({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=Ut({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((n,a)=>(n[a]=Ut({},e[t][a]),n),e[t]),e),{});r.store=new Ar(e,a),r.services.resourceStore=r.store}return r.translator=new Dr(r.services,a),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.emit(e,...n)}),r.init(a,t),r.translator.options=a,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xr=Yr.createInstance();Xr.createInstance=Yr.createInstance;Xr.createInstance,Xr.dir,Xr.init,Xr.loadResources,Xr.reloadResources,Xr.use,Xr.changeLanguage,Xr.getFixedT,Xr.t,Xr.exists,Xr.setDefaultNamespace,Xr.hasLoadedNamespace,Xr.loadNamespaces,Xr.loadLanguages;const{slice:Zr,forEach:es}=[];const ts=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ns={create(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),a&&(r.domain=a),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},a=encodeURIComponent(t);let r="".concat(e,"=").concat(a);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!ts.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(n.domain)}if(n.path){if(!ts.test(n.path))throw new TypeError("option path is invalid");r+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,r)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var as={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return ns.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:a,cookieDomain:r,cookieOptions:s}=t;n&&"undefined"!==typeof document&&ns.create(n,e,a,r,s)}},rs={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var a;let{search:e}=window.location;!window.location.search&&(null===(a=window.location.hash)||void 0===a?void 0:a.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let a=0;a<r.length;a++){const e=r[a].indexOf("=");if(e>0){r[a].substring(0,e)===n&&(t=r[a].substring(e+1))}}}return t}},ss={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:a}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const s=e.substring(1);if(n){const e=s.split("&");for(let a=0;a<e.length;a++){const r=e[a].indexOf("=");if(r>0){e[a].substring(0,r)===n&&(t=e[a].substring(r+1))}}}if(t)return t;if(!t&&a>-1){var r;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(r=t["number"===typeof a?a:0])||void 0===r?void 0:r.replace("/","")}}}return t}};let is=null;const os=()=>{if(null!==is)return is;try{if(is="undefined"!==typeof window&&null!==window.localStorage,!is)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(Ns){is=!1}return is};var ls={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&os())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&os()&&window.localStorage.setItem(n,e)}};let cs=null;const ds=()=>{if(null!==cs)return cs;try{if(cs="undefined"!==typeof window&&null!==window.sessionStorage,!cs)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(Ns){cs=!1}return cs};var us={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&ds())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&ds()&&window.sessionStorage.setItem(n,e)}},ps={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:a}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},ms={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const a=n||("undefined"!==typeof document?document.documentElement:null);return a&&"function"===typeof a.getAttribute&&(t=a.getAttribute("lang")),t}},hs={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(a))return;return null===(t=a["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},fs={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const a="number"===typeof n?n+1:1,r="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[a]}};let vs=!1;try{document.cookie,vs=!0}catch(Ns){}const ys=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];vs||ys.splice(1,1);class gs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return es.call(Zr.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:ys,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(as),this.addDetector(rs),this.addDetector(ls),this.addDetector(us),this.addDetector(ps),this.addDetector(ms),this.addDetector(hs),this.addDetector(fs),this.addDetector(ss)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}gs.type="languageDetector";const _s={en:{translation:JSON.parse('{"common":{"loading":"Loading...","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","add":"Add","search":"Search","filter":"Filter","clear":"Clear","confirm":"Confirm","yes":"Yes","no":"No","close":"Close","back":"Back","next":"Next","previous":"Previous","submit":"Submit","reset":"Reset","print":"Print","export":"Export","import":"Import","refresh":"Refresh","view":"View","details":"Details","actions":"Actions","status":"Status","date":"Date","time":"Time","name":"Name","description":"Description","quantity":"Quantity","price":"Price","total":"Total","amount":"Amount","unit":"Unit","category":"Category","type":"Type","method":"Method","phone":"Phone","email":"Email","address":"Address","notes":"Notes","created":"Created","updated":"Updated","created_by":"Created By","updated_by":"Updated By","retry":"Retry","wholesale":"WS","retail":"STD"},"navigation":{"dashboard":"Dashboard","inventory":"Inventory","sales":"Sales","pos":"Point of Sale","pending_sales":"Pending Sales","sales_management":"Sales Management","purchase_orders":"Purchase Orders","suppliers":"Suppliers","reports":"Reports","users":"Users","system_management":"System Management","tax_management":"Tax Management","printer_settings":"Printer Settings","logout":"Logout","profile":"Profile","settings":"Settings"},"auth":{"login":"Login","logout":"Logout","username":"Username","password":"Password","remember_me":"Remember Me","forgot_password":"Forgot Password?","login_success":"Login successful","login_failed":"Login failed","invalid_credentials":"Invalid username or password","session_expired":"Session expired. Please login again.","access_denied":"Access denied. You don\'t have permission to access this resource."},"dashboard":{"title":"Dashboard","welcome":"Welcome back, {{username}}!","loading":"Loading dashboard...","error":"Error","failed_to_load":"Failed to load dashboard data","time_period":"Time Period:","daily":"Daily","weekly":"Weekly","monthly":"Monthly","sales_team_view":"Sales Team View - Daily Sales Only","total_revenue":"Total Revenue","transactions":"transactions","total_cost":"Total Cost","cost_of_goods_sold":"Cost of goods sold","profit":"Profit","margin":"margin","total_products":"Total Products","inventory_value":"Inventory Value","available_products":"available products","retail_value":"Retail Value","low_stock":"low stock","out_of_stock":"Out of Stock","products_need_restocking":"products need restocking","sales_trend":"Sales Trend (Last 7 Days)","no_sales_data":"No sales data available","recent_sales":"Recent Sales","print_recent_sales":"Print Recent Sales","recent_sales_report":"Recent Sales Report","click_to_view_details":"Click to view details","walk_in_customer":"Walk-in Customer","top_selling_products":"Top Selling Products","revenue":"Revenue","sold":"Sold","products":"products","low_stock_items":"low stock items","top_products":"Top Products","no_products_data":"No product data available","product_name":"Product Name","units_sold":"Units Sold","inventory_alerts":"Inventory Alerts","no_alerts":"No inventory alerts","quick_actions":"Quick Actions","go_to_pos":"Go to POS","manage_inventory":"Manage Inventory","view_reports":"View Reports","today_sales":"Today\'s Sales","this_week":"This Week","this_month":"This Month","this_year":"This Year"},"inventory":{"title":"Inventory Management","products":"Products","add_product":"Add Product","edit_product":"Edit Product","delete_product":"Delete Product","product_name":"Product Name","sku":"SKU","category":"Category","default_unit":"Default Unit","unit_price":"Unit Price","stock_quantity":"Stock Quantity","min_stock_level":"Min Stock Level","max_stock_level":"Max Stock Level","is_active":"Active","is_sellable":"Sellable","cost_price":"Cost Price","wholesale_price":"Wholesale Price","retail_price":"Retail Price","tax_class":"Tax Class","compatible_units":"Compatible Units","stock_movements":"Stock Movements","low_stock_alert":"Low Stock Alert","out_of_stock":"Out of Stock","in_stock":"In Stock","stock_status":"Stock Status","last_updated":"Last Updated","no_products":"No products found","search_products":"Search products...","filter_by_category":"Filter by category","filter_by_status":"Filter by status"},"sales":{"title":"Sales Management","pos":"Point of Sale","pending_sales":"Pending Sales","sales_history":"Sales History","create_sale":"Create Sale","edit_sale":"Edit Sale","cancel_sale":"Cancel Sale","complete_sale":"Complete Sale","return_sale":"Return Sale","sale_number":"Sale Number","customer_name":"Customer Name","customer_phone":"Customer Phone","customer_email":"Customer Email","sale_date":"Sale Date","sale_status":"Sale Status","payment_method":"Payment Method","payment_status":"Payment Status","paid_amount":"Paid Amount","remaining_amount":"Remaining Amount","due_date":"Due Date","subtotal":"Subtotal","tax_amount":"Tax Amount","discount_amount":"Discount Amount","total_amount":"Total Amount","sold_by":"Sold By","items":"Items","add_item":"Add Item","remove_item":"Remove Item","item_name":"Item Name","item_quantity":"Quantity","item_price":"Price","item_total":"Total","cart":"Cart","cart_empty":"Cart is empty","checkout":"Checkout","payment_type":"Payment Type","full_payment":"Full Payment","partial_payment":"Partial Payment","amount_to_pay":"Amount to Pay","change":"Change","receipt":"Receipt","print_receipt":"Print Receipt","pending":"Pending","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded","paid":"Paid","partial":"Partial","cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer","no_sales":"No sales found","search_sales":"Search sales...","filter_by_status":"Filter by status","filter_by_date":"Filter by date","date_from":"From Date","date_to":"To Date"},"returns":{"title":"Return Management","create_return":"Create Return","return_number":"Return Number","original_sale":"Original Sale","return_items":"Return Items","return_quantity":"Return Quantity","max_returnable":"Max Returnable","return_reason":"Return Reason","refund_amount":"Refund Amount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded the amount they actually paid.","process_return":"Process Return","return_processed":"Return processed successfully","stock_restored":"Stock restored successfully"},"purchase_orders":{"title":"Purchase Orders","suppliers":"Suppliers","create_order":"Create Order","edit_order":"Edit Order","delete_order":"Delete Order","order_number":"Order Number","supplier":"Supplier","order_date":"Order Date","expected_delivery":"Expected Delivery","order_status":"Order Status","order_items":"Order Items","add_item":"Add Item","item_name":"Item Name","quantity_ordered":"Quantity Ordered","unit_cost":"Unit Cost","line_total":"Line Total","subtotal":"Subtotal","tax_amount":"Tax Amount","total_amount":"Total Amount","draft":"Draft","sent":"Sent","confirmed":"Confirmed","delivered":"Delivered","cancelled":"Cancelled","no_orders":"No purchase orders found","search_orders":"Search orders...","filter_by_supplier":"Filter by supplier","filter_by_status":"Filter by status"},"deliveries":{"title":"Deliveries","create_delivery":"Create Delivery","edit_delivery":"Edit Delivery","confirm_delivery":"Confirm Delivery","delivery_number":"Delivery Number","purchase_order":"Purchase Order","delivery_date":"Delivery Date","delivery_status":"Delivery Status","received_items":"Received Items","quantity_received":"Quantity Received","condition_notes":"Condition Notes","pending":"Pending","received":"Received","verified":"Verified","completed":"Completed","no_deliveries":"No deliveries found","search_deliveries":"Search deliveries...","filter_by_status":"Filter by status"},"suppliers":{"title":"Suppliers","add_supplier":"Add Supplier","edit_supplier":"Edit Supplier","delete_supplier":"Delete Supplier","supplier_name":"Supplier Name","contact_person":"Contact Person","phone":"Phone","email":"Email","address":"Address","tax_number":"Tax Number","payment_terms":"Payment Terms","is_active":"Active","no_suppliers":"No suppliers found","search_suppliers":"Search suppliers...","filter_by_status":"Filter by status"},"reports":{"title":"Reports","sales_report":"Sales Report","inventory_report":"Inventory Report","stock_movement_report":"Stock Movement Report","generate_report":"Generate Report","report_period":"Report Period","date_range":"Date Range","from_date":"From Date","to_date":"To Date","export_pdf":"Export PDF","export_excel":"Export Excel","print_report":"Print Report","total_sales":"Total Sales","total_cost":"Total Cost","total_profit":"Total Profit","total_products":"Total Products","low_stock_items":"Low Stock Items","out_of_stock_items":"Out of Stock Items","top_selling_products":"Top Selling Products","sales_by_category":"Sales by Category","sales_by_payment_method":"Sales by Payment Method","daily_sales":"Daily Sales","weekly_sales":"Weekly Sales","monthly_sales":"Monthly Sales","yearly_sales":"Yearly Sales"},"users":{"title":"User Management","add_user":"Add User","edit_user":"Edit User","delete_user":"Delete User","username":"Username","email":"Email","first_name":"First Name","last_name":"Last Name","role":"Role","is_active":"Active","last_login":"Last Login","created_at":"Created At","admin":"Administrator","manager":"Manager","sales":"Sales","no_users":"No users found","search_users":"Search users...","filter_by_role":"Filter by role","filter_by_status":"Filter by status"},"system":{"title":"System Management","tax_classes":"Tax Classes","categories":"Categories","units":"Units","unit_conversions":"Unit Conversions","add_tax_class":"Add Tax Class","edit_tax_class":"Edit Tax Class","delete_tax_class":"Delete Tax Class","tax_name":"Tax Name","tax_rate":"Tax Rate","tax_description":"Description","add_category":"Add Category","edit_category":"Edit Category","delete_category":"Delete Category","category_name":"Category Name","category_description":"Description","is_sellable":"Sellable","add_unit":"Add Unit","edit_unit":"Edit Unit","delete_unit":"Delete Unit","unit_name":"Unit Name","unit_symbol":"Symbol","is_base_unit":"Base Unit","add_conversion":"Add Conversion","edit_conversion":"Edit Conversion","delete_conversion":"Delete Conversion","from_unit":"From Unit","to_unit":"To Unit","conversion_factor":"Conversion Factor","no_tax_classes":"No tax classes found","no_categories":"No categories found","no_units":"No units found","no_conversions":"No conversions found"},"printer":{"title":"Printer Settings","printer_name":"Printer Name","printer_type":"Printer Type","printer_status":"Status","test_print":"Test Print","printer_connected":"Connected","printer_disconnected":"Disconnected","no_printers":"No printers found","add_printer":"Add Printer","edit_printer":"Edit Printer","delete_printer":"Delete Printer","printer_settings":"Printer Settings","paper_size":"Paper Size","orientation":"Orientation","margins":"Margins","font_size":"Font Size","print_quality":"Print Quality"},"errors":{"general_error":"An error occurred. Please try again.","network_error":"Network error. Please check your connection.","validation_error":"Please check your input and try again.","permission_error":"You don\'t have permission to perform this action.","not_found":"The requested resource was not found.","server_error":"Server error. Please contact support.","timeout_error":"Request timeout. Please try again.","required_field":"This field is required.","invalid_email":"Please enter a valid email address.","invalid_phone":"Please enter a valid phone number.","invalid_number":"Please enter a valid number.","min_length":"Minimum length is {{min}} characters.","max_length":"Maximum length is {{max}} characters.","min_value":"Minimum value is {{min}}.","max_value":"Maximum value is {{max}}.","unique_value":"This value already exists.","stock_insufficient":"Insufficient stock available.","quantity_required":"Quantity is required.","price_required":"Price is required.","customer_required":"Customer information is required for partial payments."},"success":{"saved":"Saved successfully","updated":"Updated successfully","deleted":"Deleted successfully","created":"Created successfully","sale_completed":"Sale completed successfully","sale_cancelled":"Sale cancelled successfully","return_processed":"Return processed successfully","payment_made":"Payment made successfully","delivery_confirmed":"Delivery confirmed successfully","order_sent":"Order sent successfully","stock_updated":"Stock updated successfully","user_created":"User created successfully","user_updated":"User updated successfully","user_deleted":"User deleted successfully","settings_saved":"Settings saved successfully"},"language":{"select_language":"Select Language","english":"English","french":"Fran\xe7ais","malagasy":"Malagasy","language_changed":"Language changed successfully","current_language":"Current Language"},"app":{"title":"Beverage Manager","no_data_available":"No data available","unknown_user":"Unknown User","unknown_product":"Unknown Product","loading":"Loading...","toggle_menu":"Toggle menu"},"forms":{"search_by_customer_name":"Search by customer name","customer_name":"Customer name","phone_number":"Phone number","email_address":"Email address","enter_amount_to_pay":"Enter amount to pay","leave_empty_to_delete_all":"Leave empty to delete all","enter_printer_name":"Enter printer name"},"buttons":{"add_to_return":"Add to Return","added":"Added","creating":"Creating...","create_return":"Create Return","complete_sale":"Complete Sale","insufficient_stock":"Insufficient Stock","print_sales_report":"Print Sales Report","print_receipt":"Print Receipt","print":"Print","print_order":"Print Order"},"messages":{"failed_to_load_users":"Failed to load users","failed_to_delete_user":"Failed to delete user"},"titles":{"sales_management":"Sales Management","pending_sales":"Pending Sales","no_pending_sales":"No Pending Sales","point_of_sale":"Point of Sale","purchase_orders_delivery":"Purchase Orders & Delivery Management","purchase_orders":"Purchase Orders","printer_settings":"Printer Settings","inventory_management":"Inventory Management","system_management":"System Management","suppliers_management":"Suppliers Management","stock_movement_history":"Stock Movement History","stock_movements":"Stock Movements","reports":"Reports","previous_reports":"Previous Reports","inventory_summary":"Inventory Summary","sale_receipt":"Sale Receipt","purchase_order":"Purchase Order","delivery_receipt":"Delivery Receipt","sales_management_report":"Sales Management Report","inventory_report_data":"Inventory Report Data","stock_movement_report_data":"Stock Movement Report Data"},"table_headers":{"sale_number":"Sale Number","customer":"Customer","status":"Status","payment":"Payment","items":"Items","total_amount":"Total Amount","date":"Date","sold_by":"Sold By","payment_method":"Payment Method","paid_amount":"Paid Amount","actions":"Actions","username":"Username","full_name":"Full Name","role":"Role","phone":"Phone"},"status_labels":{"pending":"Pending","partial":"Partial","paid":"Paid","unpaid":"Unpaid","completed":"Completed","cancelled":"Cancelled","refunded":"Refunded"},"payment_methods":{"cash":"Cash","card":"Card","mobile_money":"Mobile Money","bank_transfer":"Bank Transfer"},"payment_status":{"paid":"Paid","partial_payment":"Partial Payment","pending_payment":"Pending Payment","to_be_determined":"To be determined","unknown":"Unknown"},"modals":{"view_sale":"View Sale","edit_sale":"Edit Sale","view_only":"View Only","close":"Close","cancel":"Cancel","sale_details":"Sale Details","loading_sale_details":"Loading sale details...","sale_information":"Sale Information","customer_information":"Customer Information","payment_summary":"Payment Summary","tax_included":"Tax included","discount":"Discount","refund_information":"Refund Information","original_sale_amount":"Original Sale Amount","amount_paid_by_customer":"Amount Paid by Customer","remaining_amount":"Remaining Amount","refund_note":"The customer should be refunded ${{amount}} (the amount they actually paid).","available_items":"Available Items","max_returnable":"Max Returnable","sale_price":"Sale Price","return_price":"Return Price","return_items":"Return Items","no_items_added":"No items added to return yet","return_quantity":"Return Quantity","return_reason_placeholder":"Return reason or additional notes...","return_summary":"Return Summary","total_return_amount":"Total Return Amount","please_specify_quantities":"Please specify quantities for at least one item","create_delivery":"Create Delivery","create_delivery_archive":"Create Delivery & Archive Order","purchase_order":"Purchase Order","supplier":"Supplier","order_date":"Order Date","delivery_notes":"Delivery Notes","delivery_notes_placeholder":"Notes about this delivery...","received_items":"Received Items","quantities_prefilled_description":"Quantities are pre-filled with ordered amounts. Modify as needed based on what was actually received.","ordered":"Ordered","units":"units","quantity_received":"Quantity Received","unknown_unit":"Unknown Unit","unit_cost":"Unit Cost","line_total":"Line Total","tax":"tax","condition_notes":"Condition Notes","condition_notes_placeholder":"Notes about item condition...","subtotal":"Subtotal","tax_amount":"Tax Amount","total_amount":"Total Amount","delivered":"Delivered","pending":"Pending","validate_print":"Validate & Print","creating":"Creating...","creating_archiving":"Creating & Archiving...","please_select_supplier_add_item":"Please select a supplier and add at least one item","create_purchase_order":"Create Purchase Order","order_details":"Order Details","select_supplier":"Select a supplier","expected_delivery_date":"Expected Delivery Date","order_items":"Order Items","add_item":"Add Item","no_items_added_yet":"No items added yet. Click \\"Add Item\\" to start building your order.","select_product":"Select a product","select_unit":"Select unit","no_compatible_units":"No compatible units available","tax_class":"Tax Class","no_tax":"No Tax","remove":"Remove","please_enter_supplier_name":"Please enter a supplier name","edit_supplier":"Edit Supplier","add_new_supplier":"Add New Supplier","supplier_name":"Supplier Name","enter_supplier_name":"Enter supplier name","contact_person":"Contact Person","enter_contact_person_name":"Enter contact person name","enter_email_address":"Enter email address","enter_phone_number":"Enter phone number","tax_number":"Tax Number","enter_tax_number":"Enter tax identification number","payment_terms":"Payment Terms","address":"Address","enter_supplier_address":"Enter supplier address","active_supplier":"Active Supplier","updating":"Updating...","update_supplier":"Update Supplier","create_supplier":"Create Supplier"},"alerts":{"sale_will_be_completed":"Sale will be completed immediately and stock will be deducted","sale_will_be_created_pending":"Sale will be created as pending and can be completed later","print_receipt_after_sale":"Print receipt after sale","click_to_edit_quantity":"Click to edit quantity","remove_item":"Remove item"},"empty_messages":{"no_archived_purchase_orders":"No archived purchase orders found","no_active_purchase_orders":"No active purchase orders found","no_pending_deliveries":"No pending deliveries","no_delivery_history":"No delivery history found","no_printers_found":"No printers found"}}')},fr:{translation:JSON.parse('{"common":{"loading":"Chargement...","save":"Enregistrer","cancel":"Annuler","delete":"Supprimer","edit":"Modifier","add":"Ajouter","search":"Rechercher","filter":"Filtrer","clear":"Effacer","confirm":"Confirmer","yes":"Oui","no":"Non","close":"Fermer","back":"Retour","next":"Suivant","previous":"Pr\xe9c\xe9dent","submit":"Soumettre","reset":"R\xe9initialiser","print":"Imprimer","export":"Exporter","import":"Importer","refresh":"Actualiser","view":"Voir","details":"D\xe9tails","actions":"Actions","status":"Statut","date":"Date","time":"Heure","name":"Nom","description":"Description","quantity":"Quantit\xe9","price":"Prix","total":"Total","amount":"Montant","unit":"Unit\xe9","category":"Cat\xe9gorie","type":"Type","method":"M\xe9thode","phone":"T\xe9l\xe9phone","email":"Email","address":"Adresse","notes":"Notes","created":"Cr\xe9\xe9","updated":"Mis \xe0 jour","created_by":"Cr\xe9\xe9 par","updated_by":"Mis \xe0 jour par","retry":"R\xe9essayer","wholesale":"GV","retail":"DET"},"navigation":{"dashboard":"Tableau de bord","inventory":"Inventaire","sales":"Ventes","pos":"Point de vente","pending_sales":"Ventes en attente","sales_management":"Gestion des ventes","purchase_orders":"Commandes d\'achat","suppliers":"Fournisseurs","reports":"Rapports","users":"Utilisateurs","system_management":"Gestion du syst\xe8me","tax_management":"Gestion des taxes","printer_settings":"Param\xe8tres d\'impression","logout":"D\xe9connexion","profile":"Profil","settings":"Param\xe8tres"},"auth":{"login":"Connexion","logout":"D\xe9connexion","username":"Nom d\'utilisateur","password":"Mot de passe","remember_me":"Se souvenir de moi","forgot_password":"Mot de passe oubli\xe9 ?","login_success":"Connexion r\xe9ussie","login_failed":"\xc9chec de la connexion","invalid_credentials":"Nom d\'utilisateur ou mot de passe invalide","session_expired":"Session expir\xe9e. Veuillez vous reconnecter.","access_denied":"Acc\xe8s refus\xe9. Vous n\'avez pas la permission d\'acc\xe9der \xe0 cette ressource."},"dashboard":{"title":"Tableau de bord","welcome":"Bon retour, {{username}} !","loading":"Chargement du tableau de bord...","error":"Erreur","failed_to_load":"\xc9chec du chargement des donn\xe9es du tableau de bord","time_period":"P\xe9riode :","daily":"Quotidien","weekly":"Hebdomadaire","monthly":"Mensuel","sales_team_view":"Vue \xc9quipe de Vente - Ventes Quotidiennes Uniquement","total_revenue":"Chiffre d\'Affaires Total","transactions":"transactions","total_cost":"Co\xfbt Total","cost_of_goods_sold":"Co\xfbt des marchandises vendues","profit":"Profit","margin":"marge","total_products":"Produits Totaux","inventory_value":"Valeur de l\'Inventaire","available_products":"produits disponibles","products":"produits","low_stock_items":"articles en rupture de stock","sales_trend":"Tendance des Ventes (7 Derniers Jours)","no_sales_data":"Aucune donn\xe9e de vente disponible","recent_sales":"Ventes R\xe9centes","click_to_view_details":"Cliquer pour voir les d\xe9tails","walk_in_customer":"Client de Passage","top_selling_products":"Produits les Plus Vendus","revenue":"Chiffre d\'Affaires","sold":"Vendu","cost":"Co\xfbt"},"inventory":{"title":"Gestion de l\'inventaire","products":"Produits","add_product":"Ajouter un produit","edit_product":"Modifier le produit","delete_product":"Supprimer le produit","product_name":"Nom du produit","sku":"SKU","category":"Cat\xe9gorie","default_unit":"Unit\xe9 par d\xe9faut","unit_price":"Prix unitaire","stock_quantity":"Quantit\xe9 en stock","min_stock_level":"Niveau de stock minimum","max_stock_level":"Niveau de stock maximum","is_active":"Actif","is_sellable":"Vendable","cost_price":"Prix de revient","wholesale_price":"Prix de gros","retail_price":"Prix de d\xe9tail","tax_class":"Classe de taxe","compatible_units":"Unit\xe9s compatibles","stock_movements":"Mouvements de stock","low_stock_alert":"Alerte de stock faible","out_of_stock":"Rupture de stock","in_stock":"En stock","stock_status":"Statut du stock","last_updated":"Derni\xe8re mise \xe0 jour","no_products":"Aucun produit trouv\xe9","search_products":"Rechercher des produits...","filter_by_category":"Filtrer par cat\xe9gorie","filter_by_status":"Filtrer par statut"},"sales":{"title":"Gestion des ventes","pos":"Point de vente","pending_sales":"Ventes en attente","sales_history":"Historique des ventes","create_sale":"Cr\xe9er une vente","edit_sale":"Modifier la vente","cancel_sale":"Annuler la vente","complete_sale":"Finaliser la vente","return_sale":"Retour de vente","sale_number":"Num\xe9ro de vente","customer_name":"Nom du client","customer_phone":"T\xe9l\xe9phone du client","customer_email":"Email du client","sale_date":"Date de vente","sale_status":"Statut de la vente","payment_method":"M\xe9thode de paiement","payment_status":"Statut du paiement","paid_amount":"Montant pay\xe9","remaining_amount":"Montant restant","due_date":"Date d\'\xe9ch\xe9ance","subtotal":"Sous-total","tax_amount":"Montant de la taxe","discount_amount":"Montant de la remise","total_amount":"Montant total","sold_by":"Vendu par","items":"Articles","add_item":"Ajouter un article","remove_item":"Supprimer l\'article","item_name":"Nom de l\'article","item_quantity":"Quantit\xe9","item_price":"Prix","item_total":"Total","cart":"Panier","cart_empty":"Le panier est vide","checkout":"Commander","payment_type":"Type de paiement","full_payment":"Paiement complet","partial_payment":"Paiement partiel","amount_to_pay":"Montant \xe0 payer","change":"Monnaie","receipt":"Re\xe7u","print_receipt":"Imprimer le re\xe7u","pending":"En attente","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9","paid":"Pay\xe9","partial":"Partiel","cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement bancaire","no_sales":"Aucune vente trouv\xe9e","search_sales":"Rechercher des ventes...","filter_by_status":"Filtrer par statut","filter_by_date":"Filtrer par date","date_from":"Date de d\xe9but","date_to":"Date de fin"},"returns":{"title":"Gestion des retours","create_return":"Cr\xe9er un retour","return_number":"Num\xe9ro de retour","original_sale":"Vente originale","return_items":"Articles retourn\xe9s","return_quantity":"Quantit\xe9 retourn\xe9e","max_returnable":"Maximum retournable","return_reason":"Raison du retour","refund_amount":"Montant du remboursement","refund_information":"Informations de remboursement","original_sale_amount":"Montant de la vente originale","amount_paid_by_customer":"Montant pay\xe9 par le client","remaining_amount":"Montant restant","refund_note":"Le client doit \xeatre rembours\xe9 du montant qu\'il a r\xe9ellement pay\xe9.","process_return":"Traiter le retour","return_processed":"Retour trait\xe9 avec succ\xe8s","stock_restored":"Stock restaur\xe9 avec succ\xe8s"},"purchase_orders":{"title":"Commandes d\'achat","suppliers":"Fournisseurs","create_order":"Cr\xe9er une commande","edit_order":"Modifier la commande","delete_order":"Supprimer la commande","order_number":"Num\xe9ro de commande","supplier":"Fournisseur","order_date":"Date de commande","expected_delivery":"Livraison pr\xe9vue","order_status":"Statut de la commande","order_items":"Articles de la commande","add_item":"Ajouter un article","item_name":"Nom de l\'article","quantity_ordered":"Quantit\xe9 command\xe9e","unit_cost":"Co\xfbt unitaire","line_total":"Total de la ligne","subtotal":"Sous-total","tax_amount":"Montant de la taxe","total_amount":"Montant total","draft":"Brouillon","sent":"Envoy\xe9","confirmed":"Confirm\xe9","delivered":"Livr\xe9","cancelled":"Annul\xe9","no_orders":"Aucune commande trouv\xe9e","search_orders":"Rechercher des commandes...","filter_by_supplier":"Filtrer par fournisseur","filter_by_status":"Filtrer par statut"},"deliveries":{"title":"Livraisons","create_delivery":"Cr\xe9er une livraison","edit_delivery":"Modifier la livraison","confirm_delivery":"Confirmer la livraison","delivery_number":"Num\xe9ro de livraison","purchase_order":"Commande d\'achat","delivery_date":"Date de livraison","delivery_status":"Statut de la livraison","received_items":"Articles re\xe7us","quantity_received":"Quantit\xe9 re\xe7ue","condition_notes":"Notes sur l\'\xe9tat","pending":"En attente","received":"Re\xe7u","verified":"V\xe9rifi\xe9","completed":"Termin\xe9","no_deliveries":"Aucune livraison trouv\xe9e","search_deliveries":"Rechercher des livraisons...","filter_by_status":"Filtrer par statut"},"suppliers":{"title":"Fournisseurs","add_supplier":"Ajouter un fournisseur","edit_supplier":"Modifier le fournisseur","delete_supplier":"Supprimer le fournisseur","supplier_name":"Nom du fournisseur","contact_person":"Personne de contact","phone":"T\xe9l\xe9phone","email":"Email","address":"Adresse","tax_number":"Num\xe9ro de taxe","payment_terms":"Conditions de paiement","is_active":"Actif","no_suppliers":"Aucun fournisseur trouv\xe9","search_suppliers":"Rechercher des fournisseurs...","filter_by_status":"Filtrer par statut"},"reports":{"title":"Rapports","sales_report":"Rapport de ventes","inventory_report":"Rapport d\'inventaire","stock_movement_report":"Rapport de mouvements de stock","generate_report":"G\xe9n\xe9rer le rapport","report_period":"P\xe9riode du rapport","date_range":"Plage de dates","from_date":"Date de d\xe9but","to_date":"Date de fin","export_pdf":"Exporter en PDF","export_excel":"Exporter en Excel","print_report":"Imprimer le rapport","total_sales":"Ventes totales","total_cost":"Co\xfbt total","total_profit":"Profit total","total_products":"Produits totaux","low_stock_items":"Articles en rupture","out_of_stock_items":"Articles en rupture de stock","top_selling_products":"Produits les plus vendus","sales_by_category":"Ventes par cat\xe9gorie","sales_by_payment_method":"Ventes par m\xe9thode de paiement","daily_sales":"Ventes quotidiennes","weekly_sales":"Ventes hebdomadaires","monthly_sales":"Ventes mensuelles","yearly_sales":"Ventes annuelles"},"users":{"title":"Gestion des utilisateurs","add_user":"Ajouter un utilisateur","edit_user":"Modifier l\'utilisateur","delete_user":"Supprimer l\'utilisateur","username":"Nom d\'utilisateur","email":"Email","first_name":"Pr\xe9nom","last_name":"Nom de famille","role":"R\xf4le","is_active":"Actif","last_login":"Derni\xe8re connexion","created_at":"Cr\xe9\xe9 le","admin":"Administrateur","manager":"Gestionnaire","sales":"Ventes","no_users":"Aucun utilisateur trouv\xe9","search_users":"Rechercher des utilisateurs...","filter_by_role":"Filtrer par r\xf4le","filter_by_status":"Filtrer par statut"},"system":{"title":"Gestion du syst\xe8me","tax_classes":"Classes de taxe","categories":"Cat\xe9gories","units":"Unit\xe9s","unit_conversions":"Conversions d\'unit\xe9s","add_tax_class":"Ajouter une classe de taxe","edit_tax_class":"Modifier la classe de taxe","delete_tax_class":"Supprimer la classe de taxe","tax_name":"Nom de la taxe","tax_rate":"Taux de taxe","tax_description":"Description","add_category":"Ajouter une cat\xe9gorie","edit_category":"Modifier la cat\xe9gorie","delete_category":"Supprimer la cat\xe9gorie","category_name":"Nom de la cat\xe9gorie","category_description":"Description","is_sellable":"Vendable","add_unit":"Ajouter une unit\xe9","edit_unit":"Modifier l\'unit\xe9","delete_unit":"Supprimer l\'unit\xe9","unit_name":"Nom de l\'unit\xe9","unit_symbol":"Symbole","is_base_unit":"Unit\xe9 de base","add_conversion":"Ajouter une conversion","edit_conversion":"Modifier la conversion","delete_conversion":"Supprimer la conversion","from_unit":"Unit\xe9 source","to_unit":"Unit\xe9 cible","conversion_factor":"Facteur de conversion","no_tax_classes":"Aucune classe de taxe trouv\xe9e","no_categories":"Aucune cat\xe9gorie trouv\xe9e","no_units":"Aucune unit\xe9 trouv\xe9e","no_conversions":"Aucune conversion trouv\xe9e"},"printer":{"title":"Param\xe8tres d\'impression","printer_name":"Nom de l\'imprimante","printer_type":"Type d\'imprimante","printer_status":"Statut","test_print":"Test d\'impression","printer_connected":"Connect\xe9","printer_disconnected":"D\xe9connect\xe9","no_printers":"Aucune imprimante trouv\xe9e","add_printer":"Ajouter une imprimante","edit_printer":"Modifier l\'imprimante","delete_printer":"Supprimer l\'imprimante","printer_settings":"Param\xe8tres d\'impression","paper_size":"Taille du papier","orientation":"Orientation","margins":"Marges","font_size":"Taille de police","print_quality":"Qualit\xe9 d\'impression"},"errors":{"general_error":"Une erreur s\'est produite. Veuillez r\xe9essayer.","network_error":"Erreur r\xe9seau. Veuillez v\xe9rifier votre connexion.","validation_error":"Veuillez v\xe9rifier votre saisie et r\xe9essayer.","permission_error":"Vous n\'avez pas la permission d\'effectuer cette action.","not_found":"La ressource demand\xe9e n\'a pas \xe9t\xe9 trouv\xe9e.","server_error":"Erreur serveur. Veuillez contacter le support.","timeout_error":"D\xe9lai d\'attente d\xe9pass\xe9. Veuillez r\xe9essayer.","required_field":"Ce champ est obligatoire.","invalid_email":"Veuillez saisir une adresse email valide.","invalid_phone":"Veuillez saisir un num\xe9ro de t\xe9l\xe9phone valide.","invalid_number":"Veuillez saisir un nombre valide.","min_length":"La longueur minimale est de {{min}} caract\xe8res.","max_length":"La longueur maximale est de {{max}} caract\xe8res.","min_value":"La valeur minimale est {{min}}.","max_value":"La valeur maximale est {{max}}.","unique_value":"Cette valeur existe d\xe9j\xe0.","stock_insufficient":"Stock insuffisant disponible.","quantity_required":"La quantit\xe9 est obligatoire.","price_required":"Le prix est obligatoire.","customer_required":"Les informations client sont obligatoires pour les paiements partiels."},"success":{"saved":"Enregistr\xe9 avec succ\xe8s","updated":"Mis \xe0 jour avec succ\xe8s","deleted":"Supprim\xe9 avec succ\xe8s","created":"Cr\xe9\xe9 avec succ\xe8s","sale_completed":"Vente finalis\xe9e avec succ\xe8s","sale_cancelled":"Vente annul\xe9e avec succ\xe8s","return_processed":"Retour trait\xe9 avec succ\xe8s","payment_made":"Paiement effectu\xe9 avec succ\xe8s","delivery_confirmed":"Livraison confirm\xe9e avec succ\xe8s","order_sent":"Commande envoy\xe9e avec succ\xe8s","stock_updated":"Stock mis \xe0 jour avec succ\xe8s","user_created":"Utilisateur cr\xe9\xe9 avec succ\xe8s","user_updated":"Utilisateur mis \xe0 jour avec succ\xe8s","user_deleted":"Utilisateur supprim\xe9 avec succ\xe8s","settings_saved":"Param\xe8tres enregistr\xe9s avec succ\xe8s"},"language":{"select_language":"S\xe9lectionner la langue","english":"English","french":"Fran\xe7ais","malagasy":"Malagasy","language_changed":"Langue chang\xe9e avec succ\xe8s","current_language":"Langue actuelle"},"app":{"title":"Gestionnaire de Boissons","no_data_available":"Aucune donn\xe9e disponible","unknown_user":"Utilisateur Inconnu","unknown_product":"Produit Inconnu","loading":"Chargement...","toggle_menu":"Basculer le menu"},"forms":{"search_by_customer_name":"Rechercher par nom de client","customer_name":"Nom du client","phone_number":"Num\xe9ro de t\xe9l\xe9phone","email_address":"Adresse e-mail","enter_amount_to_pay":"Entrez le montant \xe0 payer","leave_empty_to_delete_all":"Laisser vide pour tout supprimer","enter_printer_name":"Entrez le nom de l\'imprimante"},"buttons":{"add_to_return":"Ajouter au Retour","added":"Ajout\xe9","creating":"Cr\xe9ation...","create_return":"Cr\xe9er un Retour","complete_sale":"Finaliser la Vente","insufficient_stock":"Stock Insuffisant","print_sales_report":"Imprimer le Rapport de Ventes","print_receipt":"Imprimer le Re\xe7u","print":"Imprimer","print_order":"Imprimer la Commande"},"messages":{"failed_to_load_users":"\xc9chec du chargement des utilisateurs","failed_to_delete_user":"\xc9chec de la suppression de l\'utilisateur"},"titles":{"sales_management":"Gestion des Ventes","pending_sales":"Ventes en Attente","no_pending_sales":"Aucune Vente en Attente","point_of_sale":"Point de Vente","purchase_orders_delivery":"Commandes d\'Achat et Gestion des Livraisons","purchase_orders":"Commandes d\'Achat","printer_settings":"Param\xe8tres d\'Impression","inventory_management":"Gestion de l\'Inventaire","system_management":"Gestion du Syst\xe8me","suppliers_management":"Gestion des Fournisseurs","stock_movement_history":"Historique des Mouvements de Stock","stock_movements":"Mouvements de Stock","reports":"Rapports","previous_reports":"Rapports Pr\xe9c\xe9dents","inventory_summary":"R\xe9sum\xe9 de l\'Inventaire","sale_receipt":"Re\xe7u de Vente","purchase_order":"Commande d\'Achat","delivery_receipt":"Re\xe7u de Livraison","sales_management_report":"Rapport de Gestion des Ventes","inventory_report_data":"Donn\xe9es du Rapport d\'Inventaire","stock_movement_report_data":"Donn\xe9es du Rapport de Mouvements de Stock"},"table_headers":{"sale_number":"Num\xe9ro de Vente","customer":"Client","status":"Statut","payment":"Paiement","items":"Articles","total_amount":"Montant Total","date":"Date","sold_by":"Vendu Par","payment_method":"M\xe9thode de Paiement","paid_amount":"Montant Pay\xe9","actions":"Actions","username":"Nom d\'utilisateur","full_name":"Nom Complet","role":"R\xf4le","phone":"T\xe9l\xe9phone"},"status_labels":{"pending":"En Attente","partial":"Partiel","paid":"Pay\xe9","unpaid":"Impay\xe9","completed":"Termin\xe9","cancelled":"Annul\xe9","refunded":"Rembours\xe9"},"payment_methods":{"cash":"Esp\xe8ces","card":"Carte","mobile_money":"Mobile Money","bank_transfer":"Virement Bancaire"},"payment_status":{"paid":"Pay\xe9","partial_payment":"Paiement Partiel","pending_payment":"Paiement en Attente","to_be_determined":"\xc0 d\xe9terminer","unknown":"Inconnu"},"modals":{"view_sale":"Voir la Vente","edit_sale":"Modifier la Vente","view_only":"Lecture Seule","close":"Fermer","cancel":"Annuler","sale_details":"D\xe9tails de la Vente","loading_sale_details":"Chargement des d\xe9tails de la vente...","sale_information":"Informations de la Vente","customer_information":"Informations du Client","payment_summary":"R\xe9sum\xe9 du Paiement","tax_included":"Taxe incluse","discount":"Remise","refund_information":"Informations de Remboursement","original_sale_amount":"Montant de Vente Original","amount_paid_by_customer":"Montant Pay\xe9 par le Client","remaining_amount":"Montant Restant","refund_note":"Le client devrait \xeatre rembours\xe9 de ${{amount}} (le montant qu\'il a r\xe9ellement pay\xe9).","available_items":"Articles Disponibles","max_returnable":"Maximum Remboursable","sale_price":"Prix de Vente","return_price":"Prix de Retour","return_items":"Articles \xe0 Retourner","no_items_added":"Aucun article ajout\xe9 au retour pour le moment","return_quantity":"Quantit\xe9 de Retour","return_reason_placeholder":"Raison du retour ou notes suppl\xe9mentaires...","return_summary":"R\xe9sum\xe9 du Retour","total_return_amount":"Montant Total du Retour","please_specify_quantities":"Veuillez sp\xe9cifier les quantit\xe9s pour au moins un article","create_delivery":"Cr\xe9er une Livraison","create_delivery_archive":"Cr\xe9er une Livraison et Archiver la Commande","purchase_order":"Commande d\'Achat","supplier":"Fournisseur","order_date":"Date de Commande","delivery_notes":"Notes de Livraison","delivery_notes_placeholder":"Notes sur cette livraison...","received_items":"Articles Re\xe7us","quantities_prefilled_description":"Les quantit\xe9s sont pr\xe9-remplies avec les montants command\xe9s. Modifiez selon ce qui a \xe9t\xe9 r\xe9ellement re\xe7u.","ordered":"Command\xe9","units":"unit\xe9s","quantity_received":"Quantit\xe9 Re\xe7ue","unknown_unit":"Unit\xe9 Inconnue","unit_cost":"Co\xfbt Unitaire","line_total":"Total de Ligne","tax":"taxe","condition_notes":"Notes sur l\'\xc9tat","condition_notes_placeholder":"Notes sur l\'\xe9tat de l\'article...","subtotal":"Sous-total","tax_amount":"Montant de la Taxe","total_amount":"Montant Total","delivered":"Livr\xe9","pending":"En Attente","validate_print":"Valider et Imprimer","creating":"Cr\xe9ation...","creating_archiving":"Cr\xe9ation et Archivage...","please_select_supplier_add_item":"Veuillez s\xe9lectionner un fournisseur et ajouter au moins un article","create_purchase_order":"Cr\xe9er une Commande d\'Achat","order_details":"D\xe9tails de la Commande","select_supplier":"S\xe9lectionner un fournisseur","expected_delivery_date":"Date de Livraison Pr\xe9vue","order_items":"Articles de la Commande","add_item":"Ajouter un Article","no_items_added_yet":"Aucun article ajout\xe9 pour le moment. Cliquez sur \\"Ajouter un Article\\" pour commencer \xe0 construire votre commande.","select_product":"S\xe9lectionner un produit","select_unit":"S\xe9lectionner une unit\xe9","no_compatible_units":"Aucune unit\xe9 compatible disponible","tax_class":"Classe de Taxe","no_tax":"Pas de Taxe","remove":"Supprimer","please_enter_supplier_name":"Veuillez entrer un nom de fournisseur","edit_supplier":"Modifier le Fournisseur","add_new_supplier":"Ajouter un Nouveau Fournisseur","supplier_name":"Nom du Fournisseur","enter_supplier_name":"Entrez le nom du fournisseur","contact_person":"Personne de Contact","enter_contact_person_name":"Entrez le nom de la personne de contact","enter_email_address":"Entrez l\'adresse email","enter_phone_number":"Entrez le num\xe9ro de t\xe9l\xe9phone","tax_number":"Num\xe9ro de Taxe","enter_tax_number":"Entrez le num\xe9ro d\'identification fiscale","payment_terms":"Conditions de Paiement","address":"Adresse","enter_supplier_address":"Entrez l\'adresse du fournisseur","active_supplier":"Fournisseur Actif","updating":"Mise \xe0 jour...","update_supplier":"Mettre \xe0 jour le Fournisseur","create_supplier":"Cr\xe9er le Fournisseur"},"alerts":{"sale_will_be_completed":"La vente sera finalis\xe9e imm\xe9diatement et le stock sera d\xe9duit","sale_will_be_created_pending":"La vente sera cr\xe9\xe9e en attente et pourra \xeatre finalis\xe9e plus tard","print_receipt_after_sale":"Imprimer le re\xe7u apr\xe8s la vente","click_to_edit_quantity":"Cliquer pour modifier la quantit\xe9","remove_item":"Supprimer l\'article"},"empty_messages":{"no_archived_purchase_orders":"Aucune commande d\'achat archiv\xe9e trouv\xe9e","no_active_purchase_orders":"Aucune commande d\'achat active trouv\xe9e","no_pending_deliveries":"Aucune livraison en attente","no_delivery_history":"Aucun historique de livraison trouv\xe9","no_printers_found":"Aucune imprimante trouv\xe9e"}}')},mg:{translation:JSON.parse('{"common":{"loading":"Miandry...","save":"Tehirizo","cancel":"Ajanona","delete":"Fafao","edit":"Ovay","add":"Ampio","search":"Karohy","filter":"Sivana","clear":"Fadio","confirm":"Manamafy","yes":"Eny","no":"Tsia","close":"Akatona","back":"Miverina","next":"Manaraka","previous":"Teo aloha","submit":"Alefa","reset":"Averina","print":"Printy","export":"Alao ivelany","import":"Ampidiro","refresh":"Averina","view":"Jereo","details":"Antsipirihany","actions":"Asa","status":"Sata","date":"Daty","time":"Ora","name":"Anarana","description":"Famaritana","quantity":"Habe","price":"Vidiny","total":"Totaly","amount":"Volany","unit":"Vondrona","category":"Sokajy","type":"Karazana","method":"Fomba","phone":"Finday","email":"Mailaka","address":"Adiresy","notes":"Fanamarihana","created":"Noforona","updated":"Nohavaozina","created_by":"Noforonin\'i","updated_by":"Nohavaozin\'i","retry":"Andramo indray","wholesale":"GV","retail":"DET"},"navigation":{"dashboard":"Tabilao fanaraha-maso","inventory":"Inventaire","sales":"Varotra","pos":"Toerana fivarotana","pending_sales":"Varotra miandry","sales_management":"Fitantanana varotra","purchase_orders":"Baiko fividianana","suppliers":"Mpamatsy","reports":"Tatitra","users":"Mpampiasa","system_management":"Fitantanana rafitra","tax_management":"Fitantanana hetra","printer_settings":"Fikirana printy","logout":"Mivoaka","profile":"Tantara","settings":"Fikirana"},"auth":{"login":"Hiditra","logout":"Mivoaka","username":"Anarana mpampiasa","password":"Tenimiafina","remember_me":"Tsarovy ahy","forgot_password":"Hadino ny tenimiafina?","login_success":"Niditra soa aman-tsara","login_failed":"Tsy niditra","invalid_credentials":"Anarana mpampiasa na tenimiafina tsy mety","session_expired":"Lany ny fotoana. Midira indray azafady.","access_denied":"Tsy azo idirana. Tsy manana alalana hankafy ity loharano ity ianao."},"dashboard":{"title":"Tabilao fanaraha-maso","welcome":"Tongasoa indray, {{username}} !","loading":"Miandry ny tabilao fanaraha-maso...","error":"Tsy fahombiazana","failed_to_load":"Tsy nahavita ny fampidirana ny angona tabilao fanaraha-maso","time_period":"Fotoana:","daily":"Isan\'andro","weekly":"Isan-kerinandro","monthly":"Isam-bolana","sales_team_view":"Fijerena Ekipa Varotra - Varotra Isan\'andro Fotsiny","total_revenue":"Volany Fidirana Totaly","transactions":"fivarotana","total_cost":"Vola Lany Totaly","cost_of_goods_sold":"Vola lany amin\'ny vokatra novarotra","profit":"Tombony","margin":"marjinina","total_products":"Vokatra Totaly","inventory_value":"Sandan\'ny Inventaire","available_products":"vokatra azo","products":"vokatra","low_stock_items":"vokatra kely ao amin\'ny tahiry","sales_trend":"Fironan\'ny Varotra (7 Andro Farany)","no_sales_data":"Tsy misy angona varotra","recent_sales":"Varotra Vao Haingana","click_to_view_details":"Tsindrio raha te-hijery antsipirihany","walk_in_customer":"Mpanjifa Tonga","top_selling_products":"Vokatra Be Indrindra Novarotra","revenue":"Volany Fidirana","sold":"Novarotra","cost":"Vola Lany"},"inventory":{"title":"Fitantanana inventaire","products":"Vokatra","add_product":"Ampio vokatra","edit_product":"Ovay vokatra","delete_product":"Fafao vokatra","product_name":"Anaran\'ny vokatra","sku":"SKU","category":"Sokajy","default_unit":"Vondrona mahazatra","unit_price":"Vidiny isaky ny vondrona","stock_quantity":"Habe ao amin\'ny tahiry","min_stock_level":"Habe kely indrindra ao amin\'ny tahiry","max_stock_level":"Habe lehibe indrindra ao amin\'ny tahiry","is_active":"Mavitrika","is_sellable":"Azo amidy","cost_price":"Vidiny fividianana","wholesale_price":"Vidiny be","retail_price":"Vidiny kely","tax_class":"Sokajy hetra","compatible_units":"Vondrona mifanaraka","stock_movements":"Fifindran\'ny tahiry","low_stock_alert":"Fampitandremana tahiry kely","out_of_stock":"Tsy misy ao amin\'ny tahiry","in_stock":"Misy ao amin\'ny tahiry","stock_status":"Satan\'ny tahiry","last_updated":"Nohavaozina farany","no_products":"Tsy hita vokatra","search_products":"Karohy vokatra...","filter_by_category":"Sivana araka ny sokajy","filter_by_status":"Sivana araka ny sata"},"sales":{"title":"Fitantanana varotra","pos":"Toerana fivarotana","pending_sales":"Varotra miandry","sales_history":"Tantara varotra","create_sale":"Mamorona varotra","edit_sale":"Ovay varotra","cancel_sale":"Ajanona varotra","complete_sale":"Vita varotra","return_sale":"Famerenana varotra","sale_number":"Laharana varotra","customer_name":"Anaran\'ny mpanjifa","customer_phone":"Finday mpanjifa","customer_email":"Mailaka mpanjifa","sale_date":"Daty varotra","sale_status":"Satan\'ny varotra","payment_method":"Fomba fandoavana","payment_status":"Satan\'ny fandoavana","paid_amount":"Volany voaloa","remaining_amount":"Volany sisa","due_date":"Daty tokony handoavana","subtotal":"Totaly kely","tax_amount":"Volan\'ny hetra","discount_amount":"Volan\'ny fihenam-bidy","total_amount":"Volany totaly","sold_by":"Nofoanin\'i","items":"Zavatra","add_item":"Ampio zavatra","remove_item":"Esory zavatra","item_name":"Anaran\'ny zavatra","item_quantity":"Habe","item_price":"Vidiny","item_total":"Totaly","cart":"Kalesy","cart_empty":"Foana ny kalesy","checkout":"Mandoa","payment_type":"Karazana fandoavana","full_payment":"Fandoavana feno","partial_payment":"Fandoavana ampahany","amount_to_pay":"Volany tokony handoavana","change":"Famerenana vola","receipt":"Fandraisana","print_receipt":"Printy fandraisana","pending":"Miandry","completed":"Vita","cancelled":"Najanona","refunded":"Namerina vola","paid":"Voaloa","partial":"Ampahany","cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Fampindramam-bola","no_sales":"Tsy hita varotra","search_sales":"Karohy varotra...","filter_by_status":"Sivana araka ny sata","filter_by_date":"Sivana araka ny daty","date_from":"Daty manomboka","date_to":"Daty miafara"},"returns":{"title":"Fitantanana famerenana","create_return":"Mamorona famerenana","return_number":"Laharana famerenana","original_sale":"Varotra tany am-boalohany","return_items":"Zavatra averina","return_quantity":"Habe averina","max_returnable":"Habe lehibe indrindra azo averina","return_reason":"Antony famerenana","refund_amount":"Volan\'ny famerenana vola","refund_information":"Fampahalalana famerenana vola","original_sale_amount":"Volan\'ny varotra tany am-boalohany","amount_paid_by_customer":"Volany voaloa tamin\'ny mpanjifa","remaining_amount":"Volany sisa","refund_note":"Tokony hamerina vola ny mpanjifa amin\'ny volany voaloa marina.","process_return":"Mamaha famerenana","return_processed":"Nahavita soa aman-tsara ny famerenana","stock_restored":"Namerina soa aman-tsara ny tahiry"},"purchase_orders":{"title":"Baiko fividianana","suppliers":"Mpamatsy","create_order":"Mamorona baiko","edit_order":"Ovay baiko","delete_order":"Fafao baiko","order_number":"Laharana baiko","supplier":"Mpamatsy","order_date":"Daty baiko","expected_delivery":"Fandefasana andrasana","order_status":"Satan\'ny baiko","order_items":"Zavatra ao amin\'ny baiko","add_item":"Ampio zavatra","item_name":"Anaran\'ny zavatra","quantity_ordered":"Habe nandidy","unit_cost":"Vidiny isaky ny vondrona","line_total":"Totaly tsipika","subtotal":"Totaly kely","tax_amount":"Volan\'ny hetra","total_amount":"Volany totaly","draft":"Drafitra","sent":"Nalefa","confirmed":"Nohamafisina","delivered":"Nafindra","cancelled":"Najanona","no_orders":"Tsy hita baiko","search_orders":"Karohy baiko...","filter_by_supplier":"Sivana araka ny mpamatsy","filter_by_status":"Sivana araka ny sata"},"deliveries":{"title":"Fandefasana","create_delivery":"Mamorona fandefasana","edit_delivery":"Ovay fandefasana","confirm_delivery":"Manamafy fandefasana","delivery_number":"Laharana fandefasana","purchase_order":"Baiko fividianana","delivery_date":"Daty fandefasana","delivery_status":"Satan\'ny fandefasana","received_items":"Zavatra voaray","quantity_received":"Habe voaray","condition_notes":"Fanamarihana momba ny toe-javatra","pending":"Miandry","received":"Voaray","verified":"Nohamarinina","completed":"Vita","no_deliveries":"Tsy hita fandefasana","search_deliveries":"Karohy fandefasana...","filter_by_status":"Sivana araka ny sata"},"suppliers":{"title":"Mpamatsy","add_supplier":"Ampio mpamatsy","edit_supplier":"Ovay mpamatsy","delete_supplier":"Fafao mpamatsy","supplier_name":"Anaran\'ny mpamatsy","contact_person":"Olona ifandraisana","phone":"Finday","email":"Mailaka","address":"Adiresy","tax_number":"Laharana hetra","payment_terms":"Fepetra fandoavana","is_active":"Mavitrika","no_suppliers":"Tsy hita mpamatsy","search_suppliers":"Karohy mpamatsy...","filter_by_status":"Sivana araka ny sata"},"reports":{"title":"Tatitra","sales_report":"Tatitra varotra","inventory_report":"Tatitra inventaire","stock_movement_report":"Tatitra fifindran\'ny tahiry","generate_report":"Mamorona tatitra","report_period":"Fotoana tatitra","date_range":"Elanelan\'ny daty","from_date":"Daty manomboka","to_date":"Daty miafara","export_pdf":"Alao ivelany PDF","export_excel":"Alao ivelany Excel","print_report":"Printy tatitra","total_sales":"Varotra totaly","total_cost":"Vidiny totaly","total_profit":"Tombo-kase totaly","total_products":"Vokatra totaly","low_stock_items":"Zavatra kely ao amin\'ny tahiry","out_of_stock_items":"Zavatra tsy misy ao amin\'ny tahiry","top_selling_products":"Vokatra be indrindra amidy","sales_by_category":"Varotra araka ny sokajy","sales_by_payment_method":"Varotra araka ny fomba fandoavana","daily_sales":"Varotra isan\'andro","weekly_sales":"Varotra isan-kerinandro","monthly_sales":"Varotra isam-bolana","yearly_sales":"Varotra isan-taona"},"users":{"title":"Fitantanana mpampiasa","add_user":"Ampio mpampiasa","edit_user":"Ovay mpampiasa","delete_user":"Fafao mpampiasa","username":"Anarana mpampiasa","email":"Mailaka","first_name":"Anarana voalohany","last_name":"Anarana farany","role":"Asa","is_active":"Mavitrika","last_login":"Niditra farany","created_at":"Noforona tamin\'ny","admin":"Mpitantana","manager":"Mpitantana","sales":"Varotra","no_users":"Tsy hita mpampiasa","search_users":"Karohy mpampiasa...","filter_by_role":"Sivana araka ny asa","filter_by_status":"Sivana araka ny sata"},"system":{"title":"Fitantanana rafitra","tax_classes":"Sokajy hetra","categories":"Sokajy","units":"Vondrona","unit_conversions":"Famadihana vondrona","add_tax_class":"Ampio sokajy hetra","edit_tax_class":"Ovay sokajy hetra","delete_tax_class":"Fafao sokajy hetra","tax_name":"Anaran\'ny hetra","tax_rate":"Tahan\'ny hetra","tax_description":"Famaritana","add_category":"Ampio sokajy","edit_category":"Ovay sokajy","delete_category":"Fafao sokajy","category_name":"Anaran\'ny sokajy","category_description":"Famaritana","is_sellable":"Azo amidy","add_unit":"Ampio vondrona","edit_unit":"Ovay vondrona","delete_unit":"Fafao vondrona","unit_name":"Anaran\'ny vondrona","unit_symbol":"Marika","is_base_unit":"Vondrona fototra","add_conversion":"Ampio famadihana","edit_conversion":"Ovay famadihana","delete_conversion":"Fafao famadihana","from_unit":"Vondrona avy","to_unit":"Vondrona ho","conversion_factor":"Antony famadihana","no_tax_classes":"Tsy hita sokajy hetra","no_categories":"Tsy hita sokajy","no_units":"Tsy hita vondrona","no_conversions":"Tsy hita famadihana"},"printer":{"title":"Fikirana printy","printer_name":"Anaran\'ny printy","printer_type":"Karazana printy","printer_status":"Sata","test_print":"Printy fitsapana","printer_connected":"Mifandray","printer_disconnected":"Tsy mifandray","no_printers":"Tsy hita printy","add_printer":"Ampio printy","edit_printer":"Ovay printy","delete_printer":"Fafao printy","printer_settings":"Fikirana printy","paper_size":"Haben\'ny taratasy","orientation":"Toerana","margins":"Sisiny","font_size":"Haben\'ny soratra","print_quality":"Kalitaon\'ny printy"},"errors":{"general_error":"Nisy fahadisoana. Andramo indray azafady.","network_error":"Fahadisoana tambajotra. Jereo ny fifandraisanao azafady.","validation_error":"Jereo ny fidiranao ary andramo indray azafady.","permission_error":"Tsy manana alalana hanao ity asa ity ianao.","not_found":"Tsy hita ny loharano nangatahina.","server_error":"Fahadisoana server. Mifandraisa amin\'ny fanampiana azafady.","timeout_error":"Lany ny fotoana. Andramo indray azafady.","required_field":"Mila ity saha ity.","invalid_email":"Ampidiro mailaka mety azafady.","invalid_phone":"Ampidiro finday mety azafady.","invalid_number":"Ampidiro isa mety azafady.","min_length":"Ny halavany kely indrindra dia {{min}} tarehin-tsoratra.","max_length":"Ny halavany lehibe indrindra dia {{max}} tarehin-tsoratra.","min_value":"Ny sanda kely indrindra dia {{min}}.","max_value":"Ny sanda lehibe indrindra dia {{max}}.","unique_value":"Efa misy ity sandany ity.","stock_insufficient":"Tsy ampy ny tahiry.","quantity_required":"Mila ny habe.","price_required":"Mila ny vidiny.","customer_required":"Mila ny fampahalalana mpanjifa ho an\'ny fandoavana ampahany."},"success":{"saved":"Nohazonina soa aman-tsara","updated":"Nohavaozina soa aman-tsara","deleted":"Nofafana soa aman-tsara","created":"Noforona soa aman-tsara","sale_completed":"Nahavita soa aman-tsara ny varotra","sale_cancelled":"Najanona soa aman-tsara ny varotra","return_processed":"Nahavita soa aman-tsara ny famerenana","payment_made":"Nahavita soa aman-tsara ny fandoavana","delivery_confirmed":"Nohamafisina soa aman-tsara ny fandefasana","order_sent":"Nalefa soa aman-tsara ny baiko","stock_updated":"Nohavaozina soa aman-tsara ny tahiry","user_created":"Noforona soa aman-tsara ny mpampiasa","user_updated":"Nohavaozina soa aman-tsara ny mpampiasa","user_deleted":"Nofafana soa aman-tsara ny mpampiasa","settings_saved":"Nohazonina soa aman-tsara ny fikirana"},"language":{"select_language":"Fidio ny fiteny","english":"English","french":"Fran\xe7ais","malagasy":"Malagasy","language_changed":"Nohavaozina soa aman-tsara ny fiteny","current_language":"Fiteny ankehitriny"},"app":{"title":"Mpitantana Zava-pisotro","no_data_available":"Tsy misy angona","unknown_user":"Mpampiasa Tsy Fantatra","unknown_product":"Vokatra Tsy Fantatra","loading":"Miandry...","toggle_menu":"Ampidiro ny menio"},"forms":{"search_by_customer_name":"Karohy araka ny anaran\'ny mpanjifa","customer_name":"Anaran\'ny mpanjifa","phone_number":"Laharana finday","email_address":"Adiresy mailaka","enter_amount_to_pay":"Ampidiro ny volany tokony handoavana","leave_empty_to_delete_all":"Avelao foana raha te-hamafa ny rehetra","enter_printer_name":"Ampidiro ny anaran\'ny printy"},"buttons":{"add_to_return":"Ampio amin\'ny Famerenana","added":"Nampiana","creating":"Mamorona...","create_return":"Mamorona Famerenana","complete_sale":"Vita Varotra","insufficient_stock":"Tsy Ampy ny Tahiry","print_sales_report":"Printy Tatitra Varotra","print_receipt":"Printy Fandraisana","print":"Printy","print_order":"Printy Baiko"},"messages":{"failed_to_load_users":"Tsy nahomby ny famakiana ny mpampiasa","failed_to_delete_user":"Tsy nahomby ny famongorana ny mpampiasa"},"titles":{"sales_management":"Fitantanana Varotra","pending_sales":"Varotra Miandry","no_pending_sales":"Tsy Misy Varotra Miandry","point_of_sale":"Toerana Fivarotana","purchase_orders_delivery":"Baiko Fividianana sy Fitantanana Fandefasana","purchase_orders":"Baiko Fividianana","printer_settings":"Fikirana Printy","inventory_management":"Fitantanana Inventaire","system_management":"Fitantanana Rafitra","suppliers_management":"Fitantanana Mpamatsy","stock_movement_history":"Tantara Fifindran\'ny Tahiry","stock_movements":"Fifindran\'ny Tahiry","reports":"Tatitra","previous_reports":"Tatitra Teo Aloha","inventory_summary":"Famintinana Inventaire","sale_receipt":"Fandraisana Varotra","purchase_order":"Baiko Fividianana","delivery_receipt":"Fandraisana Fandefasana","sales_management_report":"Tatitra Fitantanana Varotra","inventory_report_data":"Angona Tatitra Inventaire","stock_movement_report_data":"Angona Tatitra Fifindran\'ny Tahiry"},"table_headers":{"sale_number":"Laharana Varotra","customer":"Mpanjifa","status":"Sata","payment":"Fandoavana","items":"Zavatra","total_amount":"Volany Totaly","date":"Daty","sold_by":"Nofoanin\'i","payment_method":"Fomba Fandoavana","paid_amount":"Volany Voaloa","actions":"Asa","username":"Anaran\'ny Mpampiasa","full_name":"Anarana Feno","role":"Laharana","phone":"Finday"},"status_labels":{"pending":"Miandry","partial":"Ampahany","paid":"Voaloa","unpaid":"Tsy Voaloa","completed":"Vita","cancelled":"Najanona","refunded":"Namerina Vola"},"payment_methods":{"cash":"Volamena","card":"Kara","mobile_money":"Mobile Money","bank_transfer":"Fampindramam-bola"},"payment_status":{"paid":"Voaloa","partial_payment":"Fandoavana Ampahany","pending_payment":"Fandoavana Miandry","to_be_determined":"Tokony hotapahina","unknown":"Tsy Fantatra"},"modals":{"view_sale":"Jereo Varotra","edit_sale":"Ovay Varotra","view_only":"Fijerena Fotsiny","close":"Akatona","cancel":"Ajanona","sale_details":"Antsipirihany ny Varotra","loading_sale_details":"Miandry ny antsipirihany ny varotra...","sale_information":"Fampahalalana ny Varotra","customer_information":"Fampahalalana ny Mpanjifa","payment_summary":"Famintinana ny Fandoavana","tax_included":"Heterana tafiditra","discount":"Fihenam-bidy","refund_information":"Fampahalalana ny Famerina Vola","original_sale_amount":"Volany Varotra Tany Am-boalohany","amount_paid_by_customer":"Volany Nandoavan\'ny Mpanjifa","remaining_amount":"Volany Sisa","refund_note":"Tokony hamerina vola ny mpanjifa ${{amount}} (ny volany nandoavany marina).","available_items":"Zavatra Azo","max_returnable":"Habe Be Indrindra Azo Averina","sale_price":"Vidiny Varotra","return_price":"Vidiny Averina","return_items":"Zavatra Averina","no_items_added":"Tsy mbola nampiana zavatra tamin\'ny famerenana","return_quantity":"Habe Averina","return_reason_placeholder":"Antony famerenana na fanamarihana fanampiny...","return_summary":"Famintinana ny Famerenana","total_return_amount":"Volany Totaly Averina","please_specify_quantities":"Ampidiro ny habe farafahakeliny zavatra iray","create_delivery":"Mamorona Fandefasana","create_delivery_archive":"Mamorona Fandefasana sy Manangona Baiko","purchase_order":"Baiko Fividianana","supplier":"Mpamatsy","order_date":"Daty Baiko","delivery_notes":"Fanamarihana Fandefasana","delivery_notes_placeholder":"Fanamarihana momba ity fandefasana ity...","received_items":"Zavatra Voaray","quantities_prefilled_description":"Ny habe dia voafeno mialoha amin\'ny volany nandidiana. Ovay araka ny zavatra voaray marina.","ordered":"Nandidiana","units":"vondrona","quantity_received":"Habe Voaray","unknown_unit":"Vondrona Tsy Fantatra","unit_cost":"Vidiny Vondrona","line_total":"Totaly Lalan-dalana","tax":"heterana","condition_notes":"Fanamarihana Ny Toetrany","condition_notes_placeholder":"Fanamarihana momba ny toetran\'ny zavatra...","subtotal":"Totaly kely","tax_amount":"Volany Heterana","total_amount":"Volany Totaly","delivered":"Nalefan-davitra","pending":"Miandry","validate_print":"Manamarina sy Printy","creating":"Mamorona...","creating_archiving":"Mamorona sy Manangona...","please_select_supplier_add_item":"Fidio mpamatsy ary ampio farafahakeliny zavatra iray","create_purchase_order":"Mamorona Baiko Fividianana","order_details":"Antsipirihany ny Baiko","select_supplier":"Fidio mpamatsy","expected_delivery_date":"Daty Fandefasana Andrasana","order_items":"Zavatra Baiko","add_item":"Ampio Zavatra","no_items_added_yet":"Tsy mbola nampiana zavatra. Tsindrio \\"Ampio Zavatra\\" raha te-hanomboka manorina ny baikonao.","select_product":"Fidio vokatra","select_unit":"Fidio vondrona","no_compatible_units":"Tsy misy vondrona mifanaraka","tax_class":"Sokajy Heterana","no_tax":"Tsy Misy Heterana","remove":"Esory","please_enter_supplier_name":"Ampidiro ny anaran\'ny mpamatsy","edit_supplier":"Ovay Mpamatsy","add_new_supplier":"Ampio Mpamatsy Vaovao","supplier_name":"Anaran\'ny Mpamatsy","enter_supplier_name":"Ampidiro ny anaran\'ny mpamatsy","contact_person":"Olona Ifandraisana","enter_contact_person_name":"Ampidiro ny anaran\'ny olona ifandraisana","enter_email_address":"Ampidiro ny adiresy email","enter_phone_number":"Ampidiro ny laharana finday","tax_number":"Laharana Heterana","enter_tax_number":"Ampidiro ny laharana famantarana hetra","payment_terms":"Fepetra Fandoavana","address":"Adiresy","enter_supplier_address":"Ampidiro ny adiresin\'ny mpamatsy","active_supplier":"Mpamatsy Mavitrika","updating":"Manavao...","update_supplier":"Manavao Mpamatsy","create_supplier":"Mamorona Mpamatsy"},"alerts":{"sale_will_be_completed":"Ho vita avy hatrany ny varotra ary ho esorina ny tahiry","sale_will_be_created_pending":"Ho foronina miandry ny varotra ary azonao atao ny hamita azy any aoriana","print_receipt_after_sale":"Printy fandraisana rehefa avy ny varotra","click_to_edit_quantity":"Tsindrio raha te-hanova ny habe","remove_item":"Esory zavatra"},"empty_messages":{"no_archived_purchase_orders":"Tsy hita baiko fividianana voatahiry","no_active_purchase_orders":"Tsy hita baiko fividianana mavitrika","no_pending_deliveries":"Tsy misy fandefasana miandry","no_delivery_history":"Tsy hita tantara fandefasana","no_printers_found":"Tsy hita printy"}}')}};Xr.use(gs).use(Na).init({resources:_s,fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},load:"languageOnly",supportedLngs:["en","fr","mg"],lng:"en",ns:["translation"],defaultNS:"translation"});const xs=e=>{let{children:t}=e;const{isAuthenticated:n,loading:a}=ua();return a?(0,ca.jsxs)("div",{className:"app-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]}):n?t:(0,ca.jsx)(he,{to:"/login"})},bs=e=>{let{children:t,allowedRoles:n=[],salesBlocked:a=!1}=e;const{isAuthenticated:r,loading:s,user:i,isSales:o}=ua();return s?(0,ca.jsxs)("div",{className:"app-loading",children:[(0,ca.jsx)("div",{className:"spinner"}),(0,ca.jsx)("span",{children:"Loading..."})]}):r?a&&o||n.length>0&&!n.includes(null===i||void 0===i?void 0:i.role)?(0,ca.jsx)(he,{to:"/pos"}):t:(0,ca.jsx)(he,{to:"/login"})},js=()=>{const{isAuthenticated:e}=ua();return(0,ca.jsx)(we,{children:(0,ca.jsxs)("div",{className:"app",children:[(0,ca.jsx)(Ra,{}),e&&(0,ca.jsx)(Oa,{}),(0,ca.jsx)("main",{className:"app-main",children:(0,ca.jsxs)(ye,{children:[(0,ca.jsx)(fe,{path:"/login",element:e?(0,ca.jsx)(he,{to:"/dashboard"}):(0,ca.jsx)(La,{})}),(0,ca.jsx)(fe,{path:"/dashboard",element:(0,ca.jsx)(xs,{children:(0,ca.jsx)(Ua,{})})}),(0,ca.jsx)(fe,{path:"/inventory",element:(0,ca.jsx)(bs,{salesBlocked:!0,children:(0,ca.jsx)(za,{})})}),(0,ca.jsx)(fe,{path:"/pos",element:(0,ca.jsx)(xs,{children:(0,ca.jsx)(qa,{})})}),(0,ca.jsx)(fe,{path:"/users",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)(Ga,{})})}),(0,ca.jsx)(fe,{path:"/tax-management",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)($a,{})})}),(0,ca.jsx)(fe,{path:"/system-management",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)(Ka,{})})}),(0,ca.jsx)(fe,{path:"/printer-settings",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)(Qa,{})})}),(0,ca.jsx)(fe,{path:"/stock-movement",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)(Ja,{})})}),(0,ca.jsx)(fe,{path:"/sales-management",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager"],children:(0,ca.jsx)(Ya,{})})}),(0,ca.jsx)(fe,{path:"/pending-sales",element:(0,ca.jsx)(bs,{allowedRoles:["admin","manager","sales"],children:(0,ca.jsx)(er,{})})}),(0,ca.jsx)(fe,{path:"/purchase-orders",element:(0,ca.jsx)(bs,{salesBlocked:!0,children:(0,ca.jsx)(sr,{})})}),(0,ca.jsx)(fe,{path:"/suppliers",element:(0,ca.jsx)(bs,{salesBlocked:!0,children:(0,ca.jsx)(or,{})})}),(0,ca.jsx)(fe,{path:"/reports",element:(0,ca.jsx)(bs,{allowedRoles:["admin"],children:(0,ca.jsx)(lr,{})})}),(0,ca.jsx)(fe,{path:"/",element:(0,ca.jsx)(he,{to:"/dashboard"})}),(0,ca.jsx)(fe,{path:"*",element:(0,ca.jsx)(he,{to:"/dashboard"})})]})})]})})};const ks=function(){return(0,ca.jsx)(pa,{children:(0,ca.jsx)(js,{})})};s.createRoot(document.getElementById("root")).render((0,ca.jsx)(a.StrictMode,{children:(0,ca.jsx)(ks,{})}))})()})();
//# sourceMappingURL=main.a01c46af.js.map