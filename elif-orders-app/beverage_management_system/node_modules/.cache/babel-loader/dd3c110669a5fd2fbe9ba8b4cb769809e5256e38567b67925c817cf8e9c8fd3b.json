{"ast":null,"code":"import _objectSpread from\"/home/el-ifran/WareHouse_Manager/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import api from'../services/api';import Table from'../components/Table';import Button from'../components/Button';import'./Inventory.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Inventory=()=>{const{user}=useAuth();const[products,setProducts]=useState([]);const[categories,setCategories]=useState([]);const[taxClasses,setTaxClasses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[showAddModal,setShowAddModal]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const[filters,setFilters]=useState({category:'',stockStatus:'',search:''});useEffect(()=>{fetchProducts();fetchCategories();fetchTaxClasses();},[]);const fetchProducts=async function(){let filterParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{setLoading(true);const params=new URLSearchParams();// Add filters to params\nif(filterParams.category)params.append('category',filterParams.category);if(filterParams.search)params.append('search',filterParams.search);if(filterParams.is_active!==undefined)params.append('is_active',filterParams.is_active);if(filterParams.stock_quantity!==undefined)params.append('stock_quantity',filterParams.stock_quantity);const url=\"/products/\".concat(params.toString()?'?'+params.toString():'');const response=await api.get(url);let products=response.data.results||response.data;// Handle low stock filter on frontend since it's a calculated field\nif(filterParams.stockStatus==='low'){products=products.filter(product=>product.is_low_stock);}setProducts(products);}catch(err){setError('Failed to load products');console.error('Products error:',err);}finally{setLoading(false);}};const fetchCategories=async()=>{try{const response=await api.get('/products/categories/');setCategories(response.data.results||response.data);}catch(err){console.error('Categories error:',err);}};const fetchTaxClasses=async()=>{try{const response=await api.get('/products/tax-classes/');setTaxClasses(response.data.results||response.data);}catch(err){console.error('Tax classes error:',err);}};const handleAddProduct=()=>{setEditingProduct(null);setShowAddModal(true);};const handleEditProduct=async product=>{try{// Fetch full product details including cost_price and category ID\nconst response=await api.get(\"/products/\".concat(product.id,\"/\"));setEditingProduct(response.data);setShowAddModal(true);}catch(err){setError('Failed to load product details');console.error('Product details error:',err);}};const handleDeleteProduct=async product=>{if(window.confirm(\"Are you sure you want to delete \".concat(product.name,\"?\"))){try{await api.delete(\"/products/\".concat(product.id,\"/\"));fetchProducts(filters);}catch(err){setError('Failed to delete product');console.error('Delete error:',err);}}};const handleFilterChange=(filterType,value)=>{const newFilters=_objectSpread(_objectSpread({},filters),{},{[filterType]:value});setFilters(newFilters);// Convert stock status filter to API parameters\nconst apiParams=_objectSpread({},newFilters);if(newFilters.stockStatus==='out'){// For out of stock, filter by stock_quantity = 0\napiParams.stock_quantity=0;}fetchProducts(apiParams);};const clearFilters=()=>{const clearedFilters={category:'',stockStatus:'',search:''};setFilters(clearedFilters);fetchProducts(clearedFilters);};const columns=[{key:'name',header:'Product Name',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"product-sku\",children:row.sku})]})},{key:'category_name',header:'Category'},{key:'stock_quantity',header:'Stock',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"stock-quantity \".concat(row.is_low_stock?'low-stock':'',\" \").concat(row.is_out_of_stock?'out-of-stock':''),children:[value,\" \",row.unit,row.is_low_stock&&/*#__PURE__*/_jsx(\"span\",{className:\"stock-warning\",children:\"Low\"}),row.is_out_of_stock&&/*#__PURE__*/_jsx(\"span\",{className:\"stock-warning\",children:\"Out\"})]})},{key:'price',header:'Price',render:value=>\"$\".concat(parseFloat(value).toFixed(2))},{key:'actions',header:'Actions',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleEditProduct(row),children:\"Edit\"}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"danger\",onClick:()=>handleDeleteProduct(row),children:\"Delete\"})]})}];return/*#__PURE__*/_jsxs(\"div\",{className:\"inventory\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inventory Management\"}),/*#__PURE__*/_jsx(Button,{onClick:handleAddProduct,children:\"Add Product\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>handleFilterChange('category',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stock Status:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.stockStatus,onChange:e=>handleFilterChange('stockStatus',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low Stock\"}),/*#__PURE__*/_jsx(\"option\",{value:\"out\",children:\"Out of Stock\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",value:filters.search,onChange:e=>handleFilterChange('search',e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"small\",onClick:clearFilters,children:\"Clear Filters\"})})]}),/*#__PURE__*/_jsx(Table,{data:products,columns:columns,loading:loading,emptyMessage:\"No products found\"}),showAddModal&&/*#__PURE__*/_jsx(ProductModal,{product:editingProduct,categories:categories,taxClasses:taxClasses,onClose:()=>setShowAddModal(false),onSave:()=>{setShowAddModal(false);fetchProducts(filters);}})]});};const ProductModal=_ref=>{var _product$is_active;let{product,categories,taxClasses,onClose,onSave}=_ref;const[formData,setFormData]=useState({name:(product===null||product===void 0?void 0:product.name)||'',description:(product===null||product===void 0?void 0:product.description)||'',category:(product===null||product===void 0?void 0:product.category)||'',tax_class:(product===null||product===void 0?void 0:product.tax_class)||'',sku:(product===null||product===void 0?void 0:product.sku)||'',price:(product===null||product===void 0?void 0:product.price)||'',cost_price:(product===null||product===void 0?void 0:product.cost_price)||'',stock_quantity:(product===null||product===void 0?void 0:product.stock_quantity)||0,min_stock_level:(product===null||product===void 0?void 0:product.min_stock_level)||10,max_stock_level:(product===null||product===void 0?void 0:product.max_stock_level)||1000,unit:(product===null||product===void 0?void 0:product.unit)||'piece',is_active:(_product$is_active=product===null||product===void 0?void 0:product.is_active)!==null&&_product$is_active!==void 0?_product$is_active:true});// Update form data when product changes (for editing)\nuseEffect(()=>{if(product){var _product$is_active2;setFormData({name:product.name||'',description:product.description||'',category:product.category||'',tax_class:product.tax_class||'',sku:product.sku||'',price:product.price||'',cost_price:product.cost_price||'',stock_quantity:product.stock_quantity||0,min_stock_level:product.min_stock_level||10,max_stock_level:product.max_stock_level||1000,unit:product.unit||'piece',is_active:(_product$is_active2=product.is_active)!==null&&_product$is_active2!==void 0?_product$is_active2:true});}},[product]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:type==='checkbox'?checked:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{if(product){await api.put(\"/products/\".concat(product.id,\"/\"),formData);}else{await api.post('/products/',formData);}onSave();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'Failed to save product');console.error('Save error:',err);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product?'Edit Product':'Add Product'}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-form\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SKU *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sku\",value:formData.sku,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:formData.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tax Class\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"tax_class\",value:formData.tax_class,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Tax Class\"}),taxClasses.map(taxClass=>/*#__PURE__*/_jsxs(\"option\",{value:taxClass.id,children:[taxClass.name,\" (\",taxClass.tax_rate,\"%)\"]},taxClass.id))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"unit\",value:formData.unit,onChange:handleChange,placeholder:\"piece, liter, kg, etc.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"price\",value:formData.price,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cost Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"cost_price\",value:formData.cost_price,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stock Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock_quantity\",value:formData.stock_quantity,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Min Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"min_stock_level\",value:formData.min_stock_level,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Max Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"max_stock_level\",value:formData.max_stock_level,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_active\",checked:formData.is_active,onChange:handleChange}),\"Active\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",loading:loading,children:product?'Update':'Create'})]})]})]})});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","useAuth","api","Table","Button","jsx","_jsx","jsxs","_jsxs","Inventory","user","products","setProducts","categories","setCategories","taxClasses","setTaxClasses","loading","setLoading","error","setError","showAddModal","setShowAddModal","editingProduct","setEditingProduct","filters","setFilters","category","stockStatus","search","fetchProducts","fetchCategories","fetchTaxClasses","filterParams","arguments","length","undefined","params","URLSearchParams","append","is_active","stock_quantity","url","concat","toString","response","get","data","results","filter","product","is_low_stock","err","console","handleAddProduct","handleEditProduct","id","handleDeleteProduct","window","confirm","name","delete","handleFilterChange","filterType","value","newFilters","_objectSpread","apiParams","clearFilters","clearedFilters","columns","key","header","render","row","children","className","sku","is_out_of_stock","unit","parseFloat","toFixed","size","variant","onClick","role","onChange","e","target","map","type","placeholder","emptyMessage","ProductModal","onClose","onSave","_ref","_product$is_active","formData","setFormData","description","tax_class","price","cost_price","min_stock_level","max_stock_level","_product$is_active2","handleChange","checked","handleSubmit","preventDefault","put","post","_err$response","_err$response$data","detail","onSubmit","required","rows","taxClass","tax_rate","step"],"sources":["/home/el-ifran/WareHouse_Manager/beverage_management_system/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport Table from '../components/Table';\nimport Button from '../components/Button';\nimport './Inventory.css';\n\nconst Inventory = () => {\n  const { user } = useAuth();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [taxClasses, setTaxClasses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [filters, setFilters] = useState({\n    category: '',\n    stockStatus: '',\n    search: ''\n  });\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchTaxClasses();\n  }, []);\n\n  const fetchProducts = async (filterParams = {}) => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams();\n      \n      // Add filters to params\n      if (filterParams.category) params.append('category', filterParams.category);\n      if (filterParams.search) params.append('search', filterParams.search);\n      if (filterParams.is_active !== undefined) params.append('is_active', filterParams.is_active);\n      if (filterParams.stock_quantity !== undefined) params.append('stock_quantity', filterParams.stock_quantity);\n      \n      const url = `/products/${params.toString() ? '?' + params.toString() : ''}`;\n      const response = await api.get(url);\n      let products = response.data.results || response.data;\n      \n      // Handle low stock filter on frontend since it's a calculated field\n      if (filterParams.stockStatus === 'low') {\n        products = products.filter(product => product.is_low_stock);\n      }\n      \n      setProducts(products);\n    } catch (err) {\n      setError('Failed to load products');\n      console.error('Products error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await api.get('/products/categories/');\n      setCategories(response.data.results || response.data);\n    } catch (err) {\n      console.error('Categories error:', err);\n    }\n  };\n\n  const fetchTaxClasses = async () => {\n    try {\n      const response = await api.get('/products/tax-classes/');\n      setTaxClasses(response.data.results || response.data);\n    } catch (err) {\n      console.error('Tax classes error:', err);\n    }\n  };\n\n  const handleAddProduct = () => {\n    setEditingProduct(null);\n    setShowAddModal(true);\n  };\n\n  const handleEditProduct = async (product) => {\n    try {\n      // Fetch full product details including cost_price and category ID\n      const response = await api.get(`/products/${product.id}/`);\n      setEditingProduct(response.data);\n      setShowAddModal(true);\n    } catch (err) {\n      setError('Failed to load product details');\n      console.error('Product details error:', err);\n    }\n  };\n\n  const handleDeleteProduct = async (product) => {\n    if (window.confirm(`Are you sure you want to delete ${product.name}?`)) {\n      try {\n        await api.delete(`/products/${product.id}/`);\n        fetchProducts(filters);\n      } catch (err) {\n        setError('Failed to delete product');\n        console.error('Delete error:', err);\n      }\n    }\n  };\n\n  const handleFilterChange = (filterType, value) => {\n    const newFilters = { ...filters, [filterType]: value };\n    setFilters(newFilters);\n    \n    // Convert stock status filter to API parameters\n    const apiParams = { ...newFilters };\n    if (newFilters.stockStatus === 'out') {\n      // For out of stock, filter by stock_quantity = 0\n      apiParams.stock_quantity = 0;\n    }\n    \n    fetchProducts(apiParams);\n  };\n\n  const clearFilters = () => {\n    const clearedFilters = { category: '', stockStatus: '', search: '' };\n    setFilters(clearedFilters);\n    fetchProducts(clearedFilters);\n  };\n\n  const columns = [\n    {\n      key: 'name',\n      header: 'Product Name',\n      render: (value, row) => (\n        <div>\n          <div className=\"product-name\">{value}</div>\n          <div className=\"product-sku\">{row.sku}</div>\n        </div>\n      )\n    },\n    {\n      key: 'category_name',\n      header: 'Category'\n    },\n    {\n      key: 'stock_quantity',\n      header: 'Stock',\n      render: (value, row) => (\n        <div className={`stock-quantity ${row.is_low_stock ? 'low-stock' : ''} ${row.is_out_of_stock ? 'out-of-stock' : ''}`}>\n          {value} {row.unit}\n          {row.is_low_stock && <span className=\"stock-warning\">Low</span>}\n          {row.is_out_of_stock && <span className=\"stock-warning\">Out</span>}\n        </div>\n      )\n    },\n    {\n      key: 'price',\n      header: 'Price',\n      render: (value) => `$${parseFloat(value).toFixed(2)}`\n    },\n    {\n      key: 'actions',\n      header: 'Actions',\n      render: (value, row) => (\n        <div className=\"action-buttons\">\n          <Button\n            size=\"small\"\n            variant=\"outline\"\n            onClick={() => handleEditProduct(row)}\n          >\n            Edit\n          </Button>\n          {user?.role === 'admin' && (\n            <Button\n              size=\"small\"\n              variant=\"danger\"\n              onClick={() => handleDeleteProduct(row)}\n            >\n              Delete\n            </Button>\n          )}\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"inventory\">\n      <div className=\"inventory-header\">\n        <h1>Inventory Management</h1>\n        <Button onClick={handleAddProduct}>\n          Add Product\n        </Button>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"inventory-filters\">\n        <div className=\"filter-group\">\n          <label>Category:</label>\n          <select \n            value={filters.category} \n            onChange={(e) => handleFilterChange('category', e.target.value)}\n          >\n            <option value=\"\">All Categories</option>\n            {categories.map(category => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filter-group\">\n          <label>Stock Status:</label>\n          <select \n            value={filters.stockStatus} \n            onChange={(e) => handleFilterChange('stockStatus', e.target.value)}\n          >\n            <option value=\"\">All</option>\n            <option value=\"low\">Low Stock</option>\n            <option value=\"out\">Out of Stock</option>\n          </select>\n        </div>\n        <div className=\"filter-group\">\n          <label>Search:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Search products...\"\n            value={filters.search}\n            onChange={(e) => handleFilterChange('search', e.target.value)}\n          />\n        </div>\n        <div className=\"filter-group\">\n          <Button variant=\"outline\" size=\"small\" onClick={clearFilters}>\n            Clear Filters\n          </Button>\n        </div>\n      </div>\n\n      <Table\n        data={products}\n        columns={columns}\n        loading={loading}\n        emptyMessage=\"No products found\"\n      />\n\n      {showAddModal && (\n        <ProductModal\n          product={editingProduct}\n          categories={categories}\n          taxClasses={taxClasses}\n          onClose={() => setShowAddModal(false)}\n          onSave={() => {\n            setShowAddModal(false);\n            fetchProducts(filters);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nconst ProductModal = ({ product, categories, taxClasses, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    name: product?.name || '',\n    description: product?.description || '',\n    category: product?.category || '',\n    tax_class: product?.tax_class || '',\n    sku: product?.sku || '',\n    price: product?.price || '',\n    cost_price: product?.cost_price || '',\n    stock_quantity: product?.stock_quantity || 0,\n    min_stock_level: product?.min_stock_level || 10,\n    max_stock_level: product?.max_stock_level || 1000,\n    unit: product?.unit || 'piece',\n    is_active: product?.is_active ?? true\n  });\n\n  // Update form data when product changes (for editing)\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        name: product.name || '',\n        description: product.description || '',\n        category: product.category || '',\n        tax_class: product.tax_class || '',\n        sku: product.sku || '',\n        price: product.price || '',\n        cost_price: product.cost_price || '',\n        stock_quantity: product.stock_quantity || 0,\n        min_stock_level: product.min_stock_level || 10,\n        max_stock_level: product.max_stock_level || 1000,\n        unit: product.unit || 'piece',\n        is_active: product.is_active ?? true\n      });\n    }\n  }, [product]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      if (product) {\n        await api.put(`/products/${product.id}/`, formData);\n      } else {\n        await api.post('/products/', formData);\n      }\n      onSave();\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Failed to save product');\n      console.error('Save error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal\">\n        <div className=\"modal-header\">\n          <h2>{product ? 'Edit Product' : 'Add Product'}</h2>\n          <button className=\"modal-close\" onClick={onClose}>×</button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"modal-form\">\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Product Name *</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>SKU *</label>\n              <input\n                type=\"text\"\n                name=\"sku\"\n                value={formData.sku}\n                onChange={handleChange}\n                required\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Description</label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows=\"3\"\n            />\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Category *</label>\n              <select\n                name=\"category\"\n                value={formData.category}\n                onChange={handleChange}\n                required\n              >\n                <option value=\"\">Select Category</option>\n                {categories.map(category => (\n                  <option key={category.id} value={category.id}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>Tax Class</label>\n              <select\n                name=\"tax_class\"\n                value={formData.tax_class}\n                onChange={handleChange}\n              >\n                <option value=\"\">No Tax Class</option>\n                {taxClasses.map(taxClass => (\n                  <option key={taxClass.id} value={taxClass.id}>\n                    {taxClass.name} ({taxClass.tax_rate}%)\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Unit</label>\n              <input\n                type=\"text\"\n                name=\"unit\"\n                value={formData.unit}\n                onChange={handleChange}\n                placeholder=\"piece, liter, kg, etc.\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Price *</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Cost Price</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                name=\"cost_price\"\n                value={formData.cost_price}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Stock Quantity</label>\n              <input\n                type=\"number\"\n                name=\"stock_quantity\"\n                value={formData.stock_quantity}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Min Stock Level</label>\n              <input\n                type=\"number\"\n                name=\"min_stock_level\"\n                value={formData.min_stock_level}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Max Stock Level</label>\n            <input\n              type=\"number\"\n              name=\"max_stock_level\"\n              value={formData.max_stock_level}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"is_active\"\n                checked={formData.is_active}\n                onChange={handleChange}\n              />\n              Active\n            </label>\n          </div>\n\n          <div className=\"modal-actions\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" loading={loading}>\n              {product ? 'Update' : 'Create'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}