{"ast":null,"code":"import _objectSpread from\"/home/el-ifran/WareHouse_Manager/elif-orders-app/beverage_management_system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{useApi}from'../hooks/useApi';import Button from'../components/Button';import Table from'../components/Table';import PurchaseOrderModal from'../components/PurchaseOrderModal';import DeliveryModal from'../components/DeliveryModal';import PrintButton from'../components/PrintButton';import'./PurchaseOrders.css';// EditDeliveryModal Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EditDeliveryModal=_ref=>{var _delivery$purchase_or,_delivery$purchase_or2,_delivery$purchase_or3;let{delivery,onClose,onSubmit}=_ref;const{t}=useTranslation();const[formData,setFormData]=useState({notes:delivery.notes||'',items:(delivery.items||[]).map(item=>{var _item$purchase_order_,_item$tax_class;return{id:item.id,product_id:item.product.id,purchase_order_item_id:(_item$purchase_order_=item.purchase_order_item)===null||_item$purchase_order_===void 0?void 0:_item$purchase_order_.id,// <-- Add this field\nquantity_received:item.quantity_received,unit_cost:item.unit_cost,tax_class_id:((_item$tax_class=item.tax_class)===null||_item$tax_class===void 0?void 0:_item$tax_class.id)||'',condition_notes:item.condition_notes||''};})});const[loading,setLoading]=useState(false);const[isMobile,setIsMobile]=useState(false);useEffect(()=>{const checkScreenSize=()=>{setIsMobile(window.innerWidth<768);};checkScreenSize();window.addEventListener('resize',checkScreenSize);return()=>window.removeEventListener('resize',checkScreenSize);},[]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleItemChange=(index,field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{items:prev.items.map((item,i)=>i===index?_objectSpread(_objectSpread({},item),{},{[field]:value}):item)}));};const handleSubmit=async e=>{e.preventDefault();// Validate that at least one item has quantity > 0\nconst hasItems=formData.items.some(item=>item.quantity_received>0);if(!hasItems){alert('Please specify quantities for at least one item');return;}setLoading(true);try{// Convert data types to ensure proper API format\nconst deliveryData={notes:formData.notes,items:formData.items.filter(item=>item.quantity_received>0).map(item=>({id:item.id,product_id:parseInt(item.product_id),purchase_order_item_id:item.purchase_order_item_id,// <-- Always send this\nquantity_received:parseFloat(item.quantity_received),unit_cost:parseFloat(item.unit_cost),tax_class_id:item.tax_class_id?parseInt(item.tax_class_id):null,condition_notes:item.condition_notes}))};await onSubmit(deliveryData);}catch(error){console.error('Error updating delivery:',error);}finally{setLoading(false);}};const calculateItemTotal=item=>{const quantity=parseFloat(item.quantity_received)||0;const unitCost=parseFloat(item.unit_cost)||0;return quantity*unitCost;};const calculateTaxAmount=item=>{const lineTotal=calculateItemTotal(item);const originalItem=delivery.items.find(delItem=>delItem.id===item.id);if(originalItem!==null&&originalItem!==void 0&&originalItem.tax_class){return lineTotal*(parseFloat(originalItem.tax_class.tax_rate)/100);}return 0;};const calculateTotals=()=>{let subtotal=0;let taxAmount=0;formData.items.forEach(item=>{subtotal+=calculateItemTotal(item);taxAmount+=calculateTaxAmount(item);});const total=subtotal+taxAmount;return{subtotal,taxAmount,total};};const totals=calculateTotals();return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content delivery-modal \".concat(isMobile?'mobile-modal':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Delivery\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(PrintButton,{data:delivery,title:\"Delivery Receipt\",type:\"delivery\",printText:isMobile?\"ðŸ“„\":\"Print Receipt\",className:\"print-edit-delivery-btn\",size:isMobile?\"small\":\"medium\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Delivery Number:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:delivery.delivery_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Purchase Order:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:(_delivery$purchase_or=delivery.purchase_order)===null||_delivery$purchase_or===void 0?void 0:_delivery$purchase_or.order_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Supplier:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:(_delivery$purchase_or2=delivery.purchase_order)===null||_delivery$purchase_or2===void 0?void 0:(_delivery$purchase_or3=_delivery$purchase_or2.supplier)===null||_delivery$purchase_or3===void 0?void 0:_delivery$purchase_or3.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",children:\"Delivery Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:isMobile?2:3})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Items to Receive\"}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-items \".concat(isMobile?'mobile-view':'desktop-view'),children:!isMobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-items-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Received\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unit Cost\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tax Rate\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Condition Notes\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Line Total\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tax Amount\"})]}),formData.items.map((item,index)=>{const originalItem=delivery.items.find(delItem=>delItem.id===item.id);const product=originalItem===null||originalItem===void 0?void 0:originalItem.product;const taxClass=originalItem===null||originalItem===void 0?void 0:originalItem.tax_class;return/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-item-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"product-name\",children:[product===null||product===void 0?void 0:product.name,\" (\",product===null||product===void 0?void 0:product.sku,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantity_received,onChange:e=>handleItemChange(index,'quantity_received',e.target.value),min:\"0\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.unit_cost,onChange:e=>handleItemChange(index,'unit_cost',e.target.value),step:\"0.01\",min:\"0\",required:true}),/*#__PURE__*/_jsx(\"span\",{children:taxClass?\"\".concat(taxClass.name,\" (\").concat(taxClass.tax_rate,\"%)\"):'N/A'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.condition_notes,onChange:e=>handleItemChange(index,'condition_notes',e.target.value),placeholder:\"Condition notes...\"}),/*#__PURE__*/_jsxs(\"span\",{children:[calculateItemTotal(item).toFixed(2),\" MGA\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[calculateTaxAmount(item).toFixed(2),\" MGA\"]})]},item.id);})]}):/*#__PURE__*/// Mobile view for delivery items\n_jsx(\"div\",{className:\"mobile-delivery-items\",children:formData.items.map((item,index)=>{const originalItem=delivery.items.find(delItem=>delItem.id===item.id);const product=originalItem===null||originalItem===void 0?void 0:originalItem.product;const taxClass=originalItem===null||originalItem===void 0?void 0:originalItem.tax_class;return/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-delivery-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item-header\",children:[/*#__PURE__*/_jsx(\"strong\",{children:product===null||product===void 0?void 0:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"sku\",children:product===null||product===void 0?void 0:product.sku})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity Received\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantity_received,onChange:e=>handleItemChange(index,'quantity_received',e.target.value),min:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Cost (MGA)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.unit_cost,onChange:e=>handleItemChange(index,'unit_cost',e.target.value),step:\"0.01\",min:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tax Rate\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tax-info\",children:taxClass?\"\".concat(taxClass.name,\" (\").concat(taxClass.tax_rate,\"%)\"):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Condition Notes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.condition_notes,onChange:e=>handleItemChange(index,'condition_notes',e.target.value),placeholder:\"Condition notes...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item-totals\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Line Total: \",calculateItemTotal(item).toFixed(2),\" MGA\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Tax: \",calculateTaxAmount(item).toFixed(2),\" MGA\"]})]})]})]},item.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totals.subtotal.toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Tax:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totals.taxAmount.toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item total-amount\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totals.total.toFixed(2),\" MGA\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"secondary\",onClick:onClose,disabled:loading,fullWidth:isMobile,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",disabled:loading,fullWidth:isMobile,children:loading?'Updating...':'Update Delivery'})]})]})]})});};const PurchaseOrders=()=>{const{t}=useTranslation();const[purchaseOrders,setPurchaseOrders]=useState([]);const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(true);const[showCreateModal,setShowCreateModal]=useState(false);const[showDeliveryModal,setShowDeliveryModal]=useState(false);const[selectedOrder,setSelectedOrder]=useState(null);const[deliveryAction,setDeliveryAction]=useState('create');const[showViewModal,setShowViewModal]=useState(false);const[viewOrder,setViewOrder]=useState(null);const[showEditDeliveryModal,setShowEditDeliveryModal]=useState(false);const[selectedDelivery,setSelectedDelivery]=useState(null);const[allDeliveries,setAllDeliveries]=useState([]);const[pendingDeliveries,setPendingDeliveries]=useState([]);const[activeTab,setActiveTab]=useState('orders');const[orderFilter,setOrderFilter]=useState('active');const[isMobile,setIsMobile]=useState(false);const api=useApi();useEffect(()=>{const checkScreenSize=()=>{setIsMobile(window.innerWidth<768);};checkScreenSize();window.addEventListener('resize',checkScreenSize);return()=>window.removeEventListener('resize',checkScreenSize);},[]);useEffect(()=>{fetchData();},[]);// eslint-disable-line react-hooks/exhaustive-deps\nconst fetchData=async()=>{try{setLoading(true);const[ordersResponse,suppliersResponse,deliveriesResponse,allDeliveriesResponse]=await Promise.all([api.get('/api/purchases/purchase-orders/'),api.get('/api/purchases/suppliers/'),api.get('/api/purchases/deliveries/pending/'),api.get('/api/purchases/deliveries/')]);setPurchaseOrders(ordersResponse.data.results||ordersResponse.data);setSuppliers(suppliersResponse.data.results||suppliersResponse.data);setPendingDeliveries(deliveriesResponse.data.results||deliveriesResponse.data);setAllDeliveries(allDeliveriesResponse.data.results||allDeliveriesResponse.data);}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);}};const handleCreateOrder=async orderData=>{try{await api.post('/api/purchases/purchase-orders/',orderData);fetchData();setShowCreateModal(false);}catch(error){var _error$response,_error$response$data;console.error('Error creating purchase order:',error);alert('Error creating purchase order: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message));}};const handleCreateDelivery=async deliveryData=>{try{await api.post('/api/purchases/deliveries/',deliveryData);fetchData();setShowDeliveryModal(false);setSelectedOrder(null);}catch(error){var _error$response2,_error$response2$data;console.error('Error creating delivery:',error);alert('Error creating delivery: '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message));}};const handleCreateDeliveryAndArchiveOrder=async deliveryData=>{try{await api.post('/api/purchases/deliveries/',deliveryData);await api.patch(\"/api/purchases/purchase-orders/\".concat(selectedOrder.id,\"/\"),{status:'archived'});fetchData();setShowDeliveryModal(false);setSelectedOrder(null);alert('Delivery created and purchase order archived successfully!');}catch(error){var _error$response3,_error$response3$data;console.error('Error creating delivery and archiving order:',error);alert('Error: '+(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||error.message));}};const handleArchiveOrder=async orderId=>{if(window.confirm('Are you sure you want to archive this purchase order?')){try{await api.patch(\"/purchases/purchase-orders/\".concat(orderId,\"/\"),{status:'archived'});fetchData();alert('Purchase order archived successfully!');}catch(error){var _error$response4,_error$response4$data;console.error('Error archiving purchase order:',error);alert('Error archiving purchase order: '+(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||error.message));}}};const handleDeleteOrder=async orderId=>{if(window.confirm('Are you sure you want to permanently delete this archived purchase order? This action cannot be undone.')){try{await api.delete(\"/api/purchases/purchase-orders/\".concat(orderId,\"/\"));fetchData();alert('Purchase order deleted successfully');}catch(error){var _error$response5,_error$response5$data;console.error('Error deleting purchase order:',error);alert('Error deleting purchase order: '+(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||error.message));}}};const handleDeleteAllArchived=async()=>{const archivedOrders=purchaseOrders.filter(order=>order.status==='archived');if(archivedOrders.length===0){alert('No archived orders to delete');return;}const confirmMessage=\"Are you sure you want to permanently delete ALL \".concat(archivedOrders.length,\" archived purchase orders? This action cannot be undone.\");if(window.confirm(confirmMessage)){try{const deletePromises=archivedOrders.map(order=>api.delete(\"/api/purchases/purchase-orders/\".concat(order.id,\"/\")));await Promise.all(deletePromises);fetchData();alert(\"Successfully deleted \".concat(archivedOrders.length,\" archived purchase orders\"));}catch(error){var _error$response6,_error$response6$data;console.error('Error deleting archived orders:',error);alert('Error deleting archived orders: '+(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||error.message));}}};const handleConfirmDelivery=async deliveryId=>{if(window.confirm('Are you sure you want to confirm this delivery? This will update the stock quantities.')){try{await api.post('/api/purchases/deliveries/confirm/',{delivery_id:deliveryId});fetchData();alert('Delivery confirmed and stock updated successfully!');}catch(error){var _error$response7,_error$response7$data;console.error('Error confirming delivery:',error);alert('Error confirming delivery: '+(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.detail)||error.message));}}};const handleViewOrder=order=>{setViewOrder(order);setShowViewModal(true);};const handleEditDelivery=delivery=>{setSelectedDelivery(delivery);setShowEditDeliveryModal(true);};const handleUpdateDelivery=async deliveryData=>{try{await api.patch(\"/purchases/deliveries/\".concat(selectedDelivery.id,\"/\"),deliveryData);fetchData();setShowEditDeliveryModal(false);setSelectedDelivery(null);alert('Delivery updated successfully!');}catch(error){var _error$response8,_error$response8$data;console.error('Error updating delivery:',error);alert('Error updating delivery: '+(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.detail)||error.message));}};const handleDeleteDelivery=async deliveryId=>{if(window.confirm('Are you sure you want to permanently delete this delivery? This action cannot be undone.')){try{await api.delete(\"/api/purchases/deliveries/\".concat(deliveryId,\"/\"));fetchData();alert('Delivery deleted successfully');}catch(error){var _error$response9,_error$response9$data;console.error('Error deleting delivery:',error);alert('Error deleting delivery: '+(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.detail)||error.message));}}};const getStatusBadge=status=>{const statusClasses={draft:'status-draft',sent:'status-sent',confirmed:'status-confirmed',partially_delivered:'status-partial',delivered:'status-delivered',cancelled:'status-cancelled',archived:'status-archived'};return/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(statusClasses[status]||'status-default'),children:isMobile?status.charAt(0).toUpperCase():status.replace('_',' ').toUpperCase()});};// Mobile Card Components\nconst PurchaseOrderCard=_ref2=>{var _order$supplier;let{order}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"purchase-order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"order-number\",children:order.order_number}),/*#__PURE__*/_jsx(\"span\",{className:\"supplier-name\",children:(_order$supplier=order.supplier)===null||_order$supplier===void 0?void 0:_order$supplier.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-status\",children:getStatusBadge(order.status)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Order Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:new Date(order.order_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Expected Delivery:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:order.expected_delivery_date?new Date(order.expected_delivery_date).toLocaleDateString():'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value amount\",children:[parseFloat(order.total_amount).toFixed(2),\" MGA\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(PrintButton,{data:order,title:\"Purchase Order\",type:\"purchase_order\",printText:isMobile?\"ðŸ“„\":\"Print\",className:\"print-po-btn\",size:\"small\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>{setSelectedOrder(order);setDeliveryAction('create');setShowDeliveryModal(true);},disabled:order.status==='cancelled'||order.status==='delivered'||order.status==='archived',fullWidth:isMobile,children:isMobile?'ðŸ“¦ Create':'Create Delivery'}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>{setSelectedOrder(order);setDeliveryAction('create_and_archive');setShowDeliveryModal(true);},disabled:order.status==='cancelled'||order.status==='delivered'||order.status==='archived',fullWidth:isMobile,children:isMobile?'ðŸ“¦âœ“ Create & Archive':'Create & Archive Order'}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleViewOrder(order),fullWidth:isMobile,children:isMobile?'ðŸ‘ï¸ View':'View Order'}),order.status==='archived'&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"danger\",onClick:()=>handleDeleteOrder(order.id),fullWidth:isMobile,children:isMobile?'ðŸ—‘ï¸ Delete':'Delete'})]})})]});};const DeliveryCard=_ref3=>{var _delivery$purchase_or4;let{delivery}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"delivery-number\",children:delivery.delivery_number}),/*#__PURE__*/_jsxs(\"span\",{className:\"order-number\",children:[\"PO: \",(_delivery$purchase_or4=delivery.purchase_order)===null||_delivery$purchase_or4===void 0?void 0:_delivery$purchase_or4.order_number]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-status\",children:getStatusBadge(delivery.status)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Delivery Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:new Date(delivery.delivery_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value amount\",children:[parseFloat(delivery.total_amount).toFixed(2),\" MGA\"]})]}),delivery.received_by&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Received By:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:delivery.received_by})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(PrintButton,{data:delivery,title:\"Delivery Receipt\",type:\"delivery\",printText:isMobile?\"ðŸ“„\":\"Print\",className:\"print-delivery-btn\",size:\"small\"}),delivery.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>handleConfirmDelivery(delivery.id),fullWidth:isMobile,children:isMobile?'âœ“ Confirm':'Confirm & Update Stock'}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>handleEditDelivery(delivery),fullWidth:isMobile,children:isMobile?'âœï¸ Edit':'Edit Delivery'})]}),delivery.status==='completed'&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleViewOrder(delivery.purchase_order),fullWidth:isMobile,children:isMobile?'ðŸ‘ï¸ View PO':'View Order'})]})})]});};const purchaseOrderColumns=[{key:'order_number',label:'Order Number',render:(value,row)=>{var _row$supplier;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-number\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"supplier-name\",children:(_row$supplier=row.supplier)===null||_row$supplier===void 0?void 0:_row$supplier.name})]});}},{key:'status',label:'Status',render:value=>getStatusBadge(value)},{key:'order_date',label:'Order Date',render:value=>new Date(value).toLocaleDateString()},{key:'expected_delivery_date',label:'Expected Delivery',render:value=>value?new Date(value).toLocaleDateString():'-'},{key:'total_amount',label:'Total Amount',render:value=>\"\".concat(parseFloat(value).toFixed(2),\" MGA\")},{key:'actions',label:'Actions',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(PrintButton,{data:row,title:\"Purchase Order\",type:\"purchase_order\",printText:\"Print\",className:\"print-po-btn\",size:\"small\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>{setSelectedOrder(row);setDeliveryAction('create');setShowDeliveryModal(true);},disabled:row.status==='cancelled'||row.status==='delivered'||row.status==='archived',children:\"Create Delivery\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>{setSelectedOrder(row);setDeliveryAction('create_and_archive');setShowDeliveryModal(true);},disabled:row.status==='cancelled'||row.status==='delivered'||row.status==='archived',children:\"Create & Archive\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleViewOrder(row),children:\"View\"}),row.status==='archived'&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"danger\",onClick:()=>handleDeleteOrder(row.id),children:\"Delete\"})]})}];const deliveryColumns=[{key:'delivery_number',label:'Delivery Number',render:(value,row)=>{var _row$purchase_order;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"delivery-number\",children:value}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-number\",children:[\"PO: \",(_row$purchase_order=row.purchase_order)===null||_row$purchase_order===void 0?void 0:_row$purchase_order.order_number]})]});}},{key:'status',label:'Status',render:value=>getStatusBadge(value)},{key:'delivery_date',label:'Delivery Date',render:value=>new Date(value).toLocaleDateString()},{key:'total_amount',label:'Total Amount',render:value=>\"\".concat(parseFloat(value).toFixed(2),\" MGA\")},{key:'actions',label:'Actions',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(PrintButton,{data:row,title:\"Delivery Receipt\",type:\"delivery\",printText:\"Print\",className:\"print-delivery-btn\",size:\"small\"}),['pending','received','verified'].includes(row.status)&&/*#__PURE__*/_jsxs(_Fragment,{children:[row.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>handleConfirmDelivery(row.id),children:\"Confirm\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>handleEditDelivery(row),children:\"Edit\"})]}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"danger\",onClick:()=>handleDeleteDelivery(row.id),title:\"Delete this delivery\",children:\"Delete\"})]}),row.status==='completed'&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleViewOrder(row.purchase_order),children:\"View PO\"})]})}];const deliveryHistoryColumns=[{key:'delivery_number',label:'Delivery Number',render:(value,row)=>{var _row$purchase_order2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"delivery-number\",children:value}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-number\",children:[\"PO: \",(_row$purchase_order2=row.purchase_order)===null||_row$purchase_order2===void 0?void 0:_row$purchase_order2.order_number]})]});}},{key:'status',label:'Status',render:value=>getStatusBadge(value)},{key:'delivery_date',label:'Delivery Date',render:value=>new Date(value).toLocaleDateString()},{key:'received_date',label:'Received Date',render:value=>value?/*#__PURE__*/_jsx(\"span\",{className:\"received-date\",children:new Date(value).toLocaleDateString()}):/*#__PURE__*/_jsx(\"span\",{className:\"received-date empty\",children:\"Not received\"})},{key:'total_amount',label:'Total Amount',render:value=>\"\".concat(parseFloat(value).toFixed(2),\" MGA\")},{key:'received_by',label:'Received By',render:value=>value?/*#__PURE__*/_jsx(\"span\",{className:\"received-by\",children:value}):/*#__PURE__*/_jsx(\"span\",{className:\"received-by\",children:\"-\"})},{key:'actions',label:'Actions',render:(value,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(PrintButton,{data:row,title:\"Delivery Receipt\",type:\"delivery\",printText:\"Print\",className:\"print-delivery-history-btn\",size:\"small\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outline\",onClick:()=>handleViewOrder(row.purchase_order),children:\"View PO\"})]})}];if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"page-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading purchase orders...\"})]});}const getCurrentData=()=>{switch(activeTab){case'orders':const filteredOrders=orderFilter==='archived'?purchaseOrders.filter(order=>order.status==='archived'):purchaseOrders.filter(order=>order.status!=='archived');return{data:filteredOrders,columns:purchaseOrderColumns,emptyMessage:orderFilter==='archived'?t('empty_messages.no_archived_purchase_orders'):t('empty_messages.no_active_purchase_orders')};case'pending':return{data:pendingDeliveries,columns:deliveryColumns,emptyMessage:t('empty_messages.no_pending_deliveries')};case'history':return{data:allDeliveries,columns:deliveryHistoryColumns,emptyMessage:t('empty_messages.no_delivery_history')};default:return{data:[],columns:[],emptyMessage:t('app.no_data_available')};}};const currentData=getCurrentData();return/*#__PURE__*/_jsxs(\"div\",{className:\"purchase-orders\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:t('titles.purchase_orders_delivery')}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>setShowCreateModal(true),size:isMobile?\"small\":\"medium\",fullWidth:isMobile,children:isMobile?'ðŸ“ Create PO':'Create Purchase Order'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"management-layout \".concat(isMobile?'mobile-layout':'desktop-layout'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"navigation-section \".concat(isMobile?'mobile-nav':'desktop-nav'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"nav-tab \".concat(activeTab==='orders'?'active':''),onClick:()=>setActiveTab('orders'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:isMobile?'Orders':t('titles.purchase_orders')}),/*#__PURE__*/_jsxs(\"span\",{className:\"tab-count\",children:[\"(\",purchaseOrders.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-tab \".concat(activeTab==='pending'?'active':''),onClick:()=>setActiveTab('pending'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:isMobile?'Pending':'Pending Deliveries'}),/*#__PURE__*/_jsxs(\"span\",{className:\"tab-count\",children:[\"(\",pendingDeliveries.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-tab \".concat(activeTab==='history'?'active':''),onClick:()=>setActiveTab('history'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:isMobile?'History':'Delivery History'}),/*#__PURE__*/_jsxs(\"span\",{className:\"tab-count\",children:[\"(\",allDeliveries.length,\")\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"content-header\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[activeTab==='orders'&&(isMobile?'Purchase Orders':t('titles.purchase_orders')),activeTab==='pending'&&(isMobile?'Pending Deliveries':'Pending Deliveries'),activeTab==='history'&&(isMobile?'Delivery History':'Delivery History')]})}),activeTab==='orders'&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-filter-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"filter-btn \".concat(orderFilter==='active'?'active':''),onClick:()=>setOrderFilter('active'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"filter-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"filter-text\",children:isMobile?'Active':'Active Orders'}),/*#__PURE__*/_jsxs(\"span\",{className:\"filter-count\",children:[\"(\",purchaseOrders.filter(order=>order.status!=='archived').length,\")\"]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"filter-btn \".concat(orderFilter==='archived'?'active':''),onClick:()=>setOrderFilter('archived'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"filter-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"filter-text\",children:isMobile?'Archived':'Archived Orders'}),/*#__PURE__*/_jsxs(\"span\",{className:\"filter-count\",children:[\"(\",purchaseOrders.filter(order=>order.status==='archived').length,\")\"]})]})]}),orderFilter==='archived'&&purchaseOrders.filter(order=>order.status==='archived').length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bulk-actions\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",size:\"small\",onClick:handleDeleteAllArchived,fullWidth:isMobile,children:isMobile?'ðŸ—‘ï¸ Delete All':'ðŸ—‘ï¸ Delete All Archived'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:isMobile?/*#__PURE__*/_jsx(\"div\",{className:\"mobile-cards-container\",children:currentData.data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:currentData.emptyMessage})}):/*#__PURE__*/_jsx(\"div\",{className:\"cards-grid\",children:currentData.data.map(item=>activeTab==='orders'?/*#__PURE__*/_jsx(PurchaseOrderCard,{order:item},item.id):/*#__PURE__*/_jsx(DeliveryCard,{delivery:item},item.id))})}):/*#__PURE__*//* Desktop Table View */_jsx(Table,{data:currentData.data,columns:currentData.columns,emptyMessage:currentData.emptyMessage})})]})]}),showCreateModal&&/*#__PURE__*/_jsx(PurchaseOrderModal,{suppliers:suppliers,onClose:()=>setShowCreateModal(false),onSubmit:handleCreateOrder,isMobile:isMobile}),showDeliveryModal&&selectedOrder&&/*#__PURE__*/_jsx(DeliveryModal,{purchaseOrder:selectedOrder,action:deliveryAction,onClose:()=>{setShowDeliveryModal(false);setSelectedOrder(null);setDeliveryAction('create');},onSubmit:deliveryAction==='create_and_archive'?handleCreateDeliveryAndArchiveOrder:handleCreateDelivery,isMobile:isMobile}),showViewModal&&viewOrder&&/*#__PURE__*/_jsx(ViewOrderModal,{order:viewOrder,onClose:()=>{setShowViewModal(false);setViewOrder(null);},isMobile:isMobile}),showEditDeliveryModal&&selectedDelivery&&/*#__PURE__*/_jsx(EditDeliveryModal,{delivery:selectedDelivery,onClose:()=>{setShowEditDeliveryModal(false);setSelectedDelivery(null);},onSubmit:handleUpdateDelivery})]});};// ViewOrderModal Component\nconst ViewOrderModal=_ref4=>{var _order$supplier2,_order$created_by,_order$items,_order$items2;let{order,onClose,isMobile=false}=_ref4;const{t}=useTranslation();return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content view-order-modal \".concat(isMobile?'mobile-modal':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Purchase Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(PrintButton,{data:order,title:t('titles.purchase_order'),type:\"purchase_order\",printText:isMobile?\"ðŸ“„\":t('buttons.print_order'),className:\"print-view-order-btn\",size:isMobile?\"small\":\"medium\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid \".concat(isMobile?'mobile-grid':'desktop-grid'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Number:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.order_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Supplier:\"}),/*#__PURE__*/_jsx(\"span\",{children:(_order$supplier2=order.supplier)===null||_order$supplier2===void 0?void 0:_order$supplier2.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge status-\".concat(order.status),children:order.status.replace('_',' ').toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(order.order_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expected Delivery:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.expected_delivery_date?new Date(order.expected_delivery_date).toLocaleDateString():'Not specified'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Created By:\"}),/*#__PURE__*/_jsx(\"span\",{children:((_order$created_by=order.created_by)===null||_order$created_by===void 0?void 0:_order$created_by.username)||'Unknown'})]})]})]}),order.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"notes-content\",children:order.notes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"items-table \".concat(isMobile?'mobile-items':'desktop-items'),children:!isMobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"items-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"span\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unit Cost\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tax\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Line Total\"})]}),(_order$items=order.items)===null||_order$items===void 0?void 0:_order$items.map((item,index)=>{var _item$product,_item$product2;return/*#__PURE__*/_jsxs(\"div\",{className:\"item-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:(_item$product=item.product)===null||_item$product===void 0?void 0:_item$product.name}),/*#__PURE__*/_jsx(\"span\",{children:(_item$product2=item.product)===null||_item$product2===void 0?void 0:_item$product2.sku}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity_ordered}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(item.unit_cost).toFixed(2),\" MGA\"]}),/*#__PURE__*/_jsx(\"span\",{children:item.tax_class?\"\".concat(item.tax_class.name,\" (\").concat(item.tax_class.tax_rate,\"%)\"):'No Tax'}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(item.line_total).toFixed(2),\" MGA\"]})]},index);})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mobile-items-list\",children:(_order$items2=order.items)===null||_order$items2===void 0?void 0:_order$items2.map((item,index)=>{var _item$product3,_item$product4;return/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item-header\",children:[/*#__PURE__*/_jsx(\"strong\",{children:(_item$product3=item.product)===null||_item$product3===void 0?void 0:_item$product3.name}),/*#__PURE__*/_jsx(\"span\",{className:\"sku\",children:(_item$product4=item.product)===null||_item$product4===void 0?void 0:_item$product4.sku})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-item-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity_ordered})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Unit Cost:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(item.unit_cost).toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Tax:\"}),/*#__PURE__*/_jsx(\"span\",{children:item.tax_class?\"\".concat(item.tax_class.name,\" (\").concat(item.tax_class.tax_rate,\"%)\"):'No Tax'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Line Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(item.line_total).toFixed(2),\" MGA\"]})]})]})]},index);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid \".concat(isMobile?'mobile-summary':'desktop-summary'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(order.subtotal).toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tax Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(order.tax_amount).toFixed(2),\" MGA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item total\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(order.total_amount).toFixed(2),\" MGA\"]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onClose,fullWidth:isMobile,children:\"Close\"})})]})});};export default PurchaseOrders;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","useApi","Button","Table","PurchaseOrderModal","DeliveryModal","PrintButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditDeliveryModal","_ref","_delivery$purchase_or","_delivery$purchase_or2","_delivery$purchase_or3","delivery","onClose","onSubmit","t","formData","setFormData","notes","items","map","item","_item$purchase_order_","_item$tax_class","id","product_id","product","purchase_order_item_id","purchase_order_item","quantity_received","unit_cost","tax_class_id","tax_class","condition_notes","loading","setLoading","isMobile","setIsMobile","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","handleInputChange","e","name","value","target","prev","_objectSpread","handleItemChange","index","field","i","handleSubmit","preventDefault","hasItems","some","alert","deliveryData","filter","parseInt","parseFloat","error","console","calculateItemTotal","quantity","unitCost","calculateTaxAmount","lineTotal","originalItem","find","delItem","tax_rate","calculateTotals","subtotal","taxAmount","forEach","total","totals","className","children","concat","data","title","type","printText","size","onClick","delivery_number","purchase_order","order_number","supplier","htmlFor","onChange","rows","taxClass","sku","min","required","step","placeholder","toFixed","variant","disabled","fullWidth","PurchaseOrders","purchaseOrders","setPurchaseOrders","suppliers","setSuppliers","showCreateModal","setShowCreateModal","showDeliveryModal","setShowDeliveryModal","selectedOrder","setSelectedOrder","deliveryAction","setDeliveryAction","showViewModal","setShowViewModal","viewOrder","setViewOrder","showEditDeliveryModal","setShowEditDeliveryModal","selectedDelivery","setSelectedDelivery","allDeliveries","setAllDeliveries","pendingDeliveries","setPendingDeliveries","activeTab","setActiveTab","orderFilter","setOrderFilter","api","fetchData","ordersResponse","suppliersResponse","deliveriesResponse","allDeliveriesResponse","Promise","all","get","results","handleCreateOrder","orderData","post","_error$response","_error$response$data","response","detail","message","handleCreateDelivery","_error$response2","_error$response2$data","handleCreateDeliveryAndArchiveOrder","patch","status","_error$response3","_error$response3$data","handleArchiveOrder","orderId","confirm","_error$response4","_error$response4$data","handleDeleteOrder","delete","_error$response5","_error$response5$data","handleDeleteAllArchived","archivedOrders","order","length","confirmMessage","deletePromises","_error$response6","_error$response6$data","handleConfirmDelivery","deliveryId","delivery_id","_error$response7","_error$response7$data","handleViewOrder","handleEditDelivery","handleUpdateDelivery","_error$response8","_error$response8$data","handleDeleteDelivery","_error$response9","_error$response9$data","getStatusBadge","statusClasses","draft","sent","confirmed","partially_delivered","delivered","cancelled","archived","charAt","toUpperCase","replace","PurchaseOrderCard","_ref2","_order$supplier","Date","order_date","toLocaleDateString","expected_delivery_date","total_amount","DeliveryCard","_ref3","_delivery$purchase_or4","delivery_date","received_by","purchaseOrderColumns","key","label","render","row","_row$supplier","deliveryColumns","_row$purchase_order","includes","deliveryHistoryColumns","_row$purchase_order2","getCurrentData","filteredOrders","columns","emptyMessage","currentData","purchaseOrder","action","ViewOrderModal","_ref4","_order$supplier2","_order$created_by","_order$items","_order$items2","created_by","username","_item$product","_item$product2","quantity_ordered","line_total","_item$product3","_item$product4","tax_amount"],"sources":["/home/el-ifran/WareHouse_Manager/elif-orders-app/beverage_management_system/src/pages/PurchaseOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../hooks/useApi';\nimport Button from '../components/Button';\nimport Table from '../components/Table';\nimport PurchaseOrderModal from '../components/PurchaseOrderModal';\nimport DeliveryModal from '../components/DeliveryModal';\nimport PrintButton from '../components/PrintButton';\nimport './PurchaseOrders.css';\n\n// EditDeliveryModal Component\nconst EditDeliveryModal = ({ delivery, onClose, onSubmit }) => {\n  const { t } = useTranslation();\n  const [formData, setFormData] = useState({\n    notes: delivery.notes || '',\n    items: (delivery.items || []).map(item => ({\n      id: item.id,\n      product_id: item.product.id,\n      purchase_order_item_id: item.purchase_order_item?.id, // <-- Add this field\n      quantity_received: item.quantity_received,\n      unit_cost: item.unit_cost,\n      tax_class_id: item.tax_class?.id || '',\n      condition_notes: item.condition_notes || ''\n    }))\n  });\n  const [loading, setLoading] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkScreenSize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    return () => window.removeEventListener('resize', checkScreenSize);\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleItemChange = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      items: prev.items.map((item, i) =>\n        i === index ? { ...item, [field]: value } : item\n      )\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate that at least one item has quantity > 0\n    const hasItems = formData.items.some(item => item.quantity_received > 0);\n    if (!hasItems) {\n      alert('Please specify quantities for at least one item');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Convert data types to ensure proper API format\n      const deliveryData = {\n        notes: formData.notes,\n        items: formData.items.filter(item => item.quantity_received > 0).map(item => ({\n          id: item.id,\n          product_id: parseInt(item.product_id),\n          purchase_order_item_id: item.purchase_order_item_id, // <-- Always send this\n          quantity_received: parseFloat(item.quantity_received),\n          unit_cost: parseFloat(item.unit_cost),\n          tax_class_id: item.tax_class_id ? parseInt(item.tax_class_id) : null,\n          condition_notes: item.condition_notes\n        }))\n      };\n      await onSubmit(deliveryData);\n    } catch (error) {\n      console.error('Error updating delivery:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateItemTotal = (item) => {\n    const quantity = parseFloat(item.quantity_received) || 0;\n    const unitCost = parseFloat(item.unit_cost) || 0;\n    return quantity * unitCost;\n  };\n\n  const calculateTaxAmount = (item) => {\n    const lineTotal = calculateItemTotal(item);\n    const originalItem = delivery.items.find(delItem => delItem.id === item.id);\n    if (originalItem?.tax_class) {\n      return lineTotal * (parseFloat(originalItem.tax_class.tax_rate) / 100);\n    }\n    return 0;\n  };\n\n  const calculateTotals = () => {\n    let subtotal = 0;\n    let taxAmount = 0;\n    formData.items.forEach(item => {\n      subtotal += calculateItemTotal(item);\n      taxAmount += calculateTaxAmount(item);\n    });\n    const total = subtotal + taxAmount;\n    return { subtotal, taxAmount, total };\n  };\n\n  const totals = calculateTotals();\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className={`modal-content delivery-modal ${isMobile ? 'mobile-modal' : ''}`}>\n        <div className=\"modal-header\">\n          <h2>Edit Delivery</h2>\n          <div className=\"header-actions\">\n            <PrintButton\n              data={delivery}\n              title=\"Delivery Receipt\"\n              type=\"delivery\"\n              printText={isMobile ? \"ðŸ“„\" : \"Print Receipt\"}\n              className=\"print-edit-delivery-btn\"\n              size={isMobile ? \"small\" : \"medium\"}\n            />\n            <button className=\"close-button\" onClick={onClose}>Ã—</button>\n          </div>\n        </div>\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"modal-body\">\n            <div className=\"delivery-info\">\n              <div className=\"info-grid\">\n                <div className=\"info-row\">\n                  <span className=\"label\">Delivery Number:</span>\n                  <span className=\"value\">{delivery.delivery_number}</span>\n                </div>\n                <div className=\"info-row\">\n                  <span className=\"label\">Purchase Order:</span>\n                  <span className=\"value\">{delivery.purchase_order?.order_number}</span>\n                </div>\n                <div className=\"info-row\">\n                  <span className=\"label\">Supplier:</span>\n                  <span className=\"value\">{delivery.purchase_order?.supplier?.name}</span>\n                </div>\n              </div>\n              <div className=\"form-group full-width\">\n                <label htmlFor=\"notes\">Delivery Notes</label>\n                <textarea\n                  id=\"notes\"\n                  name=\"notes\"\n                  value={formData.notes}\n                  onChange={handleInputChange}\n                  rows={isMobile ? 2 : 3}\n                ></textarea>\n              </div>\n            </div>\n\n            <div className=\"form-section\">\n              <h3>Items to Receive</h3>\n              <div className={`delivery-items ${isMobile ? 'mobile-view' : 'desktop-view'}`}>\n                {!isMobile ? (\n                  <>\n                    <div className=\"delivery-items-header\">\n                      <span>Product</span>\n                      <span>Received</span>\n                      <span>Unit Cost</span>\n                      <span>Tax Rate</span>\n                      <span>Condition Notes</span>\n                      <span>Line Total</span>\n                      <span>Tax Amount</span>\n                    </div>\n                    {formData.items.map((item, index) => {\n                      const originalItem = delivery.items.find(delItem => delItem.id === item.id);\n                      const product = originalItem?.product;\n                      const taxClass = originalItem?.tax_class;\n\n                      return (\n                        <div key={item.id} className=\"delivery-item-row\">\n                          <span className=\"product-name\">{product?.name} ({product?.sku})</span>\n                          <input\n                            type=\"number\"\n                            value={item.quantity_received}\n                            onChange={(e) => handleItemChange(index, 'quantity_received', e.target.value)}\n                            min=\"0\"\n                            required\n                          />\n                          <input\n                            type=\"number\"\n                            value={item.unit_cost}\n                            onChange={(e) => handleItemChange(index, 'unit_cost', e.target.value)}\n                            step=\"0.01\"\n                            min=\"0\"\n                            required\n                          />\n                          <span>{taxClass ? `${taxClass.name} (${taxClass.tax_rate}%)` : 'N/A'}</span>\n                          <input\n                            type=\"text\"\n                            value={item.condition_notes}\n                            onChange={(e) => handleItemChange(index, 'condition_notes', e.target.value)}\n                            placeholder=\"Condition notes...\"\n                          />\n                          <span>{calculateItemTotal(item).toFixed(2)} MGA</span>\n                          <span>{calculateTaxAmount(item).toFixed(2)} MGA</span>\n                        </div>\n                      );\n                    })}\n                  </>\n                ) : (\n                  // Mobile view for delivery items\n                  <div className=\"mobile-delivery-items\">\n                    {formData.items.map((item, index) => {\n                      const originalItem = delivery.items.find(delItem => delItem.id === item.id);\n                      const product = originalItem?.product;\n                      const taxClass = originalItem?.tax_class;\n\n                      return (\n                        <div key={item.id} className=\"mobile-delivery-item\">\n                          <div className=\"mobile-item-header\">\n                            <strong>{product?.name}</strong>\n                            <span className=\"sku\">{product?.sku}</span>\n                          </div>\n                          <div className=\"mobile-item-fields\">\n                            <div className=\"field-group\">\n                              <label>Quantity Received</label>\n                              <input\n                                type=\"number\"\n                                value={item.quantity_received}\n                                onChange={(e) => handleItemChange(index, 'quantity_received', e.target.value)}\n                                min=\"0\"\n                                required\n                              />\n                            </div>\n                            <div className=\"field-group\">\n                              <label>Unit Cost (MGA)</label>\n                              <input\n                                type=\"number\"\n                                value={item.unit_cost}\n                                onChange={(e) => handleItemChange(index, 'unit_cost', e.target.value)}\n                                step=\"0.01\"\n                                min=\"0\"\n                                required\n                              />\n                            </div>\n                            <div className=\"field-group\">\n                              <label>Tax Rate</label>\n                              <span className=\"tax-info\">{taxClass ? `${taxClass.name} (${taxClass.tax_rate}%)` : 'N/A'}</span>\n                            </div>\n                            <div className=\"field-group full-width\">\n                              <label>Condition Notes</label>\n                              <input\n                                type=\"text\"\n                                value={item.condition_notes}\n                                onChange={(e) => handleItemChange(index, 'condition_notes', e.target.value)}\n                                placeholder=\"Condition notes...\"\n                              />\n                            </div>\n                            <div className=\"mobile-item-totals\">\n                              <span>Line Total: {calculateItemTotal(item).toFixed(2)} MGA</span>\n                              <span>Tax: {calculateTaxAmount(item).toFixed(2)} MGA</span>\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"order-summary\">\n              <div className=\"summary-item\">\n                <span>Subtotal:</span>\n                <span>{totals.subtotal.toFixed(2)} MGA</span>\n              </div>\n              <div className=\"summary-item\">\n                <span>Tax:</span>\n                <span>{totals.taxAmount.toFixed(2)} MGA</span>\n              </div>\n              <div className=\"summary-item total-amount\">\n                <span>Total:</span>\n                <span>{totals.total.toFixed(2)} MGA</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"modal-actions\">\n            <Button \n              type=\"button\" \n              variant=\"secondary\" \n              onClick={onClose} \n              disabled={loading}\n              fullWidth={isMobile}\n            >\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              variant=\"primary\" \n              disabled={loading}\n              fullWidth={isMobile}\n            >\n              {loading ? 'Updating...' : 'Update Delivery'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst PurchaseOrders = () => {\n  const { t } = useTranslation();\n  const [purchaseOrders, setPurchaseOrders] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDeliveryModal, setShowDeliveryModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [deliveryAction, setDeliveryAction] = useState('create');\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [viewOrder, setViewOrder] = useState(null);\n  const [showEditDeliveryModal, setShowEditDeliveryModal] = useState(false);\n  const [selectedDelivery, setSelectedDelivery] = useState(null);\n  const [allDeliveries, setAllDeliveries] = useState([]);\n  const [pendingDeliveries, setPendingDeliveries] = useState([]);\n  const [activeTab, setActiveTab] = useState('orders');\n  const [orderFilter, setOrderFilter] = useState('active');\n  const [isMobile, setIsMobile] = useState(false);\n  const api = useApi();\n\n  useEffect(() => {\n    const checkScreenSize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    return () => window.removeEventListener('resize', checkScreenSize);\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const [ordersResponse, suppliersResponse, deliveriesResponse, allDeliveriesResponse] = await Promise.all([\n        api.get('/api/purchases/purchase-orders/'),\n        api.get('/api/purchases/suppliers/'),\n        api.get('/api/purchases/deliveries/pending/'),\n        api.get('/api/purchases/deliveries/')\n      ]);\n\n      setPurchaseOrders(ordersResponse.data.results || ordersResponse.data);\n      setSuppliers(suppliersResponse.data.results || suppliersResponse.data);\n      setPendingDeliveries(deliveriesResponse.data.results || deliveriesResponse.data);\n      setAllDeliveries(allDeliveriesResponse.data.results || allDeliveriesResponse.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateOrder = async (orderData) => {\n    try {\n      await api.post('/api/purchases/purchase-orders/', orderData);\n      fetchData();\n      setShowCreateModal(false);\n    } catch (error) {\n      console.error('Error creating purchase order:', error);\n      alert('Error creating purchase order: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const handleCreateDelivery = async (deliveryData) => {\n    try {\n      await api.post('/api/purchases/deliveries/', deliveryData);\n      fetchData();\n      setShowDeliveryModal(false);\n      setSelectedOrder(null);\n    } catch (error) {\n      console.error('Error creating delivery:', error);\n      alert('Error creating delivery: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const handleCreateDeliveryAndArchiveOrder = async (deliveryData) => {\n    try {\n      await api.post('/api/purchases/deliveries/', deliveryData);\n      await api.patch(`/api/purchases/purchase-orders/${selectedOrder.id}/`, { status: 'archived' });\n      \n      fetchData();\n      setShowDeliveryModal(false);\n      setSelectedOrder(null);\n      alert('Delivery created and purchase order archived successfully!');\n    } catch (error) {\n      console.error('Error creating delivery and archiving order:', error);\n      alert('Error: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const handleArchiveOrder = async (orderId) => {\n    if (window.confirm('Are you sure you want to archive this purchase order?')) {\n      try {\n        await api.patch(`/purchases/purchase-orders/${orderId}/`, { status: 'archived' });\n        fetchData();\n        alert('Purchase order archived successfully!');\n      } catch (error) {\n        console.error('Error archiving purchase order:', error);\n        alert('Error archiving purchase order: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const handleDeleteOrder = async (orderId) => {\n    if (window.confirm('Are you sure you want to permanently delete this archived purchase order? This action cannot be undone.')) {\n      try {\n        await api.delete(`/api/purchases/purchase-orders/${orderId}/`);\n        fetchData();\n        alert('Purchase order deleted successfully');\n      } catch (error) {\n        console.error('Error deleting purchase order:', error);\n        alert('Error deleting purchase order: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const handleDeleteAllArchived = async () => {\n    const archivedOrders = purchaseOrders.filter(order => order.status === 'archived');\n    if (archivedOrders.length === 0) {\n      alert('No archived orders to delete');\n      return;\n    }\n\n    const confirmMessage = `Are you sure you want to permanently delete ALL ${archivedOrders.length} archived purchase orders? This action cannot be undone.`;\n    if (window.confirm(confirmMessage)) {\n      try {\n        const deletePromises = archivedOrders.map(order => \n          api.delete(`/api/purchases/purchase-orders/${order.id}/`)\n        );\n        await Promise.all(deletePromises);\n        fetchData();\n        alert(`Successfully deleted ${archivedOrders.length} archived purchase orders`);\n      } catch (error) {\n        console.error('Error deleting archived orders:', error);\n        alert('Error deleting archived orders: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const handleConfirmDelivery = async (deliveryId) => {\n    if (window.confirm('Are you sure you want to confirm this delivery? This will update the stock quantities.')) {\n      try {\n        await api.post('/api/purchases/deliveries/confirm/', { delivery_id: deliveryId });\n        fetchData();\n        alert('Delivery confirmed and stock updated successfully!');\n      } catch (error) {\n        console.error('Error confirming delivery:', error);\n        alert('Error confirming delivery: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const handleViewOrder = (order) => {\n    setViewOrder(order);\n    setShowViewModal(true);\n  };\n\n  const handleEditDelivery = (delivery) => {\n    setSelectedDelivery(delivery);\n    setShowEditDeliveryModal(true);\n  };\n\n  const handleUpdateDelivery = async (deliveryData) => {\n    try {\n      await api.patch(`/purchases/deliveries/${selectedDelivery.id}/`, deliveryData);\n      fetchData();\n      setShowEditDeliveryModal(false);\n      setSelectedDelivery(null);\n      alert('Delivery updated successfully!');\n    } catch (error) {\n      console.error('Error updating delivery:', error);\n      alert('Error updating delivery: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const handleDeleteDelivery = async (deliveryId) => {\n    if (window.confirm('Are you sure you want to permanently delete this delivery? This action cannot be undone.')) {\n      try {\n        await api.delete(`/api/purchases/deliveries/${deliveryId}/`);\n        fetchData();\n        alert('Delivery deleted successfully');\n      } catch (error) {\n        console.error('Error deleting delivery:', error);\n        alert('Error deleting delivery: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusClasses = {\n      draft: 'status-draft',\n      sent: 'status-sent',\n      confirmed: 'status-confirmed',\n      partially_delivered: 'status-partial',\n      delivered: 'status-delivered',\n      cancelled: 'status-cancelled',\n      archived: 'status-archived'\n    };\n    \n    return (\n      <span className={`status-badge ${statusClasses[status] || 'status-default'}`}>\n        {isMobile ? status.charAt(0).toUpperCase() : status.replace('_', ' ').toUpperCase()}\n      </span>\n    );\n  };\n\n  // Mobile Card Components\n  const PurchaseOrderCard = ({ order }) => (\n    <div className=\"purchase-order-card\">\n      <div className=\"card-header\">\n        <div className=\"card-title\">\n          <h3 className=\"order-number\">{order.order_number}</h3>\n          <span className=\"supplier-name\">{order.supplier?.name}</span>\n        </div>\n        <div className=\"card-status\">\n          {getStatusBadge(order.status)}\n        </div>\n      </div>\n      \n      <div className=\"card-details\">\n        <div className=\"detail-row\">\n          <span className=\"label\">Order Date:</span>\n          <span className=\"value\">{new Date(order.order_date).toLocaleDateString()}</span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Expected Delivery:</span>\n          <span className=\"value\">{order.expected_delivery_date ? new Date(order.expected_delivery_date).toLocaleDateString() : '-'}</span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Total Amount:</span>\n          <span className=\"value amount\">{parseFloat(order.total_amount).toFixed(2)} MGA</span>\n        </div>\n      </div>\n\n      <div className=\"card-actions\">\n        <div className=\"action-buttons\">\n          <PrintButton\n            data={order}\n            title=\"Purchase Order\"\n            type=\"purchase_order\"\n            printText={isMobile ? \"ðŸ“„\" : \"Print\"}\n            className=\"print-po-btn\"\n            size=\"small\"\n          />\n          <Button\n            size=\"small\"\n            variant=\"secondary\"\n            onClick={() => {\n              setSelectedOrder(order);\n              setDeliveryAction('create');\n              setShowDeliveryModal(true);\n            }}\n            disabled={order.status === 'cancelled' || order.status === 'delivered' || order.status === 'archived'}\n            fullWidth={isMobile}\n          >\n            {isMobile ? 'ðŸ“¦ Create' : 'Create Delivery'}\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"primary\"\n            onClick={() => {\n              setSelectedOrder(order);\n              setDeliveryAction('create_and_archive');\n              setShowDeliveryModal(true);\n            }}\n            disabled={order.status === 'cancelled' || order.status === 'delivered' || order.status === 'archived'}\n            fullWidth={isMobile}\n          >\n            {isMobile ? 'ðŸ“¦âœ“ Create & Archive' : 'Create & Archive Order'}\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"outline\"\n            onClick={() => handleViewOrder(order)}\n            fullWidth={isMobile}\n          >\n            {isMobile ? 'ðŸ‘ï¸ View' : 'View Order'}\n          </Button>\n          {order.status === 'archived' && (\n            <Button\n              size=\"small\"\n              variant=\"danger\"\n              onClick={() => handleDeleteOrder(order.id)}\n              fullWidth={isMobile}\n            >\n              {isMobile ? 'ðŸ—‘ï¸ Delete' : 'Delete'}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  const DeliveryCard = ({ delivery }) => (\n    <div className=\"delivery-card\">\n      <div className=\"card-header\">\n        <div className=\"card-title\">\n          <h3 className=\"delivery-number\">{delivery.delivery_number}</h3>\n          <span className=\"order-number\">PO: {delivery.purchase_order?.order_number}</span>\n        </div>\n        <div className=\"card-status\">\n          {getStatusBadge(delivery.status)}\n        </div>\n      </div>\n      \n      <div className=\"card-details\">\n        <div className=\"detail-row\">\n          <span className=\"label\">Delivery Date:</span>\n          <span className=\"value\">{new Date(delivery.delivery_date).toLocaleDateString()}</span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Total Amount:</span>\n          <span className=\"value amount\">{parseFloat(delivery.total_amount).toFixed(2)} MGA</span>\n        </div>\n        {delivery.received_by && (\n          <div className=\"detail-row\">\n            <span className=\"label\">Received By:</span>\n            <span className=\"value\">{delivery.received_by}</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"card-actions\">\n        <div className=\"action-buttons\">\n          <PrintButton\n            data={delivery}\n            title=\"Delivery Receipt\"\n            type=\"delivery\"\n            printText={isMobile ? \"ðŸ“„\" : \"Print\"}\n            className=\"print-delivery-btn\"\n            size=\"small\"\n          />\n          {delivery.status === 'pending' && (\n            <>\n              <Button\n                size=\"small\"\n                variant=\"primary\"\n                onClick={() => handleConfirmDelivery(delivery.id)}\n                fullWidth={isMobile}\n              >\n                {isMobile ? 'âœ“ Confirm' : 'Confirm & Update Stock'}\n              </Button>\n              <Button\n                size=\"small\"\n                variant=\"secondary\"\n                onClick={() => handleEditDelivery(delivery)}\n                fullWidth={isMobile}\n              >\n                {isMobile ? 'âœï¸ Edit' : 'Edit Delivery'}\n              </Button>\n            </>\n          )}\n          {delivery.status === 'completed' && (\n            <Button\n              size=\"small\"\n              variant=\"outline\"\n              onClick={() => handleViewOrder(delivery.purchase_order)}\n              fullWidth={isMobile}\n            >\n              {isMobile ? 'ðŸ‘ï¸ View PO' : 'View Order'}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  const purchaseOrderColumns = [\n    {\n      key: 'order_number',\n      label: 'Order Number',\n      render: (value, row) => (\n        <div>\n          <div className=\"order-number\">{value}</div>\n          <div className=\"supplier-name\">{row.supplier?.name}</div>\n        </div>\n      )\n    },\n    {\n      key: 'status',\n      label: 'Status',\n      render: (value) => getStatusBadge(value)\n    },\n    {\n      key: 'order_date',\n      label: 'Order Date',\n      render: (value) => new Date(value).toLocaleDateString()\n    },\n    {\n      key: 'expected_delivery_date',\n      label: 'Expected Delivery',\n      render: (value) => value ? new Date(value).toLocaleDateString() : '-'\n    },\n    {\n      key: 'total_amount',\n      label: 'Total Amount',\n      render: (value) => `${parseFloat(value).toFixed(2)} MGA`\n    },\n    {\n      key: 'actions',\n      label: 'Actions',\n      render: (value, row) => (\n        <div className=\"action-buttons\">\n          <PrintButton\n            data={row}\n            title=\"Purchase Order\"\n            type=\"purchase_order\"\n            printText=\"Print\"\n            className=\"print-po-btn\"\n            size=\"small\"\n          />\n          <Button\n            size=\"small\"\n            variant=\"secondary\"\n            onClick={() => {\n              setSelectedOrder(row);\n              setDeliveryAction('create');\n              setShowDeliveryModal(true);\n            }}\n            disabled={row.status === 'cancelled' || row.status === 'delivered' || row.status === 'archived'}\n          >\n            Create Delivery\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"primary\"\n            onClick={() => {\n              setSelectedOrder(row);\n              setDeliveryAction('create_and_archive');\n              setShowDeliveryModal(true);\n            }}\n            disabled={row.status === 'cancelled' || row.status === 'delivered' || row.status === 'archived'}\n          >\n            Create & Archive\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"outline\"\n            onClick={() => handleViewOrder(row)}\n          >\n            View\n          </Button>\n          {row.status === 'archived' && (\n            <Button\n              size=\"small\"\n              variant=\"danger\"\n              onClick={() => handleDeleteOrder(row.id)}\n            >\n              Delete\n            </Button>\n          )}\n        </div>\n      )\n    }\n  ];\n\n  const deliveryColumns = [\n    {\n      key: 'delivery_number',\n      label: 'Delivery Number',\n      render: (value, row) => (\n        <div>\n          <div className=\"delivery-number\">{value}</div>\n          <div className=\"order-number\">PO: {row.purchase_order?.order_number}</div>\n        </div>\n      )\n    },\n    {\n      key: 'status',\n      label: 'Status',\n      render: (value) => getStatusBadge(value)\n    },\n    {\n      key: 'delivery_date',\n      label: 'Delivery Date',\n      render: (value) => new Date(value).toLocaleDateString()\n    },\n    {\n      key: 'total_amount',\n      label: 'Total Amount',\n      render: (value) => `${parseFloat(value).toFixed(2)} MGA`\n    },\n    {\n      key: 'actions',\n      label: 'Actions',\n      render: (value, row) => (\n        <div className=\"action-buttons\">\n          <PrintButton\n            data={row}\n            title=\"Delivery Receipt\"\n            type=\"delivery\"\n            printText=\"Print\"\n            className=\"print-delivery-btn\"\n            size=\"small\"\n          />\n          {['pending', 'received', 'verified'].includes(row.status) && (\n            <>\n              {row.status === 'pending' && (\n                <>\n                  <Button\n                    size=\"small\"\n                    variant=\"primary\"\n                    onClick={() => handleConfirmDelivery(row.id)}\n                  >\n                    Confirm\n                  </Button>\n                  <Button\n                    size=\"small\"\n                    variant=\"secondary\"\n                    onClick={() => handleEditDelivery(row)}\n                  >\n                    Edit\n                  </Button>\n                </>\n              )}\n              {/* Add Delete Button for unconfirmed deliveries */}\n              <Button\n                size=\"small\"\n                variant=\"danger\"\n                onClick={() => handleDeleteDelivery(row.id)}\n                title=\"Delete this delivery\"\n              >\n                Delete\n              </Button>\n            </>\n          )}\n          {row.status === 'completed' && (\n            <Button\n              size=\"small\"\n              variant=\"outline\"\n              onClick={() => handleViewOrder(row.purchase_order)}\n            >\n              View PO\n            </Button>\n          )}\n        </div>\n      )\n    }\n  ];\n\n  const deliveryHistoryColumns = [\n    {\n      key: 'delivery_number',\n      label: 'Delivery Number',\n      render: (value, row) => (\n        <div>\n          <div className=\"delivery-number\">{value}</div>\n          <div className=\"order-number\">PO: {row.purchase_order?.order_number}</div>\n        </div>\n      )\n    },\n    {\n      key: 'status',\n      label: 'Status',\n      render: (value) => getStatusBadge(value)\n    },\n    {\n      key: 'delivery_date',\n      label: 'Delivery Date',\n      render: (value) => new Date(value).toLocaleDateString()\n    },\n    {\n      key: 'received_date',\n      label: 'Received Date',\n      render: (value) => value ? (\n        <span className=\"received-date\">{new Date(value).toLocaleDateString()}</span>\n      ) : (\n        <span className=\"received-date empty\">Not received</span>\n      )\n    },\n    {\n      key: 'total_amount',\n      label: 'Total Amount',\n      render: (value) => `${parseFloat(value).toFixed(2)} MGA`\n    },\n    {\n      key: 'received_by',\n      label: 'Received By',\n      render: (value) => value ? (\n        <span className=\"received-by\">{value}</span>\n      ) : (\n        <span className=\"received-by\">-</span>\n      )\n    },\n    {\n      key: 'actions',\n      label: 'Actions',\n      render: (value, row) => (\n        <div className=\"action-buttons\">\n          <PrintButton\n            data={row}\n            title=\"Delivery Receipt\"\n            type=\"delivery\"\n            printText=\"Print\"\n            className=\"print-delivery-history-btn\"\n            size=\"small\"\n          />\n          <Button\n            size=\"small\"\n            variant=\"outline\"\n            onClick={() => handleViewOrder(row.purchase_order)}\n          >\n            View PO\n          </Button>\n        </div>\n      )\n    }\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"page-loading\">\n        <div className=\"spinner\"></div>\n        <span>Loading purchase orders...</span>\n      </div>\n    );\n  }\n\n  const getCurrentData = () => {\n    switch (activeTab) {\n      case 'orders':\n        const filteredOrders = orderFilter === 'archived' \n          ? purchaseOrders.filter(order => order.status === 'archived')\n          : purchaseOrders.filter(order => order.status !== 'archived');\n        return { \n          data: filteredOrders, \n          columns: purchaseOrderColumns, \n          emptyMessage: orderFilter === 'archived' ? t('empty_messages.no_archived_purchase_orders') : t('empty_messages.no_active_purchase_orders') \n        };\n      case 'pending':\n        return { data: pendingDeliveries, columns: deliveryColumns, emptyMessage: t('empty_messages.no_pending_deliveries') };\n      case 'history':\n        return { data: allDeliveries, columns: deliveryHistoryColumns, emptyMessage: t('empty_messages.no_delivery_history') };\n      default:\n        return { data: [], columns: [], emptyMessage: t('app.no_data_available') };\n    }\n  };\n\n  const currentData = getCurrentData();\n\n  return (\n    <div className=\"purchase-orders\">\n      <div className=\"page-header\">\n        <h1>{t('titles.purchase_orders_delivery')}</h1>\n        <div className=\"header-actions\">\n          <Button\n            variant=\"primary\"\n            onClick={() => setShowCreateModal(true)}\n            size={isMobile ? \"small\" : \"medium\"}\n            fullWidth={isMobile}\n          >\n            {isMobile ? 'ðŸ“ Create PO' : 'Create Purchase Order'}\n          </Button>\n        </div>\n      </div>\n\n      <div className={`management-layout ${isMobile ? 'mobile-layout' : 'desktop-layout'}`}>\n        {/* Navigation */}\n        <div className={`navigation-section ${isMobile ? 'mobile-nav' : 'desktop-nav'}`}>\n          <div className=\"nav-tabs\">\n            <button \n              className={`nav-tab ${activeTab === 'orders' ? 'active' : ''}`}\n              onClick={() => setActiveTab('orders')}\n            >\n              <span className=\"tab-icon\">ðŸ“‹</span>\n              <span className=\"tab-text\">{isMobile ? 'Orders' : t('titles.purchase_orders')}</span>\n              <span className=\"tab-count\">({purchaseOrders.length})</span>\n            </button>\n            <button \n              className={`nav-tab ${activeTab === 'pending' ? 'active' : ''}`}\n              onClick={() => setActiveTab('pending')}\n            >\n              <span className=\"tab-icon\">â³</span>\n              <span className=\"tab-text\">{isMobile ? 'Pending' : 'Pending Deliveries'}</span>\n              <span className=\"tab-count\">({pendingDeliveries.length})</span>\n            </button>\n            <button \n              className={`nav-tab ${activeTab === 'history' ? 'active' : ''}`}\n              onClick={() => setActiveTab('history')}\n            >\n              <span className=\"tab-icon\">ðŸ“¦</span>\n              <span className=\"tab-text\">{isMobile ? 'History' : 'Delivery History'}</span>\n              <span className=\"tab-count\">({allDeliveries.length})</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Main Content Area */}\n        <div className=\"main-content\">\n          <div className=\"content-header\">\n            <h2>\n              {activeTab === 'orders' && (isMobile ? 'Purchase Orders' : t('titles.purchase_orders'))}\n              {activeTab === 'pending' && (isMobile ? 'Pending Deliveries' : 'Pending Deliveries')}\n              {activeTab === 'history' && (isMobile ? 'Delivery History' : 'Delivery History')}\n            </h2>\n          </div>\n\n          {/* Order Filter Section */}\n          {activeTab === 'orders' && (\n            <div className=\"order-filter-section\">\n              <div className=\"filter-buttons\">\n                <button \n                  type=\"button\"\n                  className={`filter-btn ${orderFilter === 'active' ? 'active' : ''}`}\n                  onClick={() => setOrderFilter('active')}\n                >\n                  <span className=\"filter-icon\">ðŸ“‹</span>\n                  <span className=\"filter-text\">{isMobile ? 'Active' : 'Active Orders'}</span>\n                  <span className=\"filter-count\">\n                    ({purchaseOrders.filter(order => order.status !== 'archived').length})\n                  </span>\n                </button>\n                <button \n                  type=\"button\"\n                  className={`filter-btn ${orderFilter === 'archived' ? 'active' : ''}`}\n                  onClick={() => setOrderFilter('archived')}\n                >\n                  <span className=\"filter-icon\">ðŸ“</span>\n                  <span className=\"filter-text\">{isMobile ? 'Archived' : 'Archived Orders'}</span>\n                  <span className=\"filter-count\">\n                    ({purchaseOrders.filter(order => order.status === 'archived').length})\n                  </span>\n                </button>\n              </div>\n              \n              {/* Delete All Archived Button */}\n              {orderFilter === 'archived' && purchaseOrders.filter(order => order.status === 'archived').length > 0 && (\n                <div className=\"bulk-actions\">\n                  <Button\n                    variant=\"danger\"\n                    size=\"small\"\n                    onClick={handleDeleteAllArchived}\n                    fullWidth={isMobile}\n                  >\n                    {isMobile ? 'ðŸ—‘ï¸ Delete All' : 'ðŸ—‘ï¸ Delete All Archived'}\n                  </Button>\n                </div>\n              )}\n            </div>\n          )}\n          \n          <div className=\"table-container\">\n            {/* Mobile Card View */}\n            {isMobile ? (\n              <div className=\"mobile-cards-container\">\n                {currentData.data.length === 0 ? (\n                  <div className=\"empty-state\">\n                    <p>{currentData.emptyMessage}</p>\n                  </div>\n                ) : (\n                  <div className=\"cards-grid\">\n                    {currentData.data.map(item => \n                      activeTab === 'orders' ? (\n                        <PurchaseOrderCard key={item.id} order={item} />\n                      ) : (\n                        <DeliveryCard key={item.id} delivery={item} />\n                      )\n                    )}\n                  </div>\n                )}\n              </div>\n            ) : (\n              /* Desktop Table View */\n              <Table\n                data={currentData.data}\n                columns={currentData.columns}\n                emptyMessage={currentData.emptyMessage}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {showCreateModal && (\n        <PurchaseOrderModal\n          suppliers={suppliers}\n          onClose={() => setShowCreateModal(false)}\n          onSubmit={handleCreateOrder}\n          isMobile={isMobile}\n        />\n      )}\n\n      {showDeliveryModal && selectedOrder && (\n        <DeliveryModal\n          purchaseOrder={selectedOrder}\n          action={deliveryAction}\n          onClose={() => {\n            setShowDeliveryModal(false);\n            setSelectedOrder(null);\n            setDeliveryAction('create');\n          }}\n          onSubmit={deliveryAction === 'create_and_archive' ? handleCreateDeliveryAndArchiveOrder : handleCreateDelivery}\n          isMobile={isMobile}\n        />\n      )}\n\n      {showViewModal && viewOrder && (\n        <ViewOrderModal\n          order={viewOrder}\n          onClose={() => {\n            setShowViewModal(false);\n            setViewOrder(null);\n          }}\n          isMobile={isMobile}\n        />\n      )}\n\n      {showEditDeliveryModal && selectedDelivery && (\n        <EditDeliveryModal\n          delivery={selectedDelivery}\n          onClose={() => {\n            setShowEditDeliveryModal(false);\n            setSelectedDelivery(null);\n          }}\n          onSubmit={handleUpdateDelivery}\n        />\n      )}\n    </div>\n  );\n};\n\n// ViewOrderModal Component\nconst ViewOrderModal = ({ order, onClose, isMobile = false }) => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"modal-overlay\">\n      <div className={`modal-content view-order-modal ${isMobile ? 'mobile-modal' : ''}`}>\n        <div className=\"modal-header\">\n          <h2>Purchase Order Details</h2>\n          <div className=\"header-actions\">\n            <PrintButton\n              data={order}\n              title={t('titles.purchase_order')}\n              type=\"purchase_order\"\n              printText={isMobile ? \"ðŸ“„\" : t('buttons.print_order')}\n              className=\"print-view-order-btn\"\n              size={isMobile ? \"small\" : \"medium\"}\n            />\n            <button className=\"close-button\" onClick={onClose}>Ã—</button>\n          </div>\n        </div>\n        \n        <div className=\"modal-body\">\n          <div className=\"order-details\">\n            <div className=\"detail-section\">\n              <h3>Order Information</h3>\n              <div className={`detail-grid ${isMobile ? 'mobile-grid' : 'desktop-grid'}`}>\n                <div className=\"detail-item\">\n                  <label>Order Number:</label>\n                  <span>{order.order_number}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <label>Supplier:</label>\n                  <span>{order.supplier?.name}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <label>Status:</label>\n                  <span className={`status-badge status-${order.status}`}>\n                    {order.status.replace('_', ' ').toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"detail-item\">\n                  <label>Order Date:</label>\n                  <span>{new Date(order.order_date).toLocaleDateString()}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <label>Expected Delivery:</label>\n                  <span>{order.expected_delivery_date ? new Date(order.expected_delivery_date).toLocaleDateString() : 'Not specified'}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <label>Created By:</label>\n                  <span>{order.created_by?.username || 'Unknown'}</span>\n                </div>\n              </div>\n            </div>\n\n            {order.notes && (\n              <div className=\"detail-section\">\n                <h3>Notes</h3>\n                <div className=\"notes-content\">\n                  {order.notes}\n                </div>\n              </div>\n            )}\n\n            <div className=\"detail-section\">\n              <h3>Order Items</h3>\n              <div className={`items-table ${isMobile ? 'mobile-items' : 'desktop-items'}`}>\n                {!isMobile ? (\n                  <>\n                    <div className=\"items-header\">\n                      <span>Product</span>\n                      <span>SKU</span>\n                      <span>Quantity</span>\n                      <span>Unit Cost</span>\n                      <span>Tax</span>\n                      <span>Line Total</span>\n                    </div>\n                    {order.items?.map((item, index) => (\n                      <div key={index} className=\"item-row\">\n                        <span>{item.product?.name}</span>\n                        <span>{item.product?.sku}</span>\n                        <span>{item.quantity_ordered}</span>\n                        <span>{parseFloat(item.unit_cost).toFixed(2)} MGA</span>\n                        <span>{item.tax_class ? `${item.tax_class.name} (${item.tax_class.tax_rate}%)` : 'No Tax'}</span>\n                        <span>{parseFloat(item.line_total).toFixed(2)} MGA</span>\n                      </div>\n                    ))}\n                  </>\n                ) : (\n                  <div className=\"mobile-items-list\">\n                    {order.items?.map((item, index) => (\n                      <div key={index} className=\"mobile-item\">\n                        <div className=\"mobile-item-header\">\n                          <strong>{item.product?.name}</strong>\n                          <span className=\"sku\">{item.product?.sku}</span>\n                        </div>\n                        <div className=\"mobile-item-details\">\n                          <div className=\"detail\">\n                            <span>Quantity:</span>\n                            <span>{item.quantity_ordered}</span>\n                          </div>\n                          <div className=\"detail\">\n                            <span>Unit Cost:</span>\n                            <span>{parseFloat(item.unit_cost).toFixed(2)} MGA</span>\n                          </div>\n                          <div className=\"detail\">\n                            <span>Tax:</span>\n                            <span>{item.tax_class ? `${item.tax_class.name} (${item.tax_class.tax_rate}%)` : 'No Tax'}</span>\n                          </div>\n                          <div className=\"detail total\">\n                            <span>Line Total:</span>\n                            <span>{parseFloat(item.line_total).toFixed(2)} MGA</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"detail-section\">\n              <h3>Order Summary</h3>\n              <div className={`summary-grid ${isMobile ? 'mobile-summary' : 'desktop-summary'}`}>\n                <div className=\"summary-item\">\n                  <label>Subtotal:</label>\n                  <span>{parseFloat(order.subtotal).toFixed(2)} MGA</span>\n                </div>\n                <div className=\"summary-item\">\n                  <label>Tax Amount:</label>\n                  <span>{parseFloat(order.tax_amount).toFixed(2)} MGA</span>\n                </div>\n                <div className=\"summary-item total\">\n                  <label>Total Amount:</label>\n                  <span>{parseFloat(order.total_amount).toFixed(2)} MGA</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"modal-footer\">\n          <Button variant=\"secondary\" onClick={onClose} fullWidth={isMobile}>\n            Close\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PurchaseOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}